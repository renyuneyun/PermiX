var vre=Object.defineProperty;var bre=(t,e,r)=>e in t?vre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var lt=(t,e,r)=>(bre(t,typeof e!="symbol"?e+"":e,r),r),uC=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var x=(t,e,r)=>(uC(t,e,"read from private field"),r?r.call(t):e.get(t)),Ue=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Fe=(t,e,r,n)=>(uC(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ya=(t,e,r,n)=>({set _(a){Fe(t,e,a,r)},get _(){return x(t,e,n)}}),xe=(t,e,r)=>(uC(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function K6(t,e){const r=Object.create(null),n=t.split(",");for(let a=0;a<n.length;a++)r[n[a]]=!0;return e?a=>!!r[a.toLowerCase()]:a=>!!r[a]}const Bn={},Zg=[],xl=()=>{},_re=()=>!1,wre=/^on[^a-z]/,FE=t=>wre.test(t),X6=t=>t.startsWith("onUpdate:"),Ci=Object.assign,J6=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Sre=Object.prototype.hasOwnProperty,Kr=(t,e)=>Sre.call(t,e),er=Array.isArray,ey=t=>LE(t)==="[object Map]",ZU=t=>LE(t)==="[object Set]",Ar=t=>typeof t=="function",_i=t=>typeof t=="string",Y6=t=>typeof t=="symbol",Rn=t=>t!==null&&typeof t=="object",eV=t=>Rn(t)&&Ar(t.then)&&Ar(t.catch),tV=Object.prototype.toString,LE=t=>tV.call(t),Tre=t=>LE(t).slice(8,-1),rV=t=>LE(t)==="[object Object]",Z6=t=>_i(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,L2=K6(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jE=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Ere=/-(\w)/g,Tu=jE(t=>t.replace(Ere,(e,r)=>r?r.toUpperCase():"")),Are=/\B([A-Z])/g,dm=jE(t=>t.replace(Are,"-$1").toLowerCase()),cf=jE(t=>t.charAt(0).toUpperCase()+t.slice(1)),j2=jE(t=>t?`on${cf(t)}`:""),Yb=(t,e)=>!Object.is(t,e),M2=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},TT=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},FN=t=>{const e=parseFloat(t);return isNaN(e)?t:e},xre=t=>{const e=_i(t)?Number(t):NaN;return isNaN(e)?t:e};let cj;const LN=()=>cj||(cj=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function eF(t){if(er(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],a=_i(n)?Pre(n):eF(n);if(a)for(const s in a)e[s]=a[s]}return e}else{if(_i(t))return t;if(Rn(t))return t}}const Ore=/;(?![^(]*\))/g,Rre=/:([^]+)/,Ire=/\/\*[^]*?\*\//g;function Pre(t){const e={};return t.replace(Ire,"").split(Ore).forEach(r=>{if(r){const n=r.split(Rre);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function ME(t){let e="";if(_i(t))e=t;else if(er(t))for(let r=0;r<t.length;r++){const n=ME(t[r]);n&&(e+=n+" ")}else if(Rn(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Cre="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dre=K6(Cre);function nV(t){return!!t||t===""}const hs=t=>_i(t)?t:t==null?"":er(t)||Rn(t)&&(t.toString===tV||!Ar(t.toString))?JSON.stringify(t,iV,2):String(t),iV=(t,e)=>e&&e.__v_isRef?iV(t,e.value):ey(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,a])=>(r[`${n} =>`]=a,r),{})}:ZU(e)?{[`Set(${e.size})`]:[...e.values()]}:Rn(e)&&!er(e)&&!rV(e)?String(e):e;let Ho;class aV{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ho,!e&&Ho&&(this.index=(Ho.scopes||(Ho.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=Ho;try{return Ho=this,e()}finally{Ho=r}}}on(){Ho=this}off(){Ho=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function fm(t){return new aV(t)}function Nre(t,e=Ho){e&&e.active&&e.effects.push(t)}function sV(){return Ho}function Ll(t){Ho&&Ho.cleanups.push(t)}const tF=t=>{const e=new Set(t);return e.w=0,e.n=0,e},oV=t=>(t.w&Ah)>0,uV=t=>(t.n&Ah)>0,Fre=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ah},Lre=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const a=e[n];oV(a)&&!uV(a)?a.delete(t):e[r++]=a,a.w&=~Ah,a.n&=~Ah}e.length=r}},ET=new WeakMap;let tb=0,Ah=1;const jN=30;let wl;const i0=Symbol(""),MN=Symbol("");class rF{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Nre(this,n)}run(){if(!this.active)return this.fn();let e=wl,r=yh;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=wl,wl=this,yh=!0,Ah=1<<++tb,tb<=jN?Fre(this):dj(this),this.fn()}finally{tb<=jN&&Lre(this),Ah=1<<--tb,wl=this.parent,yh=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){wl===this?this.deferStop=!0:this.active&&(dj(this),this.onStop&&this.onStop(),this.active=!1)}}function dj(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let yh=!0;const lV=[];function hm(){lV.push(yh),yh=!1}function pm(){const t=lV.pop();yh=t===void 0?!0:t}function yo(t,e,r){if(yh&&wl){let n=ET.get(t);n||ET.set(t,n=new Map);let a=n.get(r);a||n.set(r,a=tF()),cV(a)}}function cV(t,e){let r=!1;tb<=jN?uV(t)||(t.n|=Ah,r=!oV(t)):r=!t.has(wl),r&&(t.add(wl),wl.deps.push(t))}function Jd(t,e,r,n,a,s){const o=ET.get(t);if(!o)return;let u=[];if(e==="clear")u=[...o.values()];else if(r==="length"&&er(t)){const l=Number(n);o.forEach((c,d)=>{(d==="length"||d>=l)&&u.push(c)})}else switch(r!==void 0&&u.push(o.get(r)),e){case"add":er(t)?Z6(r)&&u.push(o.get("length")):(u.push(o.get(i0)),ey(t)&&u.push(o.get(MN)));break;case"delete":er(t)||(u.push(o.get(i0)),ey(t)&&u.push(o.get(MN)));break;case"set":ey(t)&&u.push(o.get(i0));break}if(u.length===1)u[0]&&BN(u[0]);else{const l=[];for(const c of u)c&&l.push(...c);BN(tF(l))}}function BN(t,e){const r=er(t)?t:[...t];for(const n of r)n.computed&&fj(n);for(const n of r)n.computed||fj(n)}function fj(t,e){(t!==wl||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function jre(t,e){var r;return(r=ET.get(t))==null?void 0:r.get(e)}const Mre=K6("__proto__,__v_isRef,__isVue"),dV=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Y6)),Bre=nF(),kre=nF(!1,!0),$re=nF(!0),hj=Ure();function Ure(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=jr(this);for(let s=0,o=this.length;s<o;s++)yo(n,"get",s+"");const a=n[e](...r);return a===-1||a===!1?n[e](...r.map(jr)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){hm();const n=jr(this)[e].apply(this,r);return pm(),n}}),t}function Vre(t){const e=jr(this);return yo(e,"has",t),e.hasOwnProperty(t)}function nF(t=!1,e=!1){return function(n,a,s){if(a==="__v_isReactive")return!t;if(a==="__v_isReadonly")return t;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&s===(t?e?ine:yV:e?gV:pV).get(n))return n;const o=er(n);if(!t){if(o&&Kr(hj,a))return Reflect.get(hj,a,s);if(a==="hasOwnProperty")return Vre}const u=Reflect.get(n,a,s);return(Y6(a)?dV.has(a):Mre(a))||(t||yo(n,"get",a),e)?u:ln(u)?o&&Z6(a)?u:u.value:Rn(u)?t?f1(u):bi(u):u}}const Hre=fV(),qre=fV(!0);function fV(t=!1){return function(r,n,a,s){let o=r[n];if(Dy(o)&&ln(o)&&!ln(a))return!1;if(!t&&(!AT(a)&&!Dy(a)&&(o=jr(o),a=jr(a)),!er(r)&&ln(o)&&!ln(a)))return o.value=a,!0;const u=er(r)&&Z6(n)?Number(n)<r.length:Kr(r,n),l=Reflect.set(r,n,a,s);return r===jr(s)&&(u?Yb(a,o)&&Jd(r,"set",n,a):Jd(r,"add",n,a)),l}}function zre(t,e){const r=Kr(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&Jd(t,"delete",e,void 0),n}function Gre(t,e){const r=Reflect.has(t,e);return(!Y6(e)||!dV.has(e))&&yo(t,"has",e),r}function Qre(t){return yo(t,"iterate",er(t)?"length":i0),Reflect.ownKeys(t)}const hV={get:Bre,set:Hre,deleteProperty:zre,has:Gre,ownKeys:Qre},Wre={get:$re,set(t,e){return!0},deleteProperty(t,e){return!0}},Kre=Ci({},hV,{get:kre,set:qre}),iF=t=>t,BE=t=>Reflect.getPrototypeOf(t);function gS(t,e,r=!1,n=!1){t=t.__v_raw;const a=jr(t),s=jr(e);r||(e!==s&&yo(a,"get",e),yo(a,"get",s));const{has:o}=BE(a),u=n?iF:r?oF:Zb;if(o.call(a,e))return u(t.get(e));if(o.call(a,s))return u(t.get(s));t!==a&&t.get(e)}function yS(t,e=!1){const r=this.__v_raw,n=jr(r),a=jr(t);return e||(t!==a&&yo(n,"has",t),yo(n,"has",a)),t===a?r.has(t):r.has(t)||r.has(a)}function mS(t,e=!1){return t=t.__v_raw,!e&&yo(jr(t),"iterate",i0),Reflect.get(t,"size",t)}function pj(t){t=jr(t);const e=jr(this);return BE(e).has.call(e,t)||(e.add(t),Jd(e,"add",t,t)),this}function gj(t,e){e=jr(e);const r=jr(this),{has:n,get:a}=BE(r);let s=n.call(r,t);s||(t=jr(t),s=n.call(r,t));const o=a.call(r,t);return r.set(t,e),s?Yb(e,o)&&Jd(r,"set",t,e):Jd(r,"add",t,e),this}function yj(t){const e=jr(this),{has:r,get:n}=BE(e);let a=r.call(e,t);a||(t=jr(t),a=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return a&&Jd(e,"delete",t,void 0),s}function mj(){const t=jr(this),e=t.size!==0,r=t.clear();return e&&Jd(t,"clear",void 0,void 0),r}function vS(t,e){return function(n,a){const s=this,o=s.__v_raw,u=jr(o),l=e?iF:t?oF:Zb;return!t&&yo(u,"iterate",i0),o.forEach((c,d)=>n.call(a,l(c),l(d),s))}}function bS(t,e,r){return function(...n){const a=this.__v_raw,s=jr(a),o=ey(s),u=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=a[t](...n),d=r?iF:e?oF:Zb;return!e&&yo(s,"iterate",l?MN:i0),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:u?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function Rf(t){return function(...e){return t==="delete"?!1:this}}function Xre(){const t={get(s){return gS(this,s)},get size(){return mS(this)},has:yS,add:pj,set:gj,delete:yj,clear:mj,forEach:vS(!1,!1)},e={get(s){return gS(this,s,!1,!0)},get size(){return mS(this)},has:yS,add:pj,set:gj,delete:yj,clear:mj,forEach:vS(!1,!0)},r={get(s){return gS(this,s,!0)},get size(){return mS(this,!0)},has(s){return yS.call(this,s,!0)},add:Rf("add"),set:Rf("set"),delete:Rf("delete"),clear:Rf("clear"),forEach:vS(!0,!1)},n={get(s){return gS(this,s,!0,!0)},get size(){return mS(this,!0)},has(s){return yS.call(this,s,!0)},add:Rf("add"),set:Rf("set"),delete:Rf("delete"),clear:Rf("clear"),forEach:vS(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=bS(s,!1,!1),r[s]=bS(s,!0,!1),e[s]=bS(s,!1,!0),n[s]=bS(s,!0,!0)}),[t,r,e,n]}const[Jre,Yre,Zre,ene]=Xre();function aF(t,e){const r=e?t?ene:Zre:t?Yre:Jre;return(n,a,s)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(Kr(r,a)&&a in n?r:n,a,s)}const tne={get:aF(!1,!1)},rne={get:aF(!1,!0)},nne={get:aF(!0,!1)},pV=new WeakMap,gV=new WeakMap,yV=new WeakMap,ine=new WeakMap;function ane(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sne(t){return t.__v_skip||!Object.isExtensible(t)?0:ane(Tre(t))}function bi(t){return Dy(t)?t:sF(t,!1,hV,tne,pV)}function mV(t){return sF(t,!1,Kre,rne,gV)}function f1(t){return sF(t,!0,Wre,nne,yV)}function sF(t,e,r,n,a){if(!Rn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=a.get(t);if(s)return s;const o=sne(t);if(o===0)return t;const u=new Proxy(t,o===2?n:r);return a.set(t,u),u}function Qd(t){return Dy(t)?Qd(t.__v_raw):!!(t&&t.__v_isReactive)}function Dy(t){return!!(t&&t.__v_isReadonly)}function AT(t){return!!(t&&t.__v_isShallow)}function vV(t){return Qd(t)||Dy(t)}function jr(t){const e=t&&t.__v_raw;return e?jr(e):t}function kE(t){return TT(t,"__v_skip",!0),t}const Zb=t=>Rn(t)?bi(t):t,oF=t=>Rn(t)?f1(t):t;function bV(t){yh&&wl&&(t=jr(t),cV(t.dep||(t.dep=tF())))}function _V(t,e){t=jr(t);const r=t.dep;r&&BN(r)}function ln(t){return!!(t&&t.__v_isRef===!0)}function Je(t){return wV(t,!1)}function one(t){return wV(t,!0)}function wV(t,e){return ln(t)?t:new une(t,e)}class une{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:jr(e),this._value=r?e:Zb(e)}get value(){return bV(this),this._value}set value(e){const r=this.__v_isShallow||AT(e)||Dy(e);e=r?e:jr(e),Yb(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Zb(e),_V(this))}}function On(t){return ln(t)?t.value:t}const lne={get:(t,e,r)=>On(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const a=t[e];return ln(a)&&!ln(r)?(a.value=r,!0):Reflect.set(t,e,r,n)}};function SV(t){return Qd(t)?t:new Proxy(t,lne)}function $E(t){const e=er(t)?new Array(t.length):{};for(const r in t)e[r]=TV(t,r);return e}class cne{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return jre(jr(this._object),this._key)}}class dne{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ct(t,e,r){return ln(t)?t:Ar(t)?new dne(t):Rn(t)&&arguments.length>1?TV(t,e,r):Je(t)}function TV(t,e,r){const n=t[e];return ln(n)?n:new cne(t,e,r)}class fne{constructor(e,r,n,a){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new rF(e,()=>{this._dirty||(this._dirty=!0,_V(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const e=jr(this);return bV(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function hne(t,e,r=!1){let n,a;const s=Ar(t);return s?(n=t,a=xl):(n=t.get,a=t.set),new fne(n,a,s||!a,r)}function mh(t,e,r,n){let a;try{a=n?t(...n):t()}catch(s){UE(s,e,r)}return a}function bu(t,e,r,n){if(Ar(t)){const s=mh(t,e,r,n);return s&&eV(s)&&s.catch(o=>{UE(o,e,r)}),s}const a=[];for(let s=0;s<t.length;s++)a.push(bu(t[s],e,r,n));return a}function UE(t,e,r,n=!0){const a=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,u=r;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,o,u)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){mh(l,null,10,[t,o,u]);return}}pne(t,r,a,n)}function pne(t,e,r,n=!0){console.error(t)}let e_=!1,kN=!1;const fs=[];let Ic=0;const ty=[];let vd=null,Tp=0;const EV=Promise.resolve();let uF=null;function ni(t){const e=uF||EV;return t?e.then(this?t.bind(this):t):e}function gne(t){let e=Ic+1,r=fs.length;for(;e<r;){const n=e+r>>>1;t_(fs[n])<t?e=n+1:r=n}return e}function lF(t){(!fs.length||!fs.includes(t,e_&&t.allowRecurse?Ic+1:Ic))&&(t.id==null?fs.push(t):fs.splice(gne(t.id),0,t),AV())}function AV(){!e_&&!kN&&(kN=!0,uF=EV.then(OV))}function yne(t){const e=fs.indexOf(t);e>Ic&&fs.splice(e,1)}function mne(t){er(t)?ty.push(...t):(!vd||!vd.includes(t,t.allowRecurse?Tp+1:Tp))&&ty.push(t),AV()}function vj(t,e=e_?Ic+1:0){for(;e<fs.length;e++){const r=fs[e];r&&r.pre&&(fs.splice(e,1),e--,r())}}function xV(t){if(ty.length){const e=[...new Set(ty)];if(ty.length=0,vd){vd.push(...e);return}for(vd=e,vd.sort((r,n)=>t_(r)-t_(n)),Tp=0;Tp<vd.length;Tp++)vd[Tp]();vd=null,Tp=0}}const t_=t=>t.id==null?1/0:t.id,vne=(t,e)=>{const r=t_(t)-t_(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function OV(t){kN=!1,e_=!0,fs.sort(vne);const e=xl;try{for(Ic=0;Ic<fs.length;Ic++){const r=fs[Ic];r&&r.active!==!1&&mh(r,null,14)}}finally{Ic=0,fs.length=0,xV(),e_=!1,uF=null,(fs.length||ty.length)&&OV()}}function bne(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Bn;let a=r;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in n){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=n[d]||Bn;h&&(a=r.map(p=>_i(p)?p.trim():p)),f&&(a=r.map(FN))}let u,l=n[u=j2(e)]||n[u=j2(Tu(e))];!l&&s&&(l=n[u=j2(dm(e))]),l&&bu(l,t,6,a);const c=n[u+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,bu(c,t,6,a)}}function RV(t,e,r=!1){const n=e.emitsCache,a=n.get(t);if(a!==void 0)return a;const s=t.emits;let o={},u=!1;if(!Ar(t)){const l=c=>{const d=RV(c,e,!0);d&&(u=!0,Ci(o,d))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!u?(Rn(t)&&n.set(t,null),null):(er(s)?s.forEach(l=>o[l]=null):Ci(o,s),Rn(t)&&n.set(t,o),o)}function VE(t,e){return!t||!FE(e)?!1:(e=e.slice(2).replace(/Once$/,""),Kr(t,e[0].toLowerCase()+e.slice(1))||Kr(t,dm(e))||Kr(t,e))}let Ea=null,IV=null;function xT(t){const e=Ea;return Ea=t,IV=t&&t.type.__scopeId||null,e}function vt(t,e=Ea,r){if(!e||t._n)return t;const n=(...a)=>{n._d&&Cj(-1);const s=xT(e);let o;try{o=t(...a)}finally{xT(s),n._d&&Cj(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function lC(t){const{type:e,vnode:r,proxy:n,withProxy:a,props:s,propsOptions:[o],slots:u,attrs:l,emit:c,render:d,renderCache:f,data:h,setupState:p,ctx:g,inheritAttrs:y}=t;let S,v;const A=xT(t);try{if(r.shapeFlag&4){const T=a||n;S=Oc(d.call(T,T,f,s,p,h,g)),v=l}else{const T=e;S=Oc(T.length>1?T(s,{attrs:l,slots:u,emit:c}):T(s,null)),v=e.props?l:_ne(l)}}catch(T){Fb.length=0,UE(T,t,1),S=K(_u)}let E=S;if(v&&y!==!1){const T=Object.keys(v),{shapeFlag:R}=E;T.length&&R&7&&(o&&T.some(X6)&&(v=wne(v,o)),E=Yd(E,v))}return r.dirs&&(E=Yd(E),E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&(E.transition=r.transition),S=E,xT(A),S}const _ne=t=>{let e;for(const r in t)(r==="class"||r==="style"||FE(r))&&((e||(e={}))[r]=t[r]);return e},wne=(t,e)=>{const r={};for(const n in t)(!X6(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Sne(t,e,r){const{props:n,children:a,component:s}=t,{props:o,children:u,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?bj(n,o,c):!!o;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==n[h]&&!VE(c,h))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:n===o?!1:n?o?bj(n,o,c):!0:!!o;return!1}function bj(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const s=n[a];if(e[s]!==t[s]&&!VE(r,s))return!0}return!1}function Tne({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const Ene=t=>t.__isSuspense;function Ane(t,e){e&&e.pendingBranch?er(t)?e.effects.push(...t):e.effects.push(t):mne(t)}function Aa(t,e){return cF(t,null,e)}const _S={};function Mt(t,e,r){return cF(t,e,r)}function cF(t,e,{immediate:r,deep:n,flush:a,onTrack:s,onTrigger:o}=Bn){var u;const l=sV()===((u=aa)==null?void 0:u.scope)?aa:null;let c,d=!1,f=!1;if(ln(t)?(c=()=>t.value,d=AT(t)):Qd(t)?(c=()=>t,n=!0):er(t)?(f=!0,d=t.some(T=>Qd(T)||AT(T)),c=()=>t.map(T=>{if(ln(T))return T.value;if(Qd(T))return Fp(T);if(Ar(T))return mh(T,l,2)})):Ar(t)?e?c=()=>mh(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),bu(t,l,3,[p])}:c=xl,e&&n){const T=c;c=()=>Fp(T())}let h,p=T=>{h=A.onStop=()=>{mh(T,l,4)}},g;if(s_)if(p=xl,e?r&&bu(e,l,3,[c(),f?[]:void 0,p]):c(),a==="sync"){const T=yie();g=T.__watcherHandles||(T.__watcherHandles=[])}else return xl;let y=f?new Array(t.length).fill(_S):_S;const S=()=>{if(A.active)if(e){const T=A.run();(n||d||(f?T.some((R,I)=>Yb(R,y[I])):Yb(T,y)))&&(h&&h(),bu(e,l,3,[T,y===_S?void 0:f&&y[0]===_S?[]:y,p]),y=T)}else A.run()};S.allowRecurse=!!e;let v;a==="sync"?v=S:a==="post"?v=()=>Zs(S,l&&l.suspense):(S.pre=!0,l&&(S.id=l.uid),v=()=>lF(S));const A=new rF(c,v);e?r?S():y=A.run():a==="post"?Zs(A.run.bind(A),l&&l.suspense):A.run();const E=()=>{A.stop(),l&&l.scope&&J6(l.scope.effects,A)};return g&&g.push(E),E}function xne(t,e,r){const n=this.proxy,a=_i(t)?t.includes(".")?PV(n,t):()=>n[t]:t.bind(n,n);let s;Ar(e)?s=e:(s=e.handler,r=e);const o=aa;Ny(this);const u=cF(a,s.bind(n),r);return o?Ny(o):a0(),u}function PV(t,e){const r=e.split(".");return()=>{let n=t;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}function Fp(t,e){if(!Rn(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ln(t))Fp(t.value,e);else if(er(t))for(let r=0;r<t.length;r++)Fp(t[r],e);else if(ZU(t)||ey(t))t.forEach(r=>{Fp(r,e)});else if(rV(t))for(const r in t)Fp(t[r],e);return t}function qn(t,e){const r=Ea;if(r===null)return t;const n=XE(r)||r.proxy,a=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,u,l,c=Bn]=e[s];o&&(Ar(o)&&(o={mounted:o,updated:o}),o.deep&&Fp(u),a.push({dir:o,instance:n,value:u,oldValue:void 0,arg:l,modifiers:c}))}return t}function rp(t,e,r,n){const a=t.dirs,s=e&&e.dirs;for(let o=0;o<a.length;o++){const u=a[o];s&&(u.oldValue=s[o].value);let l=u.dir[n];l&&(hm(),bu(l,r,8,[t.el,u,t,e]),pm())}}function CV(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zs(()=>{t.isMounted=!0}),_o(()=>{t.isUnmounting=!0}),t}const hu=[Function,Array],DV={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:hu,onEnter:hu,onAfterEnter:hu,onEnterCancelled:hu,onBeforeLeave:hu,onLeave:hu,onAfterLeave:hu,onLeaveCancelled:hu,onBeforeAppear:hu,onAppear:hu,onAfterAppear:hu,onAppearCancelled:hu},One={name:"BaseTransition",props:DV,setup(t,{slots:e}){const r=KE(),n=CV();let a;return()=>{const s=e.default&&dF(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const y of s)if(y.type!==_u){o=y;break}}const u=jr(t),{mode:l}=u;if(n.isLeaving)return cC(o);const c=_j(o);if(!c)return cC(o);const d=r_(c,u,n,r);n_(c,d);const f=r.subTree,h=f&&_j(f);let p=!1;const{getTransitionKey:g}=c.type;if(g){const y=g();a===void 0?a=y:y!==a&&(a=y,p=!0)}if(h&&h.type!==_u&&(!Ep(c,h)||p)){const y=r_(h,u,n,r);if(n_(h,y),l==="out-in")return n.isLeaving=!0,y.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},cC(o);l==="in-out"&&c.type!==_u&&(y.delayLeave=(S,v,A)=>{const E=NV(n,h);E[String(h.key)]=h,S._leaveCb=()=>{v(),S._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=A})}return o}}},Rne=One;function NV(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function r_(t,e,r,n){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:y,onAppear:S,onAfterAppear:v,onAppearCancelled:A}=e,E=String(t.key),T=NV(r,t),R=(M,N)=>{M&&bu(M,n,9,N)},I=(M,N)=>{const O=N[1];R(M,N),er(M)?M.every(k=>k.length<=1)&&O():M.length<=1&&O()},D={mode:s,persisted:o,beforeEnter(M){let N=u;if(!r.isMounted)if(a)N=y||u;else return;M._leaveCb&&M._leaveCb(!0);const O=T[E];O&&Ep(t,O)&&O.el._leaveCb&&O.el._leaveCb(),R(N,[M])},enter(M){let N=l,O=c,k=d;if(!r.isMounted)if(a)N=S||l,O=v||c,k=A||d;else return;let Y=!1;const ne=M._enterCb=q=>{Y||(Y=!0,q?R(k,[M]):R(O,[M]),D.delayedLeave&&D.delayedLeave(),M._enterCb=void 0)};N?I(N,[M,ne]):ne()},leave(M,N){const O=String(t.key);if(M._enterCb&&M._enterCb(!0),r.isUnmounting)return N();R(f,[M]);let k=!1;const Y=M._leaveCb=ne=>{k||(k=!0,N(),ne?R(g,[M]):R(p,[M]),M._leaveCb=void 0,T[O]===t&&delete T[O])};T[O]=t,h?I(h,[M,Y]):Y()},clone(M){return r_(M,e,r,n)}};return D}function cC(t){if(HE(t))return t=Yd(t),t.children=null,t}function _j(t){return HE(t)?t.children?t.children[0]:void 0:t}function n_(t,e){t.shapeFlag&6&&t.component?n_(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function dF(t,e=!1,r){let n=[],a=0;for(let s=0;s<t.length;s++){let o=t[s];const u=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===Qt?(o.patchFlag&128&&a++,n=n.concat(dF(o.children,e,u))):(e||o.type!==_u)&&n.push(u!=null?Yd(o,{key:u}):o)}if(a>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function xa(t,e){return Ar(t)?(()=>Ci({name:t.name},e,{setup:t}))():t}const Cb=t=>!!t.type.__asyncLoader,HE=t=>t.type.__isKeepAlive;function FV(t,e){jV(t,"a",e)}function LV(t,e){jV(t,"da",e)}function jV(t,e,r=aa){const n=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(qE(e,n,r),r){let a=r.parent;for(;a&&a.parent;)HE(a.parent.vnode)&&Ine(n,e,r,a),a=a.parent}}function Ine(t,e,r,n){const a=qE(e,t,n,!0);kV(()=>{J6(n[e],a)},r)}function qE(t,e,r=aa,n=!1){if(r){const a=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;hm(),Ny(r);const u=bu(e,r,t,o);return a0(),pm(),u});return n?a.unshift(s):a.push(s),s}}const df=t=>(e,r=aa)=>(!s_||t==="sp")&&qE(t,(...n)=>e(...n),r),zE=df("bm"),zs=df("m"),MV=df("bu"),BV=df("u"),_o=df("bum"),kV=df("um"),Pne=df("sp"),Cne=df("rtg"),Dne=df("rtc");function Nne(t,e=aa){qE("ec",t,e)}const fF="components",Fne="directives";function Nt(t,e){return hF(fF,t,!0,e)||t}const $V=Symbol.for("v-ndc");function Lne(t){return _i(t)?hF(fF,t,!1)||t:t||$V}function tu(t){return hF(Fne,t)}function hF(t,e,r=!0,n=!1){const a=Ea||aa;if(a){const s=a.type;if(t===fF){const u=hie(s,!1);if(u&&(u===e||u===Tu(e)||u===cf(Tu(e))))return s}const o=wj(a[t]||s[t],e)||wj(a.appContext[t],e);return!o&&n?s:o}}function wj(t,e){return t&&(t[e]||t[Tu(e)]||t[cf(Tu(e))])}function vh(t,e,r,n){let a;const s=r&&r[n];if(er(t)||_i(t)){a=new Array(t.length);for(let o=0,u=t.length;o<u;o++)a[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){a=new Array(t);for(let o=0;o<t;o++)a[o]=e(o+1,o,void 0,s&&s[o])}else if(Rn(t))if(t[Symbol.iterator])a=Array.from(t,(o,u)=>e(o,u,void 0,s&&s[u]));else{const o=Object.keys(t);a=new Array(o.length);for(let u=0,l=o.length;u<l;u++){const c=o[u];a[u]=e(t[c],c,u,s&&s[u])}}else a=[];return r&&(r[n]=a),a}function GE(t,e,r={},n,a){if(Ea.isCE||Ea.parent&&Cb(Ea.parent)&&Ea.parent.isCE)return e!=="default"&&(r.name=e),K("slot",r,n&&n());let s=t[e];s&&s._c&&(s._d=!1),Kt();const o=s&&UV(s(r)),u=Hr(Qt,{key:r.key||o&&o.key||`_${e}`},o||(n?n():[]),o&&t._===1?64:-2);return!a&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function UV(t){return t.some(e=>RT(e)?!(e.type===_u||e.type===Qt&&!UV(e.children)):!0)?t:null}function dC(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:j2(n)]=t[n];return r}const $N=t=>t?YV(t)?XE(t)||t.proxy:$N(t.parent):null,Db=Ci(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$N(t.parent),$root:t=>$N(t.root),$emit:t=>t.emit,$options:t=>pF(t),$forceUpdate:t=>t.f||(t.f=()=>lF(t.update)),$nextTick:t=>t.n||(t.n=ni.bind(t.proxy)),$watch:t=>xne.bind(t)}),fC=(t,e)=>t!==Bn&&!t.__isScriptSetup&&Kr(t,e),jne={get({_:t},e){const{ctx:r,setupState:n,data:a,props:s,accessCache:o,type:u,appContext:l}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return a[e];case 4:return r[e];case 3:return s[e]}else{if(fC(n,e))return o[e]=1,n[e];if(a!==Bn&&Kr(a,e))return o[e]=2,a[e];if((c=t.propsOptions[0])&&Kr(c,e))return o[e]=3,s[e];if(r!==Bn&&Kr(r,e))return o[e]=4,r[e];UN&&(o[e]=0)}}const d=Db[e];let f,h;if(d)return e==="$attrs"&&yo(t,"get",e),d(t);if((f=u.__cssModules)&&(f=f[e]))return f;if(r!==Bn&&Kr(r,e))return o[e]=4,r[e];if(h=l.config.globalProperties,Kr(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:a,ctx:s}=t;return fC(a,e)?(a[e]=r,!0):n!==Bn&&Kr(n,e)?(n[e]=r,!0):Kr(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:a,propsOptions:s}},o){let u;return!!r[o]||t!==Bn&&Kr(t,o)||fC(e,o)||(u=s[0])&&Kr(u,o)||Kr(n,o)||Kr(Db,o)||Kr(a.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Kr(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Sj(t){return er(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let UN=!0;function Mne(t){const e=pF(t),r=t.proxy,n=t.ctx;UN=!1,e.beforeCreate&&Tj(e.beforeCreate,t,"bc");const{data:a,computed:s,methods:o,watch:u,provide:l,inject:c,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:g,activated:y,deactivated:S,beforeDestroy:v,beforeUnmount:A,destroyed:E,unmounted:T,render:R,renderTracked:I,renderTriggered:D,errorCaptured:M,serverPrefetch:N,expose:O,inheritAttrs:k,components:Y,directives:ne,filters:q}=e;if(c&&Bne(c,n,null),o)for(const se in o){const ue=o[se];Ar(ue)&&(n[se]=ue.bind(r))}if(a){const se=a.call(r,r);Rn(se)&&(t.data=bi(se))}if(UN=!0,s)for(const se in s){const ue=s[se],Se=Ar(ue)?ue.bind(r,r):Ar(ue.get)?ue.get.bind(r,r):xl,ve=!Ar(ue)&&Ar(ue.set)?ue.set.bind(r):xl,Le=_e({get:Se,set:ve});Object.defineProperty(n,se,{enumerable:!0,configurable:!0,get:()=>Le.value,set:Xe=>Le.value=Xe})}if(u)for(const se in u)VV(u[se],n,r,se);if(l){const se=Ar(l)?l.call(r):l;Reflect.ownKeys(se).forEach(ue=>{Di(ue,se[ue])})}d&&Tj(d,t,"c");function J(se,ue){er(ue)?ue.forEach(Se=>se(Se.bind(r))):ue&&se(ue.bind(r))}if(J(zE,f),J(zs,h),J(MV,p),J(BV,g),J(FV,y),J(LV,S),J(Nne,M),J(Dne,I),J(Cne,D),J(_o,A),J(kV,T),J(Pne,N),er(O))if(O.length){const se=t.exposed||(t.exposed={});O.forEach(ue=>{Object.defineProperty(se,ue,{get:()=>r[ue],set:Se=>r[ue]=Se})})}else t.exposed||(t.exposed={});R&&t.render===xl&&(t.render=R),k!=null&&(t.inheritAttrs=k),Y&&(t.components=Y),ne&&(t.directives=ne)}function Bne(t,e,r=xl){er(t)&&(t=VN(t));for(const n in t){const a=t[n];let s;Rn(a)?"default"in a?s=Xr(a.from||n,a.default,!0):s=Xr(a.from||n):s=Xr(a),ln(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function Tj(t,e,r){bu(er(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function VV(t,e,r,n){const a=n.includes(".")?PV(r,n):()=>r[n];if(_i(t)){const s=e[t];Ar(s)&&Mt(a,s)}else if(Ar(t))Mt(a,t.bind(r));else if(Rn(t))if(er(t))t.forEach(s=>VV(s,e,r,n));else{const s=Ar(t.handler)?t.handler.bind(r):e[t.handler];Ar(s)&&Mt(a,s,t)}}function pF(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:a,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,u=s.get(e);let l;return u?l=u:!a.length&&!r&&!n?l=e:(l={},a.length&&a.forEach(c=>OT(l,c,o,!0)),OT(l,e,o)),Rn(e)&&s.set(e,l),l}function OT(t,e,r,n=!1){const{mixins:a,extends:s}=e;s&&OT(t,s,r,!0),a&&a.forEach(o=>OT(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const u=kne[o]||r&&r[o];t[o]=u?u(t[o],e[o]):e[o]}return t}const kne={data:Ej,props:Aj,emits:Aj,methods:rb,computed:rb,beforeCreate:Rs,created:Rs,beforeMount:Rs,mounted:Rs,beforeUpdate:Rs,updated:Rs,beforeDestroy:Rs,beforeUnmount:Rs,destroyed:Rs,unmounted:Rs,activated:Rs,deactivated:Rs,errorCaptured:Rs,serverPrefetch:Rs,components:rb,directives:rb,watch:Une,provide:Ej,inject:$ne};function Ej(t,e){return e?t?function(){return Ci(Ar(t)?t.call(this,this):t,Ar(e)?e.call(this,this):e)}:e:t}function $ne(t,e){return rb(VN(t),VN(e))}function VN(t){if(er(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Rs(t,e){return t?[...new Set([].concat(t,e))]:e}function rb(t,e){return t?Ci(Object.create(null),t,e):e}function Aj(t,e){return t?er(t)&&er(e)?[...new Set([...t,...e])]:Ci(Object.create(null),Sj(t),Sj(e??{})):e}function Une(t,e){if(!t)return e;if(!e)return t;const r=Ci(Object.create(null),t);for(const n in e)r[n]=Rs(t[n],e[n]);return r}function HV(){return{app:null,config:{isNativeTag:_re,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vne=0;function Hne(t,e){return function(n,a=null){Ar(n)||(n=Ci({},n)),a!=null&&!Rn(a)&&(a=null);const s=HV(),o=new Set;let u=!1;const l=s.app={_uid:Vne++,_component:n,_props:a,_container:null,_context:s,_instance:null,version:mie,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&Ar(c.install)?(o.add(c),c.install(l,...d)):Ar(c)&&(o.add(c),c(l,...d))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,d){return d?(s.components[c]=d,l):s.components[c]},directive(c,d){return d?(s.directives[c]=d,l):s.directives[c]},mount(c,d,f){if(!u){const h=K(n,a);return h.appContext=s,d&&e?e(h,c):t(h,c,f),u=!0,l._container=c,c.__vue_app__=l,XE(h.component)||h.component.proxy}},unmount(){u&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,d){return s.provides[c]=d,l},runWithContext(c){i_=l;try{return c()}finally{i_=null}}};return l}}let i_=null;function Di(t,e){if(aa){let r=aa.provides;const n=aa.parent&&aa.parent.provides;n===r&&(r=aa.provides=Object.create(n)),r[t]=e}}function Xr(t,e,r=!1){const n=aa||Ea;if(n||i_){const a=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:i_._context.provides;if(a&&t in a)return a[t];if(arguments.length>1)return r&&Ar(e)?e.call(n&&n.proxy):e}}function qne(){return!!(aa||Ea||i_)}function zne(t,e,r,n=!1){const a={},s={};TT(s,WE,1),t.propsDefaults=Object.create(null),qV(t,e,a,s);for(const o in t.propsOptions[0])o in a||(a[o]=void 0);r?t.props=n?a:mV(a):t.type.props?t.props=a:t.props=s,t.attrs=s}function Gne(t,e,r,n){const{props:a,attrs:s,vnode:{patchFlag:o}}=t,u=jr(a),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(VE(t.emitsOptions,h))continue;const p=e[h];if(l)if(Kr(s,h))p!==s[h]&&(s[h]=p,c=!0);else{const g=Tu(h);a[g]=HN(l,u,g,p,t,!1)}else p!==s[h]&&(s[h]=p,c=!0)}}}else{qV(t,e,a,s)&&(c=!0);let d;for(const f in u)(!e||!Kr(e,f)&&((d=dm(f))===f||!Kr(e,d)))&&(l?r&&(r[f]!==void 0||r[d]!==void 0)&&(a[f]=HN(l,u,f,void 0,t,!0)):delete a[f]);if(s!==u)for(const f in s)(!e||!Kr(e,f))&&(delete s[f],c=!0)}c&&Jd(t,"set","$attrs")}function qV(t,e,r,n){const[a,s]=t.propsOptions;let o=!1,u;if(e)for(let l in e){if(L2(l))continue;const c=e[l];let d;a&&Kr(a,d=Tu(l))?!s||!s.includes(d)?r[d]=c:(u||(u={}))[d]=c:VE(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(s){const l=jr(r),c=u||Bn;for(let d=0;d<s.length;d++){const f=s[d];r[f]=HN(a,l,f,c[f],t,!Kr(c,f))}}return o}function HN(t,e,r,n,a,s){const o=t[r];if(o!=null){const u=Kr(o,"default");if(u&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ar(l)){const{propsDefaults:c}=a;r in c?n=c[r]:(Ny(a),n=c[r]=l.call(null,e),a0())}else n=l}o[0]&&(s&&!u?n=!1:o[1]&&(n===""||n===dm(r))&&(n=!0))}return n}function zV(t,e,r=!1){const n=e.propsCache,a=n.get(t);if(a)return a;const s=t.props,o={},u=[];let l=!1;if(!Ar(t)){const d=f=>{l=!0;const[h,p]=zV(f,e,!0);Ci(o,h),p&&u.push(...p)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return Rn(t)&&n.set(t,Zg),Zg;if(er(s))for(let d=0;d<s.length;d++){const f=Tu(s[d]);xj(f)&&(o[f]=Bn)}else if(s)for(const d in s){const f=Tu(d);if(xj(f)){const h=s[d],p=o[f]=er(h)||Ar(h)?{type:h}:Ci({},h);if(p){const g=Ij(Boolean,p.type),y=Ij(String,p.type);p[0]=g>-1,p[1]=y<0||g<y,(g>-1||Kr(p,"default"))&&u.push(f)}}}const c=[o,u];return Rn(t)&&n.set(t,c),c}function xj(t){return t[0]!=="$"}function Oj(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Rj(t,e){return Oj(t)===Oj(e)}function Ij(t,e){return er(e)?e.findIndex(r=>Rj(r,t)):Ar(e)&&Rj(e,t)?0:-1}const GV=t=>t[0]==="_"||t==="$stable",gF=t=>er(t)?t.map(Oc):[Oc(t)],Qne=(t,e,r)=>{if(e._n)return e;const n=vt((...a)=>gF(e(...a)),r);return n._c=!1,n},QV=(t,e,r)=>{const n=t._ctx;for(const a in t){if(GV(a))continue;const s=t[a];if(Ar(s))e[a]=Qne(a,s,n);else if(s!=null){const o=gF(s);e[a]=()=>o}}},WV=(t,e)=>{const r=gF(e);t.slots.default=()=>r},Wne=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=jr(e),TT(e,"_",r)):QV(e,t.slots={})}else t.slots={},e&&WV(t,e);TT(t.slots,WE,1)},Kne=(t,e,r)=>{const{vnode:n,slots:a}=t;let s=!0,o=Bn;if(n.shapeFlag&32){const u=e._;u?r&&u===1?s=!1:(Ci(a,e),!r&&u===1&&delete a._):(s=!e.$stable,QV(e,a)),o=e}else e&&(WV(t,e),o={default:1});if(s)for(const u in a)!GV(u)&&!(u in o)&&delete a[u]};function qN(t,e,r,n,a=!1){if(er(t)){t.forEach((h,p)=>qN(h,e&&(er(e)?e[p]:e),r,n,a));return}if(Cb(n)&&!a)return;const s=n.shapeFlag&4?XE(n.component)||n.component.proxy:n.el,o=a?null:s,{i:u,r:l}=t,c=e&&e.r,d=u.refs===Bn?u.refs={}:u.refs,f=u.setupState;if(c!=null&&c!==l&&(_i(c)?(d[c]=null,Kr(f,c)&&(f[c]=null)):ln(c)&&(c.value=null)),Ar(l))mh(l,u,12,[o,d]);else{const h=_i(l),p=ln(l);if(h||p){const g=()=>{if(t.f){const y=h?Kr(f,l)?f[l]:d[l]:l.value;a?er(y)&&J6(y,s):er(y)?y.includes(s)||y.push(s):h?(d[l]=[s],Kr(f,l)&&(f[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else h?(d[l]=o,Kr(f,l)&&(f[l]=o)):p&&(l.value=o,t.k&&(d[t.k]=o))};o?(g.id=-1,Zs(g,r)):g()}}}const Zs=Ane;function Xne(t){return Jne(t)}function Jne(t,e){const r=LN();r.__VUE__=!0;const{insert:n,remove:a,patchProp:s,createElement:o,createText:u,createComment:l,setText:c,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=xl,insertStaticContent:g}=t,y=(b,m,C,B=null,z=null,Q=null,ae=!1,ce=null,fe=!!m.dynamicChildren)=>{if(b===m)return;b&&!Ep(b,m)&&(B=Oe(b),Xe(b,z,Q,!0),b=null),m.patchFlag===-2&&(fe=!1,m.dynamicChildren=null);const{type:be,ref:je,shapeFlag:$e}=m;switch(be){case QE:S(b,m,C,B);break;case _u:v(b,m,C,B);break;case hC:b==null&&A(m,C,B,ae);break;case Qt:Y(b,m,C,B,z,Q,ae,ce,fe);break;default:$e&1?R(b,m,C,B,z,Q,ae,ce,fe):$e&6?ne(b,m,C,B,z,Q,ae,ce,fe):($e&64||$e&128)&&be.process(b,m,C,B,z,Q,ae,ce,fe,He)}je!=null&&z&&qN(je,b&&b.ref,Q,m||b,!m)},S=(b,m,C,B)=>{if(b==null)n(m.el=u(m.children),C,B);else{const z=m.el=b.el;m.children!==b.children&&c(z,m.children)}},v=(b,m,C,B)=>{b==null?n(m.el=l(m.children||""),C,B):m.el=b.el},A=(b,m,C,B)=>{[b.el,b.anchor]=g(b.children,m,C,B,b.el,b.anchor)},E=({el:b,anchor:m},C,B)=>{let z;for(;b&&b!==m;)z=h(b),n(b,C,B),b=z;n(m,C,B)},T=({el:b,anchor:m})=>{let C;for(;b&&b!==m;)C=h(b),a(b),b=C;a(m)},R=(b,m,C,B,z,Q,ae,ce,fe)=>{ae=ae||m.type==="svg",b==null?I(m,C,B,z,Q,ae,ce,fe):N(b,m,z,Q,ae,ce,fe)},I=(b,m,C,B,z,Q,ae,ce)=>{let fe,be;const{type:je,props:$e,shapeFlag:Ke,transition:re,dirs:le}=b;if(fe=b.el=o(b.type,Q,$e&&$e.is,$e),Ke&8?d(fe,b.children):Ke&16&&M(b.children,fe,null,B,z,Q&&je!=="foreignObject",ae,ce),le&&rp(b,null,B,"created"),D(fe,b,b.scopeId,ae,B),$e){for(const $ in $e)$!=="value"&&!L2($)&&s(fe,$,null,$e[$],Q,b.children,B,z,Te);"value"in $e&&s(fe,"value",null,$e.value),(be=$e.onVnodeBeforeMount)&&Jl(be,B,b)}le&&rp(b,null,B,"beforeMount");const X=(!z||z&&!z.pendingBranch)&&re&&!re.persisted;X&&re.beforeEnter(fe),n(fe,m,C),((be=$e&&$e.onVnodeMounted)||X||le)&&Zs(()=>{be&&Jl(be,B,b),X&&re.enter(fe),le&&rp(b,null,B,"mounted")},z)},D=(b,m,C,B,z)=>{if(C&&p(b,C),B)for(let Q=0;Q<B.length;Q++)p(b,B[Q]);if(z){let Q=z.subTree;if(m===Q){const ae=z.vnode;D(b,ae,ae.scopeId,ae.slotScopeIds,z.parent)}}},M=(b,m,C,B,z,Q,ae,ce,fe=0)=>{for(let be=fe;be<b.length;be++){const je=b[be]=ce?Zf(b[be]):Oc(b[be]);y(null,je,m,C,B,z,Q,ae,ce)}},N=(b,m,C,B,z,Q,ae)=>{const ce=m.el=b.el;let{patchFlag:fe,dynamicChildren:be,dirs:je}=m;fe|=b.patchFlag&16;const $e=b.props||Bn,Ke=m.props||Bn;let re;C&&np(C,!1),(re=Ke.onVnodeBeforeUpdate)&&Jl(re,C,m,b),je&&rp(m,b,C,"beforeUpdate"),C&&np(C,!0);const le=z&&m.type!=="foreignObject";if(be?O(b.dynamicChildren,be,ce,C,B,le,Q):ae||ue(b,m,ce,null,C,B,le,Q,!1),fe>0){if(fe&16)k(ce,m,$e,Ke,C,B,z);else if(fe&2&&$e.class!==Ke.class&&s(ce,"class",null,Ke.class,z),fe&4&&s(ce,"style",$e.style,Ke.style,z),fe&8){const X=m.dynamicProps;for(let $=0;$<X.length;$++){const U=X[$],V=$e[U],Ie=Ke[U];(Ie!==V||U==="value")&&s(ce,U,V,Ie,z,b.children,C,B,Te)}}fe&1&&b.children!==m.children&&d(ce,m.children)}else!ae&&be==null&&k(ce,m,$e,Ke,C,B,z);((re=Ke.onVnodeUpdated)||je)&&Zs(()=>{re&&Jl(re,C,m,b),je&&rp(m,b,C,"updated")},B)},O=(b,m,C,B,z,Q,ae)=>{for(let ce=0;ce<m.length;ce++){const fe=b[ce],be=m[ce],je=fe.el&&(fe.type===Qt||!Ep(fe,be)||fe.shapeFlag&70)?f(fe.el):C;y(fe,be,je,null,B,z,Q,ae,!0)}},k=(b,m,C,B,z,Q,ae)=>{if(C!==B){if(C!==Bn)for(const ce in C)!L2(ce)&&!(ce in B)&&s(b,ce,C[ce],null,ae,m.children,z,Q,Te);for(const ce in B){if(L2(ce))continue;const fe=B[ce],be=C[ce];fe!==be&&ce!=="value"&&s(b,ce,be,fe,ae,m.children,z,Q,Te)}"value"in B&&s(b,"value",C.value,B.value)}},Y=(b,m,C,B,z,Q,ae,ce,fe)=>{const be=m.el=b?b.el:u(""),je=m.anchor=b?b.anchor:u("");let{patchFlag:$e,dynamicChildren:Ke,slotScopeIds:re}=m;re&&(ce=ce?ce.concat(re):re),b==null?(n(be,C,B),n(je,C,B),M(m.children,C,je,z,Q,ae,ce,fe)):$e>0&&$e&64&&Ke&&b.dynamicChildren?(O(b.dynamicChildren,Ke,C,z,Q,ae,ce),(m.key!=null||z&&m===z.subTree)&&yF(b,m,!0)):ue(b,m,C,je,z,Q,ae,ce,fe)},ne=(b,m,C,B,z,Q,ae,ce,fe)=>{m.slotScopeIds=ce,b==null?m.shapeFlag&512?z.ctx.activate(m,C,B,ae,fe):q(m,C,B,z,Q,ae,fe):H(b,m,fe)},q=(b,m,C,B,z,Q,ae)=>{const ce=b.component=uie(b,B,z);if(HE(b)&&(ce.ctx.renderer=He),lie(ce),ce.asyncDep){if(z&&z.registerDep(ce,J),!b.el){const fe=ce.subTree=K(_u);v(null,fe,m,C)}return}J(ce,b,m,C,z,Q,ae)},H=(b,m,C)=>{const B=m.component=b.component;if(Sne(b,m,C))if(B.asyncDep&&!B.asyncResolved){se(B,m,C);return}else B.next=m,yne(B.update),B.update();else m.el=b.el,B.vnode=m},J=(b,m,C,B,z,Q,ae)=>{const ce=()=>{if(b.isMounted){let{next:je,bu:$e,u:Ke,parent:re,vnode:le}=b,X=je,$;np(b,!1),je?(je.el=le.el,se(b,je,ae)):je=le,$e&&M2($e),($=je.props&&je.props.onVnodeBeforeUpdate)&&Jl($,re,je,le),np(b,!0);const U=lC(b),V=b.subTree;b.subTree=U,y(V,U,f(V.el),Oe(V),b,z,Q),je.el=U.el,X===null&&Tne(b,U.el),Ke&&Zs(Ke,z),($=je.props&&je.props.onVnodeUpdated)&&Zs(()=>Jl($,re,je,le),z)}else{let je;const{el:$e,props:Ke}=m,{bm:re,m:le,parent:X}=b,$=Cb(m);if(np(b,!1),re&&M2(re),!$&&(je=Ke&&Ke.onVnodeBeforeMount)&&Jl(je,X,m),np(b,!0),$e&&j){const U=()=>{b.subTree=lC(b),j($e,b.subTree,b,z,null)};$?m.type.__asyncLoader().then(()=>!b.isUnmounted&&U()):U()}else{const U=b.subTree=lC(b);y(null,U,C,B,b,z,Q),m.el=U.el}if(le&&Zs(le,z),!$&&(je=Ke&&Ke.onVnodeMounted)){const U=m;Zs(()=>Jl(je,X,U),z)}(m.shapeFlag&256||X&&Cb(X.vnode)&&X.vnode.shapeFlag&256)&&b.a&&Zs(b.a,z),b.isMounted=!0,m=C=B=null}},fe=b.effect=new rF(ce,()=>lF(be),b.scope),be=b.update=()=>fe.run();be.id=b.uid,np(b,!0),be()},se=(b,m,C)=>{m.component=b;const B=b.vnode.props;b.vnode=m,b.next=null,Gne(b,m.props,B,C),Kne(b,m.children,C),hm(),vj(),pm()},ue=(b,m,C,B,z,Q,ae,ce,fe=!1)=>{const be=b&&b.children,je=b?b.shapeFlag:0,$e=m.children,{patchFlag:Ke,shapeFlag:re}=m;if(Ke>0){if(Ke&128){ve(be,$e,C,B,z,Q,ae,ce,fe);return}else if(Ke&256){Se(be,$e,C,B,z,Q,ae,ce,fe);return}}re&8?(je&16&&Te(be,z,Q),$e!==be&&d(C,$e)):je&16?re&16?ve(be,$e,C,B,z,Q,ae,ce,fe):Te(be,z,Q,!0):(je&8&&d(C,""),re&16&&M($e,C,B,z,Q,ae,ce,fe))},Se=(b,m,C,B,z,Q,ae,ce,fe)=>{b=b||Zg,m=m||Zg;const be=b.length,je=m.length,$e=Math.min(be,je);let Ke;for(Ke=0;Ke<$e;Ke++){const re=m[Ke]=fe?Zf(m[Ke]):Oc(m[Ke]);y(b[Ke],re,C,null,z,Q,ae,ce,fe)}be>je?Te(b,z,Q,!0,!1,$e):M(m,C,B,z,Q,ae,ce,fe,$e)},ve=(b,m,C,B,z,Q,ae,ce,fe)=>{let be=0;const je=m.length;let $e=b.length-1,Ke=je-1;for(;be<=$e&&be<=Ke;){const re=b[be],le=m[be]=fe?Zf(m[be]):Oc(m[be]);if(Ep(re,le))y(re,le,C,null,z,Q,ae,ce,fe);else break;be++}for(;be<=$e&&be<=Ke;){const re=b[$e],le=m[Ke]=fe?Zf(m[Ke]):Oc(m[Ke]);if(Ep(re,le))y(re,le,C,null,z,Q,ae,ce,fe);else break;$e--,Ke--}if(be>$e){if(be<=Ke){const re=Ke+1,le=re<je?m[re].el:B;for(;be<=Ke;)y(null,m[be]=fe?Zf(m[be]):Oc(m[be]),C,le,z,Q,ae,ce,fe),be++}}else if(be>Ke)for(;be<=$e;)Xe(b[be],z,Q,!0),be++;else{const re=be,le=be,X=new Map;for(be=le;be<=Ke;be++){const _t=m[be]=fe?Zf(m[be]):Oc(m[be]);_t.key!=null&&X.set(_t.key,be)}let $,U=0;const V=Ke-le+1;let Ie=!1,ke=0;const Pe=new Array(V);for(be=0;be<V;be++)Pe[be]=0;for(be=re;be<=$e;be++){const _t=b[be];if(U>=V){Xe(_t,z,Q,!0);continue}let Rt;if(_t.key!=null)Rt=X.get(_t.key);else for($=le;$<=Ke;$++)if(Pe[$-le]===0&&Ep(_t,m[$])){Rt=$;break}Rt===void 0?Xe(_t,z,Q,!0):(Pe[Rt-le]=be+1,Rt>=ke?ke=Rt:Ie=!0,y(_t,m[Rt],C,null,z,Q,ae,ce,fe),U++)}const ht=Ie?Yne(Pe):Zg;for($=ht.length-1,be=V-1;be>=0;be--){const _t=le+be,Rt=m[_t],Et=_t+1<je?m[_t+1].el:B;Pe[be]===0?y(null,Rt,C,Et,z,Q,ae,ce,fe):Ie&&($<0||be!==ht[$]?Le(Rt,C,Et,2):$--)}}},Le=(b,m,C,B,z=null)=>{const{el:Q,type:ae,transition:ce,children:fe,shapeFlag:be}=b;if(be&6){Le(b.component.subTree,m,C,B);return}if(be&128){b.suspense.move(m,C,B);return}if(be&64){ae.move(b,m,C,He);return}if(ae===Qt){n(Q,m,C);for(let $e=0;$e<fe.length;$e++)Le(fe[$e],m,C,B);n(b.anchor,m,C);return}if(ae===hC){E(b,m,C);return}if(B!==2&&be&1&&ce)if(B===0)ce.beforeEnter(Q),n(Q,m,C),Zs(()=>ce.enter(Q),z);else{const{leave:$e,delayLeave:Ke,afterLeave:re}=ce,le=()=>n(Q,m,C),X=()=>{$e(Q,()=>{le(),re&&re()})};Ke?Ke(Q,le,X):X()}else n(Q,m,C)},Xe=(b,m,C,B=!1,z=!1)=>{const{type:Q,props:ae,ref:ce,children:fe,dynamicChildren:be,shapeFlag:je,patchFlag:$e,dirs:Ke}=b;if(ce!=null&&qN(ce,null,C,b,!0),je&256){m.ctx.deactivate(b);return}const re=je&1&&Ke,le=!Cb(b);let X;if(le&&(X=ae&&ae.onVnodeBeforeUnmount)&&Jl(X,m,b),je&6)qe(b.component,C,B);else{if(je&128){b.suspense.unmount(C,B);return}re&&rp(b,null,m,"beforeUnmount"),je&64?b.type.remove(b,m,C,z,He,B):be&&(Q!==Qt||$e>0&&$e&64)?Te(be,m,C,!1,!0):(Q===Qt&&$e&384||!z&&je&16)&&Te(fe,m,C),B&&Ne(b)}(le&&(X=ae&&ae.onVnodeUnmounted)||re)&&Zs(()=>{X&&Jl(X,m,b),re&&rp(b,null,m,"unmounted")},C)},Ne=b=>{const{type:m,el:C,anchor:B,transition:z}=b;if(m===Qt){ye(C,B);return}if(m===hC){T(b);return}const Q=()=>{a(C),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(b.shapeFlag&1&&z&&!z.persisted){const{leave:ae,delayLeave:ce}=z,fe=()=>ae(C,Q);ce?ce(b.el,Q,fe):fe()}else Q()},ye=(b,m)=>{let C;for(;b!==m;)C=h(b),a(b),b=C;a(m)},qe=(b,m,C)=>{const{bum:B,scope:z,update:Q,subTree:ae,um:ce}=b;B&&M2(B),z.stop(),Q&&(Q.active=!1,Xe(ae,b,m,C)),ce&&Zs(ce,m),Zs(()=>{b.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Te=(b,m,C,B=!1,z=!1,Q=0)=>{for(let ae=Q;ae<b.length;ae++)Xe(b[ae],m,C,B,z)},Oe=b=>b.shapeFlag&6?Oe(b.component.subTree):b.shapeFlag&128?b.suspense.next():h(b.anchor||b.el),Be=(b,m,C)=>{b==null?m._vnode&&Xe(m._vnode,null,null,!0):y(m._vnode||null,b,m,null,null,null,C),vj(),xV(),m._vnode=b},He={p:y,um:Xe,m:Le,r:Ne,mt:q,mc:M,pc:ue,pbc:O,n:Oe,o:t};let ee,j;return e&&([ee,j]=e(He)),{render:Be,hydrate:ee,createApp:Hne(Be,ee)}}function np({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function yF(t,e,r=!1){const n=t.children,a=e.children;if(er(n)&&er(a))for(let s=0;s<n.length;s++){const o=n[s];let u=a[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[s]=Zf(a[s]),u.el=o.el),r||yF(o,u)),u.type===QE&&(u.el=o.el)}}function Yne(t){const e=t.slice(),r=[0];let n,a,s,o,u;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(a=r[r.length-1],t[a]<c){e[n]=a,r.push(n);continue}for(s=0,o=r.length-1;s<o;)u=s+o>>1,t[r[u]]<c?s=u+1:o=u;c<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}const Zne=t=>t.__isTeleport,Nb=t=>t&&(t.disabled||t.disabled===""),Pj=t=>typeof SVGElement<"u"&&t instanceof SVGElement,zN=(t,e)=>{const r=t&&t.to;return _i(r)?e?e(r):null:r},eie={__isTeleport:!0,process(t,e,r,n,a,s,o,u,l,c){const{mc:d,pc:f,pbc:h,o:{insert:p,querySelector:g,createText:y,createComment:S}}=c,v=Nb(e.props);let{shapeFlag:A,children:E,dynamicChildren:T}=e;if(t==null){const R=e.el=y(""),I=e.anchor=y("");p(R,r,n),p(I,r,n);const D=e.target=zN(e.props,g),M=e.targetAnchor=y("");D&&(p(M,D),o=o||Pj(D));const N=(O,k)=>{A&16&&d(E,O,k,a,s,o,u,l)};v?N(r,I):D&&N(D,M)}else{e.el=t.el;const R=e.anchor=t.anchor,I=e.target=t.target,D=e.targetAnchor=t.targetAnchor,M=Nb(t.props),N=M?r:I,O=M?R:D;if(o=o||Pj(I),T?(h(t.dynamicChildren,T,N,a,s,o,u),yF(t,e,!0)):l||f(t,e,N,O,a,s,o,u,!1),v)M||wS(e,r,R,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=zN(e.props,g);k&&wS(e,k,null,c,0)}else M&&wS(e,I,D,c,1)}KV(e)},remove(t,e,r,n,{um:a,o:{remove:s}},o){const{shapeFlag:u,children:l,anchor:c,targetAnchor:d,target:f,props:h}=t;if(f&&s(d),(o||!Nb(h))&&(s(c),u&16))for(let p=0;p<l.length;p++){const g=l[p];a(g,e,r,!0,!!g.dynamicChildren)}},move:wS,hydrate:tie};function wS(t,e,r,{o:{insert:n},m:a},s=2){s===0&&n(t.targetAnchor,e,r);const{el:o,anchor:u,shapeFlag:l,children:c,props:d}=t,f=s===2;if(f&&n(o,e,r),(!f||Nb(d))&&l&16)for(let h=0;h<c.length;h++)a(c[h],e,r,2);f&&n(u,e,r)}function tie(t,e,r,n,a,s,{o:{nextSibling:o,parentNode:u,querySelector:l}},c){const d=e.target=zN(e.props,l);if(d){const f=d._lpa||d.firstChild;if(e.shapeFlag&16)if(Nb(e.props))e.anchor=c(o(t),e,u(t),r,n,a,s),e.targetAnchor=f;else{e.anchor=o(t);let h=f;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(f,e,d,r,n,a,s)}KV(e)}return e.anchor&&o(e.anchor)}const rie=eie;function KV(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Qt=Symbol.for("v-fgt"),QE=Symbol.for("v-txt"),_u=Symbol.for("v-cmt"),hC=Symbol.for("v-stc"),Fb=[];let Al=null;function Kt(t=!1){Fb.push(Al=t?null:[])}function nie(){Fb.pop(),Al=Fb[Fb.length-1]||null}let a_=1;function Cj(t){a_+=t}function XV(t){return t.dynamicChildren=a_>0?Al||Zg:null,nie(),a_>0&&Al&&Al.push(t),t}function ki(t,e,r,n,a,s){return XV(Ol(t,e,r,n,a,s,!0))}function Hr(t,e,r,n,a){return XV(K(t,e,r,n,a,!0))}function RT(t){return t?t.__v_isVNode===!0:!1}function Ep(t,e){return t.type===e.type&&t.key===e.key}const WE="__vInternal",JV=({key:t})=>t??null,B2=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?_i(t)||ln(t)||Ar(t)?{i:Ea,r:t,k:e,f:!!r}:t:null);function Ol(t,e=null,r=null,n=0,a=null,s=t===Qt?0:1,o=!1,u=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&JV(e),ref:e&&B2(e),scopeId:IV,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Ea};return u?(mF(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=_i(r)?8:16),a_>0&&!o&&Al&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Al.push(l),l}const K=iie;function iie(t,e=null,r=null,n=0,a=null,s=!1){if((!t||t===$V)&&(t=_u),RT(t)){const u=Yd(t,e,!0);return r&&mF(u,r),a_>0&&!s&&Al&&(u.shapeFlag&6?Al[Al.indexOf(t)]=u:Al.push(u)),u.patchFlag|=-2,u}if(pie(t)&&(t=t.__vccOpts),e){e=aie(e);let{class:u,style:l}=e;u&&!_i(u)&&(e.class=ME(u)),Rn(l)&&(vV(l)&&!er(l)&&(l=Ci({},l)),e.style=eF(l))}const o=_i(t)?1:Ene(t)?128:Zne(t)?64:Rn(t)?4:Ar(t)?2:0;return Ol(t,e,r,n,a,o,s,!0)}function aie(t){return t?vV(t)||WE in t?Ci({},t):t:null}function Yd(t,e,r=!1){const{props:n,ref:a,patchFlag:s,children:o}=t,u=e?Dt(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&JV(u),ref:e&&e.ref?r&&a?er(a)?a.concat(B2(e)):[a,B2(e)]:B2(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Qt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Yd(t.ssContent),ssFallback:t.ssFallback&&Yd(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function di(t=" ",e=0){return K(QE,null,t,e)}function bh(t="",e=!1){return e?(Kt(),Hr(_u,null,t)):K(_u,null,t)}function Oc(t){return t==null||typeof t=="boolean"?K(_u):er(t)?K(Qt,null,t.slice()):typeof t=="object"?Zf(t):K(QE,null,String(t))}function Zf(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Yd(t)}function mF(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(er(e))r=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),mF(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!(WE in e)?e._ctx=Ea:a===3&&Ea&&(Ea.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ar(e)?(e={default:e,_ctx:Ea},r=32):(e=String(e),n&64?(r=16,e=[di(e)]):r=8);t.children=e,t.shapeFlag|=r}function Dt(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=ME([e.class,n.class]));else if(a==="style")e.style=eF([e.style,n.style]);else if(FE(a)){const s=e[a],o=n[a];o&&s!==o&&!(er(s)&&s.includes(o))&&(e[a]=s?[].concat(s,o):o)}else a!==""&&(e[a]=n[a])}return e}function Jl(t,e,r,n=null){bu(t,e,7,[r,n])}const sie=HV();let oie=0;function uie(t,e,r){const n=t.type,a=(e?e.appContext:t.appContext)||sie,s={uid:oie++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new aV(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zV(n,a),emitsOptions:RV(n,a),emit:null,emitted:null,propsDefaults:Bn,inheritAttrs:n.inheritAttrs,ctx:Bn,data:Bn,props:Bn,attrs:Bn,slots:Bn,refs:Bn,setupState:Bn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=bne.bind(null,s),t.ce&&t.ce(s),s}let aa=null;const KE=()=>aa||Ea;let vF,hg,Dj="__VUE_INSTANCE_SETTERS__";(hg=LN()[Dj])||(hg=LN()[Dj]=[]),hg.push(t=>aa=t),vF=t=>{hg.length>1?hg.forEach(e=>e(t)):hg[0](t)};const Ny=t=>{vF(t),t.scope.on()},a0=()=>{aa&&aa.scope.off(),vF(null)};function YV(t){return t.vnode.shapeFlag&4}let s_=!1;function lie(t,e=!1){s_=e;const{props:r,children:n}=t.vnode,a=YV(t);zne(t,r,a,e),Wne(t,n);const s=a?cie(t,e):void 0;return s_=!1,s}function cie(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=kE(new Proxy(t.ctx,jne));const{setup:n}=r;if(n){const a=t.setupContext=n.length>1?fie(t):null;Ny(t),hm();const s=mh(n,t,0,[t.props,a]);if(pm(),a0(),eV(s)){if(s.then(a0,a0),e)return s.then(o=>{Nj(t,o,e)}).catch(o=>{UE(o,t,0)});t.asyncDep=s}else Nj(t,s,e)}else ZV(t,e)}function Nj(t,e,r){Ar(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Rn(e)&&(t.setupState=SV(e)),ZV(t,r)}let Fj;function ZV(t,e,r){const n=t.type;if(!t.render){if(!e&&Fj&&!n.render){const a=n.template||pF(t).template;if(a){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:u,compilerOptions:l}=n,c=Ci(Ci({isCustomElement:s,delimiters:u},o),l);n.render=Fj(a,c)}}t.render=n.render||xl}Ny(t),hm(),Mne(t),pm(),a0()}function die(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return yo(t,"get","$attrs"),e[r]}}))}function fie(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return die(t)},slots:t.slots,emit:t.emit,expose:e}}function XE(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(SV(kE(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Db)return Db[r](t)},has(e,r){return r in e||r in Db}}))}function hie(t,e=!0){return Ar(t)?t.displayName||t.name:t.name||e&&t.__name}function pie(t){return Ar(t)&&"__vccOpts"in t}const _e=(t,e)=>hne(t,e,s_);function jh(t,e,r){const n=arguments.length;return n===2?Rn(e)&&!er(e)?RT(e)?K(t,null,[e]):K(t,e):K(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&RT(r)&&(r=[r]),K(t,e,r))}const gie=Symbol.for("v-scx"),yie=()=>Xr(gie),mie="3.3.4",vie="http://www.w3.org/2000/svg",Ap=typeof document<"u"?document:null,Lj=Ap&&Ap.createElement("template"),bie={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const a=e?Ap.createElementNS(vie,t):Ap.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>Ap.createTextNode(t),createComment:t=>Ap.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ap.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,a,s){const o=r?r.previousSibling:e.lastChild;if(a&&(a===s||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===s||!(a=a.nextSibling)););else{Lj.innerHTML=n?`<svg>${t}</svg>`:t;const u=Lj.content;if(n){const l=u.firstChild;for(;l.firstChild;)u.appendChild(l.firstChild);u.removeChild(l)}e.insertBefore(u,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function _ie(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function wie(t,e,r){const n=t.style,a=_i(r);if(r&&!a){if(e&&!_i(e))for(const s in e)r[s]==null&&GN(n,s,"");for(const s in r)GN(n,s,r[s])}else{const s=n.display;a?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=s)}}const jj=/\s*!important$/;function GN(t,e,r){if(er(r))r.forEach(n=>GN(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Sie(t,e);jj.test(r)?t.setProperty(dm(n),r.replace(jj,""),"important"):t[n]=r}}const Mj=["Webkit","Moz","ms"],pC={};function Sie(t,e){const r=pC[e];if(r)return r;let n=Tu(e);if(n!=="filter"&&n in t)return pC[e]=n;n=cf(n);for(let a=0;a<Mj.length;a++){const s=Mj[a]+n;if(s in t)return pC[e]=s}return e}const Bj="http://www.w3.org/1999/xlink";function Tie(t,e,r,n,a){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(Bj,e.slice(6,e.length)):t.setAttributeNS(Bj,e,r);else{const s=Dre(e);r==null||s&&!nV(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function Eie(t,e,r,n,a,s,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,a,s),t[e]=r??"";return}const u=t.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){t._value=r;const c=u==="OPTION"?t.getAttribute("value"):t.value,d=r??"";c!==d&&(t.value=d),r==null&&t.removeAttribute(e);return}let l=!1;if(r===""||r==null){const c=typeof t[e];c==="boolean"?r=nV(r):r==null&&c==="string"?(r="",l=!0):c==="number"&&(r=0,l=!0)}try{t[e]=r}catch{}l&&t.removeAttribute(e)}function Lg(t,e,r,n){t.addEventListener(e,r,n)}function Aie(t,e,r,n){t.removeEventListener(e,r,n)}function xie(t,e,r,n,a=null){const s=t._vei||(t._vei={}),o=s[e];if(n&&o)o.value=n;else{const[u,l]=Oie(e);if(n){const c=s[e]=Pie(n,a);Lg(t,u,c,l)}else o&&(Aie(t,u,o,l),s[e]=void 0)}}const kj=/(?:Once|Passive|Capture)$/;function Oie(t){let e;if(kj.test(t)){e={};let n;for(;n=t.match(kj);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):dm(t.slice(2)),e]}let gC=0;const Rie=Promise.resolve(),Iie=()=>gC||(Rie.then(()=>gC=0),gC=Date.now());function Pie(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;bu(Cie(n,r.value),e,5,[n])};return r.value=t,r.attached=Iie(),r}function Cie(t,e){if(er(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const $j=/^on[a-z]/,Die=(t,e,r,n,a=!1,s,o,u,l)=>{e==="class"?_ie(t,n,a):e==="style"?wie(t,r,n):FE(e)?X6(e)||xie(t,e,r,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Nie(t,e,n,a))?Eie(t,e,n,s,o,u,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Tie(t,e,n,a))};function Nie(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&$j.test(e)&&Ar(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||$j.test(e)&&_i(r)?!1:e in t}const If="transition",uv="animation",Gc=(t,{slots:e})=>jh(Rne,tH(t),e);Gc.displayName="Transition";const eH={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Fie=Gc.props=Ci({},DV,eH),ip=(t,e=[])=>{er(t)?t.forEach(r=>r(...e)):t&&t(...e)},Uj=t=>t?er(t)?t.some(e=>e.length>1):t.length>1:!1;function tH(t){const e={};for(const Y in t)Y in eH||(e[Y]=t[Y]);if(t.css===!1)return e;const{name:r="v",type:n,duration:a,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:u=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:d=u,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=t,g=Lie(a),y=g&&g[0],S=g&&g[1],{onBeforeEnter:v,onEnter:A,onEnterCancelled:E,onLeave:T,onLeaveCancelled:R,onBeforeAppear:I=v,onAppear:D=A,onAppearCancelled:M=E}=e,N=(Y,ne,q)=>{Ff(Y,ne?d:u),Ff(Y,ne?c:o),q&&q()},O=(Y,ne)=>{Y._isLeaving=!1,Ff(Y,f),Ff(Y,p),Ff(Y,h),ne&&ne()},k=Y=>(ne,q)=>{const H=Y?D:A,J=()=>N(ne,Y,q);ip(H,[ne,J]),Vj(()=>{Ff(ne,Y?l:s),md(ne,Y?d:u),Uj(H)||Hj(ne,n,y,J)})};return Ci(e,{onBeforeEnter(Y){ip(v,[Y]),md(Y,s),md(Y,o)},onBeforeAppear(Y){ip(I,[Y]),md(Y,l),md(Y,c)},onEnter:k(!1),onAppear:k(!0),onLeave(Y,ne){Y._isLeaving=!0;const q=()=>O(Y,ne);md(Y,f),nH(),md(Y,h),Vj(()=>{Y._isLeaving&&(Ff(Y,f),md(Y,p),Uj(T)||Hj(Y,n,S,q))}),ip(T,[Y,q])},onEnterCancelled(Y){N(Y,!1),ip(E,[Y])},onAppearCancelled(Y){N(Y,!0),ip(M,[Y])},onLeaveCancelled(Y){O(Y),ip(R,[Y])}})}function Lie(t){if(t==null)return null;if(Rn(t))return[yC(t.enter),yC(t.leave)];{const e=yC(t);return[e,e]}}function yC(t){return xre(t)}function md(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function Ff(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function Vj(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let jie=0;function Hj(t,e,r,n){const a=t._endId=++jie,s=()=>{a===t._endId&&n()};if(r)return setTimeout(s,r);const{type:o,timeout:u,propCount:l}=rH(t,e);if(!o)return n();const c=o+"end";let d=0;const f=()=>{t.removeEventListener(c,h),s()},h=p=>{p.target===t&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},u+1),t.addEventListener(c,h)}function rH(t,e){const r=window.getComputedStyle(t),n=g=>(r[g]||"").split(", "),a=n(`${If}Delay`),s=n(`${If}Duration`),o=qj(a,s),u=n(`${uv}Delay`),l=n(`${uv}Duration`),c=qj(u,l);let d=null,f=0,h=0;e===If?o>0&&(d=If,f=o,h=s.length):e===uv?c>0&&(d=uv,f=c,h=l.length):(f=Math.max(o,c),d=f>0?o>c?If:uv:null,h=d?d===If?s.length:l.length:0);const p=d===If&&/\b(transform|all)(,|$)/.test(n(`${If}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:p}}function qj(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>zj(r)+zj(t[n])))}function zj(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function nH(){return document.body.offsetHeight}const iH=new WeakMap,aH=new WeakMap,sH={name:"TransitionGroup",props:Ci({},Fie,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=KE(),n=CV();let a,s;return BV(()=>{if(!a.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Vie(a[0].el,r.vnode.el,o))return;a.forEach(kie),a.forEach($ie);const u=a.filter(Uie);nH(),u.forEach(l=>{const c=l.el,d=c.style;md(c,o),d.transform=d.webkitTransform=d.transitionDuration="";const f=c._moveCb=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",f),c._moveCb=null,Ff(c,o))};c.addEventListener("transitionend",f)})}),()=>{const o=jr(t),u=tH(o);let l=o.tag||Qt;a=s,s=e.default?dF(e.default()):[];for(let c=0;c<s.length;c++){const d=s[c];d.key!=null&&n_(d,r_(d,u,n,r))}if(a)for(let c=0;c<a.length;c++){const d=a[c];n_(d,r_(d,u,n,r)),iH.set(d,d.el.getBoundingClientRect())}return K(l,null,s)}}},Mie=t=>delete t.mode;sH.props;const Bie=sH;function kie(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function $ie(t){aH.set(t,t.el.getBoundingClientRect())}function Uie(t){const e=iH.get(t),r=aH.get(t),n=e.left-r.left,a=e.top-r.top;if(n||a){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${a}px)`,s.transitionDuration="0s",t}}function Vie(t,e,r){const n=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(u=>u&&n.classList.remove(u))}),r.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(n);const{hasTransform:s}=rH(n);return a.removeChild(n),s}const Gj=t=>{const e=t.props["onUpdate:modelValue"]||!1;return er(e)?r=>M2(e,r):e};function Hie(t){t.target.composing=!0}function Qj(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const qie={created(t,{modifiers:{lazy:e,trim:r,number:n}},a){t._assign=Gj(a);const s=n||a.props&&a.props.type==="number";Lg(t,e?"change":"input",o=>{if(o.target.composing)return;let u=t.value;r&&(u=u.trim()),s&&(u=FN(u)),t._assign(u)}),r&&Lg(t,"change",()=>{t.value=t.value.trim()}),e||(Lg(t,"compositionstart",Hie),Lg(t,"compositionend",Qj),Lg(t,"change",Qj))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:a}},s){if(t._assign=Gj(s),t.composing||document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===e||(a||t.type==="number")&&FN(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},zie=["ctrl","shift","alt","meta"],Gie={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>zie.some(r=>t[`${r}Key`]&&!e.includes(r))},QN=(t,e)=>(r,...n)=>{for(let a=0;a<e.length;a++){const s=Gie[e[a]];if(s&&s(r,e))return}return t(r,...n)},Ou={beforeMount(t,{value:e},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):lv(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),lv(t,!0),n.enter(t)):n.leave(t,()=>{lv(t,!1)}):lv(t,e))},beforeUnmount(t,{value:e}){lv(t,e)}};function lv(t,e){t.style.display=e?t._vod:"none"}const Qie=Ci({patchProp:Die},bie);let Wj;function Wie(){return Wj||(Wj=Xne(Qie))}const Kie=(...t)=>{const e=Wie().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=Xie(n);if(!a)return;const s=e._component;!Ar(s)&&!s.render&&!s.template&&(s.template=a.innerHTML),a.innerHTML="";const o=r(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},e};function Xie(t){return _i(t)?document.querySelector(t):t}var Jie=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let oH;const JE=t=>oH=t,uH=Symbol();function WN(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Lb;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Lb||(Lb={}));function Yie(){const t=fm(!0),e=t.run(()=>Je({}));let r=[],n=[];const a=kE({install(s){JE(a),a._a=s,s.provide(uH,a),s.config.globalProperties.$pinia=a,n.forEach(o=>r.push(o)),n=[]},use(s){return!this._a&&!Jie?n.push(s):r.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return a}const lH=()=>{};function Kj(t,e,r,n=lH){t.push(e);const a=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&sV()&&Ll(a),a}function pg(t,...e){t.slice().forEach(r=>{r(...e)})}const Zie=t=>t();function KN(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],a=t[r];WN(a)&&WN(n)&&t.hasOwnProperty(r)&&!ln(n)&&!Qd(n)?t[r]=KN(a,n):t[r]=n}return t}const eae=Symbol();function tae(t){return!WN(t)||!t.hasOwnProperty(eae)}const{assign:Lf}=Object;function rae(t){return!!(ln(t)&&t.effect)}function nae(t,e,r,n){const{state:a,actions:s,getters:o}=e,u=r.state.value[t];let l;function c(){u||(r.state.value[t]=a?a():{});const d=$E(r.state.value[t]);return Lf(d,s,Object.keys(o||{}).reduce((f,h)=>(f[h]=kE(_e(()=>{JE(r);const p=r._s.get(t);return o[h].call(p,p)})),f),{}))}return l=cH(t,c,e,r,n,!0),l}function cH(t,e,r={},n,a,s){let o;const u=Lf({actions:{}},r),l={deep:!0};let c,d,f=[],h=[],p;const g=n.state.value[t];!s&&!g&&(n.state.value[t]={}),Je({});let y;function S(M){let N;c=d=!1,typeof M=="function"?(M(n.state.value[t]),N={type:Lb.patchFunction,storeId:t,events:p}):(KN(n.state.value[t],M),N={type:Lb.patchObject,payload:M,storeId:t,events:p});const O=y=Symbol();ni().then(()=>{y===O&&(c=!0)}),d=!0,pg(f,N,n.state.value[t])}const v=s?function(){const{state:N}=r,O=N?N():{};this.$patch(k=>{Lf(k,O)})}:lH;function A(){o.stop(),f=[],h=[],n._s.delete(t)}function E(M,N){return function(){JE(n);const O=Array.from(arguments),k=[],Y=[];function ne(J){k.push(J)}function q(J){Y.push(J)}pg(h,{args:O,name:M,store:R,after:ne,onError:q});let H;try{H=N.apply(this&&this.$id===t?this:R,O)}catch(J){throw pg(Y,J),J}return H instanceof Promise?H.then(J=>(pg(k,J),J)).catch(J=>(pg(Y,J),Promise.reject(J))):(pg(k,H),H)}}const T={_p:n,$id:t,$onAction:Kj.bind(null,h),$patch:S,$reset:v,$subscribe(M,N={}){const O=Kj(f,M,N.detached,()=>k()),k=o.run(()=>Mt(()=>n.state.value[t],Y=>{(N.flush==="sync"?d:c)&&M({storeId:t,type:Lb.direct,events:p},Y)},Lf({},l,N)));return O},$dispose:A},R=bi(T);n._s.set(t,R);const I=n._a&&n._a.runWithContext||Zie,D=n._e.run(()=>(o=fm(),I(()=>o.run(e))));for(const M in D){const N=D[M];if(ln(N)&&!rae(N)||Qd(N))s||(g&&tae(N)&&(ln(N)?N.value=g[M]:KN(N,g[M])),n.state.value[t][M]=N);else if(typeof N=="function"){const O=E(M,N);D[M]=O,u.actions[M]=N}}return Lf(R,D),Lf(jr(R),D),Object.defineProperty(R,"$state",{get:()=>n.state.value[t],set:M=>{S(N=>{Lf(N,M)})}}),n._p.forEach(M=>{Lf(R,o.run(()=>M({store:R,app:n._a,pinia:n,options:u})))}),g&&s&&r.hydrate&&r.hydrate(R.$state,g),c=!0,d=!0,R}function bF(t,e,r){let n,a;const s=typeof e=="function";typeof t=="string"?(n=t,a=s?r:e):(a=t,n=t.id);function o(u,l){const c=qne();return u=u||(c?Xr(uH,null):null),u&&JE(u),u=oH,u._s.has(n)||(s?cH(n,e,a,u):nae(n,a,u)),u._s.get(n)}return o.$id=n,o}function dH(t){{t=jr(t);const e={};for(const r in t){const n=t[r];(ln(n)||Qd(n))&&(e[r]=ct(t,r))}return e}}const fH=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r},iae={},aae={class:"sec"};function sae(t,e){const r=Nt("v-sheet"),n=Nt("v-container");return Kt(),Hr(n,null,{default:vt(()=>[K(r,{elevation:"12"},{default:vt(()=>[Ol("div",aae,[GE(t.$slots,"default",{},()=>[di(" I'm empty ")])])]),_:3})]),_:3})}const o_=fH(iae,[["render",sae]]);var hH=(t=>(t.Read="read",t.Write="write",t.Append="append",t.ControlRead="controlread",t.ControlWrite="controlwrite",t))(hH||{});const oae=xa({__name:"Badge",props:{type:{},mode:{type:Boolean}},setup(t){const e=t,r={read:"R",write:"W",append:"A",controlread:"CR",controlwrite:"CW"};new Map(Object.values(hH).map(o=>[o,o]));const n=_e(()=>e.mode?"primary":"grey"),a=_e(()=>e.mode?"mdi-checkbox-marked-circle":"mdi-cancel"),s=_e(()=>r[e.type.toLowerCase()]);return(o,u)=>{const l=Nt("v-icon"),c=Nt("v-chip"),d=Nt("v-tooltip");return Kt(),Hr(d,{text:e.type,location:"top center",origin:"auto"},{activator:vt(({props:f})=>[K(c,Dt(f,{color:n.value}),{default:vt(()=>[di(hs(s.value),1),K(l,{end:"",icon:a.value},null,8,["icon"])]),_:2},1040,["color"])]),_:1},8,["text"])}}}),_F=xa({__name:"Card",props:{modelValue:{},editable:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,n=_e(()=>r.editable||!1);function a(s,o){n.value&&(r.modelValue[s]=o,e("update:modelValue",r.modelValue))}return(s,o)=>{const u=Nt("v-col"),l=Nt("v-row");return s.modelValue!=null?(Kt(),Hr(l,{key:0,"no-gutters":""},{default:vt(()=>[(Kt(!0),ki(Qt,null,vh(Object.entries(s.modelValue),([c,d])=>(Kt(),Hr(u,null,{default:vt(()=>[K(oae,{type:c,mode:d,onClick:()=>a(c,!d)},null,8,["type","mode","onClick"])]),_:2},1024))),256))]),_:1})):bh("",!0)}}});var F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var a=[null];a.push.apply(a,arguments);var s=Function.bind.apply(e,a);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var pH={},cv={},ru={},YE={};YE.byteLength=cae;YE.toByteArray=fae;YE.fromByteArray=gae;var Pc=[],pu=[],uae=typeof Uint8Array<"u"?Uint8Array:Array,mC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var gg=0,lae=mC.length;gg<lae;++gg)Pc[gg]=mC[gg],pu[mC.charCodeAt(gg)]=gg;pu["-".charCodeAt(0)]=62;pu["_".charCodeAt(0)]=63;function gH(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function cae(t){var e=gH(t),r=e[0],n=e[1];return(r+n)*3/4-n}function dae(t,e,r){return(e+r)*3/4-r}function fae(t){var e,r=gH(t),n=r[0],a=r[1],s=new uae(dae(t,n,a)),o=0,u=a>0?n-4:n,l;for(l=0;l<u;l+=4)e=pu[t.charCodeAt(l)]<<18|pu[t.charCodeAt(l+1)]<<12|pu[t.charCodeAt(l+2)]<<6|pu[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return a===2&&(e=pu[t.charCodeAt(l)]<<2|pu[t.charCodeAt(l+1)]>>4,s[o++]=e&255),a===1&&(e=pu[t.charCodeAt(l)]<<10|pu[t.charCodeAt(l+1)]<<4|pu[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function hae(t){return Pc[t>>18&63]+Pc[t>>12&63]+Pc[t>>6&63]+Pc[t&63]}function pae(t,e,r){for(var n,a=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),a.push(hae(n));return a.join("")}function gae(t){for(var e,r=t.length,n=r%3,a=[],s=16383,o=0,u=r-n;o<u;o+=s)a.push(pae(t,o,o+s>u?u:o+s));return n===1?(e=t[r-1],a.push(Pc[e>>2]+Pc[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],a.push(Pc[e>>10]+Pc[e>>4&63]+Pc[e<<2&63]+"=")),a.join("")}var wF={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */wF.read=function(t,e,r,n,a){var s,o,u=a*8-n-1,l=(1<<u)-1,c=l>>1,d=-7,f=r?a-1:0,h=r?-1:1,p=t[e+f];for(f+=h,s=p&(1<<-d)-1,p>>=-d,d+=u;d>0;s=s*256+t[e+f],f+=h,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+t[e+f],f+=h,d-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(p?-1:1)*o*Math.pow(2,s-n)};wF.write=function(t,e,r,n,a,s){var o,u,l,c=s*8-a-1,d=(1<<c)-1,f=d>>1,h=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,g=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=h/l:e+=h*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=d?(u=0,o=d):o+f>=1?(u=(e*l-1)*Math.pow(2,a),o=o+f):(u=e*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;t[r+p]=u&255,p+=g,u/=256,a-=8);for(o=o<<a|u,c+=a;c>0;t[r+p]=o&255,p+=g,o/=256,c-=8);t[r+p-g]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=YE,r=wF,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const X=new Uint8Array(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,Uint8Array.prototype),Object.setPrototypeOf(X,$),X.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function o(X){if(X>a)throw new RangeError('The value "'+X+'" is invalid for option "size"');const $=new Uint8Array(X);return Object.setPrototypeOf($,u.prototype),$}function u(X,$,U){if(typeof X=="number"){if(typeof $=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(X)}return l(X,$,U)}u.poolSize=8192;function l(X,$,U){if(typeof X=="string")return h(X,$);if(ArrayBuffer.isView(X))return g(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(je(X,ArrayBuffer)||X&&je(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(je(X,SharedArrayBuffer)||X&&je(X.buffer,SharedArrayBuffer)))return y(X,$,U);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=X.valueOf&&X.valueOf();if(V!=null&&V!==X)return u.from(V,$,U);const Ie=S(X);if(Ie)return Ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return u.from(X[Symbol.toPrimitive]("string"),$,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}u.from=function(X,$,U){return l(X,$,U)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function c(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function d(X,$,U){return c(X),X<=0?o(X):$!==void 0?typeof U=="string"?o(X).fill($,U):o(X).fill($):o(X)}u.alloc=function(X,$,U){return d(X,$,U)};function f(X){return c(X),o(X<0?0:v(X)|0)}u.allocUnsafe=function(X){return f(X)},u.allocUnsafeSlow=function(X){return f(X)};function h(X,$){if((typeof $!="string"||$==="")&&($="utf8"),!u.isEncoding($))throw new TypeError("Unknown encoding: "+$);const U=E(X,$)|0;let V=o(U);const Ie=V.write(X,$);return Ie!==U&&(V=V.slice(0,Ie)),V}function p(X){const $=X.length<0?0:v(X.length)|0,U=o($);for(let V=0;V<$;V+=1)U[V]=X[V]&255;return U}function g(X){if(je(X,Uint8Array)){const $=new Uint8Array(X);return y($.buffer,$.byteOffset,$.byteLength)}return p(X)}function y(X,$,U){if($<0||X.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<$+(U||0))throw new RangeError('"length" is outside of buffer bounds');let V;return $===void 0&&U===void 0?V=new Uint8Array(X):U===void 0?V=new Uint8Array(X,$):V=new Uint8Array(X,$,U),Object.setPrototypeOf(V,u.prototype),V}function S(X){if(u.isBuffer(X)){const $=v(X.length)|0,U=o($);return U.length===0||X.copy(U,0,0,$),U}if(X.length!==void 0)return typeof X.length!="number"||$e(X.length)?o(0):p(X);if(X.type==="Buffer"&&Array.isArray(X.data))return p(X.data)}function v(X){if(X>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return X|0}function A(X){return+X!=X&&(X=0),u.alloc(+X)}u.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==u.prototype},u.compare=function($,U){if(je($,Uint8Array)&&($=u.from($,$.offset,$.byteLength)),je(U,Uint8Array)&&(U=u.from(U,U.offset,U.byteLength)),!u.isBuffer($)||!u.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===U)return 0;let V=$.length,Ie=U.length;for(let ke=0,Pe=Math.min(V,Ie);ke<Pe;++ke)if($[ke]!==U[ke]){V=$[ke],Ie=U[ke];break}return V<Ie?-1:Ie<V?1:0},u.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function($,U){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return u.alloc(0);let V;if(U===void 0)for(U=0,V=0;V<$.length;++V)U+=$[V].length;const Ie=u.allocUnsafe(U);let ke=0;for(V=0;V<$.length;++V){let Pe=$[V];if(je(Pe,Uint8Array))ke+Pe.length>Ie.length?(u.isBuffer(Pe)||(Pe=u.from(Pe)),Pe.copy(Ie,ke)):Uint8Array.prototype.set.call(Ie,Pe,ke);else if(u.isBuffer(Pe))Pe.copy(Ie,ke);else throw new TypeError('"list" argument must be an Array of Buffers');ke+=Pe.length}return Ie};function E(X,$){if(u.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||je(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);const U=X.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&U===0)return 0;let Ie=!1;for(;;)switch($){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return Q(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return fe(X).length;default:if(Ie)return V?-1:Q(X).length;$=(""+$).toLowerCase(),Ie=!0}}u.byteLength=E;function T(X,$,U){let V=!1;if(($===void 0||$<0)&&($=0),$>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,$>>>=0,U<=$))return"";for(X||(X="utf8");;)switch(X){case"hex":return Se(this,$,U);case"utf8":case"utf-8":return q(this,$,U);case"ascii":return se(this,$,U);case"latin1":case"binary":return ue(this,$,U);case"base64":return ne(this,$,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,$,U);default:if(V)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),V=!0}}u.prototype._isBuffer=!0;function R(X,$,U){const V=X[$];X[$]=X[U],X[U]=V}u.prototype.swap16=function(){const $=this.length;if($%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<$;U+=2)R(this,U,U+1);return this},u.prototype.swap32=function(){const $=this.length;if($%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<$;U+=4)R(this,U,U+3),R(this,U+1,U+2);return this},u.prototype.swap64=function(){const $=this.length;if($%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<$;U+=8)R(this,U,U+7),R(this,U+1,U+6),R(this,U+2,U+5),R(this,U+3,U+4);return this},u.prototype.toString=function(){const $=this.length;return $===0?"":arguments.length===0?q(this,0,$):T.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function($){if(!u.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$?!0:u.compare(this,$)===0},u.prototype.inspect=function(){let $="";const U=t.INSPECT_MAX_BYTES;return $=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&($+=" ... "),"<Buffer "+$+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function($,U,V,Ie,ke){if(je($,Uint8Array)&&($=u.from($,$.offset,$.byteLength)),!u.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(U===void 0&&(U=0),V===void 0&&(V=$?$.length:0),Ie===void 0&&(Ie=0),ke===void 0&&(ke=this.length),U<0||V>$.length||Ie<0||ke>this.length)throw new RangeError("out of range index");if(Ie>=ke&&U>=V)return 0;if(Ie>=ke)return-1;if(U>=V)return 1;if(U>>>=0,V>>>=0,Ie>>>=0,ke>>>=0,this===$)return 0;let Pe=ke-Ie,ht=V-U;const _t=Math.min(Pe,ht),Rt=this.slice(Ie,ke),Et=$.slice(U,V);for(let Jt=0;Jt<_t;++Jt)if(Rt[Jt]!==Et[Jt]){Pe=Rt[Jt],ht=Et[Jt];break}return Pe<ht?-1:ht<Pe?1:0};function I(X,$,U,V,Ie){if(X.length===0)return-1;if(typeof U=="string"?(V=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,$e(U)&&(U=Ie?0:X.length-1),U<0&&(U=X.length+U),U>=X.length){if(Ie)return-1;U=X.length-1}else if(U<0)if(Ie)U=0;else return-1;if(typeof $=="string"&&($=u.from($,V)),u.isBuffer($))return $.length===0?-1:D(X,$,U,V,Ie);if(typeof $=="number")return $=$&255,typeof Uint8Array.prototype.indexOf=="function"?Ie?Uint8Array.prototype.indexOf.call(X,$,U):Uint8Array.prototype.lastIndexOf.call(X,$,U):D(X,[$],U,V,Ie);throw new TypeError("val must be string, number or Buffer")}function D(X,$,U,V,Ie){let ke=1,Pe=X.length,ht=$.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(X.length<2||$.length<2)return-1;ke=2,Pe/=2,ht/=2,U/=2}function _t(Et,Jt){return ke===1?Et[Jt]:Et.readUInt16BE(Jt*ke)}let Rt;if(Ie){let Et=-1;for(Rt=U;Rt<Pe;Rt++)if(_t(X,Rt)===_t($,Et===-1?0:Rt-Et)){if(Et===-1&&(Et=Rt),Rt-Et+1===ht)return Et*ke}else Et!==-1&&(Rt-=Rt-Et),Et=-1}else for(U+ht>Pe&&(U=Pe-ht),Rt=U;Rt>=0;Rt--){let Et=!0;for(let Jt=0;Jt<ht;Jt++)if(_t(X,Rt+Jt)!==_t($,Jt)){Et=!1;break}if(Et)return Rt}return-1}u.prototype.includes=function($,U,V){return this.indexOf($,U,V)!==-1},u.prototype.indexOf=function($,U,V){return I(this,$,U,V,!0)},u.prototype.lastIndexOf=function($,U,V){return I(this,$,U,V,!1)};function M(X,$,U,V){U=Number(U)||0;const Ie=X.length-U;V?(V=Number(V),V>Ie&&(V=Ie)):V=Ie;const ke=$.length;V>ke/2&&(V=ke/2);let Pe;for(Pe=0;Pe<V;++Pe){const ht=parseInt($.substr(Pe*2,2),16);if($e(ht))return Pe;X[U+Pe]=ht}return Pe}function N(X,$,U,V){return be(Q($,X.length-U),X,U,V)}function O(X,$,U,V){return be(ae($),X,U,V)}function k(X,$,U,V){return be(fe($),X,U,V)}function Y(X,$,U,V){return be(ce($,X.length-U),X,U,V)}u.prototype.write=function($,U,V,Ie){if(U===void 0)Ie="utf8",V=this.length,U=0;else if(V===void 0&&typeof U=="string")Ie=U,V=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(V)?(V=V>>>0,Ie===void 0&&(Ie="utf8")):(Ie=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ke=this.length-U;if((V===void 0||V>ke)&&(V=ke),$.length>0&&(V<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");let Pe=!1;for(;;)switch(Ie){case"hex":return M(this,$,U,V);case"utf8":case"utf-8":return N(this,$,U,V);case"ascii":case"latin1":case"binary":return O(this,$,U,V);case"base64":return k(this,$,U,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,$,U,V);default:if(Pe)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),Pe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(X,$,U){return $===0&&U===X.length?e.fromByteArray(X):e.fromByteArray(X.slice($,U))}function q(X,$,U){U=Math.min(X.length,U);const V=[];let Ie=$;for(;Ie<U;){const ke=X[Ie];let Pe=null,ht=ke>239?4:ke>223?3:ke>191?2:1;if(Ie+ht<=U){let _t,Rt,Et,Jt;switch(ht){case 1:ke<128&&(Pe=ke);break;case 2:_t=X[Ie+1],(_t&192)===128&&(Jt=(ke&31)<<6|_t&63,Jt>127&&(Pe=Jt));break;case 3:_t=X[Ie+1],Rt=X[Ie+2],(_t&192)===128&&(Rt&192)===128&&(Jt=(ke&15)<<12|(_t&63)<<6|Rt&63,Jt>2047&&(Jt<55296||Jt>57343)&&(Pe=Jt));break;case 4:_t=X[Ie+1],Rt=X[Ie+2],Et=X[Ie+3],(_t&192)===128&&(Rt&192)===128&&(Et&192)===128&&(Jt=(ke&15)<<18|(_t&63)<<12|(Rt&63)<<6|Et&63,Jt>65535&&Jt<1114112&&(Pe=Jt))}}Pe===null?(Pe=65533,ht=1):Pe>65535&&(Pe-=65536,V.push(Pe>>>10&1023|55296),Pe=56320|Pe&1023),V.push(Pe),Ie+=ht}return J(V)}const H=4096;function J(X){const $=X.length;if($<=H)return String.fromCharCode.apply(String,X);let U="",V=0;for(;V<$;)U+=String.fromCharCode.apply(String,X.slice(V,V+=H));return U}function se(X,$,U){let V="";U=Math.min(X.length,U);for(let Ie=$;Ie<U;++Ie)V+=String.fromCharCode(X[Ie]&127);return V}function ue(X,$,U){let V="";U=Math.min(X.length,U);for(let Ie=$;Ie<U;++Ie)V+=String.fromCharCode(X[Ie]);return V}function Se(X,$,U){const V=X.length;(!$||$<0)&&($=0),(!U||U<0||U>V)&&(U=V);let Ie="";for(let ke=$;ke<U;++ke)Ie+=Ke[X[ke]];return Ie}function ve(X,$,U){const V=X.slice($,U);let Ie="";for(let ke=0;ke<V.length-1;ke+=2)Ie+=String.fromCharCode(V[ke]+V[ke+1]*256);return Ie}u.prototype.slice=function($,U){const V=this.length;$=~~$,U=U===void 0?V:~~U,$<0?($+=V,$<0&&($=0)):$>V&&($=V),U<0?(U+=V,U<0&&(U=0)):U>V&&(U=V),U<$&&(U=$);const Ie=this.subarray($,U);return Object.setPrototypeOf(Ie,u.prototype),Ie};function Le(X,$,U){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+$>U)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function($,U,V){$=$>>>0,U=U>>>0,V||Le($,U,this.length);let Ie=this[$],ke=1,Pe=0;for(;++Pe<U&&(ke*=256);)Ie+=this[$+Pe]*ke;return Ie},u.prototype.readUintBE=u.prototype.readUIntBE=function($,U,V){$=$>>>0,U=U>>>0,V||Le($,U,this.length);let Ie=this[$+--U],ke=1;for(;U>0&&(ke*=256);)Ie+=this[$+--U]*ke;return Ie},u.prototype.readUint8=u.prototype.readUInt8=function($,U){return $=$>>>0,U||Le($,1,this.length),this[$]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function($,U){return $=$>>>0,U||Le($,2,this.length),this[$]|this[$+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function($,U){return $=$>>>0,U||Le($,2,this.length),this[$]<<8|this[$+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function($,U){return $=$>>>0,U||Le($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+this[$+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function($,U){return $=$>>>0,U||Le($,4,this.length),this[$]*16777216+(this[$+1]<<16|this[$+2]<<8|this[$+3])},u.prototype.readBigUInt64LE=re(function($){$=$>>>0,m($,"offset");const U=this[$],V=this[$+7];(U===void 0||V===void 0)&&C($,this.length-8);const Ie=U+this[++$]*2**8+this[++$]*2**16+this[++$]*2**24,ke=this[++$]+this[++$]*2**8+this[++$]*2**16+V*2**24;return BigInt(Ie)+(BigInt(ke)<<BigInt(32))}),u.prototype.readBigUInt64BE=re(function($){$=$>>>0,m($,"offset");const U=this[$],V=this[$+7];(U===void 0||V===void 0)&&C($,this.length-8);const Ie=U*2**24+this[++$]*2**16+this[++$]*2**8+this[++$],ke=this[++$]*2**24+this[++$]*2**16+this[++$]*2**8+V;return(BigInt(Ie)<<BigInt(32))+BigInt(ke)}),u.prototype.readIntLE=function($,U,V){$=$>>>0,U=U>>>0,V||Le($,U,this.length);let Ie=this[$],ke=1,Pe=0;for(;++Pe<U&&(ke*=256);)Ie+=this[$+Pe]*ke;return ke*=128,Ie>=ke&&(Ie-=Math.pow(2,8*U)),Ie},u.prototype.readIntBE=function($,U,V){$=$>>>0,U=U>>>0,V||Le($,U,this.length);let Ie=U,ke=1,Pe=this[$+--Ie];for(;Ie>0&&(ke*=256);)Pe+=this[$+--Ie]*ke;return ke*=128,Pe>=ke&&(Pe-=Math.pow(2,8*U)),Pe},u.prototype.readInt8=function($,U){return $=$>>>0,U||Le($,1,this.length),this[$]&128?(255-this[$]+1)*-1:this[$]},u.prototype.readInt16LE=function($,U){$=$>>>0,U||Le($,2,this.length);const V=this[$]|this[$+1]<<8;return V&32768?V|4294901760:V},u.prototype.readInt16BE=function($,U){$=$>>>0,U||Le($,2,this.length);const V=this[$+1]|this[$]<<8;return V&32768?V|4294901760:V},u.prototype.readInt32LE=function($,U){return $=$>>>0,U||Le($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},u.prototype.readInt32BE=function($,U){return $=$>>>0,U||Le($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},u.prototype.readBigInt64LE=re(function($){$=$>>>0,m($,"offset");const U=this[$],V=this[$+7];(U===void 0||V===void 0)&&C($,this.length-8);const Ie=this[$+4]+this[$+5]*2**8+this[$+6]*2**16+(V<<24);return(BigInt(Ie)<<BigInt(32))+BigInt(U+this[++$]*2**8+this[++$]*2**16+this[++$]*2**24)}),u.prototype.readBigInt64BE=re(function($){$=$>>>0,m($,"offset");const U=this[$],V=this[$+7];(U===void 0||V===void 0)&&C($,this.length-8);const Ie=(U<<24)+this[++$]*2**16+this[++$]*2**8+this[++$];return(BigInt(Ie)<<BigInt(32))+BigInt(this[++$]*2**24+this[++$]*2**16+this[++$]*2**8+V)}),u.prototype.readFloatLE=function($,U){return $=$>>>0,U||Le($,4,this.length),r.read(this,$,!0,23,4)},u.prototype.readFloatBE=function($,U){return $=$>>>0,U||Le($,4,this.length),r.read(this,$,!1,23,4)},u.prototype.readDoubleLE=function($,U){return $=$>>>0,U||Le($,8,this.length),r.read(this,$,!0,52,8)},u.prototype.readDoubleBE=function($,U){return $=$>>>0,U||Le($,8,this.length),r.read(this,$,!1,52,8)};function Xe(X,$,U,V,Ie,ke){if(!u.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if($>Ie||$<ke)throw new RangeError('"value" argument is out of bounds');if(U+V>X.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function($,U,V,Ie){if($=+$,U=U>>>0,V=V>>>0,!Ie){const ht=Math.pow(2,8*V)-1;Xe(this,$,U,V,ht,0)}let ke=1,Pe=0;for(this[U]=$&255;++Pe<V&&(ke*=256);)this[U+Pe]=$/ke&255;return U+V},u.prototype.writeUintBE=u.prototype.writeUIntBE=function($,U,V,Ie){if($=+$,U=U>>>0,V=V>>>0,!Ie){const ht=Math.pow(2,8*V)-1;Xe(this,$,U,V,ht,0)}let ke=V-1,Pe=1;for(this[U+ke]=$&255;--ke>=0&&(Pe*=256);)this[U+ke]=$/Pe&255;return U+V},u.prototype.writeUint8=u.prototype.writeUInt8=function($,U,V){return $=+$,U=U>>>0,V||Xe(this,$,U,1,255,0),this[U]=$&255,U+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function($,U,V){return $=+$,U=U>>>0,V||Xe(this,$,U,2,65535,0),this[U]=$&255,this[U+1]=$>>>8,U+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function($,U,V){return $=+$,U=U>>>0,V||Xe(this,$,U,2,65535,0),this[U]=$>>>8,this[U+1]=$&255,U+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function($,U,V){return $=+$,U=U>>>0,V||Xe(this,$,U,4,4294967295,0),this[U+3]=$>>>24,this[U+2]=$>>>16,this[U+1]=$>>>8,this[U]=$&255,U+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function($,U,V){return $=+$,U=U>>>0,V||Xe(this,$,U,4,4294967295,0),this[U]=$>>>24,this[U+1]=$>>>16,this[U+2]=$>>>8,this[U+3]=$&255,U+4};function Ne(X,$,U,V,Ie){b($,V,Ie,X,U,7);let ke=Number($&BigInt(4294967295));X[U++]=ke,ke=ke>>8,X[U++]=ke,ke=ke>>8,X[U++]=ke,ke=ke>>8,X[U++]=ke;let Pe=Number($>>BigInt(32)&BigInt(4294967295));return X[U++]=Pe,Pe=Pe>>8,X[U++]=Pe,Pe=Pe>>8,X[U++]=Pe,Pe=Pe>>8,X[U++]=Pe,U}function ye(X,$,U,V,Ie){b($,V,Ie,X,U,7);let ke=Number($&BigInt(4294967295));X[U+7]=ke,ke=ke>>8,X[U+6]=ke,ke=ke>>8,X[U+5]=ke,ke=ke>>8,X[U+4]=ke;let Pe=Number($>>BigInt(32)&BigInt(4294967295));return X[U+3]=Pe,Pe=Pe>>8,X[U+2]=Pe,Pe=Pe>>8,X[U+1]=Pe,Pe=Pe>>8,X[U]=Pe,U+8}u.prototype.writeBigUInt64LE=re(function($,U=0){return Ne(this,$,U,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=re(function($,U=0){return ye(this,$,U,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function($,U,V,Ie){if($=+$,U=U>>>0,!Ie){const _t=Math.pow(2,8*V-1);Xe(this,$,U,V,_t-1,-_t)}let ke=0,Pe=1,ht=0;for(this[U]=$&255;++ke<V&&(Pe*=256);)$<0&&ht===0&&this[U+ke-1]!==0&&(ht=1),this[U+ke]=($/Pe>>0)-ht&255;return U+V},u.prototype.writeIntBE=function($,U,V,Ie){if($=+$,U=U>>>0,!Ie){const _t=Math.pow(2,8*V-1);Xe(this,$,U,V,_t-1,-_t)}let ke=V-1,Pe=1,ht=0;for(this[U+ke]=$&255;--ke>=0&&(Pe*=256);)$<0&&ht===0&&this[U+ke+1]!==0&&(ht=1),this[U+ke]=($/Pe>>0)-ht&255;return U+V},u.prototype.writeInt8=function($,U,V){return $=+$,U=U>>>0,V||Xe(this,$,U,1,127,-128),$<0&&($=255+$+1),this[U]=$&255,U+1},u.prototype.writeInt16LE=function($,U,V){return $=+$,U=U>>>0,V||Xe(this,$,U,2,32767,-32768),this[U]=$&255,this[U+1]=$>>>8,U+2},u.prototype.writeInt16BE=function($,U,V){return $=+$,U=U>>>0,V||Xe(this,$,U,2,32767,-32768),this[U]=$>>>8,this[U+1]=$&255,U+2},u.prototype.writeInt32LE=function($,U,V){return $=+$,U=U>>>0,V||Xe(this,$,U,4,2147483647,-2147483648),this[U]=$&255,this[U+1]=$>>>8,this[U+2]=$>>>16,this[U+3]=$>>>24,U+4},u.prototype.writeInt32BE=function($,U,V){return $=+$,U=U>>>0,V||Xe(this,$,U,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[U]=$>>>24,this[U+1]=$>>>16,this[U+2]=$>>>8,this[U+3]=$&255,U+4},u.prototype.writeBigInt64LE=re(function($,U=0){return Ne(this,$,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=re(function($,U=0){return ye(this,$,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function qe(X,$,U,V,Ie,ke){if(U+V>X.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function Te(X,$,U,V,Ie){return $=+$,U=U>>>0,Ie||qe(X,$,U,4),r.write(X,$,U,V,23,4),U+4}u.prototype.writeFloatLE=function($,U,V){return Te(this,$,U,!0,V)},u.prototype.writeFloatBE=function($,U,V){return Te(this,$,U,!1,V)};function Oe(X,$,U,V,Ie){return $=+$,U=U>>>0,Ie||qe(X,$,U,8),r.write(X,$,U,V,52,8),U+8}u.prototype.writeDoubleLE=function($,U,V){return Oe(this,$,U,!0,V)},u.prototype.writeDoubleBE=function($,U,V){return Oe(this,$,U,!1,V)},u.prototype.copy=function($,U,V,Ie){if(!u.isBuffer($))throw new TypeError("argument should be a Buffer");if(V||(V=0),!Ie&&Ie!==0&&(Ie=this.length),U>=$.length&&(U=$.length),U||(U=0),Ie>0&&Ie<V&&(Ie=V),Ie===V||$.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),$.length-U<Ie-V&&(Ie=$.length-U+V);const ke=Ie-V;return this===$&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(U,V,Ie):Uint8Array.prototype.set.call($,this.subarray(V,Ie),U),ke},u.prototype.fill=function($,U,V,Ie){if(typeof $=="string"){if(typeof U=="string"?(Ie=U,U=0,V=this.length):typeof V=="string"&&(Ie=V,V=this.length),Ie!==void 0&&typeof Ie!="string")throw new TypeError("encoding must be a string");if(typeof Ie=="string"&&!u.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if($.length===1){const Pe=$.charCodeAt(0);(Ie==="utf8"&&Pe<128||Ie==="latin1")&&($=Pe)}}else typeof $=="number"?$=$&255:typeof $=="boolean"&&($=Number($));if(U<0||this.length<U||this.length<V)throw new RangeError("Out of range index");if(V<=U)return this;U=U>>>0,V=V===void 0?this.length:V>>>0,$||($=0);let ke;if(typeof $=="number")for(ke=U;ke<V;++ke)this[ke]=$;else{const Pe=u.isBuffer($)?$:u.from($,Ie),ht=Pe.length;if(ht===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(ke=0;ke<V-U;++ke)this[ke+U]=Pe[ke%ht]}return this};const Be={};function He(X,$,U){Be[X]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:$.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${X}]`,this.stack,delete this.name}get code(){return X}set code(Ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ie,writable:!0})}toString(){return`${this.name} [${X}]: ${this.message}`}}}He("ERR_BUFFER_OUT_OF_BOUNDS",function(X){return X?`${X} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(X,$){return`The "${X}" argument must be of type number. Received type ${typeof $}`},TypeError),He("ERR_OUT_OF_RANGE",function(X,$,U){let V=`The value of "${X}" is out of range.`,Ie=U;return Number.isInteger(U)&&Math.abs(U)>2**32?Ie=ee(String(U)):typeof U=="bigint"&&(Ie=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(Ie=ee(Ie)),Ie+="n"),V+=` It must be ${$}. Received ${Ie}`,V},RangeError);function ee(X){let $="",U=X.length;const V=X[0]==="-"?1:0;for(;U>=V+4;U-=3)$=`_${X.slice(U-3,U)}${$}`;return`${X.slice(0,U)}${$}`}function j(X,$,U){m($,"offset"),(X[$]===void 0||X[$+U]===void 0)&&C($,X.length-(U+1))}function b(X,$,U,V,Ie,ke){if(X>U||X<$){const Pe=typeof $=="bigint"?"n":"";let ht;throw ke>3?$===0||$===BigInt(0)?ht=`>= 0${Pe} and < 2${Pe} ** ${(ke+1)*8}${Pe}`:ht=`>= -(2${Pe} ** ${(ke+1)*8-1}${Pe}) and < 2 ** ${(ke+1)*8-1}${Pe}`:ht=`>= ${$}${Pe} and <= ${U}${Pe}`,new Be.ERR_OUT_OF_RANGE("value",ht,X)}j(V,Ie,ke)}function m(X,$){if(typeof X!="number")throw new Be.ERR_INVALID_ARG_TYPE($,"number",X)}function C(X,$,U){throw Math.floor(X)!==X?(m(X,U),new Be.ERR_OUT_OF_RANGE(U||"offset","an integer",X)):$<0?new Be.ERR_BUFFER_OUT_OF_BOUNDS:new Be.ERR_OUT_OF_RANGE(U||"offset",`>= ${U?1:0} and <= ${$}`,X)}const B=/[^+/0-9A-Za-z-_]/g;function z(X){if(X=X.split("=")[0],X=X.trim().replace(B,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function Q(X,$){$=$||1/0;let U;const V=X.length;let Ie=null;const ke=[];for(let Pe=0;Pe<V;++Pe){if(U=X.charCodeAt(Pe),U>55295&&U<57344){if(!Ie){if(U>56319){($-=3)>-1&&ke.push(239,191,189);continue}else if(Pe+1===V){($-=3)>-1&&ke.push(239,191,189);continue}Ie=U;continue}if(U<56320){($-=3)>-1&&ke.push(239,191,189),Ie=U;continue}U=(Ie-55296<<10|U-56320)+65536}else Ie&&($-=3)>-1&&ke.push(239,191,189);if(Ie=null,U<128){if(($-=1)<0)break;ke.push(U)}else if(U<2048){if(($-=2)<0)break;ke.push(U>>6|192,U&63|128)}else if(U<65536){if(($-=3)<0)break;ke.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if(($-=4)<0)break;ke.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return ke}function ae(X){const $=[];for(let U=0;U<X.length;++U)$.push(X.charCodeAt(U)&255);return $}function ce(X,$){let U,V,Ie;const ke=[];for(let Pe=0;Pe<X.length&&!(($-=2)<0);++Pe)U=X.charCodeAt(Pe),V=U>>8,Ie=U%256,ke.push(Ie),ke.push(V);return ke}function fe(X){return e.toByteArray(z(X))}function be(X,$,U,V){let Ie;for(Ie=0;Ie<V&&!(Ie+U>=$.length||Ie>=X.length);++Ie)$[Ie+U]=X[Ie];return Ie}function je(X,$){return X instanceof $||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===$.name}function $e(X){return X!==X}const Ke=function(){const X="0123456789abcdef",$=new Array(256);for(let U=0;U<16;++U){const V=U*16;for(let Ie=0;Ie<16;++Ie)$[V+Ie]=X[U]+X[Ie]}return $}();function re(X){return typeof BigInt>"u"?le:X}function le(){throw new Error("BigInt not supported")}})(ru);var{Buffer:uh}=ru,Fr={},yH=Fr.LEFT_BRACE=1,k2=Fr.RIGHT_BRACE=2,mH=Fr.LEFT_BRACKET=3,XN=Fr.RIGHT_BRACKET=4,$2=Fr.COLON=5,IT=Fr.COMMA=6,vH=Fr.TRUE=7,bH=Fr.FALSE=8,_H=Fr.NULL=9,PT=Fr.STRING=10,wH=Fr.NUMBER=11,mp=Fr.START=17,SH=Fr.STOP=18,Xj=Fr.TRUE1=33,Jj=Fr.TRUE2=34,Yj=Fr.TRUE3=35,Zj=Fr.FALSE1=49,eM=Fr.FALSE2=50,tM=Fr.FALSE3=51,rM=Fr.FALSE4=52,nM=Fr.NULL1=65,iM=Fr.NULL2=66,aM=Fr.NULL3=67,sM=Fr.NUMBER1=81,vC=Fr.NUMBER3=83,$u=Fr.STRING1=97,oM=Fr.STRING2=98,uM=Fr.STRING3=99,yae=Fr.STRING4=100,mae=Fr.STRING5=101,lM=Fr.STRING6=102,kg=Fr.VALUE=113,bC=Fr.KEY=114,SS=Fr.OBJECT=129,TS=Fr.ARRAY=130,vae="\\".charCodeAt(0),bae="/".charCodeAt(0),_ae="\b".charCodeAt(0),wae="\f".charCodeAt(0),Sae=`
`.charCodeAt(0),Tae="\r".charCodeAt(0),Eae="	".charCodeAt(0),SF=64*1024;function ES(t){return uh.alloc?uh.alloc(t):new uh(t)}function xh(){this.tState=mp,this.value=void 0,this.string=void 0,this.stringBuffer=ES(SF),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=kg,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:ES(2),3:ES(3),4:ES(4)},this.offset=-1}xh.toknam=function(t){for(var e=Object.keys(Fr),r=0,n=e.length;r<n;r++){var a=e[r];if(Fr[a]===t)return a}return t&&"0x"+t.toString(16)};var nu=xh.prototype;nu.onError=function(t){throw t};nu.charError=function(t,e){this.tState=SH,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+xh.toknam(this.tState)))};nu.appendStringChar=function(t){this.stringBufferOffset>=SF&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t};nu.appendStringBuf=function(t,e,r){var n=t.length;typeof e=="number"&&(typeof r=="number"?r<0?n=t.length-e+r:n=r-e:n=t.length-e),n<0&&(n=0),this.stringBufferOffset+n>SF&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,r),this.stringBufferOffset+=n};nu.write=function(t){typeof t=="string"&&(t=new uh(t));for(var e,r=0,n=t.length;r<n;r++)if(this.tState===mp){if(e=t[r],this.offset++,e===123)this.onToken(yH,"{");else if(e===125)this.onToken(k2,"}");else if(e===91)this.onToken(mH,"[");else if(e===93)this.onToken(XN,"]");else if(e===58)this.onToken($2,":");else if(e===44)this.onToken(IT,",");else if(e===116)this.tState=Xj;else if(e===102)this.tState=Zj;else if(e===110)this.tState=nM;else if(e===34)this.string="",this.stringBufferOffset=0,this.tState=$u;else if(e===45)this.string="-",this.tState=sM;else if(e>=48&&e<64)this.string=String.fromCharCode(e),this.tState=vC;else if(!(e===32||e===9||e===10||e===13))return this.charError(t,r)}else if(this.tState===$u)if(e=t[r],this.bytes_remaining>0){for(var a=0;a<this.bytes_remaining;a++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+a]=t[a];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,r=r+a-1}else if(this.bytes_remaining===0&&e>=128){if(e<=193||e>244)return this.onError(new Error("Invalid UTF-8 character at position "+r+" in state "+xh.toknam(this.tState)));if(e>=194&&e<=223&&(this.bytes_in_sequence=2),e>=224&&e<=239&&(this.bytes_in_sequence=3),e>=240&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>t.length){for(var s=0;s<=t.length-1-r;s++)this.temp_buffs[this.bytes_in_sequence][s]=t[r+s];this.bytes_remaining=r+this.bytes_in_sequence-t.length,r=t.length-1}else this.appendStringBuf(t,r,r+this.bytes_in_sequence),r=r+this.bytes_in_sequence-1}else if(e===34)this.tState=mp,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(PT,this.string),this.offset+=uh.byteLength(this.string,"utf8")+1,this.string=void 0;else if(e===92)this.tState=oM;else if(e>=32)this.appendStringChar(e);else return this.charError(t,r);else if(this.tState===oM)if(e=t[r],e===34)this.appendStringChar(e),this.tState=$u;else if(e===92)this.appendStringChar(vae),this.tState=$u;else if(e===47)this.appendStringChar(bae),this.tState=$u;else if(e===98)this.appendStringChar(_ae),this.tState=$u;else if(e===102)this.appendStringChar(wae),this.tState=$u;else if(e===110)this.appendStringChar(Sae),this.tState=$u;else if(e===114)this.appendStringChar(Tae),this.tState=$u;else if(e===116)this.appendStringChar(Eae),this.tState=$u;else if(e===117)this.unicode="",this.tState=uM;else return this.charError(t,r);else if(this.tState===uM||this.tState===yae||this.tState===mae||this.tState===lM)if(e=t[r],e>=48&&e<64||e>64&&e<=70||e>96&&e<=102){if(this.unicode+=String.fromCharCode(e),this.tState++===lM){var o=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&o>=56320&&o<57343+1?(this.appendStringBuf(new uh(String.fromCharCode(this.highSurrogate,o))),this.highSurrogate=void 0):this.highSurrogate===void 0&&o>=55296&&o<56319+1?this.highSurrogate=o:(this.highSurrogate!==void 0&&(this.appendStringBuf(new uh(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new uh(String.fromCharCode(o)))),this.tState=$u}}else return this.charError(t,r);else if(this.tState===sM||this.tState===vC)switch(e=t[r],e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=vC;break;default:this.tState=mp;var u=this.numberReviver(this.string);if(u)return u;this.offset+=this.string.length-1,this.string=void 0,r--;break}else if(this.tState===Xj)if(t[r]===114)this.tState=Jj;else return this.charError(t,r);else if(this.tState===Jj)if(t[r]===117)this.tState=Yj;else return this.charError(t,r);else if(this.tState===Yj)if(t[r]===101)this.tState=mp,this.onToken(vH,!0),this.offset+=3;else return this.charError(t,r);else if(this.tState===Zj)if(t[r]===97)this.tState=eM;else return this.charError(t,r);else if(this.tState===eM)if(t[r]===108)this.tState=tM;else return this.charError(t,r);else if(this.tState===tM)if(t[r]===115)this.tState=rM;else return this.charError(t,r);else if(this.tState===rM)if(t[r]===101)this.tState=mp,this.onToken(bH,!1),this.offset+=4;else return this.charError(t,r);else if(this.tState===nM)if(t[r]===117)this.tState=iM;else return this.charError(t,r);else if(this.tState===iM)if(t[r]===108)this.tState=aM;else return this.charError(t,r);else if(this.tState===aM)if(t[r]===108)this.tState=mp,this.onToken(_H,null),this.offset+=3;else return this.charError(t,r)};nu.onToken=function(t,e){};nu.parseError=function(t,e){this.tState=SH,this.onError(new Error("Unexpected "+xh.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+xh.toknam(this.state)))};nu.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})};nu.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=kg)};nu.emit=function(t){this.mode&&(this.state=IT),this.onValue(t)};nu.onValue=function(t){};nu.onToken=function(t,e){if(this.state===kg)if(t===PT||t===wH||t===vH||t===bH||t===_H)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===yH)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=bC,this.mode=SS;else if(t===mH)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=TS,this.state=kg;else if(t===k2)if(this.mode===SS)this.pop();else return this.parseError(t,e);else if(t===XN)if(this.mode===TS)this.pop();else return this.parseError(t,e);else return this.parseError(t,e);else if(this.state===bC)if(t===PT)this.key=e,this.state=$2;else if(t===k2)this.pop();else return this.parseError(t,e);else if(this.state===$2)if(t===$2)this.state=kg;else return this.parseError(t,e);else if(this.state===IT)if(t===IT)this.mode===TS?(this.key++,this.state=kg):this.mode===SS&&(this.state=bC);else if(t===XN&&this.mode===TS||t===k2&&this.mode===SS)this.pop();else return this.parseError(t,e);else return this.parseError(t,e)};nu.numberReviver=function(t){var e=Number(t);if(isNaN(e))return this.charError(buffer,i);t.match(/[0-9]+/)==t&&e.toString()!=t?this.onToken(PT,t):this.onToken(wH,e)};xh.C=Fr;var TH=xh,la={},_C={};(function(){(function(t){(function(e){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(N){return N&&DataView.prototype.isPrototypeOf(N)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(N){return N&&a.indexOf(Object.prototype.toString.call(N))>-1};function o(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(N))throw new TypeError("Invalid character in header field name");return N.toLowerCase()}function u(N){return typeof N!="string"&&(N=String(N)),N}function l(N){var O={next:function(){var k=N.shift();return{done:k===void 0,value:k}}};return r.iterable&&(O[Symbol.iterator]=function(){return O}),O}function c(N){this.map={},N instanceof c?N.forEach(function(O,k){this.append(k,O)},this):Array.isArray(N)?N.forEach(function(O){this.append(O[0],O[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(O){this.append(O,N[O])},this)}c.prototype.append=function(N,O){N=o(N),O=u(O);var k=this.map[N];this.map[N]=k?k+", "+O:O},c.prototype.delete=function(N){delete this.map[o(N)]},c.prototype.get=function(N){return N=o(N),this.has(N)?this.map[N]:null},c.prototype.has=function(N){return this.map.hasOwnProperty(o(N))},c.prototype.set=function(N,O){this.map[o(N)]=u(O)},c.prototype.forEach=function(N,O){for(var k in this.map)this.map.hasOwnProperty(k)&&N.call(O,this.map[k],k,this)},c.prototype.keys=function(){var N=[];return this.forEach(function(O,k){N.push(k)}),l(N)},c.prototype.values=function(){var N=[];return this.forEach(function(O){N.push(O)}),l(N)},c.prototype.entries=function(){var N=[];return this.forEach(function(O,k){N.push([k,O])}),l(N)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function d(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function f(N){return new Promise(function(O,k){N.onload=function(){O(N.result)},N.onerror=function(){k(N.error)}})}function h(N){var O=new FileReader,k=f(O);return O.readAsArrayBuffer(N),k}function p(N){var O=new FileReader,k=f(O);return O.readAsText(N),k}function g(N){for(var O=new Uint8Array(N),k=new Array(O.length),Y=0;Y<O.length;Y++)k[Y]=String.fromCharCode(O[Y]);return k.join("")}function y(N){if(N.slice)return N.slice(0);var O=new Uint8Array(N.byteLength);return O.set(new Uint8Array(N)),O.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(N){this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:r.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:r.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():r.arrayBuffer&&r.blob&&n(N)?(this._bodyArrayBuffer=y(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||s(N))?this._bodyArrayBuffer=y(N):this._bodyText=N=Object.prototype.toString.call(N):this._bodyText="",this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var N=d(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var N=d(this);if(N)return N;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(N){var O=N.toUpperCase();return v.indexOf(O)>-1?O:N}function E(N,O){O=O||{};var k=O.body;if(N instanceof E){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,O.headers||(this.headers=new c(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!k&&N._bodyInit!=null&&(k=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new c(O.headers)),this.method=A(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})};function T(N){var O=new FormData;return N.trim().split("&").forEach(function(k){if(k){var Y=k.split("="),ne=Y.shift().replace(/\+/g," "),q=Y.join("=").replace(/\+/g," ");O.append(decodeURIComponent(ne),decodeURIComponent(q))}}),O}function R(N){var O=new c,k=N.replace(/\r?\n[\t ]+/g," ");return k.split(/\r?\n/).forEach(function(Y){var ne=Y.split(":"),q=ne.shift().trim();if(q){var H=ne.join(":").trim();O.append(q,H)}}),O}S.call(E.prototype);function I(N,O){O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in O?O.statusText:"OK",this.headers=new c(O.headers),this.url=O.url||"",this._initBody(N)}S.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},I.error=function(){var N=new I(null,{status:0,statusText:""});return N.type="error",N};var D=[301,302,303,307,308];I.redirect=function(N,O){if(D.indexOf(O)===-1)throw new RangeError("Invalid status code");return new I(null,{status:O,headers:{location:N}})},e.DOMException=t.DOMException;try{new e.DOMException}catch{e.DOMException=function(O,k){this.message=O,this.name=k;var Y=Error(O);this.stack=Y.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function M(N,O){return new Promise(function(k,Y){var ne=new E(N,O);if(ne.signal&&ne.signal.aborted)return Y(new e.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function H(){q.abort()}q.onload=function(){var J={status:q.status,statusText:q.statusText,headers:R(q.getAllResponseHeaders()||"")};J.url="responseURL"in q?q.responseURL:J.headers.get("X-Request-URL");var se="response"in q?q.response:q.responseText;k(new I(se,J))},q.onerror=function(){Y(new TypeError("Network request failed"))},q.ontimeout=function(){Y(new TypeError("Network request failed"))},q.onabort=function(){Y(new e.DOMException("Aborted","AbortError"))},q.open(ne.method,ne.url,!0),ne.credentials==="include"?q.withCredentials=!0:ne.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&r.blob&&(q.responseType="blob"),ne.headers.forEach(function(J,se){q.setRequestHeader(se,J)}),ne.signal&&(ne.signal.addEventListener("abort",H),q.onreadystatechange=function(){q.readyState===4&&ne.signal.removeEventListener("abort",H)}),q.send(typeof ne._bodyInit>"u"?null:ne._bodyInit)})}return M.polyfill=!0,t.fetch||(t.fetch=M,t.Headers=c,t.Request=E,t.Response=I),e.Headers=c,e.Request=E,e.Response=I,e.fetch=M,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:F)})();var Ru={},_h={};Object.defineProperty(_h,"__esModule",{value:!0});_h.removeDotSegmentsOfPath=_h.removeDotSegments=_h.resolve=void 0;function Aae(t,e){e=e||"";const r=e.indexOf("#");if(r>0&&(e=e.substr(0,r)),!t.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);return e}if(t.startsWith("?")){const c=e.indexOf("?");return c>0&&(e=e.substr(0,c)),e+t}if(t.startsWith("#"))return e+t;if(!e.length){const c=t.indexOf(":");if(c<0)throw new Error(`Found invalid relative IRI '${t}' for a missing baseIRI`);return vp(t,c)}const n=t.indexOf(":");if(n>=0)return vp(t,n);const a=e.indexOf(":");if(a<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);const s=e.substr(0,a+1);if(t.indexOf("//")===0)return s+vp(t,n);let o;if(e.indexOf("//",a)===a+1){if(o=e.indexOf("/",a+3),o<0)return e.length>a+3?e+"/"+vp(t,n):s+vp(t,n)}else if(o=e.indexOf("/",a+1),o<0)return s+vp(t,n);if(t.indexOf("/")===0)return e.substr(0,o)+CT(t);let u=e.substr(o);const l=u.lastIndexOf("/");return l>=0&&l<u.length-1&&(u=u.substr(0,l+1),t[0]==="."&&t[1]!=="."&&t[1]!=="/"&&t[2]&&(t=t.substr(1))),t=u+t,t=CT(t),e.substr(0,o)+t}_h.resolve=Aae;function CT(t){const e=[];let r=0;for(;r<t.length;)switch(t[r]){case"/":if(t[r+1]===".")if(t[r+2]==="."){if(!cM(t[r+3])){e.push([]),r++;break}e.pop(),t[r+3]||e.push([]),r+=3}else{if(!cM(t[r+2])){e.push([]),r++;break}t[r+2]||e.push([]),r+=2}else e.push([]),r++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(t.substr(r)),r=t.length;break;default:e.length||e.push([]),e[e.length-1].push(t[r]),r++;break}return"/"+e.map(n=>n.join("")).join("/")}_h.removeDotSegments=CT;function vp(t,e){let r=e+1;e>=0?t[e+1]==="/"&&t[e+2]==="/"&&(r=e+3):t[0]==="/"&&t[1]==="/"&&(r=2);const n=t.indexOf("/",r);if(n<0)return t;const a=t.substr(0,n),s=t.substr(n);return a+CT(s)}_h.removeDotSegmentsOfPath=vp;function cM(t){return!t||t==="#"||t==="?"||t==="/"}(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_h,t)})(Ru);var gm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class e extends Error{constructor(n,a){super(n),this.code=a}}t.ErrorCoded=e,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(t.ERROR_CODES||(t.ERROR_CODES={}))})(gm);var p1={},xae=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,Oae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Rae=/\s|\uFEFF|\xA0/,Iae=/\r?\n[\x20\x09]+/g,Pae=/[;,"]/,Cae=/[;,"]|\s/,Dae=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,cd={IDLE:1<<0,URI:1<<1,ATTR:1<<2};function dM(t){return t.replace(Oae,"")}function U2(t){return Rae.test(t)}function Nae(t,e){for(;U2(t[e]);)e++;return e}function fM(t){return Cae.test(t)||!Dae.test(t)}function Fae(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>r in e&&t[r]===e[r])}class $n{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var r=[],n=e.toLowerCase(),a=0;a<this.refs.length;a++)this.refs[a].rel.toLowerCase()===n&&r.push(this.refs[a]);return r}get(e,r){e=e.toLowerCase();for(var n=[],a=0;a<this.refs.length;a++)this.refs[a][e]===r&&n.push(this.refs[a]);return n}set(e){return this.refs.push(e),this}setUnique(e){return this.refs.some(r=>Fae(r,e))||this.refs.push(e),this}has(e,r){e=e.toLowerCase();for(var n=0;n<this.refs.length;n++)if(this.refs[n][e]===r)return!0;return!1}parse(e,s){s=s||0,e=s?e.slice(s):e,e=dM(e).replace(Iae,"");for(var n=cd.IDLE,a=e.length,s=0,o=null;s<a;)if(n===cd.IDLE){if(U2(e[s])){s++;continue}else if(e[s]==="<"){o!=null&&(o.rel!=null?this.refs.push(...$n.expandRelations(o)):this.refs.push(o));var u=e.indexOf(">",s);if(u===-1)throw new Error("Expected end of URI delimiter at offset "+s);o={uri:e.slice(s+1,u)},s=u,n=cd.URI}else throw new Error('Unexpected character "'+e[s]+'" at offset '+s);s++}else if(n===cd.URI)if(U2(e[s])){s++;continue}else if(e[s]===";")n=cd.ATTR,s++;else if(e[s]===",")n=cd.IDLE,s++;else throw new Error('Unexpected character "'+e[s]+'" at offset '+s);else if(n===cd.ATTR){if(e[s]===";"||U2(e[s])){s++;continue}var u=e.indexOf("=",s);if(u===-1)throw new Error("Expected attribute delimiter at offset "+s);var l=dM(e.slice(s,u)).toLowerCase(),c="";if(s=u+1,s=Nae(e,s),e[s]==='"')for(s++;s<a;){if(e[s]==='"'){s++;break}e[s]==="\\"&&s++,c+=e[s],s++}else{for(var u=s+1;!Pae.test(e[u])&&u<a;)u++;c=e.slice(s,u),s=u}switch(o[l]&&$n.isSingleOccurenceAttr(l)||(l[l.length-1]==="*"?o[l]=$n.parseExtendedValue(c):(c=l==="type"?c.toLowerCase():c,o[l]!=null?Array.isArray(o[l])?o[l].push(c):o[l]=[o[l],c]:o[l]=c)),e[s]){case",":n=cd.IDLE;break;case";":n=cd.ATTR;break}s++}else throw new Error('Unknown parser state "'+n+'"');return o!=null&&(o.rel!=null?this.refs.push(...$n.expandRelations(o)):this.refs.push(o)),o=null,this}toString(){for(var e=[],r="",n=null,a=0;a<this.refs.length;a++)n=this.refs[a],r=Object.keys(this.refs[a]).reduce(function(s,o){return o==="uri"?s:s+"; "+$n.formatAttribute(o,n[o])},"<"+n.uri+">"),e.push(r);return e.join(", ")}}$n.isCompatibleEncoding=function(t){return xae.test(t)};$n.parse=function(t,e){return new $n().parse(t,e)};$n.isSingleOccurenceAttr=function(t){return t==="rel"||t==="type"||t==="media"||t==="title"||t==="title*"};$n.isTokenAttr=function(t){return t==="rel"||t==="type"||t==="anchor"};$n.escapeQuotes=function(t){return t.replace(/"/g,'\\"')};$n.expandRelations=function(t){var e=t.rel.split(" ");return e.map(function(r){var n=Object.assign({},t);return n.rel=r,n})};$n.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']*)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:$n.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:$n.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}};$n.formatExtendedAttribute=function(t,e){var r=(e.encoding||"utf-8").toUpperCase(),n=e.language||"en",a="";return Buffer.isBuffer(e.value)&&$n.isCompatibleEncoding(r)?a=e.value.toString(r):Buffer.isBuffer(e.value)?a=e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):a=encodeURIComponent(e.value),t+"="+r+"'"+n+"'"+a};$n.formatAttribute=function(t,e){return Array.isArray(e)?e.map(r=>$n.formatAttribute(t,r)).join("; "):t[t.length-1]==="*"||typeof e!="string"?$n.formatExtendedAttribute(t,e):($n.isTokenAttr(t)?e=fM(e)?'"'+$n.escapeQuotes(e)+'"':$n.escapeQuotes(e):fM(e)&&(e=encodeURIComponent(e),e=e.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),e='"'+e+'"'),t+"="+e)};var TF=$n;Object.defineProperty(p1,"__esModule",{value:!0});p1.FetchDocumentLoader=void 0;const hM=gm,Lae=TF,jae=Ru;class Mae{constructor(e){this.fetcher=e}async load(e){const r=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(r.ok&&r.headers){let n=r.headers.get("Content-Type");if(n){const a=n.indexOf(";");a>0&&(n=n.substr(0,a))}if(n==="application/ld+json")return await r.json();if(r.headers.has("Link")){let a;if(r.headers.forEach((s,o)=>{if(o==="link"){const u=(0,Lae.parse)(s);for(const l of u.get("type","application/ld+json"))if(l.rel==="alternate"){if(a)throw new Error("Multiple JSON-LD alternate links were found on "+e);a=(0,jae.resolve)(l.uri,e)}}}),a)return this.load(a)}throw new hM.ErrorCoded(`Unsupported JSON-LD media type ${n}`,hM.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(r.statusText||`Status code: ${r.status}`)}}p1.FetchDocumentLoader=Mae;var dv={},ym={};Object.defineProperty(ym,"__esModule",{value:!0});ym.Util=void 0;let Ii=class{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&e[0]==="#")}static getPrefix(e,r){if(e&&e[0]==="#")return null;const n=e.indexOf(":");if(n>=0){if(e.length>n+1&&e.charAt(n+1)==="/"&&e.charAt(n+2)==="/")return null;const a=e.substr(0,n);if(a==="_")return null;if(r[a])return a}return null}static getContextValueId(e){if(e===null||typeof e=="string")return e;const r=e["@id"];return r||null}static isSimpleTermDefinitionPrefix(e,r){return!Ii.isPotentialKeyword(e)&&(e[0]==="_"||r.allowPrefixNonGenDelims||Ii.isPrefixIriEndingWithGenDelim(e))}static isPotentialKeyword(e){return typeof e=="string"&&Ii.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return Ii.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&(typeof e=="string"||e&&typeof e=="object")}static isValidIri(e){return Boolean(e&&Ii.IRI_REGEX.test(e))}static isValidIriWeak(e){return!!e&&e[0]!==":"&&Ii.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return Ii.VALID_KEYWORDS[e]}static isTermProtected(e,r){const n=e[r];return typeof n!="string"&&n&&n["@protected"]}static hasProtectedTerms(e){for(const r of Object.keys(e))if(Ii.isTermProtected(e,r))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}};ym.Util=Ii;Ii.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/;Ii.IRI_REGEX_WEAK=/(?::[^:])|\//;Ii.KEYWORD_REGEX=/^@[a-z]+$/i;Ii.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/;Ii.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/;Ii.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/;Ii.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0};Ii.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"];Ii.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"];Ii.ALIAS_RANGE_BLACKLIST=["@context","@preserve"];Ii.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"];Ii.CONTAINERS_1_0=["@list","@set","@index"];var pM;function EH(){if(pM)return dv;pM=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.JsonLdContextNormalized=void 0;const t=Ru,e=AH(),r=gm,n=ym;let a=class{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,u,l=e.defaultExpandOptions){const c=this.contextRaw[o];if(c===null||c&&c["@id"]===null)return null;let d=!0;if(c&&u){const S=n.Util.getContextValueId(c);if(S&&S!==o)if(typeof S!="string"||!n.Util.isValidIri(S)&&!n.Util.isValidKeyword(S))n.Util.isPotentialKeyword(S)||(d=!1);else return S}const f=n.Util.getPrefix(o,this.contextRaw),h=this.contextRaw["@vocab"],p=(!!h||h==="")&&h.indexOf(":")<0,g=this.contextRaw["@base"],y=n.Util.isPotentialKeyword(o);if(f){const S=this.contextRaw[f],v=n.Util.getContextValueId(S);if(v){if(typeof S=="string"||!l.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(v,l))return o}else if(v[0]!=="_"&&!y&&!S["@prefix"]&&!(o in this.contextRaw))return o;return v+o.substr(f.length+1)}}else if(u&&(h||h===""||l.allowVocabRelativeToBase&&g&&p)&&!y&&!n.Util.isCompactIri(o))if(p){if(l.allowVocabRelativeToBase)return(h||g?(0,t.resolve)(h,g):"")+o;throw new r.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${h}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return h+o;else if(!u&&g&&!y&&!n.Util.isCompactIri(o))return(0,t.resolve)(o,g);if(d)return o;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(c)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,u){if(u&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!u&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:o};for(const c in this.contextRaw){const d=this.contextRaw[c];if(d&&!n.Util.isPotentialKeyword(c)){const f=n.Util.getContextValueId(d);if(o.startsWith(f)){const h=o.substr(f.length);if(h)h.length<l.suffix.length&&(l.prefix=c,l.suffix=h);else if(u)return c}}}return l.prefix?l.prefix+":"+l.suffix:o}};return dv.JsonLdContextNormalized=a,dv}var Bae=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((r,n,a)=>{const s=a===0?"":",",o=n===void 0||typeof n=="symbol"?null:n;return r+s+t(o)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,a)=>{if(e[n]===void 0||typeof e[n]=="symbol")return r;const s=r.length===0?"":",";return r+s+t(n)+":"+t(e[n])},"")+"}"},gM;function AH(){return gM||(gM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.ContextParser=void 0;const e=Ru,r=gm,n=p1,a=EH(),s=ym,o=Bae;class u{constructor(c){c=c||{},this.documentLoader=c.documentLoader||new n.FetchDocumentLoader,this.documentCache={},this.validateContext=!c.skipValidation,this.expandContentTypeToBase=!!c.expandContentTypeToBase,this.remoteContextsDepthLimit=c.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in c?!!c.redirectSchemaOrgHttps:!0}static validateLanguage(c,d,f){if(typeof c!="string")throw new r.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(c)}'`,f);if(!s.Util.REGEX_LANGUAGE_TAG.test(c)){if(d)throw new r.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(c)}'`,f);return!1}return!0}static validateDirection(c,d){if(typeof c!="string")throw new r.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(c)}'`,r.ERROR_CODES.INVALID_BASE_DIRECTION);if(!s.Util.REGEX_DIRECTION_TAG.test(c)){if(d)throw new r.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(c)}'`,r.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(c){for(const d of Object.keys(c)){const f=c[d];if(f&&typeof f=="object"&&f["@reverse"]&&!f["@id"]){if(typeof f["@reverse"]!="string"||s.Util.isValidKeyword(f["@reverse"]))throw new r.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${f["@reverse"]}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);f["@id"]=f["@reverse"],s.Util.isPotentialKeyword(f["@reverse"])?delete f["@reverse"]:f["@reverse"]=!0}}return c}expandPrefixedTerms(c,d){const f=c.getContextRaw();for(const h of Object.keys(f))if(s.Util.EXPAND_KEYS_BLACKLIST.indexOf(h)<0&&!s.Util.isReservedInternalKeyword(h)){const p=f[h];if(s.Util.isPotentialKeyword(h)&&s.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(h)>=0&&(h!=="@type"||typeof f[h]=="object"&&!(f[h]["@protected"]||f[h]["@container"]==="@set")))throw new r.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${h} to ${JSON.stringify(p)}`,r.ERROR_CODES.KEYWORD_REDEFINITION);if(s.Util.ALIAS_RANGE_BLACKLIST.indexOf(s.Util.getContextValueId(p))>=0)throw new r.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${h} to ${JSON.stringify(p)}`,r.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(p&&s.Util.isPotentialKeyword(s.Util.getContextValueId(p))&&p["@prefix"]===!0)throw new r.ErrorCoded(`Tried to use keyword aliases as prefix: '${h}': '${JSON.stringify(p)}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);for(;s.Util.isPrefixValue(f[h]);){const g=f[h];let y=!1;if(typeof g=="string")f[h]=c.expandTerm(g,!0),y=y||g!==f[h];else{const S=g["@id"],v=g["@type"],A=!("@prefix"in g)||s.Util.isValidIri(h);if("@id"in g)S!=null&&typeof S=="string"&&(f[h]["@id"]=c.expandTerm(S,!0),y=y||S!==f[h]["@id"]);else if(!s.Util.isPotentialKeyword(h)&&A){const E=c.expandTerm(h,!0);E!==h&&(f[h]["@id"]=E,y=!0)}v&&typeof v=="string"&&v!=="@vocab"&&(!g["@container"]||!g["@container"]["@type"])&&A&&(f[h]["@type"]=c.expandTerm(v,!0),d&&v===f[h]["@type"]&&(f[h]["@type"]=c.expandTerm(v,!1)),y=y||v!==f[h]["@type"])}if(!y)break}}}normalize(c,{processingMode:d,normalizeLanguageTags:f}){if(f||d===1)for(const h of Object.keys(c))if(h==="@language"&&typeof c[h]=="string")c[h]=c[h].toLowerCase();else{const p=c[h];p&&typeof p=="object"&&typeof p["@language"]=="string"&&(p["@language"]=p["@language"].toLowerCase())}}containersToHash(c){for(const d of Object.keys(c)){const f=c[d];if(f&&typeof f=="object"){if(typeof f["@container"]=="string")f["@container"]={[f["@container"]]:!0};else if(Array.isArray(f["@container"])){const h={};for(const p of f["@container"])h[p]=!0;f["@container"]=h}}}}applyScopedProtected(c,{processingMode:d}){if(d&&d>=1.1&&c["@protected"]){for(const f of Object.keys(c))if(!s.Util.isReservedInternalKeyword(f)&&!s.Util.isPotentialKeyword(f)&&!s.Util.isTermProtected(c,f)){const h=c[f];h&&typeof h=="object"?"@protected"in c[f]||(c[f]["@protected"]=!0):c[f]={"@id":h,"@protected":!0}}delete c["@protected"]}}validateKeywordRedefinitions(c,d,f){for(const h of Object.keys(d))if(s.Util.isTermProtected(c,h)){if(typeof d[h]=="string"){const y=s.Util.isSimpleTermDefinitionPrefix(d[h],f);d[h]={"@id":d[h]},y&&(d[h]["@prefix"]=!0,c[h]["@prefix"]=!0)}const p=o(c[h]);d[h]["@protected"]=!0;const g=o(d[h]);if(p!==g)throw new r.ErrorCoded(`Attempted to override the protected keyword ${h} from ${JSON.stringify(s.Util.getContextValueId(c[h]))} to ${JSON.stringify(s.Util.getContextValueId(d[h]))}`,r.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}}validate(c,{processingMode:d}){for(const f of Object.keys(c)){if(s.Util.isReservedInternalKeyword(f))continue;if(f==="")throw new r.ErrorCoded(`The empty term is not allowed, got: '${f}': '${JSON.stringify(c[f])}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);const h=c[f],p=typeof h;if(s.Util.isPotentialKeyword(f)){switch(f.substr(1)){case"vocab":if(h!==null&&p!=="string")throw new r.ErrorCoded(`Found an invalid @vocab IRI: ${h}`,r.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(h!==null&&p!=="string")throw new r.ErrorCoded(`Found an invalid @base IRI: ${c[f]}`,r.ERROR_CODES.INVALID_BASE_IRI);break;case"language":h!==null&&u.validateLanguage(h,!0,r.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(h!==null&&p!=="number")throw new r.ErrorCoded(`Found an invalid @version number: ${h}`,r.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":h!==null&&u.validateDirection(h,!0);break;case"propagate":if(d===1)throw new r.ErrorCoded(`Found an illegal @propagate keyword: ${h}`,r.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(h!==null&&p!=="boolean")throw new r.ErrorCoded(`Found an invalid @propagate value: ${h}`,r.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(s.Util.isValidKeyword(f)&&s.Util.isValidKeyword(s.Util.getContextValueId(h)))throw new r.ErrorCoded(`Illegal keyword alias in term value, found: '${f}': '${s.Util.getContextValueId(h)}'`,r.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(h!==null)switch(p){case"string":if(s.Util.getPrefix(h,c)===f)throw new r.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${f}': '${JSON.stringify(h)}'`,r.ERROR_CODES.CYCLIC_IRI_MAPPING);if(s.Util.isValidIriWeak(f)){if(h==="@type")throw new r.ErrorCoded(`IRIs can not be mapped to @type, found: '${f}': '${h}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIri(h)&&h!==new a.JsonLdContextNormalized(c).expandTerm(f))throw new r.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${f}': '${h}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!s.Util.isCompactIri(f)&&!("@id"in h)&&(h["@type"]==="@id"?!c["@base"]:!c["@vocab"]))throw new r.ErrorCoded(`Missing @id in context entry: '${f}': '${JSON.stringify(h)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);for(const g of Object.keys(h)){const y=h[g];if(y)switch(g){case"@id":if(s.Util.isValidKeyword(y)&&y!=="@type"&&y!=="@id"&&y!=="@graph"&&y!=="@nest")throw new r.ErrorCoded(`Illegal keyword alias in term value, found: '${f}': '${JSON.stringify(h)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIriWeak(f)){if(y==="@type")throw new r.ErrorCoded(`IRIs can not be mapped to @type, found: '${f}': '${JSON.stringify(h)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIri(y)&&y!==new a.JsonLdContextNormalized(c).expandTerm(f))throw new r.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${f}': '${JSON.stringify(h)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof y!="string")throw new r.ErrorCoded(`Detected non-string @id in context entry: '${f}': '${JSON.stringify(h)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.getPrefix(y,c)===f)throw new r.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${f}': '${JSON.stringify(h)}'`,r.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(h["@container"]==="@type"&&y!=="@id"&&y!=="@vocab")throw new r.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${f}': '${y}'`,r.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof y!="string")throw new r.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(p)}'`,r.ERROR_CODES.INVALID_TYPE_MAPPING);if(y!=="@id"&&y!=="@vocab"&&(d===1||y!=="@json")&&(d===1||y!=="@none")&&(y[0]==="_"||!s.Util.isValidIri(y)))throw new r.ErrorCoded(`A context @type must be an absolute IRI, found: '${f}': '${y}'`,r.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof y=="string"&&h["@id"]&&h["@id"]!==y)throw new r.ErrorCoded(`Found non-matching @id and @reverse term values in '${f}':'${y}' and '${h["@id"]}'`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in h)throw new r.ErrorCoded(`@nest is not allowed in the reverse property '${f}'`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(d===1&&(Object.keys(y).length>1||s.Util.CONTAINERS_1_0.indexOf(Object.keys(y)[0])<0))throw new r.ErrorCoded(`Invalid term @container for '${f}' ('${Object.keys(y)}') in 1.0, must be only one of ${s.Util.CONTAINERS_1_0.join(", ")}`,r.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const S of Object.keys(y)){if(S==="@list"&&h["@reverse"])throw new r.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${f}'`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(s.Util.CONTAINERS.indexOf(S)<0)throw new r.ErrorCoded(`Invalid term @container for '${f}' ('${S}'), must be one of ${s.Util.CONTAINERS.join(", ")}`,r.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":u.validateLanguage(y,!0,r.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":u.validateDirection(y,!0);break;case"@prefix":if(y!==null&&typeof y!="boolean")throw new r.ErrorCoded(`Found an invalid term @prefix boolean in: '${f}': '${JSON.stringify(h)}'`,r.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in h)&&!s.Util.isValidIri(f))throw new r.ErrorCoded(`Invalid @prefix definition for '${f}' ('${JSON.stringify(h)}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(d===1||!h["@container"]||!h["@container"]["@index"])throw new r.ErrorCoded(`Attempt to add illegal key to value object: '${f}': '${JSON.stringify(h)}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(s.Util.isPotentialKeyword(y)&&y!=="@nest")throw new r.ErrorCoded(`Found an invalid term @nest value in: '${f}': '${JSON.stringify(h)}'`,r.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new r.ErrorCoded(`Found an invalid term value: '${f}': '${h}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(c,d,f){return typeof c=="string"||(f&&!("@base"in c)&&d.parentContext&&typeof d.parentContext=="object"&&"@base"in d.parentContext&&(c["@base"]=d.parentContext["@base"],d.parentContext["@__baseDocument"]&&(c["@__baseDocument"]=!0)),d.baseIRI&&!d.external&&("@base"in c?c["@base"]!==null&&typeof c["@base"]=="string"&&!s.Util.isValidIri(c["@base"])&&(c["@base"]=(0,e.resolve)(c["@base"],d.parentContext&&d.parentContext["@base"]||d.baseIRI)):(c["@base"]=d.baseIRI,c["@__baseDocument"]=!0))),c}normalizeContextIri(c,d){if(!s.Util.isValidIri(c))try{c=(0,e.resolve)(c,d)}catch{throw new Error(`Invalid context IRI: ${c}`)}return this.redirectSchemaOrgHttps&&c.startsWith("http://schema.org")&&(c="https://schema.org/"),c}async parseInnerContexts(c,d){for(const f of Object.keys(c)){const h=c[f];if(h&&typeof h=="object"&&"@context"in h&&h["@context"]!==null&&!d.ignoreScopedContexts){if(this.validateContext)try{const p=Object.assign({},c);p[f]=Object.assign({},p[f]),delete p[f]["@context"],await this.parse(h["@context"],Object.assign(Object.assign({},d),{external:!1,parentContext:p,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(p){throw new r.ErrorCoded(p.message,r.ERROR_CODES.INVALID_SCOPED_CONTEXT)}h["@context"]=(await this.parse(h["@context"],Object.assign(Object.assign({},d),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:c}))).getContextRaw()}}return c}async parse(c,d={}){const{baseIRI:f,parentContext:h,external:p,processingMode:g=u.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:y,ignoreProtection:S,minimalProcessing:v}=d;let A=h;const E=d.remoteContexts||{};if(Object.keys(E).length>=this.remoteContextsDepthLimit)throw new r.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(E),r.ERROR_CODES.CONTEXT_OVERFLOW);if(c==null){if(!S&&A&&s.Util.hasProtectedTerms(A))throw new r.ErrorCoded("Illegal context nullification when terms are protected",r.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new a.JsonLdContextNormalized(this.applyBaseEntry({},d,!1))}else if(typeof c=="string"){const T=this.normalizeContextIri(c,f),R=this.getOverriddenLoad(T,d);if(R)return new a.JsonLdContextNormalized(R);const I=await this.parse(await this.load(T),Object.assign(Object.assign({},d),{baseIRI:T,external:!0,remoteContexts:Object.assign(Object.assign({},E),{[T]:!0})}));return this.applyBaseEntry(I.getContextRaw(),d,!0),I}else if(Array.isArray(c)){const T=[],R=await Promise.all(c.map((D,M)=>{if(typeof D=="string"){const N=this.normalizeContextIri(D,f);T[M]=N;const O=this.getOverriddenLoad(N,d);return O||this.load(N)}else return D}));if(v)return new a.JsonLdContextNormalized(R);const I=await R.reduce((D,M,N)=>D.then(O=>this.parse(M,Object.assign(Object.assign({},d),{baseIRI:T[N]||d.baseIRI,external:!!T[N]||d.external,parentContext:O.getContextRaw(),remoteContexts:T[N]?Object.assign(Object.assign({},E),{[T[N]]:!0}):E}))),Promise.resolve(new a.JsonLdContextNormalized(A||{})));return this.applyBaseEntry(I.getContextRaw(),d,!0),I}else if(typeof c=="object"){if("@context"in c)return await this.parse(c["@context"],d);c=JSON.parse(JSON.stringify(c)),A&&!v&&(A=JSON.parse(JSON.stringify(A)));let T={};if(p&&delete c["@base"],this.applyBaseEntry(c,d,!0),this.containersToHash(c),v)return new a.JsonLdContextNormalized(c);let R={};if("@import"in c)if(g>=1.1){if(typeof c["@import"]!="string")throw new r.ErrorCoded("An @import value must be a string, but got "+typeof c["@import"],r.ERROR_CODES.INVALID_IMPORT_VALUE);R=await this.loadImportContext(this.normalizeContextIri(c["@import"],f)),delete c["@import"]}else throw new r.ErrorCoded("Context importing is not supported in JSON-LD 1.0",r.ERROR_CODES.INVALID_CONTEXT_ENTRY);T=Object.assign(Object.assign(Object.assign(Object.assign({},T),typeof A=="object"?A:{}),R),c);const I=new a.JsonLdContextNormalized(T);return await this.parseInnerContexts(T,d),(T&&T["@version"]||u.DEFAULT_PROCESSING_MODE)>=1.1&&(c["@vocab"]&&typeof c["@vocab"]=="string"||c["@vocab"]==="")&&(A&&"@vocab"in A&&c["@vocab"].indexOf(":")<0?T["@vocab"]=A["@vocab"]+c["@vocab"]:(s.Util.isCompactIri(c["@vocab"])||c["@vocab"]in I.getContextRaw())&&(T["@vocab"]=I.expandTerm(c["@vocab"],!0))),this.idifyReverseTerms(T),this.expandPrefixedTerms(I,this.expandContentTypeToBase),!S&&A&&g>=1.1&&this.validateKeywordRedefinitions(A,T,t.defaultExpandOptions),this.normalize(T,{processingMode:g,normalizeLanguageTags:y}),this.applyScopedProtected(T,{processingMode:g}),this.validateContext&&this.validate(T,{processingMode:g}),I}else throw new r.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${c}`,r.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(c){const d=this.documentCache[c];if(d)return typeof d=="string"?d:Array.isArray(d)?d.slice():Object.assign({},d);let f;try{f=await this.documentLoader.load(c)}catch(h){throw new r.ErrorCoded(`Failed to load remote context ${c}: ${h.message}`,r.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in f))throw new r.ErrorCoded(`Missing @context in remote context at ${c}`,r.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[c]=f["@context"]}getOverriddenLoad(c,d){if(c in(d.remoteContexts||{})){if(d.ignoreRemoteScopedContexts)return c;throw new r.ErrorCoded("Detected a cyclic context inclusion of "+c,r.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(c){const d=await this.load(c);if(typeof d!="object"||Array.isArray(d))throw new r.ErrorCoded("An imported context must be a single object: "+c,r.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in d)throw new r.ErrorCoded("An imported context can not import another context: "+c,r.ERROR_CODES.INVALID_CONTEXT_ENTRY);return this.containersToHash(d),d}}t.ContextParser=u,u.DEFAULT_PROCESSING_MODE=1.1,t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(_C)),_C}var xH={};Object.defineProperty(xH,"__esModule",{value:!0});var OH={};Object.defineProperty(OH,"__esModule",{value:!0});(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(AH(),t),r(gm,t),r(p1,t),r(xH,t),r(OH,t),r(EH(),t),r(ym,t)})(la);var zr={},kae={get exports(){return zr},set exports(t){zr=t}},DT={},$ae={get exports(){return DT},set exports(t){DT=t}},ca={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array},Il={},Uae={get exports(){return Il},set exports(t){Il=t}};(function(t){const e=ru,r=Object.getPrototypeOf(async function(){}).constructor,n=globalThis.Blob||e.Blob,a=typeof n<"u"?function(u){return u instanceof n}:function(u){return!1};class s extends Error{constructor(u){if(!Array.isArray(u))throw new TypeError(`Expected input to be an Array, got ${typeof u}`);let l="";for(let c=0;c<u.length;c++)l+=`    ${u[c].stack}
`;super(l),this.name="AggregateError",this.errors=u}}t.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(o){let u=!1;return function(...l){u||(u=!0,o.apply(this,l))}},createDeferredPromise:function(){let o,u;return{promise:new Promise((c,d)=>{o=c,u=d}),resolve:o,reject:u}},promisify(o){return new Promise((u,l)=>{o((c,...d)=>c?l(c):u(...d))})},debuglog(){return function(){}},format(o,...u){return o.replace(/%([sdifj])/g,function(...[l,c]){const d=u.shift();return c==="f"?d.toFixed(6):c==="j"?JSON.stringify(d):c==="s"&&typeof d=="object"?`${d.constructor!==Object?d.constructor.name:""} {}`.trim():d.toString()})},inspect(o){switch(typeof o){case"string":if(o.includes("'"))if(o.includes('"')){if(!o.includes("`")&&!o.includes("${"))return`\`${o}\``}else return`"${o}"`;return`'${o}'`;case"number":return isNaN(o)?"NaN":Object.is(o,-0)?String(o):o;case"bigint":return`${String(o)}n`;case"boolean":case"undefined":return String(o);case"object":return"{}"}},types:{isAsyncFunction(o){return o instanceof r},isArrayBufferView(o){return ArrayBuffer.isView(o)}},isBlob:a},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(Uae);var EF={},Oh={},Vae={get exports(){return Oh},set exports(t){Oh=t}};const{AbortController:RH,AbortSignal:Hae}=typeof self<"u"?self:typeof window<"u"?window:void 0;Vae.exports=RH;Oh.AbortSignal=Hae;Oh.default=RH;const{format:qae,inspect:NT,AggregateError:zae}=Il,Gae=globalThis.AggregateError||zae,Qae=Symbol("kIsNodeError"),Wae=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Kae=/^([A-Z][a-z0-9]*)+$/,Xae="__node_internal_",ZE={};function s0(t,e){if(!t)throw new ZE.ERR_INTERNAL_ASSERTION(e)}function yM(t){let e="",r=t.length;const n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Jae(t,e,r){if(typeof e=="function")return s0(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);const n=(e.match(/%[dfijoOs]/g)||[]).length;return s0(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:qae(e,...r)}function Ga(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(Jae(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Qae]=!0,ZE[t]=n}function mM(t){const e=Xae+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Yae(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new Gae([e,t],e.message);return r.code=e.code,r}return t||e}let Zae=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new ZE.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Ga("ERR_ASSERTION","%s",Error);Ga("ERR_INVALID_ARG_TYPE",(t,e,r)=>{s0(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";const a=[],s=[],o=[];for(const l of e)s0(typeof l=="string","All expected entries have to be of type string"),Wae.includes(l)?a.push(l.toLowerCase()):Kae.test(l)?s.push(l):(s0(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){const l=a.indexOf("object");l!==-1&&(a.splice(a,l,1),s.push("Object"))}if(a.length>0){switch(a.length){case 1:n+=`of type ${a[0]}`;break;case 2:n+=`one of type ${a[0]} or ${a[1]}`;break;default:{const l=a.pop();n+=`one of type ${a.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{const l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var u;if((u=r.constructor)!==null&&u!==void 0&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{const l=NT(r,{depth:-1});n+=`. Received ${l}`}}else{let l=NT(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);Ga("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=NT(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Ga("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;const a=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${a}.`},TypeError);Ga("ERR_MISSING_ARGS",(...t)=>{s0(t.length>0,"At least one arg needs to be specified");let e;const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Ga("ERR_OUT_OF_RANGE",(t,e,r)=>{s0(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=yM(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=yM(n)),n+="n"):n=NT(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Ga("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Ga("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Ga("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Ga("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Ga("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Ga("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ga("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Ga("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Ga("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Ga("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Ga("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var wo={AbortError:Zae,aggregateTwoErrors:mM(Yae),hideStackFrames:mM,codes:ZE};const{ArrayIsArray:AF,ArrayPrototypeIncludes:IH,ArrayPrototypeJoin:PH,ArrayPrototypeMap:ese,NumberIsInteger:xF,NumberIsNaN:tse,NumberMAX_SAFE_INTEGER:rse,NumberMIN_SAFE_INTEGER:nse,NumberParseInt:ise,ObjectPrototypeHasOwnProperty:ase,RegExpPrototypeExec:CH,String:sse,StringPrototypeToUpperCase:ose,StringPrototypeTrim:use}=ca,{hideStackFrames:Iu,codes:{ERR_SOCKET_BAD_PORT:lse,ERR_INVALID_ARG_TYPE:Gs,ERR_INVALID_ARG_VALUE:mm,ERR_OUT_OF_RANGE:d0,ERR_UNKNOWN_SIGNAL:vM}}=wo,{normalizeEncoding:cse}=Il,{isAsyncFunction:dse,isArrayBufferView:fse}=Il.types,bM={};function hse(t){return t===(t|0)}function pse(t){return t===t>>>0}const gse=/^[0-7]+$/,yse="must be a 32-bit unsigned integer or an octal string";function mse(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(CH(gse,t)===null)throw new mm(e,t,yse);t=ise(t,8)}return DH(t,e),t}const vse=Iu((t,e,r=nse,n=rse)=>{if(typeof t!="number")throw new Gs(e,"number",t);if(!xF(t))throw new d0(e,"an integer",t);if(t<r||t>n)throw new d0(e,`>= ${r} && <= ${n}`,t)}),bse=Iu((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Gs(e,"number",t);if(!xF(t))throw new d0(e,"an integer",t);if(t<r||t>n)throw new d0(e,`>= ${r} && <= ${n}`,t)}),DH=Iu((t,e,r=!1)=>{if(typeof t!="number")throw new Gs(e,"number",t);if(!xF(t))throw new d0(e,"an integer",t);const n=r?1:0,a=4294967295;if(t<n||t>a)throw new d0(e,`>= ${n} && <= ${a}`,t)});function OF(t,e){if(typeof t!="string")throw new Gs(e,"string",t)}function _se(t,e,r=void 0,n){if(typeof t!="number")throw new Gs(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&tse(t))throw new d0(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}const wse=Iu((t,e,r)=>{if(!IH(r,t)){const a="must be one of: "+PH(ese(r,s=>typeof s=="string"?`'${s}'`:sse(s)),", ");throw new mm(e,t,a)}});function NH(t,e){if(typeof t!="boolean")throw new Gs(e,"boolean",t)}function wC(t,e,r){return t==null||!ase(t,e)?r:t[e]}const Sse=Iu((t,e,r=null)=>{const n=wC(r,"allowArray",!1),a=wC(r,"allowFunction",!1);if(!wC(r,"nullable",!1)&&t===null||!n&&AF(t)||typeof t!="object"&&(!a||typeof t!="function"))throw new Gs(e,"Object",t)}),Tse=Iu((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Gs(e,"a dictionary",t)}),RF=Iu((t,e,r=0)=>{if(!AF(t))throw new Gs(e,"Array",t);if(t.length<r){const n=`must be longer than ${r}`;throw new mm(e,t,n)}});function Ese(t,e){RF(t,e);for(let r=0;r<t.length;r++)OF(t[r],`${e}[${r}]`)}function Ase(t,e){RF(t,e);for(let r=0;r<t.length;r++)NH(t[r],`${e}[${r}]`)}function xse(t,e="signal"){if(OF(t,e),bM[t]===void 0)throw bM[ose(t)]!==void 0?new vM(t+" (signals must use all capital letters)"):new vM(t)}const Ose=Iu((t,e="buffer")=>{if(!fse(t))throw new Gs(e,["Buffer","TypedArray","DataView"],t)});function Rse(t,e){const r=cse(e),n=t.length;if(r==="hex"&&n%2!==0)throw new mm("encoding",e,`is invalid for data of length ${n}`)}function Ise(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&use(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new lse(e,t,r);return t|0}const Pse=Iu((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Gs(e,"AbortSignal",t)}),Cse=Iu((t,e)=>{if(typeof t!="function")throw new Gs(e,"Function",t)}),Dse=Iu((t,e)=>{if(typeof t!="function"||dse(t))throw new Gs(e,"Function",t)}),Nse=Iu((t,e)=>{if(t!==void 0)throw new Gs(e,"undefined",t)});function Fse(t,e,r){if(!IH(r,t))throw new Gs(e,`('${PH(r,"|")}')`,t)}const Lse=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function _M(t,e){if(typeof t>"u"||!CH(Lse,t))throw new mm(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function jse(t){if(typeof t=="string")return _M(t,"hints"),t;if(AF(t)){const e=t.length;let r="";if(e===0)return r;for(let n=0;n<e;n++){const a=t[n];_M(a,"hints"),r+=a,n!==e-1&&(r+=", ")}return r}throw new mm("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var e3={isInt32:hse,isUint32:pse,parseFileMode:mse,validateArray:RF,validateStringArray:Ese,validateBooleanArray:Ase,validateBoolean:NH,validateBuffer:Ose,validateDictionary:Tse,validateEncoding:Rse,validateFunction:Cse,validateInt32:bse,validateInteger:vse,validateNumber:_se,validateObject:Sse,validateOneOf:wse,validatePlainFunction:Dse,validatePort:Ise,validateSignalName:xse,validateString:OF,validateUint32:DH,validateUndefined:Nse,validateUnion:Fse,validateAbortSignal:Pse,validateLinkHeaderValue:jse},Pl={},Mse={get exports(){return Pl},set exports(t){Pl=t}},FT={},Bse={get exports(){return FT},set exports(t){FT=t}},wM;function ff(){if(wM)return FT;wM=1;var t=Bse.exports={},e,r;function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=a}catch{r=a}})();function s(y){if(e===setTimeout)return setTimeout(y,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(y,0);try{return e(y,0)}catch{try{return e.call(null,y,0)}catch{return e.call(this,y,0)}}}function o(y){if(r===clearTimeout)return clearTimeout(y);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(y);try{return r(y)}catch{try{return r.call(null,y)}catch{return r.call(this,y)}}}var u=[],l=!1,c,d=-1;function f(){!l||!c||(l=!1,c.length?u=c.concat(u):d=-1,u.length&&h())}function h(){if(!l){var y=s(f);l=!0;for(var S=u.length;S;){for(c=u,u=[];++d<S;)c&&c[d].run();d=-1,S=u.length}c=null,l=!1,o(y)}}t.nextTick=function(y){var S=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)S[v-1]=arguments[v];u.push(new p(y,S)),u.length===1&&!l&&s(h)};function p(y,S){this.fun=y,this.array=S}p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function g(){}return t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(y){return[]},t.binding=function(y){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(y){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},FT}const{Symbol:t3,SymbolAsyncIterator:SM,SymbolIterator:TM,SymbolFor:FH}=ca,LH=t3("kDestroyed"),jH=t3("kIsErrored"),JN=t3("kIsReadable"),MH=t3("kIsDisturbed"),kse=FH("nodejs.webstream.isClosedPromise"),$se=FH("nodejs.webstream.controllerErrorFunction");function r3(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function n3(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Use(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Yc(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function BH(t){return!!(t&&!Yc(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function kH(t){return!!(t&&!Yc(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function $H(t){return!!(t&&!Yc(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Vse(t){return BH(t)||kH(t)||$H(t)}function Hse(t,e){return t==null?!1:e===!0?typeof t[SM]=="function":e===!1?typeof t[TM]=="function":typeof t[SM]=="function"||typeof t[TM]=="function"}function i3(t){if(!Yc(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[LH]||n!=null&&n.destroyed)}function UH(t){if(!n3(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function qse(t,e){if(!n3(t))return null;if(t.writableFinished===!0)return!0;const r=t._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function zse(t){if(!r3(t))return null;if(t.readableEnded===!0)return!0;const e=t._readableState;return!e||e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function VH(t,e){if(!r3(t))return null;const r=t._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function HH(t){return t&&t[JN]!=null?t[JN]:typeof(t==null?void 0:t.readable)!="boolean"?null:i3(t)?!1:r3(t)&&t.readable&&!VH(t)}function qH(t){return typeof(t==null?void 0:t.writable)!="boolean"?null:i3(t)?!1:n3(t)&&t.writable&&!UH(t)}function Gse(t,e){return Yc(t)?i3(t)?!0:!((e==null?void 0:e.readable)!==!1&&HH(t)||(e==null?void 0:e.writable)!==!1&&qH(t)):null}function Qse(t){var e,r;return Yc(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Wse(t){var e,r;return Yc(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Kse(t){if(!Yc(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,r=t._readableState;return typeof(e==null?void 0:e.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(e==null?void 0:e.closed)||(r==null?void 0:r.closed):typeof t._closed=="boolean"&&zH(t)?t._closed:null}function zH(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function GH(t){return typeof t._sent100=="boolean"&&zH(t)}function Xse(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Jse(t){if(!Yc(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!n&&GH(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Yse(t){var e;return!!(t&&((e=t[MH])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Zse(t){var e,r,n,a,s,o,u,l,c,d;return!!(t&&((e=(r=(n=(a=(s=(o=t[jH])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&a!==void 0?a:(u=t._readableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((d=t._writableState)===null||d===void 0)&&d.errored))}var hf={kDestroyed:LH,isDisturbed:Yse,kIsDisturbed:MH,isErrored:Zse,kIsErrored:jH,isReadable:HH,kIsReadable:JN,kIsClosedPromise:kse,kControllerErrorFunction:$se,isClosed:Kse,isDestroyed:i3,isDuplexNodeStream:Use,isFinished:Gse,isIterable:Hse,isReadableNodeStream:r3,isReadableStream:BH,isReadableEnded:zse,isReadableFinished:VH,isReadableErrored:Wse,isNodeStream:Yc,isWebStream:Vse,isWritable:qH,isWritableNodeStream:n3,isWritableStream:kH,isWritableEnded:UH,isWritableFinished:qse,isWritableErrored:Qse,isServerRequest:Xse,isServerResponse:GH,willEmitClose:Jse,isTransformStream:$H};const eh=ff(),{AbortError:QH,codes:eoe}=wo,{ERR_INVALID_ARG_TYPE:toe,ERR_STREAM_PREMATURE_CLOSE:EM}=eoe,{kEmptyObject:YN,once:ZN}=Il,{validateAbortSignal:roe,validateFunction:noe,validateObject:ioe,validateBoolean:aoe}=e3,{Promise:soe,PromisePrototypeThen:ooe}=ca,{isClosed:uoe,isReadable:AM,isReadableNodeStream:SC,isReadableStream:loe,isReadableFinished:xM,isReadableErrored:OM,isWritable:RM,isWritableNodeStream:IM,isWritableStream:coe,isWritableFinished:PM,isWritableErrored:CM,isNodeStream:doe,willEmitClose:foe,kIsClosedPromise:hoe}=hf;function poe(t){return t.setHeader&&typeof t.abort=="function"}const e4=()=>{};function WH(t,e,r){var n,a;if(arguments.length===2?(r=e,e=YN):e==null?e=YN:ioe(e,"options"),noe(r,"callback"),roe(e.signal,"options.signal"),r=ZN(r),loe(t)||coe(t))return goe(t,e,r);if(!doe(t))throw new toe("stream",["ReadableStream","WritableStream","Stream"],t);const s=(n=e.readable)!==null&&n!==void 0?n:SC(t),o=(a=e.writable)!==null&&a!==void 0?a:IM(t),u=t._writableState,l=t._readableState,c=()=>{t.writable||h()};let d=foe(t)&&SC(t)===s&&IM(t)===o,f=PM(t,!1);const h=()=>{f=!0,t.destroyed&&(d=!1),!(d&&(!t.readable||s))&&(!s||p)&&r.call(t)};let p=xM(t,!1);const g=()=>{p=!0,t.destroyed&&(d=!1),!(d&&(!t.writable||o))&&(!o||f)&&r.call(t)},y=R=>{r.call(t,R)};let S=uoe(t);const v=()=>{S=!0;const R=CM(t)||OM(t);if(R&&typeof R!="boolean")return r.call(t,R);if(s&&!p&&SC(t,!0)&&!xM(t,!1))return r.call(t,new EM);if(o&&!f&&!PM(t,!1))return r.call(t,new EM);r.call(t)},A=()=>{S=!0;const R=CM(t)||OM(t);if(R&&typeof R!="boolean")return r.call(t,R);r.call(t)},E=()=>{t.req.on("finish",h)};poe(t)?(t.on("complete",h),d||t.on("abort",v),t.req?E():t.on("request",E)):o&&!u&&(t.on("end",c),t.on("close",c)),!d&&typeof t.aborted=="boolean"&&t.on("aborted",v),t.on("end",g),t.on("finish",h),e.error!==!1&&t.on("error",y),t.on("close",v),S?eh.nextTick(v):u!=null&&u.errorEmitted||l!=null&&l.errorEmitted?d||eh.nextTick(A):(!s&&(!d||AM(t))&&(f||RM(t)===!1)||!o&&(!d||RM(t))&&(p||AM(t)===!1)||l&&t.req&&t.aborted)&&eh.nextTick(A);const T=()=>{r=e4,t.removeListener("aborted",v),t.removeListener("complete",h),t.removeListener("abort",v),t.removeListener("request",E),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",g),t.removeListener("error",y),t.removeListener("close",v)};if(e.signal&&!S){const R=()=>{const I=r;T(),I.call(t,new QH(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)eh.nextTick(R);else{const I=r;r=ZN((...D)=>{e.signal.removeEventListener("abort",R),I.apply(t,D)}),e.signal.addEventListener("abort",R)}}return T}function goe(t,e,r){let n=!1,a=e4;if(e.signal)if(a=()=>{n=!0,r.call(t,new QH(void 0,{cause:e.signal.reason}))},e.signal.aborted)eh.nextTick(a);else{const o=r;r=ZN((...u)=>{e.signal.removeEventListener("abort",a),o.apply(t,u)}),e.signal.addEventListener("abort",a)}const s=(...o)=>{n||eh.nextTick(()=>r.apply(t,o))};return ooe(t[hoe].promise,s,s),e4}function yoe(t,e){var r;let n=!1;return e===null&&(e=YN),(r=e)!==null&&r!==void 0&&r.cleanup&&(aoe(e.cleanup,"cleanup"),n=e.cleanup),new soe((a,s)=>{const o=WH(t,e,u=>{n&&o(),u?s(u):a()})})}Mse.exports=WH;Pl.finished=yoe;const Mc=ff(),{aggregateTwoErrors:moe,codes:{ERR_MULTIPLE_CALLBACK:voe},AbortError:boe}=wo,{Symbol:KH}=ca,{kDestroyed:_oe,isDestroyed:woe,isFinished:Soe,isServerRequest:Toe}=hf,XH=KH("kDestroy"),t4=KH("kConstruct");function JH(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Eoe(t,e){const r=this._readableState,n=this._writableState,a=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(JH(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),a.constructed?DM(this,t,e):this.once(XH,function(s){DM(this,moe(s,t),e)}),this)}function DM(t,e,r){let n=!1;function a(s){if(n)return;n=!0;const o=t._readableState,u=t._writableState;JH(s,u,o),u&&(u.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Mc.nextTick(Aoe,t,s):Mc.nextTick(YH,t)}try{t._destroy(e||null,a)}catch(s){a(s)}}function Aoe(t,e){r4(t,e),YH(t)}function YH(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function r4(t,e){const r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function xoe(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function n4(t,e,r){const n=t._readableState,a=t._writableState;if(a!=null&&a.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||a!=null&&a.autoDestroy?t.destroy(e):e&&(e.stack,a&&!a.errored&&(a.errored=e),n&&!n.errored&&(n.errored=e),r?Mc.nextTick(r4,t,e):r4(t,e))}function Ooe(t,e){if(typeof t._construct!="function")return;const r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(t4,e),!(t.listenerCount(t4)>1)&&Mc.nextTick(Roe,t)}function Roe(t){let e=!1;function r(n){if(e){n4(t,n??new voe);return}e=!0;const a=t._readableState,s=t._writableState,o=s||a;a&&(a.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(XH,n):n?n4(t,n,!0):Mc.nextTick(Ioe,t)}try{t._construct(n=>{Mc.nextTick(r,n)})}catch(n){Mc.nextTick(r,n)}}function Ioe(t){t.emit(t4)}function NM(t){return(t==null?void 0:t.setHeader)&&typeof t.abort=="function"}function ZH(t){t.emit("close")}function Poe(t,e){t.emit("error",e),Mc.nextTick(ZH,t)}function Coe(t,e){!t||woe(t)||(!e&&!Soe(t)&&(e=new boe),Toe(t)?(t.socket=null,t.destroy(e)):NM(t)?t.abort():NM(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Mc.nextTick(Poe,t,e):Mc.nextTick(ZH,t),t.destroyed||(t[_oe]=!0))}var vm={construct:Ooe,destroyer:Coe,destroy:Eoe,undestroy:xoe,errorOrDestroy:n4},Cl={},Doe={get exports(){return Cl},set exports(t){Cl=t}},ry=typeof Reflect=="object"?Reflect:null,FM=ry&&typeof ry.apply=="function"?ry.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},V2;ry&&typeof ry.ownKeys=="function"?V2=ry.ownKeys:Object.getOwnPropertySymbols?V2=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:V2=function(e){return Object.getOwnPropertyNames(e)};function Noe(t){console&&console.warn&&console.warn(t)}var eq=Number.isNaN||function(e){return e!==e};function vn(){vn.init.call(this)}Doe.exports=vn;Cl.once=Moe;vn.EventEmitter=vn;vn.prototype._events=void 0;vn.prototype._eventsCount=0;vn.prototype._maxListeners=void 0;var LM=10;function a3(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(vn,"defaultMaxListeners",{enumerable:!0,get:function(){return LM},set:function(t){if(typeof t!="number"||t<0||eq(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");LM=t}});vn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};vn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||eq(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function tq(t){return t._maxListeners===void 0?vn.defaultMaxListeners:t._maxListeners}vn.prototype.getMaxListeners=function(){return tq(this)};vn.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=e==="error",s=this._events;if(s!==void 0)a=a&&s.error===void 0;else if(!a)return!1;if(a){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")FM(l,this,r);else for(var c=l.length,d=sq(l,c),n=0;n<c;++n)FM(d[n],this,r);return!0};function rq(t,e,r,n){var a,s,o;if(a3(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),a=tq(t),a>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,Noe(u)}return t}vn.prototype.addListener=function(e,r){return rq(this,e,r,!1)};vn.prototype.on=vn.prototype.addListener;vn.prototype.prependListener=function(e,r){return rq(this,e,r,!0)};function Foe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function nq(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=Foe.bind(n);return a.listener=r,n.wrapFn=a,a}vn.prototype.once=function(e,r){return a3(r),this.on(e,nq(this,e,r)),this};vn.prototype.prependOnceListener=function(e,r){return a3(r),this.prependListener(e,nq(this,e,r)),this};vn.prototype.removeListener=function(e,r){var n,a,s,o,u;if(a3(r),a=this._events,a===void 0)return this;if(n=a[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){u=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Loe(n,s),n.length===1&&(a[e]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",e,u||r)}return this};vn.prototype.off=vn.prototype.removeListener;vn.prototype.removeAllListeners=function(e){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(a=0;a<s.length;++a)o=s[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function iq(t,e,r){var n=t._events;if(n===void 0)return[];var a=n[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?joe(a):sq(a,a.length)}vn.prototype.listeners=function(e){return iq(this,e,!0)};vn.prototype.rawListeners=function(e){return iq(this,e,!1)};vn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):aq.call(t,e)};vn.prototype.listenerCount=aq;function aq(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}vn.prototype.eventNames=function(){return this._eventsCount>0?V2(this._events):[]};function sq(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Loe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function joe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Moe(t,e){return new Promise(function(r,n){function a(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}oq(t,e,s,{once:!0}),e!=="error"&&Boe(t,a,{once:!0})})}function Boe(t,e,r){typeof t.on=="function"&&oq(t,"error",e,r)}function oq(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(s){n.once&&t.removeEventListener(e,a),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}const{ArrayIsArray:koe,ObjectSetPrototypeOf:uq}=ca,{EventEmitter:s3}=Cl;function o3(t){s3.call(this,t)}uq(o3.prototype,s3.prototype);uq(o3,s3);o3.prototype.pipe=function(t,e){const r=this;function n(d){t.writable&&t.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function a(){r.readable&&r.resume&&r.resume()}t.on("drain",a),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",u));let s=!1;function o(){s||(s=!0,t.end())}function u(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(d){c(),s3.listenerCount(this,"error")===0&&this.emit("error",d)}i4(r,"error",l),i4(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",a),r.removeListener("end",o),r.removeListener("close",u),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function i4(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):koe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}var IF={Stream:o3,prependListener:i4},Fy={},$oe={get exports(){return Fy},set exports(t){Fy=t}};(function(t){const{AbortError:e,codes:r}=wo,{isNodeStream:n,isWebStream:a,kControllerErrorFunction:s}=hf,o=Pl,{ERR_INVALID_ARG_TYPE:u}=r,l=(c,d)=>{if(typeof c!="object"||!("aborted"in c))throw new u(d,"AbortSignal",c)};t.exports.addAbortSignal=function(d,f){if(l(d,"signal"),!n(f)&&!a(f))throw new u("stream",["ReadableStream","WritableStream","Stream"],f);return t.exports.addAbortSignalNoValidate(d,f)},t.exports.addAbortSignalNoValidate=function(c,d){if(typeof c!="object"||!("aborted"in c))return d;const f=n(d)?()=>{d.destroy(new e(void 0,{cause:c.reason}))}:()=>{d[s](new e(void 0,{cause:c.reason}))};return c.aborted?f():(c.addEventListener("abort",f),o(d,()=>c.removeEventListener("abort",f))),d}})($oe);const{StringPrototypeSlice:jM,SymbolIterator:Uoe,TypedArrayPrototypeSet:AS,Uint8Array:Voe}=ca,{Buffer:TC}=ru,{inspect:Hoe}=Il;var qoe=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){const r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return TC.alloc(0);const r=TC.allocUnsafe(e>>>0);let n=this.head,a=0;for(;n;)AS(r,n.data,a),a+=n.data.length,n=n.next;return r}consume(e,r){const n=this.head.data;if(e<n.length){const a=n.slice(0,e);return this.head.data=n.slice(e),a}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Uoe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,a=0;do{const s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++a,n.next?this.head=n.next:this.head=this.tail=null):(r+=jM(s,0,e),this.head=n,n.data=jM(s,e));break}++a}while((n=n.next)!==null);return this.length-=a,r}_getBuffer(e){const r=TC.allocUnsafe(e),n=e;let a=this.head,s=0;do{const o=a.data;if(e>o.length)AS(r,o,n-e),e-=o.length;else{e===o.length?(AS(r,o,n-e),++s,a.next?this.head=a.next:this.head=this.tail=null):(AS(r,new Voe(o.buffer,o.byteOffset,e),n-e),this.head=a,a.data=o.slice(e));break}++s}while((a=a.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Hoe(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:zoe,NumberIsInteger:Goe}=ca,{ERR_INVALID_ARG_VALUE:Qoe}=wo.codes;function Woe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function lq(t){return t?16:16*1024}function Koe(t,e,r,n){const a=Woe(e,n,r);if(a!=null){if(!Goe(a)||a<0){const s=n?`options.${r}`:"options.highWaterMark";throw new Qoe(s,a)}return zoe(a)}return lq(t.objectMode)}var PF={getHighWaterMark:Koe,getDefaultHighWaterMark:lq},LT={},jT={},Xoe={get exports(){return jT},set exports(t){jT=t}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=ru,n=r.Buffer;function a(o,u){for(var l in o)u[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=s);function s(o,u,l){return n(o,u,l)}s.prototype=Object.create(n.prototype),a(n,s),s.from=function(o,u,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,u,l)},s.alloc=function(o,u,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=n(o);return u!==void 0?typeof l=="string"?c.fill(u,l):c.fill(u):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Xoe,jT);var CF=jT.Buffer,MM=CF.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Joe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Yoe(t){var e=Joe(t);if(typeof e!="string"&&(CF.isEncoding===MM||!MM(t)))throw new Error("Unknown encoding: "+t);return e||t}LT.StringDecoder=g1;function g1(t){this.encoding=Yoe(t);var e;switch(this.encoding){case"utf16le":this.text=iue,this.end=aue,e=4;break;case"utf8":this.fillLast=tue,e=4;break;case"base64":this.text=sue,this.end=oue,e=3;break;default:this.write=uue,this.end=lue;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=CF.allocUnsafe(e)}g1.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};g1.prototype.end=nue;g1.prototype.text=rue;g1.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function EC(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Zoe(t,e,r){var n=e.length-1;if(n<r)return 0;var a=EC(e[n]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--n<r||a===-2?0:(a=EC(e[n]),a>=0?(a>0&&(t.lastNeed=a-2),a):--n<r||a===-2?0:(a=EC(e[n]),a>=0?(a>0&&(a===2?a=0:t.lastNeed=a-3),a):0))}function eue(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function tue(t){var e=this.lastTotal-this.lastNeed,r=eue(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function rue(t,e){var r=Zoe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function nue(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function iue(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function aue(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function sue(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function oue(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function uue(t){return t.toString(this.encoding)}function lue(t){return t&&t.length?this.write(t):""}const BM=ff(),{PromisePrototypeThen:cue,SymbolAsyncIterator:kM,SymbolIterator:$M}=ca,{Buffer:due}=ru,{ERR_INVALID_ARG_TYPE:fue,ERR_STREAM_NULL_VALUES:hue}=wo.codes;function pue(t,e,r){let n;if(typeof e=="string"||e instanceof due)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let a;if(e&&e[kM])a=!0,n=e[kM]();else if(e&&e[$M])a=!1,n=e[$M]();else throw new fue("iterable",["Iterable"],e);const s=new t({objectMode:!0,highWaterMark:1,...r});let o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,d){cue(u(c),()=>BM.nextTick(d,c),f=>BM.nextTick(d,f||c))};async function u(c){const d=c!=null,f=typeof n.throw=="function";if(d&&f){const{value:h,done:p}=await n.throw(c);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function l(){for(;;){try{const{value:c,done:d}=a?await n.next():n.next();if(d)s.push(null);else{const f=c&&typeof c.then=="function"?await c:c;if(f===null)throw o=!1,new hue;if(s.push(f))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}var cq=pue,AC,UM;function u3(){if(UM)return AC;UM=1;const t=ff(),{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:a,ObjectDefineProperties:s,ObjectKeys:o,ObjectSetPrototypeOf:u,Promise:l,SafeSet:c,SymbolAsyncIterator:d,Symbol:f}=ca;AC=ve,ve.ReadableState=Se;const{EventEmitter:h}=Cl,{Stream:p,prependListener:g}=IF,{Buffer:y}=ru,{addAbortSignal:S}=Fy,v=Pl;let A=Il.debuglog("stream",re=>{A=re});const E=qoe,T=vm,{getHighWaterMark:R,getDefaultHighWaterMark:I}=PF,{aggregateTwoErrors:D,codes:{ERR_INVALID_ARG_TYPE:M,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_OUT_OF_RANGE:O,ERR_STREAM_PUSH_AFTER_EOF:k,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Y}}=wo,{validateObject:ne}=e3,q=f("kPaused"),{StringDecoder:H}=LT,J=cq;u(ve.prototype,p.prototype),u(ve,p);const se=()=>{},{errorOrDestroy:ue}=T;function Se(re,le,X){typeof X!="boolean"&&(X=le instanceof Zd()),this.objectMode=!!(re&&re.objectMode),X&&(this.objectMode=this.objectMode||!!(re&&re.readableObjectMode)),this.highWaterMark=re?R(this,re,"readableHighWaterMark",X):I(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[q]=null,this.errorEmitted=!1,this.emitClose=!re||re.emitClose!==!1,this.autoDestroy=!re||re.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=re&&re.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,re&&re.encoding&&(this.decoder=new H(re.encoding),this.encoding=re.encoding)}function ve(re){if(!(this instanceof ve))return new ve(re);const le=this instanceof Zd();this._readableState=new Se(re,this,le),re&&(typeof re.read=="function"&&(this._read=re.read),typeof re.destroy=="function"&&(this._destroy=re.destroy),typeof re.construct=="function"&&(this._construct=re.construct),re.signal&&!le&&S(re.signal,this)),p.call(this,re),T.construct(this,()=>{this._readableState.needReadable&&He(this,this._readableState)})}ve.prototype.destroy=T.destroy,ve.prototype._undestroy=T.undestroy,ve.prototype._destroy=function(re,le){le(re)},ve.prototype[h.captureRejectionSymbol]=function(re){this.destroy(re)},ve.prototype.push=function(re,le){return Le(this,re,le,!1)},ve.prototype.unshift=function(re,le){return Le(this,re,le,!0)};function Le(re,le,X,$){A("readableAddChunk",le);const U=re._readableState;let V;if(U.objectMode||(typeof le=="string"?(X=X||U.defaultEncoding,U.encoding!==X&&($&&U.encoding?le=y.from(le,X).toString(U.encoding):(le=y.from(le,X),X=""))):le instanceof y?X="":p._isUint8Array(le)?(le=p._uint8ArrayToBuffer(le),X=""):le!=null&&(V=new M("chunk",["string","Buffer","Uint8Array"],le))),V)ue(re,V);else if(le===null)U.reading=!1,Te(re,U);else if(U.objectMode||le&&le.length>0)if($)if(U.endEmitted)ue(re,new Y);else{if(U.destroyed||U.errored)return!1;Xe(re,U,le,!0)}else if(U.ended)ue(re,new k);else{if(U.destroyed||U.errored)return!1;U.reading=!1,U.decoder&&!X?(le=U.decoder.write(le),U.objectMode||le.length!==0?Xe(re,U,le,!1):He(re,U)):Xe(re,U,le,!1)}else $||(U.reading=!1,He(re,U));return!U.ended&&(U.length<U.highWaterMark||U.length===0)}function Xe(re,le,X,$){le.flowing&&le.length===0&&!le.sync&&re.listenerCount("data")>0?(le.multiAwaitDrain?le.awaitDrainWriters.clear():le.awaitDrainWriters=null,le.dataEmitted=!0,re.emit("data",X)):(le.length+=le.objectMode?1:X.length,$?le.buffer.unshift(X):le.buffer.push(X),le.needReadable&&Oe(re)),He(re,le)}ve.prototype.isPaused=function(){const re=this._readableState;return re[q]===!0||re.flowing===!1},ve.prototype.setEncoding=function(re){const le=new H(re);this._readableState.decoder=le,this._readableState.encoding=this._readableState.decoder.encoding;const X=this._readableState.buffer;let $="";for(const U of X)$+=le.write(U);return X.clear(),$!==""&&X.push($),this._readableState.length=$.length,this};const Ne=1073741824;function ye(re){if(re>Ne)throw new O("size","<= 1GiB",re);return re--,re|=re>>>1,re|=re>>>2,re|=re>>>4,re|=re>>>8,re|=re>>>16,re++,re}function qe(re,le){return re<=0||le.length===0&&le.ended?0:le.objectMode?1:n(re)?le.flowing&&le.length?le.buffer.first().length:le.length:re<=le.length?re:le.ended?le.length:0}ve.prototype.read=function(re){A("read",re),re===void 0?re=NaN:r(re)||(re=a(re,10));const le=this._readableState,X=re;if(re>le.highWaterMark&&(le.highWaterMark=ye(re)),re!==0&&(le.emittedReadable=!1),re===0&&le.needReadable&&((le.highWaterMark!==0?le.length>=le.highWaterMark:le.length>0)||le.ended))return A("read: emitReadable",le.length,le.ended),le.length===0&&le.ended?fe(this):Oe(this),null;if(re=qe(re,le),re===0&&le.ended)return le.length===0&&fe(this),null;let $=le.needReadable;if(A("need readable",$),(le.length===0||le.length-re<le.highWaterMark)&&($=!0,A("length less than watermark",$)),le.ended||le.reading||le.destroyed||le.errored||!le.constructed)$=!1,A("reading, ended or constructing",$);else if($){A("do read"),le.reading=!0,le.sync=!0,le.length===0&&(le.needReadable=!0);try{this._read(le.highWaterMark)}catch(V){ue(this,V)}le.sync=!1,le.reading||(re=qe(X,le))}let U;return re>0?U=ce(re,le):U=null,U===null?(le.needReadable=le.length<=le.highWaterMark,re=0):(le.length-=re,le.multiAwaitDrain?le.awaitDrainWriters.clear():le.awaitDrainWriters=null),le.length===0&&(le.ended||(le.needReadable=!0),X!==re&&le.ended&&fe(this)),U!==null&&!le.errorEmitted&&!le.closeEmitted&&(le.dataEmitted=!0,this.emit("data",U)),U};function Te(re,le){if(A("onEofChunk"),!le.ended){if(le.decoder){const X=le.decoder.end();X&&X.length&&(le.buffer.push(X),le.length+=le.objectMode?1:X.length)}le.ended=!0,le.sync?Oe(re):(le.needReadable=!1,le.emittedReadable=!0,Be(re))}}function Oe(re){const le=re._readableState;A("emitReadable",le.needReadable,le.emittedReadable),le.needReadable=!1,le.emittedReadable||(A("emitReadable",le.flowing),le.emittedReadable=!0,t.nextTick(Be,re))}function Be(re){const le=re._readableState;A("emitReadable_",le.destroyed,le.length,le.ended),!le.destroyed&&!le.errored&&(le.length||le.ended)&&(re.emit("readable"),le.emittedReadable=!1),le.needReadable=!le.flowing&&!le.ended&&le.length<=le.highWaterMark,z(re)}function He(re,le){!le.readingMore&&le.constructed&&(le.readingMore=!0,t.nextTick(ee,re,le))}function ee(re,le){for(;!le.reading&&!le.ended&&(le.length<le.highWaterMark||le.flowing&&le.length===0);){const X=le.length;if(A("maybeReadMore read 0"),re.read(0),X===le.length)break}le.readingMore=!1}ve.prototype._read=function(re){throw new N("_read()")},ve.prototype.pipe=function(re,le){const X=this,$=this._readableState;$.pipes.length===1&&($.multiAwaitDrain||($.multiAwaitDrain=!0,$.awaitDrainWriters=new c($.awaitDrainWriters?[$.awaitDrainWriters]:[]))),$.pipes.push(re),A("pipe count=%d opts=%j",$.pipes.length,le);const V=(!le||le.end!==!1)&&re!==t.stdout&&re!==t.stderr?ke:ar;$.endEmitted?t.nextTick(V):X.once("end",V),re.on("unpipe",Ie);function Ie(Qr,yr){A("onunpipe"),Qr===X&&yr&&yr.hasUnpiped===!1&&(yr.hasUnpiped=!0,_t())}function ke(){A("onend"),re.end()}let Pe,ht=!1;function _t(){A("cleanup"),re.removeListener("close",Cn),re.removeListener("finish",gr),Pe&&re.removeListener("drain",Pe),re.removeListener("error",Jt),re.removeListener("unpipe",Ie),X.removeListener("end",ke),X.removeListener("end",ar),X.removeListener("data",Et),ht=!0,Pe&&$.awaitDrainWriters&&(!re._writableState||re._writableState.needDrain)&&Pe()}function Rt(){ht||($.pipes.length===1&&$.pipes[0]===re?(A("false write response, pause",0),$.awaitDrainWriters=re,$.multiAwaitDrain=!1):$.pipes.length>1&&$.pipes.includes(re)&&(A("false write response, pause",$.awaitDrainWriters.size),$.awaitDrainWriters.add(re)),X.pause()),Pe||(Pe=j(X,re),re.on("drain",Pe))}X.on("data",Et);function Et(Qr){A("ondata");const yr=re.write(Qr);A("dest.write",yr),yr===!1&&Rt()}function Jt(Qr){if(A("onerror",Qr),ar(),re.removeListener("error",Jt),re.listenerCount("error")===0){const yr=re._writableState||re._readableState;yr&&!yr.errorEmitted?ue(re,Qr):re.emit("error",Qr)}}g(re,"error",Jt);function Cn(){re.removeListener("finish",gr),ar()}re.once("close",Cn);function gr(){A("onfinish"),re.removeListener("close",Cn),ar()}re.once("finish",gr);function ar(){A("unpipe"),X.unpipe(re)}return re.emit("pipe",X),re.writableNeedDrain===!0?$.flowing&&Rt():$.flowing||(A("pipe resume"),X.resume()),re};function j(re,le){return function(){const $=re._readableState;$.awaitDrainWriters===le?(A("pipeOnDrain",1),$.awaitDrainWriters=null):$.multiAwaitDrain&&(A("pipeOnDrain",$.awaitDrainWriters.size),$.awaitDrainWriters.delete(le)),(!$.awaitDrainWriters||$.awaitDrainWriters.size===0)&&re.listenerCount("data")&&re.resume()}}ve.prototype.unpipe=function(re){const le=this._readableState,X={hasUnpiped:!1};if(le.pipes.length===0)return this;if(!re){const U=le.pipes;le.pipes=[],this.pause();for(let V=0;V<U.length;V++)U[V].emit("unpipe",this,{hasUnpiped:!1});return this}const $=e(le.pipes,re);return $===-1?this:(le.pipes.splice($,1),le.pipes.length===0&&this.pause(),re.emit("unpipe",this,X),this)},ve.prototype.on=function(re,le){const X=p.prototype.on.call(this,re,le),$=this._readableState;return re==="data"?($.readableListening=this.listenerCount("readable")>0,$.flowing!==!1&&this.resume()):re==="readable"&&!$.endEmitted&&!$.readableListening&&($.readableListening=$.needReadable=!0,$.flowing=!1,$.emittedReadable=!1,A("on readable",$.length,$.reading),$.length?Oe(this):$.reading||t.nextTick(m,this)),X},ve.prototype.addListener=ve.prototype.on,ve.prototype.removeListener=function(re,le){const X=p.prototype.removeListener.call(this,re,le);return re==="readable"&&t.nextTick(b,this),X},ve.prototype.off=ve.prototype.removeListener,ve.prototype.removeAllListeners=function(re){const le=p.prototype.removeAllListeners.apply(this,arguments);return(re==="readable"||re===void 0)&&t.nextTick(b,this),le};function b(re){const le=re._readableState;le.readableListening=re.listenerCount("readable")>0,le.resumeScheduled&&le[q]===!1?le.flowing=!0:re.listenerCount("data")>0?re.resume():le.readableListening||(le.flowing=null)}function m(re){A("readable nexttick read 0"),re.read(0)}ve.prototype.resume=function(){const re=this._readableState;return re.flowing||(A("resume"),re.flowing=!re.readableListening,C(this,re)),re[q]=!1,this};function C(re,le){le.resumeScheduled||(le.resumeScheduled=!0,t.nextTick(B,re,le))}function B(re,le){A("resume",le.reading),le.reading||re.read(0),le.resumeScheduled=!1,re.emit("resume"),z(re),le.flowing&&!le.reading&&re.read(0)}ve.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[q]=!0,this};function z(re){const le=re._readableState;for(A("flow",le.flowing);le.flowing&&re.read()!==null;);}ve.prototype.wrap=function(re){let le=!1;re.on("data",$=>{!this.push($)&&re.pause&&(le=!0,re.pause())}),re.on("end",()=>{this.push(null)}),re.on("error",$=>{ue(this,$)}),re.on("close",()=>{this.destroy()}),re.on("destroy",()=>{this.destroy()}),this._read=()=>{le&&re.resume&&(le=!1,re.resume())};const X=o(re);for(let $=1;$<X.length;$++){const U=X[$];this[U]===void 0&&typeof re[U]=="function"&&(this[U]=re[U].bind(re))}return this},ve.prototype[d]=function(){return Q(this)},ve.prototype.iterator=function(re){return re!==void 0&&ne(re,"options"),Q(this,re)};function Q(re,le){typeof re.read!="function"&&(re=ve.wrap(re,{objectMode:!0}));const X=ae(re,le);return X.stream=re,X}async function*ae(re,le){let X=se;function $(Ie){this===re?(X(),X=se):X=Ie}re.on("readable",$);let U;const V=v(re,{writable:!1},Ie=>{U=Ie?D(U,Ie):null,X(),X=se});try{for(;;){const Ie=re.destroyed?null:re.read();if(Ie!==null)yield Ie;else{if(U)throw U;if(U===null)return;await new l($)}}}catch(Ie){throw U=D(U,Ie),U}finally{(U||(le==null?void 0:le.destroyOnReturn)!==!1)&&(U===void 0||re._readableState.autoDestroy)?T.destroyer(re,null):(re.off("readable",$),V())}}s(ve.prototype,{readable:{__proto__:null,get(){const re=this._readableState;return!!re&&re.readable!==!1&&!re.destroyed&&!re.errorEmitted&&!re.endEmitted},set(re){this._readableState&&(this._readableState.readable=!!re)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(re){this._readableState&&(this._readableState.destroyed=re)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(Se.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[q]!==!1},set(re){this[q]=!!re}}}),ve._fromList=ce;function ce(re,le){if(le.length===0)return null;let X;return le.objectMode?X=le.buffer.shift():!re||re>=le.length?(le.decoder?X=le.buffer.join(""):le.buffer.length===1?X=le.buffer.first():X=le.buffer.concat(le.length),le.buffer.clear()):X=le.buffer.consume(re,le.decoder),X}function fe(re){const le=re._readableState;A("endReadable",le.endEmitted),le.endEmitted||(le.ended=!0,t.nextTick(be,le,re))}function be(re,le){if(A("endReadableNT",re.endEmitted,re.length),!re.errored&&!re.closeEmitted&&!re.endEmitted&&re.length===0){if(re.endEmitted=!0,le.emit("end"),le.writable&&le.allowHalfOpen===!1)t.nextTick(je,le);else if(re.autoDestroy){const X=le._writableState;(!X||X.autoDestroy&&(X.finished||X.writable===!1))&&le.destroy()}}}function je(re){re.writable&&!re.writableEnded&&!re.destroyed&&re.end()}ve.from=function(re,le){return J(ve,re,le)};let $e;function Ke(){return $e===void 0&&($e={}),$e}return ve.fromWeb=function(re,le){return Ke().newStreamReadableFromReadableStream(re,le)},ve.toWeb=function(re,le){return Ke().newReadableStreamFromStreamReadable(re,le)},ve.wrap=function(re,le){var X,$;return new ve({objectMode:(X=($=re.readableObjectMode)!==null&&$!==void 0?$:re.objectMode)!==null&&X!==void 0?X:!0,...le,destroy(U,V){T.destroyer(re,U),V(U)}}).wrap(re)},AC}var xC,VM;function dq(){if(VM)return xC;VM=1;const t=ff(),{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:a,ObjectDefineProperties:s,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:u,Symbol:l,SymbolHasInstance:c}=ca;xC=H,H.WritableState=ne;const{EventEmitter:d}=Cl,f=IF.Stream,{Buffer:h}=ru,p=vm,{addAbortSignal:g}=Fy,{getHighWaterMark:y,getDefaultHighWaterMark:S}=PF,{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:T,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:D,ERR_STREAM_WRITE_AFTER_END:M,ERR_UNKNOWN_ENCODING:N}=wo.codes,{errorOrDestroy:O}=p;o(H.prototype,f.prototype),o(H,f);function k(){}const Y=l("kOnFinished");function ne(m,C,B){typeof B!="boolean"&&(B=C instanceof Zd()),this.objectMode=!!(m&&m.objectMode),B&&(this.objectMode=this.objectMode||!!(m&&m.writableObjectMode)),this.highWaterMark=m?y(this,m,"writableHighWaterMark",B):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const z=!!(m&&m.decodeStrings===!1);this.decodeStrings=!z,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ve.bind(void 0,C),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,q(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!m||m.emitClose!==!1,this.autoDestroy=!m||m.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Y]=[]}function q(m){m.buffered=[],m.bufferedIndex=0,m.allBuffers=!0,m.allNoop=!0}ne.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},a(ne.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function H(m){const C=this instanceof Zd();if(!C&&!n(H,this))return new H(m);this._writableState=new ne(m,this,C),m&&(typeof m.write=="function"&&(this._write=m.write),typeof m.writev=="function"&&(this._writev=m.writev),typeof m.destroy=="function"&&(this._destroy=m.destroy),typeof m.final=="function"&&(this._final=m.final),typeof m.construct=="function"&&(this._construct=m.construct),m.signal&&g(m.signal,this)),f.call(this,m),p.construct(this,()=>{const B=this._writableState;B.writing||ye(this,B),Be(this,B)})}a(H,c,{__proto__:null,value:function(m){return n(this,m)?!0:this!==H?!1:m&&m._writableState instanceof ne}}),H.prototype.pipe=function(){O(this,new T)};function J(m,C,B,z){const Q=m._writableState;if(typeof B=="function")z=B,B=Q.defaultEncoding;else{if(!B)B=Q.defaultEncoding;else if(B!=="buffer"&&!h.isEncoding(B))throw new N(B);typeof z!="function"&&(z=k)}if(C===null)throw new D;if(!Q.objectMode)if(typeof C=="string")Q.decodeStrings!==!1&&(C=h.from(C,B),B="buffer");else if(C instanceof h)B="buffer";else if(f._isUint8Array(C))C=f._uint8ArrayToBuffer(C),B="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],C);let ae;return Q.ending?ae=new M:Q.destroyed&&(ae=new R("write")),ae?(t.nextTick(z,ae),O(m,ae,!0),ae):(Q.pendingcb++,se(m,Q,C,B,z))}H.prototype.write=function(m,C,B){return J(this,m,C,B)===!0},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){const m=this._writableState;m.corked&&(m.corked--,m.writing||ye(this,m))},H.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=u(C)),!h.isEncoding(C))throw new N(C);return this._writableState.defaultEncoding=C,this};function se(m,C,B,z,Q){const ae=C.objectMode?1:B.length;C.length+=ae;const ce=C.length<C.highWaterMark;return ce||(C.needDrain=!0),C.writing||C.corked||C.errored||!C.constructed?(C.buffered.push({chunk:B,encoding:z,callback:Q}),C.allBuffers&&z!=="buffer"&&(C.allBuffers=!1),C.allNoop&&Q!==k&&(C.allNoop=!1)):(C.writelen=ae,C.writecb=Q,C.writing=!0,C.sync=!0,m._write(B,z,C.onwrite),C.sync=!1),ce&&!C.errored&&!C.destroyed}function ue(m,C,B,z,Q,ae,ce){C.writelen=z,C.writecb=ce,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new R("write")):B?m._writev(Q,C.onwrite):m._write(Q,ae,C.onwrite),C.sync=!1}function Se(m,C,B,z){--C.pendingcb,z(B),Ne(C),O(m,B)}function ve(m,C){const B=m._writableState,z=B.sync,Q=B.writecb;if(typeof Q!="function"){O(m,new E);return}B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0,C?(C.stack,B.errored||(B.errored=C),m._readableState&&!m._readableState.errored&&(m._readableState.errored=C),z?t.nextTick(Se,m,B,C,Q):Se(m,B,C,Q)):(B.buffered.length>B.bufferedIndex&&ye(m,B),z?B.afterWriteTickInfo!==null&&B.afterWriteTickInfo.cb===Q?B.afterWriteTickInfo.count++:(B.afterWriteTickInfo={count:1,cb:Q,stream:m,state:B},t.nextTick(Le,B.afterWriteTickInfo)):Xe(m,B,1,Q))}function Le({stream:m,state:C,count:B,cb:z}){return C.afterWriteTickInfo=null,Xe(m,C,B,z)}function Xe(m,C,B,z){for(!C.ending&&!m.destroyed&&C.length===0&&C.needDrain&&(C.needDrain=!1,m.emit("drain"));B-- >0;)C.pendingcb--,z();C.destroyed&&Ne(C),Be(m,C)}function Ne(m){if(m.writing)return;for(let Q=m.bufferedIndex;Q<m.buffered.length;++Q){var C;const{chunk:ae,callback:ce}=m.buffered[Q],fe=m.objectMode?1:ae.length;m.length-=fe,ce((C=m.errored)!==null&&C!==void 0?C:new R("write"))}const B=m[Y].splice(0);for(let Q=0;Q<B.length;Q++){var z;B[Q]((z=m.errored)!==null&&z!==void 0?z:new R("end"))}q(m)}function ye(m,C){if(C.corked||C.bufferProcessing||C.destroyed||!C.constructed)return;const{buffered:B,bufferedIndex:z,objectMode:Q}=C,ae=B.length-z;if(!ae)return;let ce=z;if(C.bufferProcessing=!0,ae>1&&m._writev){C.pendingcb-=ae-1;const fe=C.allNoop?k:je=>{for(let $e=ce;$e<B.length;++$e)B[$e].callback(je)},be=C.allNoop&&ce===0?B:e(B,ce);be.allBuffers=C.allBuffers,ue(m,C,!0,C.length,be,"",fe),q(C)}else{do{const{chunk:fe,encoding:be,callback:je}=B[ce];B[ce++]=null;const $e=Q?1:fe.length;ue(m,C,!1,$e,fe,be,je)}while(ce<B.length&&!C.writing);ce===B.length?q(C):ce>256?(B.splice(0,ce),C.bufferedIndex=0):C.bufferedIndex=ce}C.bufferProcessing=!1}H.prototype._write=function(m,C,B){if(this._writev)this._writev([{chunk:m,encoding:C}],B);else throw new A("_write()")},H.prototype._writev=null,H.prototype.end=function(m,C,B){const z=this._writableState;typeof m=="function"?(B=m,m=null,C=null):typeof C=="function"&&(B=C,C=null);let Q;if(m!=null){const ae=J(this,m,C);ae instanceof r&&(Q=ae)}return z.corked&&(z.corked=1,this.uncork()),Q||(!z.errored&&!z.ending?(z.ending=!0,Be(this,z,!0),z.ended=!0):z.finished?Q=new I("end"):z.destroyed&&(Q=new R("end"))),typeof B=="function"&&(Q||z.finished?t.nextTick(B,Q):z[Y].push(B)),this};function qe(m){return m.ending&&!m.destroyed&&m.constructed&&m.length===0&&!m.errored&&m.buffered.length===0&&!m.finished&&!m.writing&&!m.errorEmitted&&!m.closeEmitted}function Te(m,C){let B=!1;function z(Q){if(B){O(m,Q??E());return}if(B=!0,C.pendingcb--,Q){const ae=C[Y].splice(0);for(let ce=0;ce<ae.length;ce++)ae[ce](Q);O(m,Q,C.sync)}else qe(C)&&(C.prefinished=!0,m.emit("prefinish"),C.pendingcb++,t.nextTick(He,m,C))}C.sync=!0,C.pendingcb++;try{m._final(z)}catch(Q){z(Q)}C.sync=!1}function Oe(m,C){!C.prefinished&&!C.finalCalled&&(typeof m._final=="function"&&!C.destroyed?(C.finalCalled=!0,Te(m,C)):(C.prefinished=!0,m.emit("prefinish")))}function Be(m,C,B){qe(C)&&(Oe(m,C),C.pendingcb===0&&(B?(C.pendingcb++,t.nextTick((z,Q)=>{qe(Q)?He(z,Q):Q.pendingcb--},m,C)):qe(C)&&(C.pendingcb++,He(m,C))))}function He(m,C){C.pendingcb--,C.finished=!0;const B=C[Y].splice(0);for(let z=0;z<B.length;z++)B[z]();if(m.emit("finish"),C.autoDestroy){const z=m._readableState;(!z||z.autoDestroy&&(z.endEmitted||z.readable===!1))&&m.destroy()}}s(H.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(m){this._writableState&&(this._writableState.destroyed=m)}},writable:{__proto__:null,get(){const m=this._writableState;return!!m&&m.writable!==!1&&!m.destroyed&&!m.errored&&!m.ending&&!m.ended},set(m){this._writableState&&(this._writableState.writable=!!m)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const m=this._writableState;return m?!m.destroyed&&!m.ending&&m.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const ee=p.destroy;H.prototype.destroy=function(m,C){const B=this._writableState;return!B.destroyed&&(B.bufferedIndex<B.buffered.length||B[Y].length)&&t.nextTick(Ne,B),ee.call(this,m,C),this},H.prototype._undestroy=p.undestroy,H.prototype._destroy=function(m,C){C(m)},H.prototype[d.captureRejectionSymbol]=function(m){this.destroy(m)};let j;function b(){return j===void 0&&(j={}),j}return H.fromWeb=function(m,C){return b().newStreamWritableFromWritableStream(m,C)},H.toWeb=function(m){return b().newWritableStreamFromStreamWritable(m)},xC}var OC,HM;function gue(){if(HM)return OC;HM=1;const t=ff(),e=ru,{isReadable:r,isWritable:n,isIterable:a,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:u,isDuplexNodeStream:l}=hf,c=Pl,{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:h}}=wo,{destroyer:p}=vm,g=Zd(),y=u3(),{createDeferredPromise:S}=Il,v=cq,A=globalThis.Blob||e.Blob,E=typeof A<"u"?function(O){return O instanceof A}:function(O){return!1},T=globalThis.AbortController||Oh.AbortController,{FunctionPrototypeCall:R}=ca;class I extends g{constructor(O){super(O),(O==null?void 0:O.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(O==null?void 0:O.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}OC=function N(O,k){if(l(O))return O;if(o(O))return M({readable:O});if(u(O))return M({writable:O});if(s(O))return M({writable:!1,readable:!1});if(typeof O=="function"){const{value:ne,write:q,final:H,destroy:J}=D(O);if(a(ne))return v(I,ne,{objectMode:!0,write:q,final:H,destroy:J});const se=ne==null?void 0:ne.then;if(typeof se=="function"){let ue;const Se=R(se,ne,ve=>{if(ve!=null)throw new h("nully","body",ve)},ve=>{p(ue,ve)});return ue=new I({objectMode:!0,readable:!1,write:q,final(ve){H(async()=>{try{await Se,t.nextTick(ve,null)}catch(Le){t.nextTick(ve,Le)}})},destroy:J})}throw new h("Iterable, AsyncIterable or AsyncFunction",k,ne)}if(E(O))return N(O.arrayBuffer());if(a(O))return v(I,O,{objectMode:!0,writable:!1});if(typeof(O==null?void 0:O.writable)=="object"||typeof(O==null?void 0:O.readable)=="object"){const ne=O!=null&&O.readable?o(O==null?void 0:O.readable)?O==null?void 0:O.readable:N(O.readable):void 0,q=O!=null&&O.writable?u(O==null?void 0:O.writable)?O==null?void 0:O.writable:N(O.writable):void 0;return M({readable:ne,writable:q})}const Y=O==null?void 0:O.then;if(typeof Y=="function"){let ne;return R(Y,O,q=>{q!=null&&ne.push(q),ne.push(null)},q=>{p(ne,q)}),ne=new I({objectMode:!0,writable:!1,read(){}})}throw new f(k,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],O)};function D(N){let{promise:O,resolve:k}=S();const Y=new T,ne=Y.signal;return{value:N(async function*(){for(;;){const H=O;O=null;const{chunk:J,done:se,cb:ue}=await H;if(t.nextTick(ue),se)return;if(ne.aborted)throw new d(void 0,{cause:ne.reason});({promise:O,resolve:k}=S()),yield J}}(),{signal:ne}),write(H,J,se){const ue=k;k=null,ue({chunk:H,done:!1,cb:se})},final(H){const J=k;k=null,J({done:!0,cb:H})},destroy(H,J){Y.abort(),J(H)}}}function M(N){const O=N.readable&&typeof N.readable.read!="function"?y.wrap(N.readable):N.readable,k=N.writable;let Y=!!r(O),ne=!!n(k),q,H,J,se,ue;function Se(ve){const Le=se;se=null,Le?Le(ve):ve&&ue.destroy(ve)}return ue=new I({readableObjectMode:!!(O!=null&&O.readableObjectMode),writableObjectMode:!!(k!=null&&k.writableObjectMode),readable:Y,writable:ne}),ne&&(c(k,ve=>{ne=!1,ve&&p(O,ve),Se(ve)}),ue._write=function(ve,Le,Xe){k.write(ve,Le)?Xe():q=Xe},ue._final=function(ve){k.end(),H=ve},k.on("drain",function(){if(q){const ve=q;q=null,ve()}}),k.on("finish",function(){if(H){const ve=H;H=null,ve()}})),Y&&(c(O,ve=>{Y=!1,ve&&p(O,ve),Se(ve)}),O.on("readable",function(){if(J){const ve=J;J=null,ve()}}),O.on("end",function(){ue.push(null)}),ue._read=function(){for(;;){const ve=O.read();if(ve===null){J=ue._read;return}if(!ue.push(ve))return}}),ue._destroy=function(ve,Le){!ve&&se!==null&&(ve=new d),J=null,q=null,H=null,se===null?Le(ve):(se=Le,p(k,ve),p(O,ve))},ue}return OC}var RC,qM;function Zd(){if(qM)return RC;qM=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=ca;RC=o;const a=u3(),s=dq();n(o.prototype,a.prototype),n(o,a);{const d=r(s.prototype);for(let f=0;f<d.length;f++){const h=d[f];o.prototype[h]||(o.prototype[h]=s.prototype[h])}}function o(d){if(!(this instanceof o))return new o(d);a.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let u;function l(){return u===void 0&&(u={}),u}o.fromWeb=function(d,f){return l().newStreamDuplexFromReadableWritablePair(d,f)},o.toWeb=function(d){return l().newReadableWritablePairFromDuplex(d)};let c;return o.from=function(d){return c||(c=gue()),c(d,"body")},RC}const{ObjectSetPrototypeOf:fq,Symbol:yue}=ca;var hq=ef;const{ERR_METHOD_NOT_IMPLEMENTED:mue}=wo.codes,DF=Zd(),{getHighWaterMark:vue}=PF;fq(ef.prototype,DF.prototype);fq(ef,DF);const jb=yue("kCallback");function ef(t){if(!(this instanceof ef))return new ef(t);const e=t?vue(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),DF.call(this,t),this._readableState.sync=!1,this[jb]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",bue)}function a4(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function bue(){this._final!==a4&&a4.call(this)}ef.prototype._final=a4;ef.prototype._transform=function(t,e,r){throw new mue("_transform()")};ef.prototype._write=function(t,e,r){const n=this._readableState,a=this._writableState,s=n.length;this._transform(t,e,(o,u)=>{if(o){r(o);return}u!=null&&this.push(u),a.ended||s===n.length||n.length<n.highWaterMark?r():this[jb]=r})};ef.prototype._read=function(){if(this[jb]){const t=this[jb];this[jb]=null,t()}};const{ObjectSetPrototypeOf:pq}=ca;var gq=Ly;const NF=hq;pq(Ly.prototype,NF.prototype);pq(Ly,NF);function Ly(t){if(!(this instanceof Ly))return new Ly(t);NF.call(this,t)}Ly.prototype._transform=function(t,e,r){r(null,t)};const nb=ff(),{ArrayIsArray:_ue,Promise:wue,SymbolAsyncIterator:Sue}=ca,MT=Pl,{once:Tue}=Il,Eue=vm,zM=Zd(),{aggregateTwoErrors:Aue,codes:{ERR_INVALID_ARG_TYPE:s4,ERR_INVALID_RETURN_VALUE:IC,ERR_MISSING_ARGS:xue,ERR_STREAM_DESTROYED:Oue,ERR_STREAM_PREMATURE_CLOSE:Rue},AbortError:Iue}=wo,{validateFunction:Pue,validateAbortSignal:Cue}=e3,{isIterable:bp,isReadable:PC,isReadableNodeStream:H2,isNodeStream:GM,isTransformStream:jg,isWebStream:Due,isReadableStream:CC,isReadableEnded:Nue}=hf,Fue=globalThis.AbortController||Oh.AbortController;let DC,NC;function QM(t,e,r){let n=!1;t.on("close",()=>{n=!0});const a=MT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Eue.destroyer(t,s||new Oue("pipe")))},cleanup:a}}function Lue(t){return Pue(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function FC(t){if(bp(t))return t;if(H2(t))return jue(t);throw new s4("val",["Readable","Iterable","AsyncIterable"],t)}async function*jue(t){NC||(NC=u3()),yield*NC.prototype[Sue].call(t)}async function xS(t,e,r,{end:n}){let a,s=null;const o=c=>{if(c&&(a=c),s){const d=s;s=null,d()}},u=()=>new wue((c,d)=>{a?d(a):s=()=>{a?d(a):c()}});e.on("drain",o);const l=MT(e,{readable:!1},o);try{e.writableNeedDrain&&await u();for await(const c of t)e.write(c)||await u();n&&e.end(),await u(),r()}catch(c){r(a!==c?Aue(a,c):c)}finally{l(),e.off("drain",o)}}async function LC(t,e,r,{end:n}){jg(e)&&(e=e.writable);const a=e.getWriter();try{for await(const s of t)await a.ready,a.write(s).catch(()=>{});await a.ready,n&&await a.close(),r()}catch(s){try{await a.abort(s),r(s)}catch(o){r(o)}}}function Mue(...t){return yq(t,Tue(Lue(t)))}function yq(t,e,r){if(t.length===1&&_ue(t[0])&&(t=t[0]),t.length<2)throw new xue("streams");const n=new Fue,a=n.signal,s=r==null?void 0:r.signal,o=[];Cue(s,"options.signal");function u(){p(new Iue)}s==null||s.addEventListener("abort",u);let l,c;const d=[];let f=0;function h(A){p(A,--f===0)}function p(A,E){if(A&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=A),!(!l&&!E)){for(;d.length;)d.shift()(l);s==null||s.removeEventListener("abort",u),n.abort(),E&&(l||o.forEach(T=>T()),nb.nextTick(e,l,c))}}let g;for(let A=0;A<t.length;A++){const E=t[A],T=A<t.length-1,R=A>0,I=T||(r==null?void 0:r.end)!==!1,D=A===t.length-1;if(GM(E)){let M=function(N){N&&N.name!=="AbortError"&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"&&h(N)};var v=M;if(I){const{destroy:N,cleanup:O}=QM(E,T,R);d.push(N),PC(E)&&D&&o.push(O)}E.on("error",M),PC(E)&&D&&o.push(()=>{E.removeListener("error",M)})}if(A===0)if(typeof E=="function"){if(g=E({signal:a}),!bp(g))throw new IC("Iterable, AsyncIterable or Stream","source",g)}else bp(E)||H2(E)||jg(E)?g=E:g=zM.from(E);else if(typeof E=="function"){if(jg(g)){var y;g=FC((y=g)===null||y===void 0?void 0:y.readable)}else g=FC(g);if(g=E(g,{signal:a}),T){if(!bp(g,!0))throw new IC("AsyncIterable",`transform[${A-1}]`,g)}else{var S;DC||(DC=gq);const M=new DC({objectMode:!0}),N=(S=g)===null||S===void 0?void 0:S.then;if(typeof N=="function")f++,N.call(g,Y=>{c=Y,Y!=null&&M.write(Y),I&&M.end(),nb.nextTick(h)},Y=>{M.destroy(Y),nb.nextTick(h,Y)});else if(bp(g,!0))f++,xS(g,M,h,{end:I});else if(CC(g)||jg(g)){const Y=g.readable||g;f++,xS(Y,M,h,{end:I})}else throw new IC("AsyncIterable or Promise","destination",g);g=M;const{destroy:O,cleanup:k}=QM(g,!1,!0);d.push(O),D&&o.push(k)}}else if(GM(E)){if(H2(g)){f+=2;const M=Bue(g,E,h,{end:I});PC(E)&&D&&o.push(M)}else if(jg(g)||CC(g)){const M=g.readable||g;f++,xS(M,E,h,{end:I})}else if(bp(g))f++,xS(g,E,h,{end:I});else throw new s4("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);g=E}else if(Due(E)){if(H2(g))f++,LC(FC(g),E,h,{end:I});else if(CC(g)||bp(g))f++,LC(g,E,h,{end:I});else if(jg(g))f++,LC(g.readable,E,h,{end:I});else throw new s4("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);g=E}else g=zM.from(E)}return(a!=null&&a.aborted||s!=null&&s.aborted)&&nb.nextTick(u),g}function Bue(t,e,r,{end:n}){let a=!1;if(e.on("close",()=>{a||r(new Rue)}),t.pipe(e,{end:!1}),n){let o=function(){a=!0,e.end()};var s=o;Nue(t)?nb.nextTick(o):t.once("end",o)}else r();return MT(t,{readable:!0,writable:!1},o=>{const u=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&u&&u.ended&&!u.errored&&!u.errorEmitted?t.once("end",r).once("error",r):r(o)}),MT(e,{readable:!1,writable:!0},r)}var FF={pipelineImpl:yq,pipeline:Mue};const{pipeline:kue}=FF,OS=Zd(),{destroyer:$ue}=vm,{isNodeStream:RS,isReadable:WM,isWritable:KM,isWebStream:jC,isTransformStream:ap,isWritableStream:XM,isReadableStream:JM}=hf,{AbortError:Uue,codes:{ERR_INVALID_ARG_VALUE:YM,ERR_MISSING_ARGS:Vue}}=wo,Hue=Pl;var mq=function(...e){if(e.length===0)throw new Vue("streams");if(e.length===1)return OS.from(e[0]);const r=[...e];if(typeof e[0]=="function"&&(e[0]=OS.from(e[0])),typeof e[e.length-1]=="function"){const p=e.length-1;e[p]=OS.from(e[p])}for(let p=0;p<e.length;++p)if(!(!RS(e[p])&&!jC(e[p]))){if(p<e.length-1&&!(WM(e[p])||JM(e[p])||ap(e[p])))throw new YM(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(KM(e[p])||XM(e[p])||ap(e[p])))throw new YM(`streams[${p}]`,r[p],"must be writable")}let n,a,s,o,u;function l(p){const g=o;o=null,g?g(p):p?u.destroy(p):!h&&!f&&u.destroy()}const c=e[0],d=kue(e,l),f=!!(KM(c)||XM(c)||ap(c)),h=!!(WM(d)||JM(d)||ap(d));if(u=new OS({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(d!=null&&d.writableObjectMode),writable:f,readable:h}),f){if(RS(c))u._write=function(g,y,S){c.write(g,y)?S():n=S},u._final=function(g){c.end(),a=g},c.on("drain",function(){if(n){const g=n;n=null,g()}});else if(jC(c)){const y=(ap(c)?c.writable:c).getWriter();u._write=async function(S,v,A){try{await y.ready,y.write(S).catch(()=>{}),A()}catch(E){A(E)}},u._final=async function(S){try{await y.ready,y.close().catch(()=>{}),a=S}catch(v){S(v)}}}const p=ap(d)?d.readable:d;Hue(p,()=>{if(a){const g=a;a=null,g()}})}if(h){if(RS(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){u.push(null)}),u._read=function(){for(;;){const p=d.read();if(p===null){s=u._read;return}if(!u.push(p))return}};else if(jC(d)){const g=(ap(d)?d.readable:d).getReader();u._read=async function(){for(;;)try{const{value:y,done:S}=await g.read();if(!u.push(y))return;if(S){u.push(null);return}}catch{return}}}}return u._destroy=function(p,g){!p&&o!==null&&(p=new Uue),s=null,n=null,a=null,o===null?g(p):(o=g,RS(d)&&$ue(d,p))},u};const vq=globalThis.AbortController||Oh.AbortController,{codes:{ERR_INVALID_ARG_VALUE:que,ERR_INVALID_ARG_TYPE:y1,ERR_MISSING_ARGS:zue,ERR_OUT_OF_RANGE:Gue},AbortError:Qc}=wo,{validateAbortSignal:A0,validateInteger:Que,validateObject:x0}=e3,Wue=ca.Symbol("kWeak"),{finished:Kue}=Pl,Xue=mq,{addAbortSignalNoValidate:Jue}=Fy,{isWritable:Yue,isNodeStream:Zue}=hf,{ArrayPrototypePush:ele,MathFloor:tle,Number:rle,NumberIsNaN:nle,Promise:ZM,PromiseReject:e9,PromisePrototypeThen:ile,Symbol:bq}=ca,BT=bq("kEmpty"),t9=bq("kEof");function ale(t,e){if(e!=null&&x0(e,"options"),(e==null?void 0:e.signal)!=null&&A0(e.signal,"options.signal"),Zue(t)&&!Yue(t))throw new que("stream",t,"must be writable");const r=Xue(this,t);return e!=null&&e.signal&&Jue(e.signal,r),r}function l3(t,e){if(typeof t!="function")throw new y1("fn",["Function","AsyncFunction"],t);e!=null&&x0(e,"options"),(e==null?void 0:e.signal)!=null&&A0(e.signal,"options.signal");let r=1;return(e==null?void 0:e.concurrency)!=null&&(r=tle(e.concurrency)),Que(r,"concurrency",1),async function*(){var a,s;const o=new vq,u=this,l=[],c=o.signal,d={signal:c},f=()=>o.abort();e!=null&&(a=e.signal)!==null&&a!==void 0&&a.aborted&&f(),e==null||(s=e.signal)===null||s===void 0||s.addEventListener("abort",f);let h,p,g=!1;function y(){g=!0}async function S(){try{for await(let E of u){var v;if(g)return;if(c.aborted)throw new Qc;try{E=t(E,d)}catch(T){E=e9(T)}E!==BT&&(typeof((v=E)===null||v===void 0?void 0:v.catch)=="function"&&E.catch(y),l.push(E),h&&(h(),h=null),!g&&l.length&&l.length>=r&&await new ZM(T=>{p=T}))}l.push(t9)}catch(E){const T=e9(E);ile(T,void 0,y),l.push(T)}finally{var A;g=!0,h&&(h(),h=null),e==null||(A=e.signal)===null||A===void 0||A.removeEventListener("abort",f)}}S();try{for(;;){for(;l.length>0;){const v=await l[0];if(v===t9)return;if(c.aborted)throw new Qc;v!==BT&&(yield v),l.shift(),p&&(p(),p=null)}await new ZM(v=>{h=v})}}finally{o.abort(),g=!0,p&&(p(),p=null)}}.call(this)}function sle(t=void 0){return t!=null&&x0(t,"options"),(t==null?void 0:t.signal)!=null&&A0(t.signal,"options.signal"),async function*(){let r=0;for await(const a of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Qc({cause:t.signal.reason});yield[r++,a]}}.call(this)}async function _q(t,e=void 0){for await(const r of LF.call(this,t,e))return!0;return!1}async function ole(t,e=void 0){if(typeof t!="function")throw new y1("fn",["Function","AsyncFunction"],t);return!await _q.call(this,async(...r)=>!await t(...r),e)}async function ule(t,e){for await(const r of LF.call(this,t,e))return r}async function lle(t,e){if(typeof t!="function")throw new y1("fn",["Function","AsyncFunction"],t);async function r(n,a){return await t(n,a),BT}for await(const n of l3.call(this,r,e));}function LF(t,e){if(typeof t!="function")throw new y1("fn",["Function","AsyncFunction"],t);async function r(n,a){return await t(n,a)?n:BT}return l3.call(this,r,e)}class cle extends zue{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function dle(t,e,r){var n;if(typeof t!="function")throw new y1("reducer",["Function","AsyncFunction"],t);r!=null&&x0(r,"options"),(r==null?void 0:r.signal)!=null&&A0(r.signal,"options.signal");let a=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const c=new Qc(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Kue(this.destroy(c)),c}const s=new vq,o=s.signal;if(r!=null&&r.signal){const c={once:!0,[Wue]:this};r.signal.addEventListener("abort",()=>s.abort(),c)}let u=!1;try{for await(const c of this){var l;if(u=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Qc;a?e=await t(e,c,{signal:o}):(e=c,a=!0)}if(!u&&!a)throw new cle}finally{s.abort()}return e}async function fle(t){t!=null&&x0(t,"options"),(t==null?void 0:t.signal)!=null&&A0(t.signal,"options.signal");const e=[];for await(const n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Qc(void 0,{cause:t.signal.reason});ele(e,n)}return e}function hle(t,e){const r=l3.call(this,t,e);return async function*(){for await(const a of r)yield*a}.call(this)}function wq(t){if(t=rle(t),nle(t))return 0;if(t<0)throw new Gue("number",">= 0",t);return t}function ple(t,e=void 0){return e!=null&&x0(e,"options"),(e==null?void 0:e.signal)!=null&&A0(e.signal,"options.signal"),t=wq(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Qc;for await(const s of this){var a;if(e!=null&&(a=e.signal)!==null&&a!==void 0&&a.aborted)throw new Qc;t--<=0&&(yield s)}}.call(this)}function gle(t,e=void 0){return e!=null&&x0(e,"options"),(e==null?void 0:e.signal)!=null&&A0(e.signal,"options.signal"),t=wq(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Qc;for await(const s of this){var a;if(e!=null&&(a=e.signal)!==null&&a!==void 0&&a.aborted)throw new Qc;if(t-- >0)yield s;else return}}.call(this)}EF.streamReturningOperators={asIndexedPairs:sle,drop:ple,filter:LF,flatMap:hle,map:l3,take:gle,compose:ale};EF.promiseReturningOperators={every:ole,forEach:lle,reduce:dle,toArray:fle,some:_q,find:ule};var MC,r9;function Sq(){if(r9)return MC;r9=1;const{ArrayPrototypePop:t,Promise:e}=ca,{isIterable:r,isNodeStream:n,isWebStream:a}=hf,{pipelineImpl:s}=FF,{finished:o}=Pl;Tq();function u(...l){return new e((c,d)=>{let f,h;const p=l[l.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!a(p)){const g=t(l);f=g.signal,h=g.end}s(l,(g,y)=>{g?d(g):c(y)},{signal:f,end:h})})}return MC={finished:o,pipeline:u},MC}var n9;function Tq(){if(n9)return DT;n9=1;const{Buffer:t}=ru,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=ca,{promisify:{custom:a}}=Il,{streamReturningOperators:s,promiseReturningOperators:o}=EF,{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=wo,l=mq,{pipeline:c}=FF,{destroyer:d}=vm,f=Pl,h=Sq(),p=hf,g=$ae.exports=IF.Stream;g.isDisturbed=p.isDisturbed,g.isErrored=p.isErrored,g.isReadable=p.isReadable,g.Readable=u3();for(const v of r(s)){let E=function(...T){if(new.target)throw u();return g.Readable.from(n(A,this,T))};var S=E;const A=s[v];e(E,"name",{__proto__:null,value:A.name}),e(E,"length",{__proto__:null,value:A.length}),e(g.Readable.prototype,v,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}for(const v of r(o)){let E=function(...R){if(new.target)throw u();return n(A,this,R)};var S=E;const A=o[v];e(E,"name",{__proto__:null,value:A.name}),e(E,"length",{__proto__:null,value:A.length}),e(g.Readable.prototype,v,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}g.Writable=dq(),g.Duplex=Zd(),g.Transform=hq,g.PassThrough=gq,g.pipeline=c;const{addAbortSignal:y}=Fy;return g.addAbortSignal=y,g.finished=f,g.destroy=d,g.compose=l,e(g,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return h}}),e(c,a,{__proto__:null,enumerable:!0,get(){return h.pipeline}}),e(f,a,{__proto__:null,enumerable:!0,get(){return h.finished}}),g.Stream=g,g._isUint8Array=function(A){return A instanceof Uint8Array},g._uint8ArrayToBuffer=function(A){return t.from(A.buffer,A.byteOffset,A.byteLength)},DT}(function(t){const e=Tq(),r=Sq(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(kae);var c3={},fv={},lr={},m1={};Object.defineProperty(m1,"__esModule",{value:!0});m1.BlankNode=void 0;let yle=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}};m1.BlankNode=yle;var d3={},v1={};Object.defineProperty(v1,"__esModule",{value:!0});v1.DefaultGraph=void 0;let o4=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&e.termType==="DefaultGraph"}};v1.DefaultGraph=o4;o4.INSTANCE=new o4;var b1={},bm={};Object.defineProperty(bm,"__esModule",{value:!0});bm.NamedNode=void 0;let mle=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&e.termType==="NamedNode"&&e.value===this.value}};bm.NamedNode=mle;Object.defineProperty(b1,"__esModule",{value:!0});b1.Literal=void 0;const Eq=bm;let u_=class{constructor(e,r){this.termType="Literal",this.value=e,typeof r=="string"?(this.language=r,this.datatype=u_.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=u_.XSD_STRING)}equals(e){return!!e&&e.termType==="Literal"&&e.value===this.value&&e.language===this.language&&this.datatype.equals(e.datatype)}};b1.Literal=u_;u_.RDF_LANGUAGE_STRING=new Eq.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");u_.XSD_STRING=new Eq.NamedNode("http://www.w3.org/2001/XMLSchema#string");var _1={};Object.defineProperty(_1,"__esModule",{value:!0});_1.Quad=void 0;let vle=class{constructor(e,r,n,a){this.termType="Quad",this.value="",this.subject=e,this.predicate=r,this.object=n,this.graph=a}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}};_1.Quad=vle;var w1={};Object.defineProperty(w1,"__esModule",{value:!0});w1.Variable=void 0;let ble=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&e.termType==="Variable"&&e.value===this.value}};w1.Variable=ble;Object.defineProperty(d3,"__esModule",{value:!0});d3.DataFactory=void 0;const _le=m1,wle=v1,i9=b1,Sle=bm,Tle=_1,Ele=w1;let Ale=0,xle=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${Ale++}_`}namedNode(e){return new Sle.NamedNode(e)}blankNode(e){return new _le.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,r){return new i9.Literal(e,r)}variable(e){return new Ele.Variable(e)}defaultGraph(){return wle.DefaultGraph.INSTANCE}quad(e,r,n,a){return new Tle.Quad(e,r,n,a||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(i9.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}};d3.DataFactory=xle;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(m1,t),r(d3,t),r(v1,t),r(b1,t),r(bm,t),r(_1,t),r(w1,t)})(lr);var hv={},f3={};Object.defineProperty(f3,"__esModule",{value:!0});f3.ContainerHandlerIdentifier=void 0;class Ole{canCombineWithGraph(){return!0}async handle(e,r,n,a,s,o){let u;if(r.emittedStack[o+1]&&r.idStack[o+1])u=r.idStack[o+1][0];else{const d=await n.getContainerKey(a[o],a,o)!==null?await n.resourceToTerm(await r.getContext(a),a[o]):n.dataFactory.blankNode();if(!d){r.emittedStack[o]=!1;return}u=d,r.idStack[o+1]=[u]}let l=r.idStack[o];l||(l=r.idStack[o]=[]),l.some(c=>c.equals(u))||l.push(u),await r.handlePendingContainerFlushBuffers()||(r.emittedStack[o]=!1)}}f3.ContainerHandlerIdentifier=Ole;var pv={},gv={},a9;function h3(){if(a9)return gv;a9=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.EntryHandlerPredicate=void 0;const t=la,e=O0();let r=class{static async handlePredicateObject(a,s,o,u,l,c,d,f,h){const p=await s.getPropertiesDepth(o,u),g=await s.getDepthOffsetGraph(u,o),y=u-g,S=a.idStack[p];if(S&&!h)for(const v of S)if(g>=0){const E=a.idStack[y-1];if(E)for(const T of E)s.emitQuadChecked(u,v,l,c,T,d,f);else d?(s.validateReverseSubject(c),a.getUnidentifiedGraphBufferSafe(y-1).push({subject:c,predicate:l,object:v,isEmbedded:f})):a.getUnidentifiedGraphBufferSafe(y-1).push({subject:v,predicate:l,object:c,isEmbedded:f})}else{const E=await s.getGraphContainerValue(o,p);s.emitQuadChecked(u,v,l,c,E,d,f)}else if(d&&s.validateReverseSubject(c),h){if(a.rdfstar){a.idStack[u]&&a.emitError(new t.ErrorCoded(`Found an illegal @id inside an annotation: ${a.idStack[u][0].value}`,t.ERROR_CODES.INVALID_ANNOTATION));for(let E=0;E<u;E++)await s.unaliasKeyword(o[E],o,E)==="@id"&&a.emitError(new t.ErrorCoded("Found an illegal annotation inside an embedded node",t.ERROR_CODES.INVALID_ANNOTATION));const v=a.getAnnotationsBufferSafe(p),A={predicate:l,object:c,reverse:d,nestedAnnotations:[],depth:p};v.push(A);for(let E=v.length-2;E>=0;E--){const T=v[E];T.depth>p&&(A.nestedAnnotations.push(T),v.splice(E,1))}}}else a.getUnidentifiedValueBufferSafe(p).push({predicate:l,object:c,reverse:d,isEmbedded:f})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(a,s,o,u,l){const c=o[u];if(c){const d=await a.getContext(o);if(!a.jsonLiteralStack[u]&&await s.predicateToTerm(d,o[u]))return e.Util.getContextValueType(d,c)==="@json"&&(a.jsonLiteralStack[u+1]=!0),!0}return!1}async test(a,s,o,u,l){return u[l]}async handle(a,s,o,u,l,c,d){const f=u[c],h=await a.getContext(u),p=await s.predicateToTerm(h,o);if(p){const g=await s.valueToTerm(h,o,l,c,u);if(g.length)for(let y of g){let S=await s.unaliasKeywordParent(u,c);const v=e.Util.isPropertyReverse(h,f,S);let A=0;for(;S==="@reverse"||typeof S=="number";)typeof S=="number"?A++:c--,S=await s.unaliasKeywordParent(u,c-A);const E=e.Util.isPropertyInEmbeddedNode(S);s.validateReverseInEmbeddedNode(o,v,E);const T=e.Util.isPropertyInAnnotationObject(S);if(l){const R="@list"in e.Util.getContextValueContainer(h,o);if(R||l["@list"]){if((R&&!Array.isArray(l)&&!l["@list"]||l["@list"]&&!Array.isArray(l["@list"]))&&y!==s.rdfNil){const I=s.dataFactory.blankNode();a.emitQuad(c,s.dataFactory.quad(I,s.rdfRest,s.rdfNil,s.getDefaultGraph())),a.emitQuad(c,s.dataFactory.quad(I,s.rdfFirst,y,s.getDefaultGraph())),y=I}if(v&&!a.allowSubjectList)throw new t.ErrorCoded(`Found illegal list value in subject position at ${o}`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await r.handlePredicateObject(a,s,u,c,p,y,v,E,T)}}}};return gv.EntryHandlerPredicate=r,gv}var s9;function Rle(){if(s9)return pv;s9=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.ContainerHandlerIndex=void 0;const t=la,e=h3(),r=O0();let n=class{canCombineWithGraph(){return!0}async handle(s,o,u,l,c,d){if(!Array.isArray(c)){const f="@graph"in s,h=await o.getContext(l),p=l[d-1],g=r.Util.getContextValueIndex(h,p);if(g){if(t.Util.isPotentialKeyword(g))throw new t.ErrorCoded(`Keywords can not be used as @index value, got: ${g}`,t.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof g!="string")throw new t.ErrorCoded(`@index values must be strings, got: ${g}`,t.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof c!="object"){if(r.Util.getContextValueType(h,p)!=="@id")throw new t.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${c}`,t.ERROR_CODES.INVALID_VALUE_OBJECT);const v=u.resourceToTerm(h,c);v&&(o.idStack[d+1]=[v])}const S=u.createVocabOrBaseTerm(h,g);if(S){const v=await u.valueToTerm(h,g,await u.getContainerKey(l[d],l,d),d,l);if(f){const A=await u.getGraphContainerValue(l,d+1);for(const E of v)o.emitQuad(d,u.dataFactory.quad(A,S,E,u.getDefaultGraph()))}else for(const A of v)await e.EntryHandlerPredicate.handlePredicateObject(o,u,l,d+1,S,A,!1,!1,!1)}}const y=f?2:1;await o.newOnValueJob(l.slice(0,l.length-y),c,d-y,!0),await o.handlePendingContainerFlushBuffers()}o.emittedStack[d]=!1}};return pv.ContainerHandlerIndex=n,pv}var p3={};Object.defineProperty(p3,"__esModule",{value:!0});p3.ContainerHandlerLanguage=void 0;const o9=la;class Ile{canCombineWithGraph(){return!1}async handle(e,r,n,a,s,o){const u=await n.getContainerKey(a[o],a,o);if(Array.isArray(s))s=s.map(l=>({"@value":l,"@language":u}));else{if(typeof s!="string")throw new o9.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(s)}', but expected string`,o9.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);s={"@value":s,"@language":u}}await r.newOnValueJob(a.slice(0,a.length-1),s,o-1,!0),r.emittedStack[o]=!1}}p3.ContainerHandlerLanguage=Ile;var yv={},u9;function Ple(){if(u9)return yv;u9=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.ContainerHandlerType=void 0;const t=h3(),e=O0();let r=class{canCombineWithGraph(){return!1}async handle(a,s,o,u,l,c){if(!Array.isArray(l)){if(typeof l=="string"){const h=await s.getContext(u),g=e.Util.getContextValueType(h,u[c-1])==="@vocab"?await o.createVocabOrBaseTerm(h,l):await o.resourceToTerm(h,l);if(g){const y={"@id":g.termType==="NamedNode"?g.value:l};await s.newOnValueJob(u.slice(0,u.length-1),y,c-1,!0),s.idStack[c+1]=[g]}}else{const h=!!s.idStack[c+1];h||delete s.idStack[c],await s.newOnValueJob(u.slice(0,u.length-1),l,c-1,!0),h||(s.idStack[c+1]=s.idStack[c])}const d=await o.getContainerKey(u[c],u,c),f=d!==null?o.createVocabOrBaseTerm(await s.getContext(u),d):null;f&&await t.EntryHandlerPredicate.handlePredicateObject(s,o,u,c+1,o.rdfType,f,!1,!1,!1),await s.handlePendingContainerFlushBuffers()}s.emittedStack[c]=!1}};return yv.ContainerHandlerType=r,yv}var l9;function Aq(){if(l9)return hv;l9=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.EntryHandlerContainer=void 0;const t=f3,e=Rle(),r=p3,n=Ple(),a=O0();let s=class{static isSimpleGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length===2||Object.keys(u).length===1)}static isComplexGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length>2||!("@set"in u)&&Object.keys(u).length>1)}static getContainerGraphIndex(u,l,c){let d=s.isSimpleGraphContainer(u),f="";for(let h=l;h<c.length;h++)(!d||typeof c[h]=="number")&&(f+=":"+c[h]),!d&&typeof c[h]!="number"&&(d=!0);return f}static async getContainerHandler(u,l,c){const d={containers:{"@set":!0},depth:c,fallback:!0};let f=!1;const h=await u.getContext(l,2);for(let p=c-1;p>=0;p--)if(typeof l[p]!="number"){const g=a.Util.getContextValue(h,"@container",l[p],!1);if(g&&s.isSimpleGraphContainer(g))return{containers:g,depth:p+1,fallback:!1};const y=a.Util.getContextValue(h,"@container",l[p-1],!1);if(y){const S="@graph"in y;for(const v in s.CONTAINER_HANDLERS)if(y[v])return S?s.CONTAINER_HANDLERS[v].canCombineWithGraph()?{containers:y,depth:p,fallback:!1}:d:f?d:{containers:y,depth:p,fallback:!1};return d}else{if(f)return d;f=!0}}return d}static async isBufferableContainerHandler(u,l,c){const d=await s.getContainerHandler(u,l,c);return!d.fallback&&!("@graph"in d.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,l,c,d,f){return!!await this.test(u,l,null,c,d)}async test(u,l,c,d,f){const h=a.Util.getContextValueContainer(await u.getContext(d,2),d[f-1]);for(const p in s.CONTAINER_HANDLERS)if(h[p])return{containers:h,handler:s.CONTAINER_HANDLERS[p]};return null}async handle(u,l,c,d,f,h,p){return p.handler.handle(p.containers,u,l,d,f,h)}};return hv.EntryHandlerContainer=s,s.CONTAINER_HANDLERS={"@id":new t.ContainerHandlerIdentifier,"@index":new e.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},hv}var Cle=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((r,n,a)=>{const s=a===0?"":",",o=n===void 0||typeof n=="symbol"?null:n;return r+s+t(o)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,a)=>{if(e[n]===void 0||typeof e[n]=="symbol")return r;const s=r.length===0?"":",";return r+s+t(n)+":"+t(e[n])},"")+"}"},c9;function O0(){if(c9)return fv;c9=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.Util=void 0;const t=la,e=lr,r=Aq(),n=Cle;class a{constructor(o){this.parsingContext=o.parsingContext,this.dataFactory=o.dataFactory||new e.DataFactory,this.rdfFirst=this.dataFactory.namedNode(a.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(a.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(a.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(a.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(a.RDF+"JSON")}static getContextValue(o,u,l,c){const d=o.getContextRaw()[l];if(!d)return c;const f=d[u];return f===void 0?c:f}static getContextValueContainer(o,u){return a.getContextValue(o,"@container",u,{"@set":!0})}static getContextValueType(o,u){const l=a.getContextValue(o,"@type",u,null);return l==="@none"?null:l}static getContextValueLanguage(o,u){return a.getContextValue(o,"@language",u,o.getContextRaw()["@language"]||null)}static getContextValueDirection(o,u){return a.getContextValue(o,"@direction",u,o.getContextRaw()["@direction"]||null)}static isContextValueReverse(o,u){return!!a.getContextValue(o,"@reverse",u,null)}static getContextValueIndex(o,u){return a.getContextValue(o,"@index",u,o.getContextRaw()["@index"]||null)}static isPropertyReverse(o,u,l){return l==="@reverse"!==a.isContextValueReverse(o,u)}static isPropertyInEmbeddedNode(o){return o==="@id"}static isPropertyInAnnotationObject(o){return o==="@annotation"}static isValidIri(o){return o!==null&&t.Util.isValidIri(o)}static isPrefixArray(o,u){if(o.length>u.length)return!1;for(let l=0;l<o.length;l++)if(o[l]!==u[l])return!1;return!0}async validateValueIndexes(o){if(this.parsingContext.validateValueIndexes){const u={};for(const l of o)if(l&&typeof l=="object"){const c=l["@id"],d=l["@index"];if(c&&d){const f=u[c];if(f&&f!==d)throw new t.ErrorCoded(`Conflicting @index value for ${c}`,t.ERROR_CODES.CONFLICTING_INDEXES);u[c]=d}}}}async valueToTerm(o,u,l,c,d){if(a.getContextValueType(o,u)==="@json")return[this.dataFactory.literal(this.valueToJsonString(l),this.rdfJson)];const f=typeof l;switch(f){case"object":if(l==null)return[];if(Array.isArray(l))return"@list"in a.getContextValueContainer(o,u)?l.length===0?[this.rdfNil]:this.parsingContext.idStack[c+1]||[]:(await this.validateValueIndexes(l),[]);if(o=await this.getContextSelfOrPropertyScoped(o,u),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],(await this.parsingContext.getContext(d,0)).getContextRaw())),l=await this.unaliasKeywords(l,d,c,o),"@value"in l){let h,p,g,y,S;for(u in l){const v=l[u];switch(u){case"@value":h=v;break;case"@language":p=v;break;case"@direction":g=v;break;case"@type":y=v;break;case"@index":S=v;break;case"@annotation":break;default:throw new t.ErrorCoded(`Unknown value entry '${u}' in @value: ${JSON.stringify(l)}`,t.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(y,d,c,!0,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(h),this.rdfJson)];if(h===null)return[];if(typeof h=="object")throw new t.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(h)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&S&&typeof S!="string")throw new t.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(S)}'`,t.ERROR_CODES.INVALID_INDEX_VALUE);if(p){if(typeof h!="string")throw new t.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`,t.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!t.ContextParser.validateLanguage(p,this.parsingContext.strictValues,t.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(p=p.toLowerCase())}if(g){if(typeof h!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`);if(!t.ContextParser.validateDirection(g,this.parsingContext.strictValues))return[]}if(p&&g&&this.parsingContext.rdfDirection){if(y)throw new t.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(c,h,p,g))}else if(p){if(y)throw new t.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(h,p)]}else if(g&&this.parsingContext.rdfDirection){if(y)throw new t.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(c,h,p,g))}else if(y){if(typeof y!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(y)}'`,t.ERROR_CODES.INVALID_TYPED_VALUE);const v=this.createVocabOrBaseTerm(o,y);if(!v)throw new t.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(y)}'`,t.ERROR_CODES.INVALID_TYPED_VALUE);if(v.termType!=="NamedNode")throw new t.ErrorCoded(`Illegal value type (${v.termType}): ${y}`,t.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(h,v)]}return await this.valueToTerm(new t.JsonLdContextNormalized({}),u,h,c,d)}else if("@set"in l){if(Object.keys(l).length>1)throw new t.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${u}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in l){if(Object.keys(l).length>1)throw new t.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const h=l["@list"];return Array.isArray(h)?h.length===0?[this.rdfNil]:this.parsingContext.idStack[c+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(d),u,h,c-1,d.slice(0,-1))}else{if("@reverse"in l&&typeof l["@reverse"]=="boolean")return[];if("@graph"in a.getContextValueContainer(await this.parsingContext.getContext(d),u)){const h=this.parsingContext.graphContainerTermStack[c+1];return h?Object.values(h):[this.dataFactory.blankNode()]}else if("@id"in l){if(Object.keys(l).length>1&&(o=await this.parsingContext.getContext(d,0)),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],o.getContextRaw())),l["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(o,l["@id"]));{const h=l["@id"];let p;if(typeof h=="object")if(this.parsingContext.rdfstar)p=this.parsingContext.idStack[c+1][0];else throw new t.ErrorCoded(`Found illegal @id '${l}'`,t.ERROR_CODES.INVALID_ID_VALUE);else p=this.resourceToTerm(o,h);return this.nullableTermToArray(p)}}else return this.parsingContext.emittedStack[c+1]||l&&typeof l=="object"&&Object.keys(l).length===0?this.parsingContext.idStack[c+1]||(this.parsingContext.idStack[c+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(o,u),u,l,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(o,u),u,Boolean(l).toString(),this.dataFactory.namedNode(a.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(o,u),u,l,this.dataFactory.namedNode(l%1===0&&l<1e21?a.XSD_INTEGER:a.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${f}`)),[]}}async getContextSelfOrPropertyScoped(o,u){const l=o.getContextRaw()[u];return l&&typeof l=="object"&&"@context"in l&&(o=await this.parsingContext.parseContext(l,o.getContextRaw(),!0)),o}nullableTermToArray(o){return o?[o]:[]}predicateToTerm(o,u){const l=o.expandTerm(u,!0,this.parsingContext.getExpandOptions());if(!l)return null;if(l[0]==="_"&&l[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(l.substr(2)):null;if(a.isValidIri(l))return this.dataFactory.namedNode(l);if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new t.ErrorCoded(`Invalid predicate IRI: ${l}`,t.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(o,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const l=o.expandTerm(u,!1,this.parsingContext.getExpandOptions());if(!a.isValidIri(l))if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}createVocabOrBaseTerm(o,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const l=this.parsingContext.getExpandOptions();let c=o.expandTerm(u,!0,l);if(c===u&&(c=o.expandTerm(u,!1,l)),!a.isValidIri(c))if(c&&this.parsingContext.strictValues&&!c.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${c}`));else return null;return this.dataFactory.namedNode(c)}intToString(o,u){return typeof o=="number"?Number.isFinite(o)?o%1===0&&(!u||u.value!==a.XSD_DOUBLE)?Number(o).toString():o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):o>0?"INF":"-INF":o}stringValueToTerm(o,u,l,c,d){const f=a.getContextValueType(u,l);if(f)if(f==="@id"){if(!d)return this.resourceToTerm(u,this.intToString(c,d))}else if(f==="@vocab"){if(!d)return this.createVocabOrBaseTerm(u,this.intToString(c,d))}else d=this.dataFactory.namedNode(f);if(!d){const h=a.getContextValueLanguage(u,l),p=a.getContextValueDirection(u,l);return p&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(o,this.intToString(c,d),h,p):this.dataFactory.literal(this.intToString(c,d),h)}return this.dataFactory.literal(this.intToString(c,d),d)}createLanguageDirectionLiteral(o,u,l,c){if(this.parsingContext.rdfDirection==="i18n-datatype")return l||(l=""),this.dataFactory.literal(u,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${l}_${c}`));{const d=this.dataFactory.blankNode(),f=this.getDefaultGraph();return this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(a.RDF+"value"),this.dataFactory.literal(u),f)),l&&this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(a.RDF+"language"),this.dataFactory.literal(l),f)),this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(a.RDF+"direction"),this.dataFactory.literal(c),f)),d}}valueToJsonString(o){return n(o)}async unaliasKeyword(o,u,l,c,d){if(Number.isInteger(o))return o;if(!c){const f=this.parsingContext.unaliasedKeywordCacheStack[l];if(f)return f}if(!t.Util.isPotentialKeyword(o)){d=d||await this.parsingContext.getContext(u);let f=d.getContextRaw()[o];f&&typeof f=="object"&&(f=f["@id"]),t.Util.isValidKeyword(f)&&(o=f)}return c?o:this.parsingContext.unaliasedKeywordCacheStack[l]=o}async unaliasKeywordParent(o,u){return await this.unaliasKeyword(u>0&&o[u-1],o,u-1)}async unaliasKeywords(o,u,l,c){const d={};for(const f in o)d[await this.unaliasKeyword(f,u,l+1,!0,c)]=o[f];return d}async isLiteral(o,u){for(let l=u;l>=0;l--){if(await this.unaliasKeyword(o[l],o,l)==="@annotation")return!1;if(this.parsingContext.literalStack[l]||this.parsingContext.jsonLiteralStack[l])return!0}return!1}async getDepthOffsetGraph(o,u){for(let l=o-1;l>0;l--)if(await this.unaliasKeyword(u[l],u,l)==="@graph"){const c=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,u,l)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(c)?-1:o-l-1}return-1}validateReverseSubject(o){if(o.termType==="Literal")throw new t.ErrorCoded(`Found illegal literal in subject position: ${o.value}`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(o,u){let l=this.getDefaultGraph();const{containers:c,depth:d}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,u);if("@graph"in c){const f=r.EntryHandlerContainer.getContainerGraphIndex(c,d,o),h=this.parsingContext.graphContainerTermStack[d];if(l=h?h[f]:null,!l){let p=null;if("@id"in c){const g=await this.getContainerKey(o[d],o,d);g!==null&&(p=await this.resourceToTerm(await this.parsingContext.getContext(o),g))}p||(p=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[d]||(this.parsingContext.graphContainerTermStack[d]={}),l=this.parsingContext.graphContainerTermStack[d][f]=p}}return l}async getPropertiesDepth(o,u){let l=u;for(let c=u-1;c>0;c--)if(typeof o[c]!="number"){const d=await this.unaliasKeyword(o[c],o,c);if(d==="@reverse")return c;if(d==="@nest")l=c;else return l}return l}async getContainerKey(o,u,l){const c=await this.unaliasKeyword(o,u,l);return c==="@none"?null:c}validateReverseInEmbeddedNode(o,u,l){if(l&&u&&!this.parsingContext.rdfstarReverseInEmbedded)throw new t.ErrorCoded(`Illegal reverse property in embedded node in ${o}`,t.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(o,u,l,c,d,f,h){let p;if(f?(this.validateReverseSubject(c),p=this.dataFactory.quad(c,l,u,d)):p=this.dataFactory.quad(u,l,c,d),h){if(p.graph.termType!=="DefaultGraph"&&(p=this.dataFactory.quad(p.subject,p.predicate,p.object)),this.parsingContext.idStack[o-1])throw new t.ErrorCoded("Illegal multiple properties in an embedded node",t.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[o-1]=[p]}else this.parsingContext.emitQuad(o,p);const g=this.parsingContext.annotationsBuffer[o];if(g){for(const y of g)this.emitAnnotation(o,p,y);delete this.parsingContext.annotationsBuffer[o]}}emitAnnotation(o,u,l){let c;l.reverse?(this.validateReverseSubject(l.object),c=this.dataFactory.quad(l.object,l.predicate,u)):c=this.dataFactory.quad(u,l.predicate,l.object),this.parsingContext.emitQuad(o,c);for(const d of l.nestedAnnotations)this.emitAnnotation(o,c,d)}}return fv.Util=a,a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",fv}Object.defineProperty(c3,"__esModule",{value:!0});c3.EntryHandlerArrayValue=void 0;const Dle=O0(),d9=la;class Nle{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){return this.test(e,r,null,n,a)}async test(e,r,n,a,s){return typeof a[s]=="number"}async handle(e,r,n,a,s,o){let u=await r.unaliasKeywordParent(a,o);if(u==="@list"){let l=null,c=0;for(let d=o-2;d>0;d--){const f=a[d];if(typeof f=="string"||typeof f=="number"){c=d,l=f;break}}if(l!==null){const d=await r.valueToTerm(await e.getContext(a),l,s,o,a);for(const f of d)await this.handleListElement(e,r,f,s,o,a.slice(0,c),c);d.length===0&&await this.handleListElement(e,r,null,s,o,a.slice(0,c),c)}}else if(u==="@set")await e.newOnValueJob(a.slice(0,-2),s,o-2,!1);else if(u!==void 0&&u!=="@type"){for(let c=o-1;c>0;c--)if(typeof a[c]!="number"){u=await r.unaliasKeyword(a[c],a,c);break}const l=await e.getContext(a.slice(0,-1));if("@list"in Dle.Util.getContextValueContainer(l,u)){e.emittedStack[o+1]=!0;const c=await r.valueToTerm(await e.getContext(a),u,s,o,a);for(const d of c)await this.handleListElement(e,r,d,s,o,a.slice(0,-1),o-1);c.length===0&&await this.handleListElement(e,r,null,s,o,a.slice(0,-1),o-1)}else e.shiftStack(o,1),await e.newOnValueJob(a.slice(0,-1),s,o-1,!1),e.contextTree.removeContext(a.slice(0,-1))}}async handleListElement(e,r,n,a,s,o,u){let l=e.listPointerStack[s];if(a!==null&&(await r.unaliasKeywords(a,o,s))["@value"]!==null){if(!l||!l.value){const c=r.dataFactory.blankNode();l={value:c,listRootDepth:u,listId:c}}else{const c=r.dataFactory.blankNode();e.emitQuad(s,r.dataFactory.quad(l.value,r.rdfRest,c,r.getDefaultGraph())),l.value=c}n&&e.emitQuad(s,r.dataFactory.quad(l.value,r.rdfFirst,n,r.getDefaultGraph()))}else l||(l={listRootDepth:u,listId:r.rdfNil});e.listPointerStack[s]=l,e.rdfstar&&e.annotationsBuffer[s]&&e.emitError(new d9.ErrorCoded("Found an illegal annotation inside a list",d9.ERROR_CODES.INVALID_ANNOTATION))}}c3.EntryHandlerArrayValue=Nle;var g3={};Object.defineProperty(g3,"__esModule",{value:!0});g3.EntryHandlerInvalidFallback=void 0;class Fle{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){return!1}async test(e,r,n,a,s){return!0}async handle(e,r,n,a,s,o){e.emittedStack[o]=!1}}g3.EntryHandlerInvalidFallback=Fle;var y3={},jl={};Object.defineProperty(jl,"__esModule",{value:!0});jl.EntryHandlerKeyword=void 0;class Lle{constructor(e){this.keyword=e}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){return!1}async test(e,r,n,a,s){return n===this.keyword}}jl.EntryHandlerKeyword=Lle;Object.defineProperty(y3,"__esModule",{value:!0});y3.EntryHandlerKeywordContext=void 0;const f9=la,jle=jl;class Mle extends jle.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(e,r,n,a,s,o){e.streamingProfile&&(e.processingStack[o]||e.processingType[o]||e.idStack[o]!==void 0)&&e.emitError(new f9.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",f9.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const u=e.getContext(a),l=e.parseContext(s,(await u).getContextRaw());e.contextTree.setContext(a.slice(0,-1),l),e.emitContext(s),await e.validateContext(await l)}}y3.EntryHandlerKeywordContext=Mle;var m3={};Object.defineProperty(m3,"__esModule",{value:!0});m3.EntryHandlerKeywordGraph=void 0;const Ble=jl;class kle extends Ble.EntryHandlerKeyword{constructor(){super("@graph")}async handle(e,r,n,a,s,o){e.graphStack[o+1]=!0}}m3.EntryHandlerKeywordGraph=kle;var v3={};Object.defineProperty(v3,"__esModule",{value:!0});v3.EntryHandlerKeywordId=void 0;const Yl=la,$le=jl;class Ule extends $le.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(e,r,n,a,s,o){if(typeof s!="string"){if(e.rdfstar&&typeof s=="object"){const l=Object.keys(s);l.length===1&&l[0]==="@id"&&e.emitError(new Yl.ErrorCoded(`Invalid embedded node without property with @id ${s["@id"]}`,Yl.ERROR_CODES.INVALID_EMBEDDED_NODE))}else e.emitError(new Yl.ErrorCoded(`Found illegal @id '${s}'`,Yl.ERROR_CODES.INVALID_ID_VALUE));return}const u=await r.getPropertiesDepth(a,o);if(e.idStack[u]!==void 0&&(e.idStack[u][0].listHead?e.emitError(new Yl.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${a[o-1]}'`,Yl.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):e.emitError(new Yl.ErrorCoded(`Found duplicate @ids '${e.idStack[u][0].value}' and '${s}'`,Yl.ERROR_CODES.COLLIDING_KEYWORDS))),e.rdfstar&&e.annotationsBuffer[o])for(const l of e.annotationsBuffer[o])l.depth===o&&e.emitError(new Yl.ErrorCoded(`Found an illegal @id inside an annotation: ${s}`,Yl.ERROR_CODES.INVALID_ANNOTATION));e.idStack[u]=r.nullableTermToArray(await r.resourceToTerm(await e.getContext(a),s))}}v3.EntryHandlerKeywordId=Ule;var b3={};Object.defineProperty(b3,"__esModule",{value:!0});b3.EntryHandlerKeywordIncluded=void 0;const yg=la,Vle=jl;class Hle extends Vle.EntryHandlerKeyword{constructor(){super("@included")}async handle(e,r,n,a,s,o){typeof s!="object"&&e.emitError(new yg.ErrorCoded(`Found illegal @included '${s}'`,yg.ERROR_CODES.INVALID_INCLUDED_VALUE));const u=await r.unaliasKeywords(s,a,o,await e.getContext(a));"@value"in u&&e.emitError(new yg.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(s)}'`,yg.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in u&&e.emitError(new yg.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(s)}'`,yg.ERROR_CODES.INVALID_INCLUDED_VALUE)),e.emittedStack[o]=!1}}b3.EntryHandlerKeywordIncluded=Hle;var _3={};Object.defineProperty(_3,"__esModule",{value:!0});_3.EntryHandlerKeywordNest=void 0;const IS=la,qle=jl;class zle extends qle.EntryHandlerKeyword{constructor(){super("@nest")}async handle(e,r,n,a,s,o){typeof s!="object"&&e.emitError(new IS.ErrorCoded(`Found invalid @nest entry for '${n}': '${s}'`,IS.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await r.unaliasKeywords(s,a,o,await e.getContext(a))&&e.emitError(new IS.ErrorCoded(`Found an invalid @value node for '${n}'`,IS.ERROR_CODES.INVALID_NEST_VALUE)),e.emittedStack[o]=!1}}_3.EntryHandlerKeywordNest=zle;var w3={};Object.defineProperty(w3,"__esModule",{value:!0});w3.EntryHandlerKeywordType=void 0;const PS=la,CS=O0(),Gle=h3(),Qle=jl;class Wle extends Qle.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(e,r,n,a,s,o){const u=a[o],l=await e.getContext(a),c=r.rdfType,d=await r.unaliasKeywordParent(a,o),f=CS.Util.isPropertyReverse(l,u,d),h=CS.Util.isPropertyInEmbeddedNode(d);r.validateReverseInEmbeddedNode(n,f,h);const p=CS.Util.isPropertyInAnnotationObject(d),g=Array.isArray(s)?s:[s];for(const v of g){typeof v!="string"&&e.emitError(new PS.ErrorCoded(`Found illegal @type '${v}'`,PS.ERROR_CODES.INVALID_TYPE_VALUE));const A=r.createVocabOrBaseTerm(l,v);A&&await Gle.EntryHandlerPredicate.handlePredicateObject(e,r,a,o,c,A,f,h,p)}let y=Promise.resolve(l),S=!1;for(const v of g.sort()){const A=CS.Util.getContextValue(l,"@context",v,null);A&&(S=!0,y=y.then(E=>e.parseContext(A,E.getContextRaw())))}e.streamingProfile&&(S||!e.streamingProfileAllowOutOfOrderPlainType)&&(e.processingStack[o]||e.idStack[o])&&e.emitError(new PS.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",PS.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),S&&(y=y.then(v=>("@propagate"in v.getContextRaw()||(v.getContextRaw()["@propagate"]=!1),v.getContextRaw()["@propagate"]===!1&&(v.getContextRaw()["@__propagateFallback"]=l.getContextRaw()),v)),e.contextTree.setContext(a.slice(0,a.length-1),y)),e.processingType[o]=!0}}w3.EntryHandlerKeywordType=Wle;var S3={};Object.defineProperty(S3,"__esModule",{value:!0});S3.EntryHandlerKeywordUnknownFallback=void 0;const Mb=la;class T3{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){const o=await r.unaliasKeyword(n[a],n,a);return Mb.Util.isPotentialKeyword(o)?!(!s&&o==="@list"):!1}async test(e,r,n,a,s){return Mb.Util.isPotentialKeyword(n)}async handle(e,r,n,a,s,o){const u=T3.VALID_KEYWORDS_TYPES[n];u!==void 0?u&&typeof s!==u.type&&e.emitError(new Mb.ErrorCoded(`Invalid value type for '${n}' with value '${s}'`,u.errorCode)):e.strictValues&&e.emitError(new Error(`Unknown keyword '${n}' with value '${s}'`)),e.emittedStack[o]=!1}}S3.EntryHandlerKeywordUnknownFallback=T3;T3.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:Mb.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:Mb.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null};var E3={};Object.defineProperty(E3,"__esModule",{value:!0});E3.EntryHandlerKeywordValue=void 0;const Kle=jl;class Xle extends Kle.EntryHandlerKeyword{constructor(){super("@value")}async validate(e,r,n,a,s){const o=n[a];return o&&!e.literalStack[a]&&await this.test(e,r,o,n,a)&&(e.literalStack[a]=!0),super.validate(e,r,n,a,s)}async test(e,r,n,a,s){return await r.unaliasKeyword(a[s],a.slice(0,a.length-1),s-1,!0)==="@value"}async handle(e,r,n,a,s,o){e.literalStack[o]=!0,delete e.unidentifiedValuesBuffer[o],delete e.unidentifiedGraphsBuffer[o],e.emittedStack[o]=!1}}E3.EntryHandlerKeywordValue=Xle;var mv={},A3={};Object.defineProperty(A3,"__esModule",{value:!0});A3.ContextTree=void 0;class jF{constructor(){this.subTrees={}}getContext(e){if(e.length>0){const[r,...n]=e,a=this.subTrees[r];if(a){const s=a.getContext(n);if(s)return s.then(({context:o,depth:u})=>({context:o,depth:u+1}))}}return this.context?this.context.then(r=>({context:r,depth:0})):null}setContext(e,r){if(e.length===0)this.context=r;else{const[n,...a]=e;let s=this.subTrees[n];s||(s=this.subTrees[n]=new jF),s.setContext(a,r)}}removeContext(e){this.setContext(e,null)}}A3.ContextTree=jF;var h9;function Jle(){if(h9)return mv;h9=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.ParsingContext=void 0;const t=la,e=gm,r=A3,n=xq();let a=class{constructor(o){this.contextParser=new t.ContextParser({documentLoader:o.documentLoader,skipValidation:o.skipContextValidation}),this.streamingProfile=!!o.streamingProfile,this.baseIRI=o.baseIRI,this.produceGeneralizedRdf=!!o.produceGeneralizedRdf,this.allowSubjectList=!!o.allowSubjectList,this.processingMode=o.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!o.strictValues,this.validateValueIndexes=!!o.validateValueIndexes,this.defaultGraph=o.defaultGraph,this.rdfDirection=o.rdfDirection,this.normalizeLanguageTags=o.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=o.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=o.rdfstar!==!1,this.rdfstarReverseInEmbedded=o.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=o.parser,o.context?(this.rootContext=this.parseContext(o.context),this.rootContext.then(u=>this.validateContext(u))):this.rootContext=Promise.resolve(new t.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(o,u,l){return this.contextParser.parse(o,{baseIRI:this.baseIRI,ignoreProtection:l,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:u,processingMode:this.activeProcessingMode})}validateContext(o){const u=o.getContextRaw()["@version"];if(u){if(this.activeProcessingMode&&u>this.activeProcessingMode)throw new e.ErrorCoded(`Unsupported JSON-LD version '${u}' under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&u<this.activeProcessingMode)throw new e.ErrorCoded(`Invalid JSON-LD version ${u} under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=u}}async getContext(o,u=1){const l=o;for(;typeof o[o.length-1]=="number";)o=o.slice(0,o.length-1);u&&(o=o.slice(0,-u));const c=await this.getContextPropagationAware(o);let f=c.context.getContextRaw();for(let h=c.depth;h<l.length-u;h++){const p=l[h],g=f[p];if(g&&typeof g=="object"&&"@context"in g){const y=(await this.parseContext(g,f,!0)).getContextRaw(),S=!(p in y)||y[p]["@context"]["@propagate"];(S!==!1||h===l.length-1-u)&&(f=y,delete f["@propagate"],f[p]=Object.assign({},f[p]),"@id"in g&&(f[p]["@id"]=g["@id"]),delete f[p]["@context"],S!==!1&&this.contextTree.setContext(l.slice(0,h+u),Promise.resolve(new t.JsonLdContextNormalized(f))))}}return new t.JsonLdContextNormalized(f)}async getContextPropagationAware(o){const u=o.length;let l=null,c;do{c=!1,l&&"@__propagateFallback"in l.context.getContextRaw()?l.context=new t.JsonLdContextNormalized(l.context.getContextRaw()["@__propagateFallback"]):(l&&(o=o.slice(0,l.depth-1)),l=await this.contextTree.getContext(o)||{context:await this.rootContext,depth:0});const d=o[o.length-1];if(d in l.context.getContextRaw()){const f=l.context.getContextRaw()[d];f&&typeof f=="object"&&"@context"in f&&(c=!0)}}while(l.depth>0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==u&&!c);return l.depth===0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==u&&(l.context=new t.JsonLdContextNormalized({})),l}async newOnValueJob(o,u,l,c){await this.parser.newOnValueJob(o,u,l,c)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const o of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(o.depth,o.keys),this.parser.flushStacks(o.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(o,u){o===1&&(this.topLevelProperties=!0),this.parser.push(u)}emitError(o){this.parser.emit("error",o)}emitContext(o){this.parser.emit("context",o)}getUnidentifiedValueBufferSafe(o){let u=this.unidentifiedValuesBuffer[o];return u||(u=[],this.unidentifiedValuesBuffer[o]=u),u}getUnidentifiedGraphBufferSafe(o){let u=this.unidentifiedGraphsBuffer[o];return u||(u=[],this.unidentifiedGraphsBuffer[o]=u),u}getAnnotationsBufferSafe(o){let u=this.annotationsBuffer[o];return u||(u=[],this.annotationsBuffer[o]=u),u}getExpandOptions(){return a.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(o,u){const l=this.idStack[o+u];if(l&&(this.idStack[o]=l,this.emittedStack[o]=!0,delete this.idStack[o+u]),this.pendingContainerFlushBuffers.length)for(const c of this.pendingContainerFlushBuffers)c.depth>=o+u&&(c.depth-=u,c.keys.splice(o,u));this.unidentifiedValuesBuffer[o+u]&&(this.unidentifiedValuesBuffer[o]=this.unidentifiedValuesBuffer[o+u],delete this.unidentifiedValuesBuffer[o+u]),this.annotationsBuffer[o+u-1]&&(this.annotationsBuffer[o-1]||(this.annotationsBuffer[o-1]=[]),this.annotationsBuffer[o-1]=[...this.annotationsBuffer[o-1],...this.annotationsBuffer[o+u-1]],delete this.annotationsBuffer[o+u-1])}};return mv.ParsingContext=a,a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},mv}var x3={};Object.defineProperty(x3,"__esModule",{value:!0});x3.EntryHandlerKeywordAnnotation=void 0;const Yle=jl,p9=la;class Zle extends Yle.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(e,r,n,a,s,o){(typeof s=="string"||typeof s=="object"&&s["@value"])&&e.emitError(new p9.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(s)}`,p9.ERROR_CODES.INVALID_ANNOTATION))}}x3.EntryHandlerKeywordAnnotation=Zle;var g9;function xq(){if(g9)return cv;g9=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.JsonLdParser=void 0;const t=TH,e=la,r=zr,n=c3,a=Aq(),s=g3,o=h3(),u=y3,l=m3,c=v3,d=b3,f=_3,h=w3,p=S3,g=E3,y=Jle(),S=O0(),v=TF,A=x3;let E=class extends r.Transform{constructor(R){super({readableObjectMode:!0}),R=R||{},this.options=R,this.parsingContext=new y.ParsingContext(Object.assign({parser:this},R)),this.util=new S.Util({dataFactory:R.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new t,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(R,I,D,M){let N;if(I!=="application/ld+json"){if(I!=="application/json"&&!I.endsWith("+json"))throw new e.ErrorCoded(`Unsupported JSON-LD media type ${I}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(D&&D.has("Link")&&D.forEach((k,Y)=>{if(Y==="link"){const ne=(0,v.parse)(k);for(const q of ne.get("rel","http://www.w3.org/ns/json-ld#context")){if(N)throw new e.ErrorCoded("Multiple JSON-LD context link headers were found on "+R,e.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);N=q.uri}}}),!N&&!(M!=null&&M.ignoreMissingContextLinkHeader))throw new e.ErrorCoded(`Missing context link header for media type ${I} on ${R}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let O;if(D&&D.has("Content-Type")){const k=D.get("Content-Type"),Y=/; *profile=([^"]*)/.exec(k);Y&&Y[1]==="http://www.w3.org/ns/json-ld#streaming"&&(O=!0)}return new E(Object.assign({baseIRI:R,context:N,streamingProfile:O},M||{}))}import(R){if("pipe"in R){R.on("error",D=>I.emit("error",D));const I=R.pipe(new E(this.options));return I}else{const I=new r.PassThrough({readableObjectMode:!0});R.on("error",M=>D.emit("error",M)),R.on("data",M=>I.push(M)),R.on("end",()=>I.push(null));const D=I.pipe(new E(this.options));return D}}_transform(R,I,D){this.jsonParser.write(R),this.lastOnValueJob.then(()=>D(),M=>D(M))}async newOnValueJob(R,I,D,M){let N=!0;if(M&&D<this.lastDepth){const q=this.parsingContext.listPointerStack[this.lastDepth];q&&(q.value&&this.push(this.util.dataFactory.quad(q.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),q.listId.listHead=!0,this.parsingContext.idStack[q.listRootDepth+1]=[q.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),N=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const O=await this.util.unaliasKeyword(R[D],R,D),k=await this.util.unaliasKeywordParent(R,D);this.parsingContext.emittedStack[D]=!0;let Y=!0;e.Util.isValidKeyword(O)&&k==="@reverse"&&O!=="@context"&&this.emit("error",new e.ErrorCoded(`Found the @id '${I}' inside an @reverse property`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let ne=!1;this.parsingContext.validationStack.length>1&&(ne=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let q=Math.max(1,this.parsingContext.validationStack.length-1);q<R.length-1;q++){const H=this.parsingContext.validationStack[q]||(this.parsingContext.validationStack[q]=await this.validateKey(R.slice(0,q+1),q,ne));if(H.valid)!ne&&H.property&&(ne=!0);else{this.parsingContext.emittedStack[D]=!1,Y=!1;break}}if(await this.util.isLiteral(R,D)&&(Y=!1),Y)for(const q of E.ENTRY_HANDLERS){const H=await q.test(this.parsingContext,this.util,O,R,D);if(H){await q.handle(this.parsingContext,this.util,O,R,I,D,H),q.isStackProcessor()&&(this.parsingContext.processingStack[D]=!0);break}}D===0&&Array.isArray(I)&&await this.util.validateValueIndexes(I),N&&D<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=D,this.lastKeys=R,this.parsingContext.unaliasedKeywordCacheStack.splice(D-1)}flushStacks(R){this.parsingContext.processingStack.splice(R,1),this.parsingContext.processingType.splice(R,1),this.parsingContext.emittedStack.splice(R,1),this.parsingContext.idStack.splice(R,1),this.parsingContext.graphStack.splice(R+1,1),this.parsingContext.graphContainerTermStack.splice(R,1),this.parsingContext.jsonLiteralStack.splice(R,1),this.parsingContext.validationStack.splice(R-1,2),this.parsingContext.literalStack.splice(R,this.parsingContext.literalStack.length-R),this.parsingContext.annotationsBuffer.splice(R,1)}async flushBuffer(R,I){let D=this.parsingContext.idStack[R];!!D||(D=this.parsingContext.idStack[R]=[this.util.dataFactory.blankNode()]);const N=this.parsingContext.unidentifiedValuesBuffer[R];if(N){for(const Y of D){const ne=await this.util.getDepthOffsetGraph(R,I),q=this.parsingContext.graphStack[R]||ne>=0?this.parsingContext.idStack[R-ne-1]:[await this.util.getGraphContainerValue(I,R)];if(q)for(const H of q){this.parsingContext.emittedStack[R]=!0;for(const J of N)this.util.emitQuadChecked(R,Y,J.predicate,J.object,H,J.reverse,J.isEmbedded)}else{const H=this.parsingContext.getUnidentifiedGraphBufferSafe(R-await this.util.getDepthOffsetGraph(R,I)-1);for(const J of N)J.reverse?H.push({object:Y,predicate:J.predicate,subject:J.object,isEmbedded:J.isEmbedded}):H.push({object:J.object,predicate:J.predicate,subject:Y,isEmbedded:J.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(R,1),this.parsingContext.literalStack.splice(R,1),this.parsingContext.jsonLiteralStack.splice(R,1)}const O=this.parsingContext.unidentifiedGraphsBuffer[R];if(O){for(const Y of D){const ne=R===1&&Y.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():Y;this.parsingContext.emittedStack[R]=!0;for(const q of O)this.parsingContext.emitQuad(R,this.util.dataFactory.quad(q.subject,q.predicate,q.object,ne))}this.parsingContext.unidentifiedGraphsBuffer.splice(R,1)}const k=this.parsingContext.annotationsBuffer[R];if(k){k.length>0&&R===1&&this.parsingContext.emitError(new e.ErrorCoded("Annotations can not be made on top-level nodes",e.ERROR_CODES.INVALID_ANNOTATION));const Y=this.parsingContext.getAnnotationsBufferSafe(R-1);for(const ne of k)Y.push(ne);delete this.parsingContext.annotationsBuffer[R]}}async validateKey(R,I,D){for(const M of E.ENTRY_HANDLERS)if(await M.validate(this.parsingContext,this.util,R,I,D))return{valid:!0,property:D||M.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=R=>{const I=this.jsonParser.stack.length,D=new Array(I+1).fill(0).map((M,N)=>N===I?this.jsonParser.key:this.jsonParser.stack[N].key);if(!this.isParsingContextInner(I)){const M=()=>this.newOnValueJob(D,R,I,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(D.slice(0,-1)))if(D[I]==="@context"){let N=this.contextJobs[I];N||(N=this.contextJobs[I]=[]),N.push(M)}else D[I]==="@type"||typeof D[I]=="number"&&D[I-1]==="@type"?this.typeJobs.push({job:M,keys:D.slice(0,D.length-1)}):this.contextAwaitingJobs.push({job:M,keys:D});else this.lastOnValueJob=this.lastOnValueJob.then(M);!this.parsingContext.streamingProfile&&I===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=R=>{this.emit("error",R)}}isParsingContextInner(R){for(let I=R;I>0;I--)if(this.jsonParser.stack[I-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const R of this.contextJobs)if(R)for(const I of R)await I();this.parsingContext.unaliasedKeywordCacheStack.splice(0);for(const R of this.contextAwaitingJobs){if(this.typeJobs.length>0){const I=[],D=[];for(let O=0;O<this.typeJobs.length;O++){const k=this.typeJobs[O];S.Util.isPrefixArray(k.keys,R.keys)&&(I.push(k),D.push(O))}const M=I.sort((O,k)=>O.keys.length-k.keys.length);for(const O of M)await O.job();const N=D.sort().reverse();for(const O of N)this.typeJobs.splice(O,1)}await R.job()}}};return cv.JsonLdParser=E,E.DEFAULT_PROCESSING_MODE="1.1",E.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new u.EntryHandlerKeywordContext,new c.EntryHandlerKeywordId,new d.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new f.EntryHandlerKeywordNest,new h.EntryHandlerKeywordType,new g.EntryHandlerKeywordValue,new A.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new p.EntryHandlerKeywordUnknownFallback,new o.EntryHandlerPredicate,new s.EntryHandlerInvalidFallback],cv}(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xq(),t)})(pH);const{fetch:Mh,Response:OBe,Request:RBe,Headers:Oq}=globalThis,vv="http://www.w3.org/1999/02/22-rdf-syntax-ns#",bv="http://www.w3.org/2001/XMLSchema#",BC="http://www.w3.org/2000/10/swap/",us={xsd:{decimal:`${bv}decimal`,boolean:`${bv}boolean`,double:`${bv}double`,integer:`${bv}integer`,string:`${bv}string`},rdf:{type:`${vv}type`,nil:`${vv}nil`,first:`${vv}first`,rest:`${vv}rest`,langString:`${vv}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${BC}reify#forSome`,forAll:`${BC}reify#forAll`},log:{implies:`${BC}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let y9;var ece=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:F):t=>(y9||(y9=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0));const tce=ece,{xsd:DS}=us,rce=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,m9={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},nce=/[\x00-\x20<>\\"\{\}\|\^\`]/,ice={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},ace=/$0^/;class MF{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const r in this)!(r in ice)&&this[r]instanceof RegExp&&(this[r]=ace)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,r){let n=this._input,a=n.length;for(;;){let u,l;for(;u=this._newline.exec(n);)this._comments&&(l=this._comment.exec(u[0]))&&s("comment",l[1],"",this._line,u[0].length),n=n.substr(u[0].length,n.length),a=n.length,this._line++;if(!u&&(u=this._whitespace.exec(n))&&(n=n.substr(u[0].length,n.length)),this._endOfFile.test(n))return r&&(this._comments&&(l=this._comment.exec(n))&&s("comment",l[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const c=this._line,d=n[0];let f="",h="",p="",g=null,y=0,S=!1;switch(d){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){S=!0;break}}else{this._n3Mode&&(y=1,f="^");break}case"<":if(g=this._unescapedIri.exec(n))f="IRI",h=g[1];else if(g=this._iri.exec(n)){if(h=this._unescape(g[1]),h===null||nce.test(h))return o(this);f="IRI"}else n.length>1&&n[1]==="<"?(f="<<",y=2):this._n3Mode&&n.length>1&&n[1]==="="&&(f="inverse",y=2,h=">");break;case">":n.length>1&&n[1]===">"&&(f=">>",y=2);break;case"_":((g=this._blank.exec(n))||r&&(g=this._blank.exec(`${n} `)))&&(f="blank",p="_",h=g[1]);break;case'"':if(g=this._simpleQuotedString.exec(n))h=g[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return o(this);(g!==null||y!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(g=this._simpleApostropheString.exec(n))h=g[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return o(this);(g!==null||y!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(g=this._variable.exec(n))&&(f="var",h=g[0]);break;case"@":this._previousMarker==="literal"&&(g=this._langcode.exec(n))?(f="langcode",h=g[1]):(g=this._keyword.exec(n))&&(f=g[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){f=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(g=this._number.exec(n)||r&&(g=this._number.exec(`${n} `)))&&(f="literal",h=g[0],p=typeof g[1]=="string"?DS.double:typeof g[2]=="string"?DS.decimal:DS.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(g=this._sparqlKeyword.exec(n))?f=g[0].toUpperCase():S=!0;break;case"f":case"t":(g=this._boolean.exec(n))?(f="literal",h=g[0],p=DS.boolean):S=!0;break;case"a":(g=this._shortPredicates.exec(n))?(f="abbreviation",h="a"):S=!0;break;case"=":this._n3Mode&&n.length>1&&(f="abbreviation",n[1]!==">"?(y=1,h="="):(y=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(y=1,f=d);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(f="{|",y=2):(f=d,y=1));break;case"|":n.length>=2&&n[1]==="}"&&(f="|}",y=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(g=this._prefix.exec(n))?(f="prefix",h=g[1]||""):((g=this._prefixed.exec(n))||r&&(g=this._prefixed.exec(`${n} `)))&&(f="prefixed",p=g[1]||"",h=this._unescape(g[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const v=y||g[0].length,A=s(f,h,p,c,v);this.previousToken=A,this._previousMarker=f,n=n.substr(v,n.length)}function s(u,l,c,d,f){const h=n?a-n.length:a,p=h+f,g={type:u,value:l,prefix:c,line:d,start:h,end:p};return e(null,g),g}function o(u){e(u._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let r=!1;const n=e.replace(rce,(a,s,o,u)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return u in m9?m9[u]:(r=!0,"")});return r?null:n}_parseLiteral(e){if(e.length>=3){const r=e.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let a=Math.max(this._literalClosingPos,n);for(;(a=e.indexOf(r,a))>0;){let s=0;for(;e[a-s-1]==="\\";)s++;if(s%2===0){const o=e.substring(n,a),u=o.split(/\r\n|\r|\n/).length-1,l=a+n;if(n===1&&u!==0||n===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(o),matchLength:l}}a++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const r=new Error(`Unexpected "${e}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,r){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof r=="function")tce(()=>this._tokenizeToEnd(r,!0));else{const n=[];let a;if(this._tokenizeToEnd((s,o)=>s?a=s:n.push(o),!0),a)throw a;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=Buffer.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}}function sce(t){return!!t&&t.termType==="NamedNode"}function oce(t){return!!t&&t.termType==="BlankNode"}function uce(t){return!!t&&t.termType==="Literal"}function lce(t){return!!t&&t.termType==="Variable"}function O3(t){return!!t&&t.termType==="DefaultGraph"}function cce(t){return O3(t.graph)}function dce(t,e){return Rq({"":t.value||t},e)("")}function Rq(t,e){const r=Object.create(null);for(const a in t)n(a,t[a]);e=e||_m;function n(a,s){if(typeof s=="string"){const o=Object.create(null);r[a]=u=>o[u]||(o[u]=e.namedNode(s+u))}else if(!(a in r))throw new Error(`Unknown prefix: ${a}`);return r[a]}return n}const Iq=Object.freeze(Object.defineProperty({__proto__:null,isNamedNode:sce,isBlankNode:oce,isLiteral:uce,isVariable:lce,isDefaultGraph:O3,inDefaultGraph:cce,prefix:dce,prefixes:Rq},Symbol.toStringTag,{value:"Module"})),{rdf:fce,xsd:xp}=us;let S1,hce=0;const Pq=/^"(.*".*)(?="[^"]*$)/,pce=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,u4={namedNode:gce,blankNode:yce,variable:vce,literal:mce,defaultGraph:bce,quad:v9,triple:v9},_m=u4;let Ml=class{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Ml?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},R3=class extends Ml{get termType(){return"NamedNode"}},o0=class extends Ml{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let r=e.lastIndexOf('"')+1;return r<e.length&&e[r++]==="@"?e.substr(r).toLowerCase():""}get datatype(){return new R3(this.datatypeString)}get datatypeString(){const e=this.id,r=e.lastIndexOf('"')+1,n=r<e.length?e[r]:"";return n==="^"?e.substr(r+2):n!=="@"?xp.string:fce.langString}equals(e){return e instanceof o0?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},BF=class extends Ml{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},kF=class extends Ml{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},$F=class extends Ml{constructor(){return super(""),S1||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};S1=new $F;function Sl(t,e){if(e=e||u4,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===u4)return new o0(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"<":const n=pce.exec(t);return e.quad(Sl(NS(n[1]),e),Sl(NS(n[2]),e),Sl(NS(n[3]),e),n[4]&&Sl(NS(n[4]),e));default:return e.namedNode(t)}}function tn(t){if(typeof t=="string")return t;if(t instanceof Ml&&t.termType!=="Quad")return t.id;if(!t)return S1.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==xp.string?`^^${t.datatype.value}`:""}`;case"Quad":return`<<${kC(tn(t.subject))} ${kC(tn(t.predicate))} ${kC(tn(t.object))}${O3(t.graph)?"":` ${tn(t.graph)}`}>>`;default:throw new Error(`Unexpected termType: ${t.termType}`)}}let l_=class extends Ml{constructor(e,r,n,a){super(""),this._subject=e,this._predicate=r,this._object=n,this._graph=a||S1}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function kC(t){return t.replace(Pq,(e,r)=>`"${r.replace(/"/g,'""')}`)}function NS(t){return t.replace(Pq,(e,r)=>`"${r.replace(/""/g,'"')}`)}function gce(t){return new R3(t)}function yce(t){return new BF(t||`n3-${hce++}`)}function mce(t,e){if(typeof e=="string")return new o0(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return r===""&&(typeof t=="boolean"?r=xp.boolean:typeof t=="number"&&(Number.isFinite(t)?r=Number.isInteger(t)?xp.integer:xp.double:(r=xp.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),r===""||r===xp.string?new o0(`"${t}"`):new o0(`"${t}"^^${r}`)}function vce(t){return new kF(t)}function bce(){return S1}function v9(t,e,r,n){return new l_(t,e,r,n)}let b9=0;class T1{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&Cq(this,e.factory);const r=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),a=/trig/.test(r),s=/triple/.test(r),o=/quad/.test(r),u=this._n3Mode=/n3/.test(r),l=s||o;(this._supportsNamedGraphs=!(n||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||s||u),this._supportsRDFStar=r===""||/star|\*$/.test(r),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new MF({lineMode:l,n3:u}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){b9=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const r=e.indexOf("#");r>=0&&(e=e.substr(0,r)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,r,n,a,s){const o=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:a,object:s,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,r){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,r){let n;switch(e.type){case"IRI":case"typeIRI":const a=this._resolveIRI(e.value);if(a===null)return this._error("Invalid IRI",e);n=this._namedNode(a);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(s+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const r=e.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,e):(this._subject=null,r==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let r=null,n=null,a=this._readListItem;const s=this._subject,o=this._contextStack,u=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(r=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((r=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?u.predicate===null?u.subject=n:u.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return a}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let r=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(n===void 0)return;r=this._literal(this._literalValue,n),e=null;break;case"langcode":r=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:r}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,r){const n=this._completeLiteral(e);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let r,n=this._graph;const a=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const o=this._predicate,u=this._object;this._subject=this._quad(a,o,u,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(a!==null){const o=this._predicate,u=this._object;s?this._emit(u,o,a,n):this._emit(a,o,u,n)}return r}_readBlankNodePunctuation(e){let r;switch(e.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const r=this._readEntity(e);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(e){const r=e.type==="IRI"&&this._resolveIRI(e.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let r;switch(e.type){case"IRI":case"prefixed":if((r=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const a=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let r,n;const a=this._blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=a):(r=this._object,this._object=a),this._emit(r,n,a,this._graph),this._readPath}_readBackwardPath(e){const r=this._blankNode();let n,a;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(a=this._subject,this._subject=r):(a=this._object,this._object=r),this._emit(r,n,a,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,r,n,a){this._callback(null,this._quad(e,r,n,a||this.DEFAULTGRAPH))}_error(e,r){const n=new Error(`${e} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=$C}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const r=e.length;let n="",a=-1,s=-1,o=0,u="/";for(;a<r;){switch(u){case":":if(s<0&&e[++a]==="/"&&e[++a]==="/")for(;(s=a+1)<r&&e[s]!=="/";)a=s;break;case"?":case"#":a=r;break;case"/":if(e[a+1]===".")switch(u=e[++a+1],u){case"/":n+=e.substring(o,a-1),o=a+1;break;case void 0:case"?":case"#":return n+e.substring(o,a)+e.substr(a+1);case".":if(u=e[++a+1],u===void 0||u==="/"||u==="?"||u==="#"){if(n+=e.substring(o,a-2),(o=n.lastIndexOf("/"))>=s&&(n=n.substr(0,o)),u!=="/")return`${n}/${e.substr(a+1)}`;o=a+1}}}u=e[++a]}return n+e.substring(o)}parse(e,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${b9++}_`,this._prefixCallback=n||$C,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const a=[];let s;if(this._callback=(o,u)=>{o?s=o:u&&a.push(u)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return a}this._callback=r,this._lexer.tokenize(e,(a,s)=>{a!==null?(this._callback(a),this._callback=$C):this._readCallback&&(this._readCallback=this._readCallback(s))})}}function $C(){}function Cq(t,e){const r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(us.rdf.first),t.RDF_REST=r(us.rdf.rest),t.RDF_NIL=r(us.rdf.nil),t.N3_FORALL=r(us.r.forAll),t.N3_FORSOME=r(us.r.forSome),t.ABBREVIATIONS={a:r(us.rdf.type),"=":r(us.owl.sameAs),">":r(us.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}Cq(T1.prototype,_m);const _v=_m.defaultGraph(),{rdf:_ce,xsd:mg}=us,_9=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,w9=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,wce={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class wv extends Ml{equals(){return!1}}class I3{constructor(e,r){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(r=e,e=null),r=r||{},this._lists=r.lists,e)this._outputStream=e,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(a,s,o){n+=a,o&&o()},end:a=>{a&&a(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=_v,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${T9(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return _v.equals(this._graph)}_write(e,r){this._outputStream.write(e,"utf8",r)}_writeQuad(e,r,n,a,s){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(_v.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),e.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(e,r,n,a,s){delete this._prefixMatch,this._write(this.quadToString(e,r,n,a),s)}quadToString(e,r,n,a){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(e){return e.map(r=>this.quadToString(r.subject,r.predicate,r.object,r.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let r=e.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),_9.test(r)&&(r=r.replace(w9,S9));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(e){let r=e.value;if(_9.test(r)&&(r=r.replace(w9,S9)),e.language)return`"${r}"@${e.language}`;if(this._lineMode){if(e.datatype.value===mg.string)return`"${r}"`}else switch(e.datatype.value){case mg.string:return`"${r}"`;case mg.boolean:if(r==="true"||r==="false")return r;break;case mg.integer:if(/^[+-]?\d+$/.test(r))return r;break;case mg.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case mg.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===_ce.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:r,object:n,graph:a}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${O3(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,r,n,a,s){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,r):typeof a=="function"?this._writeQuad(e,r,n,_v,a):this._writeQuad(e,r,n,a||_v,s)}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}addPrefix(e,r,n){const a={};a[e]=r,this.addPrefixes(a,n)}addPrefixes(e,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let a in e){let s=e[a];typeof s!="string"&&(s=s.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=a+=":",this._write(`@prefix ${a} <${s}>.
`)}if(n){let a="",s="";for(const o in this._prefixIRIs)a+=a?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];a=T9(a),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${a})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(e,r){let n=e,a,s;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:r}]:"length"in e||(n=[e]),s=n.length){case 0:return new wv("[]");case 1:if(a=n[0],!(a.object instanceof wv))return new wv(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let o="[";for(let u=0;u<s;u++)a=n[u],a.predicate.equals(e)?o+=`, ${this._encodeObject(a.object)}`:(o+=`${(u?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,e=a.predicate);return new wv(`${o}
]`)}}list(e){const r=e&&e.length||0,n=new Array(r);for(let a=0;a<r;a++)n[a]=this._encodeObject(e[a]);return new wv(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=e&&((n,a)=>{r=null,e(n,a)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function S9(t){let e=wce[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function T9(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}class UF{constructor(e,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,!r&&e&&!e[0]&&(r=e,e=null),r=r||{},this._factory=r.factory||_m,e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const r=this._graphs;let n,a;for(const s in r)for(const o in n=r[s].subjects)for(const u in a=n[o])e+=Object.keys(a[u]).length;return this._size=e}_addToIndex(e,r,n,a){const s=e[r]||(e[r]={}),o=s[n]||(s[n]={}),u=a in o;return u||(o[a]=null),!u}_removeFromIndex(e,r,n,a){const s=e[r],o=s[n];delete o[a];for(const u in o)return;delete s[n];for(const u in s)return;delete e[r]}*_findInIndex(e,r,n,a,s,o,u,l){let c,d,f;const h=this._entities,p=Sl(l,this._factory),g={subject:null,predicate:null,object:null};r&&((c=e,e={})[r]=c[r]);for(const y in e)if(d=e[y]){g[s]=Sl(h[y],this._factory),n&&((c=d,d={})[n]=c[n]);for(const S in d)if(f=d[S]){g[o]=Sl(h[S],this._factory);const v=a?a in f?[a]:[]:Object.keys(f);for(let A=0;A<v.length;A++)g[u]=Sl(h[v[A]],this._factory),yield this._factory.quad(g.subject,g.predicate,g.object,p)}}}_loop(e,r){for(const n in e)r(n)}_loopByKey0(e,r,n){let a,s;if(a=e[r])for(s in a)n(s)}_loopByKey1(e,r,n){let a,s;for(a in e)s=e[a],s[r]&&n(a)}_loopBy2Keys(e,r,n,a){let s,o,u;if((s=e[r])&&(o=s[n]))for(u in o)a(u)}_countInIndex(e,r,n,a){let s=0,o,u,l;r&&((o=e,e={})[r]=o[r]);for(const c in e)if(u=e[c]){n&&((o=u,u={})[n]=o[n]);for(const d in u)(l=u[d])&&(a?a in l&&s++:s+=Object.keys(l).length)}return s}_getGraphs(e){if(!Oo(e))return this._graphs;const r={};return r[e]=this._graphs[e],r}_uniqueEntities(e){const r=Object.create(null);return n=>{n in r||(r[n]=!0,e(Sl(this._entities[n],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,r,n,a){r||(a=e.graph,n=e.object,r=e.predicate,e=e.subject),e=tn(e),r=tn(r),n=tn(n),a=tn(a);let s=this._graphs[a];s||(s=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(s));const o=this._ids,u=this._entities;e=o[e]||(o[u[++this._id]=e]=this._id),r=o[r]||(o[u[++this._id]=r]=this._id),n=o[n]||(o[u[++this._id]=n]=this._id);const l=this._addToIndex(s.subjects,e,r,n);return this._addToIndex(s.predicates,r,n,e),this._addToIndex(s.objects,n,e,r),this._size=null,l}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}delete(e){return this.removeQuad(e),this}has(e,r,n,a){return e&&e.subject&&({subject:e,predicate:r,object:n,graph:a}=e),!this.readQuads(e,r,n,a).next().done}import(e){return e.on("data",r=>{this.addQuad(r)}),e}removeQuad(e,r,n,a){r||(a=e.graph,n=e.object,r=e.predicate,e=e.subject),e=tn(e),r=tn(r),n=tn(n),a=tn(a);const s=this._ids,o=this._graphs;let u,l,c;if(!(e=s[e])||!(r=s[r])||!(n=s[n])||!(u=o[a])||!(l=u.subjects[e])||!(c=l[r])||!(n in c))return!1;this._removeFromIndex(u.subjects,e,r,n),this._removeFromIndex(u.predicates,r,n,e),this._removeFromIndex(u.objects,n,e,r),this._size!==null&&this._size--;for(e in u.subjects)return!0;return delete o[a],!0}removeQuads(e){for(let r=0;r<e.length;r++)this.removeQuad(e[r])}remove(e){return e.on("data",r=>{this.removeQuad(r)}),e}removeMatches(e,r,n,a){const s=new zr.Readable({objectMode:!0});return s._read=()=>{for(const o of this.readQuads(e,r,n,a))s.push(o);s.push(null)},this.remove(s)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,r,n,a){return[...this.readQuads(e,r,n,a)]}*readQuads(e,r,n,a){e=e&&tn(e),r=r&&tn(r),n=n&&tn(n),a=a&&tn(a);const s=this._getGraphs(a),o=this._ids;let u,l,c,d;if(!(Oo(e)&&!(l=o[e])||Oo(r)&&!(c=o[r])||Oo(n)&&!(d=o[n])))for(const f in s)(u=s[f])&&(l?d?yield*this._findInIndex(u.objects,d,l,c,"object","subject","predicate",f):yield*this._findInIndex(u.subjects,l,c,null,"subject","predicate","object",f):c?yield*this._findInIndex(u.predicates,c,d,null,"predicate","object","subject",f):d?yield*this._findInIndex(u.objects,d,null,null,"object","subject","predicate",f):yield*this._findInIndex(u.subjects,null,null,null,"subject","predicate","object",f))}match(e,r,n,a){return new VF(this,e,r,n,a)}countQuads(e,r,n,a){e=e&&tn(e),r=r&&tn(r),n=n&&tn(n),a=a&&tn(a);const s=this._getGraphs(a),o=this._ids;let u=0,l,c,d,f;if(Oo(e)&&!(c=o[e])||Oo(r)&&!(d=o[r])||Oo(n)&&!(f=o[n]))return 0;for(const h in s)(l=s[h])&&(e?n?u+=this._countInIndex(l.objects,f,c,d):u+=this._countInIndex(l.subjects,c,d,f):r?u+=this._countInIndex(l.predicates,d,f,c):u+=this._countInIndex(l.objects,f,c,d));return u}forEach(e,r,n,a,s){this.some(o=>(e(o),!1),r,n,a,s)}every(e,r,n,a,s){let o=!1;const u=!this.some(l=>(o=!0,!e(l)),r,n,a,s);return o&&u}some(e,r,n,a,s){for(const o of this.readQuads(r,n,a,s))if(e(o))return!0;return!1}getSubjects(e,r,n){const a=[];return this.forSubjects(s=>{a.push(s)},e,r,n),a}forSubjects(e,r,n,a){r=r&&tn(r),n=n&&tn(n),a=a&&tn(a);const s=this._ids,o=this._getGraphs(a);let u,l,c;if(e=this._uniqueEntities(e),!(Oo(r)&&!(l=s[r])||Oo(n)&&!(c=s[n])))for(a in o)(u=o[a])&&(l?c?this._loopBy2Keys(u.predicates,l,c,e):this._loopByKey1(u.subjects,l,e):c?this._loopByKey0(u.objects,c,e):this._loop(u.subjects,e))}getPredicates(e,r,n){const a=[];return this.forPredicates(s=>{a.push(s)},e,r,n),a}forPredicates(e,r,n,a){r=r&&tn(r),n=n&&tn(n),a=a&&tn(a);const s=this._ids,o=this._getGraphs(a);let u,l,c;if(e=this._uniqueEntities(e),!(Oo(r)&&!(l=s[r])||Oo(n)&&!(c=s[n])))for(a in o)(u=o[a])&&(l?c?this._loopBy2Keys(u.objects,c,l,e):this._loopByKey0(u.subjects,l,e):c?this._loopByKey1(u.predicates,c,e):this._loop(u.predicates,e))}getObjects(e,r,n){const a=[];return this.forObjects(s=>{a.push(s)},e,r,n),a}forObjects(e,r,n,a){r=r&&tn(r),n=n&&tn(n),a=a&&tn(a);const s=this._ids,o=this._getGraphs(a);let u,l,c;if(e=this._uniqueEntities(e),!(Oo(r)&&!(l=s[r])||Oo(n)&&!(c=s[n])))for(a in o)(u=o[a])&&(l?c?this._loopBy2Keys(u.subjects,l,c,e):this._loopByKey1(u.objects,l,e):c?this._loopByKey0(u.predicates,c,e):this._loop(u.objects,e))}getGraphs(e,r,n){const a=[];return this.forGraphs(s=>{a.push(s)},e,r,n),a}forGraphs(e,r,n,a){for(const s in this._graphs)this.some(o=>(e(o.graph),!0),r,n,a,s)}createBlankNode(e){let r,n;if(e)for(r=e=`_:${e}`,n=1;this._ids[r];)r=e+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:e=!1,ignoreErrors:r=!1}={}){const n={},a=r?()=>!0:(u,l)=>{throw new Error(`${u.value} ${l}`)},s=this.getQuads(null,us.rdf.rest,us.rdf.nil,null),o=e?[...s]:[];return s.forEach(u=>{const l=[];let c=!1,d,f;const h=u.graph;let p=u.subject;for(;p&&!c;){const g=this.getQuads(null,null,p,null),y=this.getQuads(p,null,null,null);let S,v=null,A=null,E=null;for(let T=0;T<y.length&&!c;T++)S=y[T],S.graph.equals(h)?d?c=a(p,"has non-list arcs out"):S.predicate.value===us.rdf.first?v?c=a(p,"has multiple rdf:first arcs"):o.push(v=S):S.predicate.value===us.rdf.rest?A?c=a(p,"has multiple rdf:rest arcs"):o.push(A=S):g.length?c=a(p,"can't be subject and object"):(d=S,f="subject"):c=a(p,"not confined to single graph");for(let T=0;T<g.length&&!c;++T)S=g[T],d?c=a(p,"can't have coreferences"):S.predicate.value===us.rdf.rest?E?c=a(p,"has incoming rdf:rest arcs"):E=S:(d=S,f="object");v?l.unshift(v.object):c=a(p,"has no list head"),p=E&&E.subject}c?e=!1:d&&(n[d[f].value]=l)}),e&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.readQuads()}}function Oo(t){return typeof t=="string"||t instanceof String}class VF extends zr.Readable{constructor(e,r,n,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:r,predicate:n,object:a,graph:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:r,object:n,predicate:a,subject:s}=this,o=this._filtered=new UF({factory:e._factory});for(const u of e.readQuads(s,a,n,r))o.addQuad(u)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,r,n,a){return new VF(this.filtered,e,r,n,a)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class Dq extends zr.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new T1(e);let n,a;r.parse({on:(s,o)=>{switch(s){case"data":n=o;break;case"end":a=o;break}}},(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},(s,o)=>{this.emit("prefix",s,o)}),this._transform=(s,o,u)=>{n(s),u()},this._flush=s=>{a(),s()}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),this}}class Nq extends zr.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new I3({write:(n,a,s)=>{this.push(n),s&&s()},end:n=>{this.push(null),n&&n()}},e);this._transform=(n,a,s)=>{r.addQuad(n,s)},this._flush=n=>{r.end(n)}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),e.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}}const Sce={Lexer:MF,Parser:T1,Writer:I3,Store:UF,StreamParser:Dq,StreamWriter:Nq,Util:Iq,DataFactory:_m,Term:Ml,NamedNode:R3,Literal:o0,BlankNode:BF,Variable:kF,DefaultGraph:$F,Quad:l_,Triple:l_,termFromId:Sl,termToId:tn},Tce=Object.freeze(Object.defineProperty({__proto__:null,Lexer:MF,Parser:T1,Writer:I3,Store:UF,StreamParser:Dq,StreamWriter:Nq,Util:Iq,DataFactory:_m,Term:Ml,NamedNode:R3,Literal:o0,BlankNode:BF,Variable:kF,DefaultGraph:$F,Quad:l_,Triple:l_,termFromId:Sl,termToId:tn,default:Sce},Symbol.toStringTag,{value:"Module"}));let P3=class{constructor(e){this.value=e||"b"+ ++P3.nextId}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};P3.prototype.termType="BlankNode";P3.nextId=0;var Ece=P3;let HF=class{equals(e){return!!e&&e.termType===this.termType}};HF.prototype.termType="DefaultGraph";HF.prototype.value="";var Fq=HF;function Ace(t){if(!t)return null;if(t.termType==="BlankNode")return this.blankNode(t.value);if(t.termType==="DefaultGraph")return this.defaultGraph();if(t.termType==="Literal")return this.literal(t.value,t.language||this.namedNode(t.datatype.value));if(t.termType==="NamedNode")return this.namedNode(t.value);if(t.termType==="Quad"){const e=this.fromTerm(t.subject),r=this.fromTerm(t.predicate),n=this.fromTerm(t.object),a=this.fromTerm(t.graph);return this.quad(e,r,n,a)}if(t.termType==="Variable")return this.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}var xce=Ace;let Lq=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};Lq.prototype.termType="NamedNode";var jq=Lq;const Mq=jq;let jy=class{constructor(e,r,n){this.value=e,this.datatype=jy.stringDatatype,this.language="",r?(this.language=r,this.datatype=jy.langStringDatatype):n&&(this.datatype=n)}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}};jy.prototype.termType="Literal";jy.langStringDatatype=new Mq("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");jy.stringDatatype=new Mq("http://www.w3.org/2001/XMLSchema#string");var Oce=jy;const Rce=Fq;let qF=class{constructor(e,r,n,a){this.subject=e,this.predicate=r,this.object=n,a?this.graph=a:this.graph=new Rce}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}};qF.prototype.termType="Quad";qF.prototype.value="";var Ice=qF;let Bq=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};Bq.prototype.termType="Variable";var Pce=Bq;const Cce=Ece,Dce=Fq,kq=xce,UC=Oce,Nce=jq,Fce=Ice,Lce=Pce;function jce(t){return new Nce(t)}function Mce(t){return new Cce(t)}function Bce(t,e){return typeof e=="string"?e.indexOf(":")===-1?new UC(t,e):new UC(t,null,R0.namedNode(e)):new UC(t,null,e)}function kce(t){return new Lce(t)}function $ce(){return R0.defaultGraphInstance}function Uce(t,e,r){return R0.quad(t,e,r)}function Vce(t,e,r,n){return new Fce(t,e,r,n||R0.defaultGraphInstance)}function Hce(t){return kq.call(R0,t)}function qce(t){return kq.call(R0,t)}const R0={namedNode:jce,blankNode:Mce,literal:Bce,variable:kce,defaultGraph:$ce,triple:Uce,quad:Vce,fromTerm:Hce,fromQuad:qce,defaultGraphInstance:new Dce};var zce=R0;const Gce=zce;var C3=Gce;function sp(t){return typeof t=="string"||t instanceof String}const Qce="http://www.w3.org/2001/XMLSchema#string";function ji(t){if(typeof t=="string")return t;if(!t)return"";if(typeof t.id<"u"&&t.termType!=="Quad")return t.id;let e,r,n,a;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return t.language?`"${t.value}"@${t.language}`:`"${t.value}"${t.datatype&&t.datatype.value!==Qce?`^^${t.datatype.value}`:""}`;case"Quad":return e=VC(ji(t.subject)),r=VC(ji(t.predicate)),n=VC(ji(t.object)),a=t.graph.termType==="DefaultGraph"?"":` ${ji(t.graph)}`,`<<${e} ${r} ${n}${a}>>`;default:throw new Error(`Unexpected termType: ${t.termType}`)}}const Wce=/^"(.*".*)(?="[^"]*$)/;function VC(t){return t.replace(Wce,(e,r)=>`"${r.replace(/"/g,'""')}`)}let Kce=class{constructor(e){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e)for(const r of e)this.add(r)}get size(){let e=this._size;if(e!==null)return e;e=0;const r=this._graphs;let n,a;for(const s in r)for(const o in n=r[s].subjects)for(const u in a=n[o])e+=Object.keys(a[u]).length;return this._size=e,this._size}add(e){let r=ji(e.subject),n=ji(e.predicate),a=ji(e.object);const s=ji(e.graph);let o=this._graphs[s];o||(o=this._graphs[s]={subjects:{},predicates:{},objects:{}},Object.freeze(o));const u=this._ids,l=this._entities;return r=u[r]||(u[l[++this._id]=r]=this._id),n=u[n]||(u[l[++this._id]=n]=this._id),a=u[a]||(u[l[++this._id]=a]=this._id),this._addToIndex(o.subjects,r,n,a),this._addToIndex(o.predicates,n,a,r),this._addToIndex(o.objects,a,r,n),this._setQuad(r,n,a,s,e),this._size=null,this}delete(e){let r=ji(e.subject),n=ji(e.predicate),a=ji(e.object);const s=ji(e.graph),o=this._ids,u=this._graphs;let l,c,d;if(!(r=o[r])||!(n=o[n])||!(a=o[a])||!(l=u[s])||!(c=l.subjects[r])||!(d=c[n])||!(a in d))return this;this._removeFromIndex(l.subjects,r,n,a),this._removeFromIndex(l.predicates,n,a,r),this._removeFromIndex(l.objects,a,r,n),this._size!==null&&this._size--,this._deleteQuad(r,n,a,s);for(r in l.subjects)return this;return delete u[s],this}has(e){const r=ji(e.subject),n=ji(e.predicate),a=ji(e.object),s=ji(e.graph),o=this._graphs[s];if(!o)return!1;const u=this._ids;let l,c,d;return sp(r)&&!(l=u[r])||sp(n)&&!(c=u[n])||sp(a)&&!(d=u[a])?!1:this._countInIndex(o.objects,d,l,c)===1}match(e,r,n,a){return this._createDataset(this._match(e,r,n,a))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(e,r,n,a){const s=e[r]||(e[r]={}),o=s[n]||(s[n]={}),u=a in o;return u||(o[a]=null),!u}_removeFromIndex(e,r,n,a){const s=e[r],o=s[n];delete o[a];for(const u in o)return;delete s[n];for(const u in s)return;delete e[r]}_findInIndex(e,r,n,a,s,o,u,l,c,d){let f,h,p;r&&((f=e,e={})[r]=f[r]);for(const g in e)if(h=e[g],h){n&&((f=h,h={})[n]=f[n]);for(const y in h)if(p=h[y],p){const S=a?a in p?[a]:[]:Object.keys(p);for(let v=0;v<S.length;v++){const A={[s]:g,[o]:y,[u]:S[v]},E=this._getQuad(A.subject,A.predicate,A.object,l);if(d)d.push(E);else if(c(E))return!0}}}return d}_countInIndex(e,r,n,a){let s=0,o,u,l;r&&((o=e,e={})[r]=o[r]);for(const c in e)if(u=e[c],u){n&&((o=u,u={})[n]=o[n]);for(const d in u)l=u[d],l&&(a?a in l&&s++:s+=Object.keys(l).length)}return s}_getGraphs(e){return sp(e)?{[e]:this._graphs[e]}:this._graphs}_match(e,r,n,a){e=e&&ji(e),r=r&&ji(r),n=n&&ji(n),a=a&&ji(a);const s=[],o=this._getGraphs(a),u=this._ids;let l,c,d,f;if(sp(e)&&!(c=u[e])||sp(r)&&!(d=u[r])||sp(n)&&!(f=u[n]))return s;for(const h in o)l=o[h],l&&(c?f?this._findInIndex(l.objects,f,c,d,"object","subject","predicate",h,null,s):this._findInIndex(l.subjects,c,d,null,"subject","predicate","object",h,null,s):d?this._findInIndex(l.predicates,d,f,null,"predicate","object","subject",h,null,s):f?this._findInIndex(l.objects,f,null,null,"object","subject","predicate",h,null,s):this._findInIndex(l.subjects,null,null,null,"subject","predicate","object",h,null,s));return s}_getQuad(e,r,n,a){return this._quads.get(this._toId(e,r,n,a))}_setQuad(e,r,n,a,s){this._quads.set(this._toId(e,r,n,a),s)}_deleteQuad(e,r,n,a){this._quads.delete(this._toId(e,r,n,a))}_createDataset(e){return new this.constructor(e)}_toId(e,r,n,a){return`${e}:${r}:${n}:${a}`}};var Xce=Kce;const Jce=C3,Yce=Xce;function Zce(t){return new Yce(t)}var $q=Object.assign({dataset:Zce},Jce);let FS;const ede=new Uint8Array(16);function tde(){if(!FS&&(FS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!FS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return FS(ede)}const Fa=[];for(let t=0;t<256;++t)Fa.push((t+256).toString(16).slice(1));function rde(t,e=0){return(Fa[t[e+0]]+Fa[t[e+1]]+Fa[t[e+2]]+Fa[t[e+3]]+"-"+Fa[t[e+4]]+Fa[t[e+5]]+"-"+Fa[t[e+6]]+Fa[t[e+7]]+"-"+Fa[t[e+8]]+Fa[t[e+9]]+"-"+Fa[t[e+10]]+Fa[t[e+11]]+Fa[t[e+12]]+Fa[t[e+13]]+Fa[t[e+14]]+Fa[t[e+15]]).toLowerCase()}const nde=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),E9={randomUUID:nde};function D3(t,e,r){if(E9.randomUUID&&!e&&!t)return E9.randomUUID();t=t||{};const n=t.random||(t.rng||tde)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let a=0;a<16;++a)e[r+a]=n[a];return e}return rde(n)}function N3(t){const e=t;return typeof e=="object"&&typeof e.internal_resourceInfo=="object"}function zF(t){const e=t;return typeof e=="object"&&typeof e.internal_resourceInfo=="object"&&typeof e.internal_resourceInfo.linkedResources=="object"}function wm(t){const e=t;return typeof e.internal_changeLog=="object"&&Array.isArray(e.internal_changeLog.additions)&&Array.isArray(e.internal_changeLog.deletions)}class Sm extends Error{}function Un(t){return typeof t=="string"?t:t.value}const l4=Mh.bind(globalThis);function Uq(t){var e,r,n,a,s;const o=(r=(e=t.headers.get("Content-Type"))===null||e===void 0?void 0:e.split(";"))!==null&&r!==void 0?r:[],u=o.length>0&&["text/turtle","application/ld+json"].includes(o[0]),l={sourceIri:t.url,isRawData:!u,contentLocation:(n=t.headers.get("Content-Location"))!==null&&n!==void 0?n:void 0,contentType:(a=t.headers.get("Content-Type"))!==null&&a!==void 0?a:void 0,linkedResources:{},location:(s=t.headers.get("Location"))!==null&&s!==void 0?s:void 0},c=t.headers.get("Link");if(c){const f=TF.parse(c),h=f.get("rel","acl");h.length===1&&(l.aclUrl=new URL(h[0].uri,l.sourceIri).href),l.linkedResources=f.refs.reduce((p,g)=>{var y,S;return(y=p[S=g.rel])!==null&&y!==void 0||(p[S]=[]),p[g.rel].push(new URL(g.uri,l.sourceIri).href),p},l.linkedResources)}const d=t.headers.get("WAC-Allow");return d&&(l.permissions=ide(d)),l}function ide(t){function e(n){const a=n.split(" ");return a.includes("write")?{read:a.includes("read"),append:!0,write:!0,control:a.includes("control")}:{read:a.includes("read"),append:a.includes("append"),write:!1,control:a.includes("control")}}function r(n,a){const s=n.split(",").map(u=>u.split("=")).filter(u=>u.length===2&&u[0].trim()===a);if(s.length!==1)return"";const o=s[0][1].trim();return o.charAt(0)!=='"'||o.charAt(o.length-1)!=='"'?"":o.substring(1,o.length-1)}return{user:e(r(t,"user")),public:e(r(t,"public"))}}function GF(t){let e;return typeof t.slice=="function"?e=Object.assign(t.slice(),{...t}):e={...t},e}function F3(t){return!t.ok}function ade(t){return t.status===401||t.status===403}const Xt={Authorization:"http://www.w3.org/ns/auth/acl#Authorization",AuthenticatedAgent:"http://www.w3.org/ns/auth/acl#AuthenticatedAgent",accessTo:"http://www.w3.org/ns/auth/acl#accessTo",agent:"http://www.w3.org/ns/auth/acl#agent",agentGroup:"http://www.w3.org/ns/auth/acl#agentGroup",agentClass:"http://www.w3.org/ns/auth/acl#agentClass",default:"http://www.w3.org/ns/auth/acl#default",defaultForNew:"http://www.w3.org/ns/auth/acl#defaultForNew",mode:"http://www.w3.org/ns/auth/acl#mode",origin:"http://www.w3.org/ns/auth/acl#origin"},L3={type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},sde={BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",Container:"http://www.w3.org/ns/ldp#Container",Resource:"http://www.w3.org/ns/ldp#Resource",contains:"http://www.w3.org/ns/ldp#contains"},c_={Agent:"http://xmlns.com/foaf/0.1/Agent",primaryTopic:"http://xmlns.com/foaf/0.1/primaryTopic",isPrimaryTopicOf:"http://xmlns.com/foaf/0.1/isPrimaryTopicOf"},QF={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",memberAccessControl:"http://www.w3.org/ns/solid/acp#memberAccessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},ode={storage:"http://www.w3.org/ns/pim/space#storage"},oa={fetch:l4};async function I0(t,e={...oa,ignoreAuthenticationErrors:!1}){var r;const a=await{...oa,...e}.fetch(t,{method:"HEAD"});return Vq(a,{ignoreAuthenticationErrors:(r=e.ignoreAuthenticationErrors)!==null&&r!==void 0?r:!1})}function Vq(t,e={ignoreAuthenticationErrors:!1}){if(F3(t)&&(!ade(t)||!e.ignoreAuthenticationErrors))throw new j3(`Fetching the metadata of the Resource at [${t.url}] failed: [${t.status}] [${t.statusText}].`,t);return{internal_resourceInfo:Uq(t)}}function ude(t){var e;return(e=t.internal_resourceInfo.contentType)!==null&&e!==void 0?e:null}function rn(t){return N3(t)?t.internal_resourceInfo.sourceIri:null}const c4=rn;function Hq(t){return t.internal_resourceInfo.linkedResources}class j3 extends Sm{get statusCode(){return this.response.status}get statusText(){return this.response.statusText}constructor(e,r){super(e),this.response=r}}$q.dataset;const kT="https://inrupt.com/.well-known/sdk-local-node/",{freeze:wt}=Object;function Rl(t){return t.substring(0,kT.length)===kT}function Eu(t){return t.substring(kT.length)}function lde(t){return`${kT}${t}`}function M3(t){return typeof t=="string"&&t.substring(0,2)==="_:"}function WF(t){return t.substring(2)}function qq(t){return`_:${t.value}`}const ci={boolean:"http://www.w3.org/2001/XMLSchema#boolean",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",date:"http://www.w3.org/2001/XMLSchema#date",time:"http://www.w3.org/2001/XMLSchema#time",decimal:"http://www.w3.org/2001/XMLSchema#decimal",integer:"http://www.w3.org/2001/XMLSchema#integer",string:"http://www.w3.org/2001/XMLSchema#string",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"};function cde(t){return t?"true":"false"}function zq(t){return t==="true"||t==="1"?!0:t==="false"||t==="0"?!1:null}function dde(t){let e,r;if(t.millisecond&&(t.millisecond<10?e=`00${t.millisecond}`:t.millisecond<100?e=`0${t.millisecond}`:e=t.millisecond),typeof t.timezoneHourOffset=="number"){const n=Math.abs(t.timezoneHourOffset)<10?`0${Math.abs(t.timezoneHourOffset)}`:Math.abs(t.timezoneHourOffset);r=t.timezoneHourOffset>=0?`+${n}`:`-${n}`,t.timezoneMinuteOffset?r=`${r}:${t.timezoneMinuteOffset<10?`0${t.timezoneMinuteOffset}`:t.timezoneMinuteOffset}`:r+=":00"}return`${t.hour<10?`0${t.hour}`:t.hour}:${t.minute<10?`0${t.minute}`:t.minute}:${t.second<10?`0${t.second}`:t.second}${t.millisecond?`.${e}`:""}${r||""}`}function fde(t){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(t))return null;const[r,n]=KF(t),[a,s,o]=r.split(":");let u=Number.parseInt(a,10),l=Number.parseInt(s,10);const[c,d]=o.split("."),f=Number.parseInt(c,10),h=d?Number.parseInt(d,10):void 0;l>=60&&(u+=1,l-=60);const p={hour:u,minute:l,second:f};if(typeof h=="number"&&(p.millisecond=h),typeof n=="string"){const[g,y]=Qq(n);if(typeof g!="number"||g>24||typeof y!="number"||y>59)return null;p.timezoneHourOffset=g,p.timezoneMinuteOffset=y}return p}function hde(t){return t.toISOString()}function Gq(t){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(t))return null;const[r,n]=t.split("T"),[a,s]=r.charAt(0)==="-"?[-1,r.substring(1)]:[1,r],[o,u,l]=s.split("-"),c=Number.parseInt(o,10)*a,d=Number.parseInt(u,10)-1,f=Number.parseInt(l,10),[h,p]=KF(n),[g,y]=typeof p=="string"?Qq(p):[0,0],[S,v,A]=h.split(":"),E=Number.parseInt(S,10)+g,T=Number.parseInt(v,10)+y,[R,I]=A.split("."),D=Number.parseInt(R,10),M=I?Number.parseInt(I,10):0,N=new Date(Date.UTC(c,d,f,E,T,D,M));return c>=0&&c<100&&N.setUTCFullYear(N.getUTCFullYear()-1900),N}function pde(t){const e=t.getFullYear(),r=t.getMonth()+1,n=t.getDate(),[a,s]=KF(t.toISOString());return`${e}-${String(r).padStart(2,"0")}-${String(n).padStart(2,"0")}${s}`}function gde(t){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(t))return null;const r=t,[n,a]=r.charAt(0)==="-"?[-1,r.substring(1)]:[1,r],[s,o,u]=a.split("-"),l=u.length>2?u.substring(0,2):u,c=Number.parseInt(s,10)*n,d=Number.parseInt(o,10)-1,f=Number.parseInt(l,10),h=12,p=new Date(Date.UTC(c,d,f,h));return c>=0&&c<100&&p.setUTCFullYear(p.getUTCFullYear()-1900),p}function KF(t){if(t.endsWith("Z"))return[t.substring(0,t.length-1),"Z"];const e=t.split("+"),r=t.split("-");return e.length===1&&r.length===1?[e[0],void 0]:e.length>r.length?[e[0],`+${e[1]}`]:[r[0],`-${r[1]}`]}function Qq(t){if(t==="Z")return[0,0];const e=t.charAt(0)==="+"?1:-1,[r,n]=t.substring(1).split(":"),a=Number.parseInt(r,10),s=Number.parseInt(n,10);return[a*e,s*e]}function yde(t){return t.toString()}function Wq(t){const e=Number.parseFloat(t);return Number.isNaN(e)?null:e}function mde(t){return t.toString()}function Kq(t){const e=Number.parseInt(t,10);return Number.isNaN(e)?null:e}function d4(t){return t.toLowerCase()}function fo(t){return Xq(t)&&t.termType==="NamedNode"}function vde(t){return Xq(t)&&t.termType==="Literal"}function Xq(t){return t!==null&&typeof t=="object"&&typeof t.termType=="string"&&typeof t.value=="string"&&typeof t.equals=="function"}function A9(t){return fo(t)&&Rl(t.value)}function $i(t){const e=Un(t);if(typeof URL!="function")return!0;try{const r=new URL(e);return!0}catch{return!1}}function x9(t,e){return yn.namedNode(E1(Eu(t.value),e))}function E1(t,e){if(typeof URL!="function")throw new Error("The URL interface is not available, so an IRI cannot be determined.");const r=new URL(e);return r.hash=t,r.href}const yn=C3;function O9(t,e,r={}){var n;if(!["NamedNode","DefaultGraph"].includes(e.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.graph.termType}] as their Graph node.`);const s=e.graph.termType==="DefaultGraph"?"default":e.graph.value,o=(n=t.graphs[s])!==null&&n!==void 0?n:{};return wt({...t,graphs:wt({...t.graphs,[s]:bde(o,e,r)})})}function bde(t,e,r){var n;if(!["NamedNode","BlankNode"].includes(e.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.subject.termType}] as their Subject node.`);const s=e.subject.termType==="BlankNode"?`_:${e.subject.value}`:e.subject.value,o=(n=t[s])!==null&&n!==void 0?n:{type:"Subject",url:s,predicates:{}};return wt({...t,[s]:_de(o,e,r)})}function _de(t,e,r){return wt({...t,predicates:wde(t.predicates,e,r)})}function wde(t,e,r){var n;if(!["NamedNode"].includes(e.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.predicate.termType}] as their Predicate node.`);const s=e.predicate.value,o=(n=t[s])!==null&&n!==void 0?n:{};return wt({...t,[s]:Jq(o,e,r)})}function Jq(t,e,r){var n,a,s,o,u,l,c,d;if(e.object.termType==="NamedNode"){const f=wt([...(n=t.namedNodes)!==null&&n!==void 0?n:[],e.object.value]);return wt({...t,namedNodes:f})}if(e.object.termType==="Literal"){if(e.object.datatype.value===ci.langString){const p=e.object.language.toLowerCase(),g=wt([...(s=(a=t.langStrings)===null||a===void 0?void 0:a[p])!==null&&s!==void 0?s:[],e.object.value]),y=wt({...(o=t.langStrings)!==null&&o!==void 0?o:{},[p]:g});return wt({...t,langStrings:y})}const f=wt([...(l=(u=t.literals)===null||u===void 0?void 0:u[e.object.datatype.value])!==null&&l!==void 0?l:[],e.object.value]),h=wt({...(c=t.literals)!==null&&c!==void 0?c:{},[e.object.datatype.value]:f});return wt({...t,literals:h})}if(e.object.termType==="BlankNode"){const f=Yq(e.object,r),h=wt([...(d=t.blankNodes)!==null&&d!==void 0?d:[],f]);return wt({...t,blankNodes:h})}throw new Error(`Objects of type [${e.object.termType}] are not supported.`)}function Yq(t,e){var r,n;if(((r=e.chainBlankNodes)!==null&&r!==void 0?r:[]).find(c=>c.equals(t))===void 0)return qq(t);const o=((n=e.otherQuads)!==null&&n!==void 0?n:[]).filter(c=>c.subject.equals(t)),u=o.filter(c=>!d_(c.object)).reduce((c,d)=>{var f;if(!["NamedNode"].includes(d.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${d.predicate.termType}] as their Predicate node.`);const p=(f=c[d.predicate.value])!==null&&f!==void 0?f:{};return wt({...c,[d.predicate.value]:Jq(p,d,e)})},{});return o.filter(c=>d_(c.object)).reduce((c,d)=>{var f,h;if(!["NamedNode"].includes(d.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${d.predicate.termType}] as their Predicate node.`);const g=(f=c[d.predicate.value])!==null&&f!==void 0?f:{},y=(h=g.blankNodes)!==null&&h!==void 0?h:[];return wt({...c,[d.predicate.value]:{...g,blankNodes:[...y,Yq(d.object,e)]}})},u)}function Sde(t){const e=t.map(o=>o.subject).filter(d_),r=t.map(o=>o.object).filter(d_);function n(o){return o.every(u=>o.every(l=>u.equals(l)))}const a=[];return r.forEach(o=>{a.push(...Zq(o,t))}),e.concat(r).filter(o=>{if(a.some(l=>l.equals(o)))return!1;const u=t.filter(l=>l.object.equals(o)).map(l=>l.subject);return u.length>0&&n(u)})}function Tde(t,e={}){var r;const n=[],a=(r=e.dataFactory)!==null&&r!==void 0?r:C3;return Object.keys(t.graphs).forEach(s=>{const o=t.graphs[s],u=s==="default"?a.defaultGraph():a.namedNode(s);Object.keys(o).forEach(l=>{const{predicates:c}=o[l],d=M3(l)?a.blankNode(WF(l)):a.namedNode(l);n.push(...My(c,d,u,e))})}),n}function My(t,e,r,n={}){var a;const s=[],o=(a=n.dataFactory)!==null&&a!==void 0?a:C3;return Object.keys(t).forEach(u=>{var l,c,d,f;const h=o.namedNode(u),p=(l=t[u].langStrings)!==null&&l!==void 0?l:{},g=(c=t[u].namedNodes)!==null&&c!==void 0?c:[],y=(d=t[u].literals)!==null&&d!==void 0?d:{},S=(f=t[u].blankNodes)!==null&&f!==void 0?f:[];Object.keys(y).forEach(E=>{const T=o.namedNode(E);y[E].forEach(I=>{const D=o.literal(I,T);s.push(o.quad(e,h,D,r))})}),Object.keys(p).forEach(E=>{p[E].forEach(R=>{const I=o.literal(R,E);s.push(o.quad(e,h,I,r))})}),g.forEach(E=>{const T=o.namedNode(E);s.push(o.quad(e,h,T,r))}),S.forEach(E=>{if(M3(E)){const T=o.blankNode(WF(E));s.push(o.quad(e,h,T,r))}else{const T=o.blankNode(),R=o.quad(e,h,T,r),I=My(E,T,r);s.push(R),s.push(...I)}})}),s}function Zq(t,e,r=[]){if(r.find(u=>u.equals(t))!==void 0)return r;const n=e.filter(u=>u.subject.equals(t)&&d_(u.object)).map(u=>u.object);if(n.length===0)return[];const a=[...r,t],s=n.map(u=>Zq(u,e,a)),o=[];for(const u of s)o.push(...u);return o}function d_(t){return t.termType==="BlankNode"}const Ede=()=>{const t=[],e=[],r=[];return{onQuad:n=>{t.push(n)},onError:n=>{r.push(n)},onComplete:n=>{e.push(n)},parse:async(n,a)=>{(await Ade(rn(a))).parse(n,(o,u)=>{o?r.forEach(l=>l(o)):u?t.forEach(l=>l(u)):e.forEach(l=>l())})}}};async function Ade(t){return new T1({format:"text/turtle",baseIRI:t})}async function f4(t,e){const r="text/turtle",n=new I3({format:r,prefixes:e==null?void 0:e.prefixes}),a=t.map(u=>yn.quad(u.subject,u.predicate,u.object,void 0));return n.addQuads(a),await new Promise((u,l)=>{n.end((c,d)=>{c?l(c):u(d)})})}$q.dataset;function h4(t){var e,r,n,a,s,o,u,l;if(fo(t))return`<${t.value}> (URL)`;if(vde(t)){if(!fo(t.datatype))return`[${t.value}] (RDF/JS Literal of unknown type)`;let c;switch(t.datatype.value){case ci.boolean:return c=(r=(e=zq(t.value))===null||e===void 0?void 0:e.valueOf())!==null&&r!==void 0?r:`Invalid data: \`${t.value}\``,`${c} (boolean)`;case ci.dateTime:return c=(a=(n=Gq(t.value))===null||n===void 0?void 0:n.toUTCString())!==null&&a!==void 0?a:`Invalid data: \`${t.value}\``,`${c} (datetime)`;case ci.decimal:return c=(o=(s=Wq(t.value))===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:`Invalid data: \`${t.value}\``,`${c} (decimal)`;case ci.integer:return c=(l=(u=Kq(t.value))===null||u===void 0?void 0:u.toString())!==null&&l!==void 0?l:`Invalid data: \`${t.value}\``,`${c} (integer)`;case ci.langString:return`"${t.value}" (${t.language} string)`;case ci.string:return`"${t.value}" (string)`;default:return`[${t.value}] (RDF/JS Literal of type: \`${t.datatype.value}\`)`}}return t.termType==="BlankNode"?`[${t.value}] (RDF/JS BlankNode)`:t.termType==="Quad"?"??? (nested RDF* Quad)":t.termType==="Variable"?`?${t.value} (RDF/JS Variable)`:t}function Pr(t){if(!By(t))throw new Lde(t)}function xde(t,e){const r=wm(t)?t.internal_changeLog:{additions:[],deletions:[]},[n,a]=e.filter(s=>!tz(s)).reduce(([s,o],u)=>typeof o.find(c=>c.equals(u))<"u"?[s,o.filter(c=>!c.equals(u))]:[s.concat(u),o],[r.additions,r.deletions]);return wt({...t,internal_changeLog:{additions:n,deletions:a}})}function ez(t,e){const r=wm(t)?t.internal_changeLog:{additions:[],deletions:[]},[n,a]=e.filter(s=>!tz(s)).reduce(([s,o],u)=>typeof s.find(c=>c.equals(u))<"u"?[s.filter(c=>!c.equals(u)),o]:[s,o.concat(u)],[r.additions,r.deletions]);return wt({...t,internal_changeLog:{additions:n,deletions:a}})}function Ode(t){return wm(t)?t:wt({...t,internal_changeLog:{additions:[],deletions:[]}})}function tz(t){return t.subject.termType==="BlankNode"||t.object.termType==="BlankNode"}function Rde(t,e){var r,n,a;if(Pr(t),!$i(e))throw new Qs(e);const s=Un(e),o=(a=(n=(r=t.predicates[s])===null||r===void 0?void 0:r.namedNodes)===null||n===void 0?void 0:n[0])!==null&&a!==void 0?a:null;return o===null?null:Rl(o)?`#${Eu(o)}`:o}const jf=Rde;function th(t,e){var r,n,a;if(Pr(t),!$i(e))throw new Qs(e);const s=Un(e);return(a=(n=(r=t.predicates[s])===null||r===void 0?void 0:r.namedNodes)===null||n===void 0?void 0:n.map(o=>Rl(o)?`#${Eu(o)}`:o))!==null&&a!==void 0?a:[]}const ua=th;function Ide(t,e){return ua(t,e).map(n=>yn.namedNode(n))}function Pde(t,e){var r,n,a,s;if(Pr(t),!$i(e))throw new Qs(e);const o=Un(e);let u=[];const l=(n=(r=t.predicates[o])===null||r===void 0?void 0:r.langStrings)!==null&&n!==void 0?n:{},c=Object.keys(l);for(const h of c){const g=l[h].map(y=>yn.literal(y,h));u=u.concat(g)}const d=(s=(a=t.predicates[o])===null||a===void 0?void 0:a.literals)!==null&&s!==void 0?s:{},f=Object.keys(d);for(const h of f){const p=d[h],g=yn.namedNode(h),y=p.map(S=>yn.literal(S,g));u=u.concat(y)}return u}function Cde(t,e){var r,n;Pr(t);const a=Ide(t,e),s=Pde(t,e),o=Un(e),l=((n=(r=t.predicates[o])===null||r===void 0?void 0:r.blankNodes)!==null&&n!==void 0?n:[]).map(d=>{const f=M3(d)?WF(d):void 0;return yn.blankNode(f)});return a.concat(s).concat(l)}function ho(t,e,r={}){var n;if(!$i(e))throw new rz(e);const a=typeof r.scope<"u"?Un(r.scope):"default",s=(n=t.graphs[a])!==null&&n!==void 0?n:{},o=Un(e),u=Rl(o)&&zF(t)?E1(Eu(o),rn(t)):o,l=s[u];return typeof l>"u"?null:l}function A1(t,e={acceptBlankNodes:!1}){var r;const n=typeof e.scope<"u"?Un(e.scope):"default",a=(r=t.graphs[n])!==null&&r!==void 0?r:{};return Object.values(a).filter(s=>!M3(s.url)||e.acceptBlankNodes)}function Bb(t,e){var r;const n=x1(e)&&zF(t)?E1(Eu(e.url),rn(t)):e.url,a=t.graphs.default,s=wt({...a,[n]:wt({...e,url:n})}),o=wt({...t.graphs,default:s}),u=yn.namedNode(n),l=(r=t.graphs.default[n])===null||r===void 0?void 0:r.predicates,c=typeof l<"u"?My(l,u,yn.defaultGraph()):[],d=My(e.predicates,u,yn.defaultGraph());return xde(ez(wt({...t,graphs:o}),c),d)}function Dde(t,e){var r;let n;fo(e)?n=e.value:typeof e=="string"?n=Rl(e)&&zF(t)?E1(Eu(e),rn(t)):e:x1(e)?n=e.url:n=B3(e);const s={...t.graphs.default};delete s[n];const o=wt({...t.graphs,default:wt(s)}),u=yn.namedNode(n),l=(r=t.graphs.default[n])===null||r===void 0?void 0:r.predicates,c=typeof l<"u"?My(l,u,yn.defaultGraph()):[];return ez(wt({...t,graphs:o}),c)}function Rh(t={}){var e;if(typeof t.url<"u"){const{url:s}=t;if(!$i(s))throw new rz(s);return wt({type:"Subject",predicates:wt({}),url:s})}const r=(e=t.name)!==null&&e!==void 0?e:jde(),n=lde(r);return wt({type:"Subject",predicates:wt({}),url:n})}function By(t){return typeof t=="object"&&t!==null&&typeof t.type=="string"&&t.type==="Subject"}function Nde(t,e){if(x1(t)){if(typeof e>"u")throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return E1(Eu(t.url),e)}return t.url}const B3=Nde;function Fde(t){let e="";x1(t)?e+=`## Thing (no URL yet  identifier: \`#${Eu(t.url)}\`)
`:e+=`## Thing: ${t.url}
`;const r=Object.keys(t.predicates);if(r.length===0)e+=`
<empty>
`;else for(const n of r){e+=`
Property: ${n}
`;const a=Cde(t,n);e+=a.reduce((s,o)=>`${s}- ${h4(o)}
`,"")}return e}function x1(t){return Rl(t.url)}class Lde extends Sm{constructor(e){const r=`Expected a Thing, but received: [${e}].`;super(r),this.receivedValue=e}}class Qs extends Sm{constructor(e){const r=fo(e)?e.value:e,n=`Expected a valid URL to identify a property, but received: [${r}].`;super(n),this.receivedProperty=r}}class XF extends Sm{constructor(e){const r=fo(e)?e.value:e,n=`Expected a valid URL value, but received: [${r}].`;super(n),this.receivedValue=r}}class rz extends Sm{constructor(e){const r=fo(e)?e.value:e,n=`Expected a valid URL to identify a Thing, but received: [${r}].`;super(n),this.receivedValue=r}}const jde=()=>D3();function R9(t){const e=new URL(t);return e.hash="",e.href}function Mde(){return wt({type:"Dataset",graphs:{default:{}}})}async function Bde(t,e={}){if(F3(t))throw new j3(`Fetching the SolidDataset at [${t.url}] failed: [${t.status}] [${t.statusText}] ${await t.text()}.`,t);const r=Vq(t),n={"text/turtle":Ede(),...e.parsers},a=ude(r);if(a===null)throw new Error(`Could not determine the content type of the Resource at [${rn(r)}].`);const s=a.split(";")[0],o=n[s];if(typeof o>"u")throw new Error(`The Resource at [${rn(r)}] has a MIME type of [${s}], but the only parsers available are for the following MIME types: [${Object.keys(n).join(", ")}].`);const u=await t.text();return new Promise((c,d)=>{let f=wt({graphs:wt({default:wt({})}),type:"Dataset"});const h=[],p=[];o.onError(g=>{d(new Error(`Encountered an error parsing the Resource at [${rn(r)}] with content type [${a}]: ${g}`))}),o.onQuad(g=>{p.push(g),g.subject.termType==="BlankNode"||g.object.termType==="BlankNode"?h.push(g):f=O9(f,g)}),o.onComplete(async()=>{const y=h.length<=20?Sde(h):[];f=h.filter(A=>y.every(E=>!E.equals(A.subject))).reduce((A,E)=>O9(A,E,{otherQuads:p,chainBlankNodes:y}),f);const v=wt({...f,...r});c(v)}),o.parse(u,r)})}async function f_(t,e=oa){var r;t=Un(t);const n={...oa,...e},a=Object.keys((r=e.parsers)!==null&&r!==void 0?r:{}),s=a.length>0?a.join(", "):"text/turtle",o=await n.fetch(t,{headers:{Accept:s}});if(F3(o))throw new j3(`Fetching the Resource at [${t}] failed: [${o.status}] [${o.statusText}] ${await o.text()}.`,o);return await Bde(o,e)}async function kde(t){const e=t.internal_changeLog.deletions.length>0?`DELETE DATA {${(await f4(t.internal_changeLog.deletions.map(p4))).trim()}};`:"",r=t.internal_changeLog.additions.length>0?`INSERT DATA {${(await f4(t.internal_changeLog.additions.map(p4))).trim()}};`:"";return{method:"PATCH",body:`${e} ${r}`,headers:{"Content-Type":"application/sparql-update"}}}async function $de(t,e){return{method:"PUT",body:await f4(Tde(t).map(p4),e),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${sde.Resource}>; rel="type"`}}}async function nz(t,e,r=oa){t=Un(t);const n={...oa,...r},a=Ode(e),s=I9(a,t)?await kde(a):await $de(a,r),o=await n.fetch(t,s);if(F3(o)){const d=I9(a,t)?`The changes that were sent to the Pod are listed below.

${Hde(a)}`:`The SolidDataset that was sent to the Pod is listed below.

${Vde(a)}`;throw new j3(`Storing the Resource at [${t}] failed: [${o.status}] [${o.statusText}] ${await o.text()}.

${d}`,o)}const u={...Uq(o),isRawData:!1},l=wt({...e,internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:u});return Gde(l)}function Ude(t,e){return R9(t.internal_resourceInfo.sourceIri)===R9(e)}function I9(t,e){return wm(t)&&N3(t)&&typeof t.internal_resourceInfo.sourceIri=="string"&&Ude(t,e)}function Vde(t){let e="";N3(t)?e+=`# SolidDataset: ${rn(t)}
`:e+=`# SolidDataset (no URL yet)
`;const r=A1(t);return r.length===0?e+=`
<empty>
`:r.forEach(n=>{e+=`
${Fde(n)}`,wm(t)&&(e+=`
${zde(t,n)}
`)}),e}function Hde(t){if(!N3(t))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!wm(t)||t.internal_changeLog.additions.length===0&&t.internal_changeLog.deletions.length===0)return`## Changes compared to ${rn(t)}

This SolidDataset has not been modified since it was fetched from ${rn(t)}.
`;let e=`## Changes compared to ${rn(t)}
`;const r=qde(t);return Object.keys(r).forEach(n=>{e+=`
### Thing: ${n}
`;const a=r[n];Object.keys(a).forEach(s=>{e+=`
Property: ${s}
`;const{deleted:o}=a[s],{added:u}=a[s];o.length>0&&(e+=`- Removed:
`,e+=o.reduce((l,c)=>`${l}  - ${h4(c)}
`,"")),u.length>0&&(e+=`- Added:
`,e+=u.reduce((l,c)=>`${l}  - ${h4(c)}
`,""))})}),e}function qde(t){const e=Object.create(null);return t.internal_changeLog.deletions.forEach(r=>{var n,a,s;const o=A9(r.subject)?x9(r.subject,rn(t)):r.subject;if(!fo(o)||!fo(r.predicate))return;const u=Un(o),l=Un(r.predicate);(n=e[u])!==null&&n!==void 0||(e[u]=Object.create(null)),(a=(s=e[u])[l])!==null&&a!==void 0||(s[l]={added:[],deleted:[]}),e[u][l].deleted.push(r.object)}),t.internal_changeLog.additions.forEach(r=>{var n,a,s;const o=A9(r.subject)?x9(r.subject,rn(t)):r.subject;if(!fo(o)||!fo(r.predicate))return;const u=Un(o),l=Un(r.predicate);(n=e[u])!==null&&n!==void 0||(e[u]=Object.create(null)),(a=(s=e[u])[l])!==null&&a!==void 0||(s[l]={added:[],deleted:[]}),e[u][l].added.push(r.object)}),e}function zde(t,e){const r=yn.namedNode(e.url),n=t.internal_changeLog.additions.reduce((u,l)=>l.subject.equals(r)?u+1:u,0),a=t.internal_changeLog.deletions.reduce((u,l)=>l.subject.equals(r)?u+1:u,0),s=n===1?"1 new value added":`${n} new values added`,o=a===1?"1 value removed":`${a} values removed`;return`(${s} / ${o})`}function p4(t){const e=fo(t.subject)?P9(t.subject):t.subject,r=fo(t.object)?P9(t.object):t.object;return yn.quad(e,t.predicate,r,t.graph)}function P9(t){return Rl(t.value)?yn.namedNode(`#${Eu(t.value)}`):t}function Gde(t){const e=rn(t),r=t.graphs.default,a=Object.keys(r).reduce((o,u)=>{const l=Qde(o[u],e),c=Rl(u)?`${e}#${Eu(u)}`:u,d={...o};return delete d[u],d[c]=l,wt(d)},r),s=wt({...t.graphs,default:a});return wt({...t,graphs:s})}function Qde(t,e){const n=Object.keys(t.predicates).reduce((a,s)=>{var o;const u=(o=a[s].namedNodes)!==null&&o!==void 0?o:[];if(u.every(d=>!Rl(d)))return a;const l=wt(u.map(d=>Rl(d)?`${e}#${Eu(d)}`:d)),c=wt({...a[s],namedNodes:l});return wt({...a,[s]:c})},t.predicates);return wt({...t,predicates:n,url:Rl(t.url)?`${e}#${Eu(t.url)}`:t.url})}const k3=(t,e,r)=>{var n,a;if(Pr(t),!$i(e))throw new Qs(e);if(!By(r)&&!$i(r))throw new XF(r);const s=Un(e),o=(n=t.predicates[s])!==null&&n!==void 0?n:{},u=(a=o.namedNodes)!==null&&a!==void 0?a:[];let l;fo(r)?l=r.value:typeof r=="string"?l=r:x1(r)?l=r.url:l=B3(r);const c=wt(u.concat(Un(l))),d=wt({...o,namedNodes:c}),f=wt({...t.predicates,[s]:d});return wt({...t,predicates:f})},Nc=k3,iz=(t,e,r)=>(Pr(t),Bh(t,e,cde(r),ci.boolean)),az=(t,e,r)=>(Pr(t),Bh(t,e,hde(r),ci.dateTime)),sz=(t,e,r)=>(Pr(t),Bh(t,e,pde(r),ci.date)),oz=(t,e,r)=>(Pr(t),Bh(t,e,dde(r),ci.time)),uz=(t,e,r)=>(Pr(t),Bh(t,e,yde(r),ci.decimal)),lz=(t,e,r)=>(Pr(t),Bh(t,e,mde(r),ci.integer));function $T(t,e,r,n){var a,s,o;if(Pr(t),!$i(e))throw new Qs(e);const u=Un(e),l=d4(n),c=(a=t.predicates[u])!==null&&a!==void 0?a:{},d=(s=c.langStrings)!==null&&s!==void 0?s:{},f=(o=d[l])!==null&&o!==void 0?o:[],h=wt(f.concat(r)),p=wt({...d,[l]:h}),g=wt({...c,langStrings:p}),y=wt({...t.predicates,[u]:g});return wt({...t,predicates:y})}const cz=(t,e,r)=>(Pr(t),Bh(t,e,r,ci.string));function JF(t,e,r){return k3(t,e,r.value)}function YF(t,e,r){if(Pr(t),!$i(e))throw new Qs(e);return r.datatype.value===ci.langString?$T(t,e,r.value,r.language):Bh(t,e,r.value,r.datatype.value)}function dz(t,e,r){var n,a;if(r.termType==="NamedNode")return JF(t,e,r);if(r.termType==="Literal")return YF(t,e,r);if(r.termType==="BlankNode"){if(Pr(t),!$i(e))throw new Qs(e);const s=Un(e),o=(n=t.predicates[s])!==null&&n!==void 0?n:{},u=(a=o.blankNodes)!==null&&a!==void 0?a:[],l=wt(u.concat(qq(r))),c=wt({...o,blankNodes:l}),d=wt({...t.predicates,[s]:c});return wt({...t,predicates:d})}throw new Error(`Term type [${r.termType}] is not supported by @inrupt/solid-client.`)}function Bh(t,e,r,n){var a,s,o;if(Pr(t),!$i(e))throw new Qs(e);const u=Un(e),l=(a=t.predicates[u])!==null&&a!==void 0?a:{},c=(s=l.literals)!==null&&s!==void 0?s:{},d=(o=c[n])!==null&&o!==void 0?o:[],f=wt(d.concat(r)),h=wt({...c,[n]:f}),p=wt({...l,literals:h}),g=wt({...t.predicates,[u]:p});return wt({...t,predicates:g})}function za(t,e){if(Pr(t),!$i(e))throw new Qs(e);const r=Un(e),n={...t.predicates};return delete n[r],wt({...t,predicates:wt(n)})}const ZF=(t,e,r)=>{var n,a,s;if(Pr(t),!$i(e))throw new Qs(e);const o=Un(e);if(!By(r)&&!$i(r))throw new XF(r);const u=By(r)?B3(r):Un(r),l=wt((s=(a=(n=t.predicates[o])===null||n===void 0?void 0:n.namedNodes)===null||a===void 0?void 0:a.filter(f=>f.toLowerCase()!==u.toLowerCase()))!==null&&s!==void 0?s:[]),c=wt({...t.predicates[o],namedNodes:l}),d=wt({...t.predicates,[o]:c});return wt({...t,predicates:d})},kb=ZF,Wde=(t,e,r)=>(Pr(t),P0(t,e,ci.boolean,n=>zq(n)===r)),Kde=(t,e,r)=>(Pr(t),P0(t,e,ci.dateTime,n=>{var a;return((a=Gq(n))===null||a===void 0?void 0:a.getTime())===r.getTime()})),Xde=(t,e,r)=>(Pr(t),P0(t,e,ci.date,function(n){const a=gde(n);return a?a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()&&a.getUTCDate()===r.getUTCDate():!1})),Jde=(t,e,r)=>(Pr(t),P0(t,e,ci.time,function(n){const a=fde(n);return a?a.hour===r.hour&&a.minute===r.minute&&a.second===r.second&&a.millisecond===r.millisecond&&a.timezoneHourOffset===r.timezoneHourOffset&&a.timezoneMinuteOffset===r.timezoneMinuteOffset:!1})),Yde=(t,e,r)=>(Pr(t),P0(t,e,ci.decimal,n=>Wq(n)===r)),Zde=(t,e,r)=>(Pr(t),P0(t,e,ci.integer,n=>Kq(n)===r));function g4(t,e,r,n){var a,s;if(Pr(t),!$i(e))throw new Qs(e);const o=Un(e),u=(s=(a=t.predicates[o])===null||a===void 0?void 0:a.langStrings)!==null&&s!==void 0?s:{},l=Object.keys(u).find(g=>d4(g)===d4(n)&&Array.isArray(u[g])&&u[g].length>0);if(typeof l!="string")return t;const c=u[l],d=wt(c.filter(g=>g!==r)),f=wt({...u,[l]:d}),h=wt({...t.predicates[o],langStrings:f}),p=wt({...t.predicates,[o]:h});return wt({...t,predicates:p})}const efe=(t,e,r)=>(Pr(t),P0(t,e,ci.string,n=>n===r));function tfe(t,e,r){return ZF(t,e,r.value)}function rfe(t,e,r){var n,a,s;if(Pr(t),!$i(e))throw new Qs(e);const o=r.datatype.value;if(o===ci.langString)return g4(t,e,r.value,r.language);const u=Un(e),l=(n=t.predicates[u])!==null&&n!==void 0?n:{},c=(a=l.literals)!==null&&a!==void 0?a:{},d=(s=c[o])!==null&&s!==void 0?s:[],f=wt(d.filter(S=>S!==r.value)),h=wt({...c,[o]:f}),p=wt({...l,literals:h}),g=wt({...t.predicates,[u]:p});return wt({...t,predicates:g})}function P0(t,e,r,n){var a,s,o;if(!$i(e))throw new Qs(e);const u=Un(e),l=(a=t.predicates[u])!==null&&a!==void 0?a:{},c=(s=l.literals)!==null&&s!==void 0?s:{},d=(o=c[r])!==null&&o!==void 0?o:[],f=wt(d.filter(S=>!n(S))),h=wt({...c,[r]:f}),p=wt({...l,literals:h}),g=wt({...t.predicates,[u]:p});return wt({...t,predicates:g})}const fz=(t,e,r)=>{if(Pr(t),!$i(e))throw new Qs(e);if(!By(r)&&!$i(r))throw new XF(r);return k3(za(t,e),e,r)},Ih=fz,nfe=(t,e,r)=>(Pr(t),iz(za(t,e),e,r)),ife=(t,e,r)=>(Pr(t),az(za(t,e),e,r)),afe=(t,e,r)=>(Pr(t),sz(za(t,e),e,r)),sfe=(t,e,r)=>(Pr(t),oz(za(t,e),e,r)),ofe=(t,e,r)=>(Pr(t),uz(za(t,e),e,r)),ufe=(t,e,r)=>(Pr(t),lz(za(t,e),e,r));function C9(t,e,r,n){return Pr(t),$T(za(t,e),e,r,n)}const lfe=(t,e,r)=>(Pr(t),cz(za(t,e),e,r));function cfe(t,e,r){return Pr(t),JF(za(t,e),e,r)}function dfe(t,e,r){return Pr(t),YF(za(t,e),e,r)}function ffe(t,e,r){if(Pr(t),!$i(e))throw new Qs(e);return dz(za(t,e),e,r)}function ky(t=Rh()){let e=By(t)?t:Rh(t);function r(o){return(u,l)=>(e=o(e,u,l),s)}function n(o){return(u,l)=>(e=o(e,u,l),s)}function a(o){return(u,l)=>(e=o(e,u,l),s)}const s={build:()=>e,addUrl:r(k3),addIri:r(Nc),addBoolean:r(iz),addDatetime:r(az),addDate:r(sz),addTime:r(oz),addDecimal:r(uz),addInteger:r(lz),addStringNoLocale:r(cz),addStringEnglish:(o,u)=>(e=$T(e,o,u,"en"),s),addStringWithLocale:(o,u,l)=>(e=$T(e,o,u,l),s),addNamedNode:r(JF),addLiteral:r(YF),addTerm:r(dz),setUrl:n(fz),setIri:n(Ih),setBoolean:n(nfe),setDatetime:n(ife),setDate:n(afe),setTime:n(sfe),setDecimal:n(ofe),setInteger:n(ufe),setStringNoLocale:n(lfe),setStringEnglish:(o,u)=>(e=C9(e,o,u,"en"),s),setStringWithLocale:(o,u,l)=>(e=C9(e,o,u,l),s),setNamedNode:n(cfe),setLiteral:n(dfe),setTerm:n(ffe),removeAll:o=>(e=za(e,o),s),removeUrl:a(ZF),removeIri:a(kb),removeBoolean:a(Wde),removeDatetime:a(Kde),removeDate:a(Xde),removeTime:a(Jde),removeDecimal:a(Yde),removeInteger:a(Zde),removeStringNoLocale:a(efe),removeStringEnglish:(o,u)=>ky(g4(e,o,u,"en")),removeStringWithLocale:(o,u,l)=>ky(g4(e,o,u,l)),removeNamedNode:a(tfe),removeLiteral:a(rfe)};return s}function hfe(t){const e=Hq(t).type;return Array.isArray(e)&&e.includes(QF.AccessControlResource)}async function $3(t,e=oa){if(!D1(t))return{resourceAcl:null,fallbackAcl:null};try{const r=await hz(t,e);return r===null?{resourceAcl:null,fallbackAcl:await pz(t,e)}:{resourceAcl:r,fallbackAcl:null}}catch(r){if(r instanceof y4)return{resourceAcl:null,fallbackAcl:null};throw r}}async function hz(t,e=oa){if(!D1(t))return null;try{const r=await f_(t.internal_resourceInfo.aclUrl,e);if(hfe(r))throw new y4(t,r);return wt({...r,internal_accessTo:rn(t)})}catch(r){if(r instanceof y4)throw r;return null}}async function pz(t,e=oa){const r=new URL(rn(t)),n=r.pathname;if(n==="/")return null;const a=pfe(n),s=new URL(a,r.origin).href,o=await I0(s,e);if(!D1(o))return null;const u=await hz(o,e);return u===null?pz(o,e):u}function pfe(t){const e=t.substring(t.length-1)==="/"?t.substring(0,t.length-1):t;return`${t.substring(0,e.lastIndexOf("/"))}/`}function kh(t){return A1(t).filter(gfe)}function gfe(t){return ua(t,L3.type).includes(Xt.Authorization)}function e5(t,e){return t.filter(r=>yfe(r,e))}function yfe(t,e){return ua(t,Xt.accessTo).includes(e)}function U3(t,e){return t.filter(r=>mfe(r,e))}function mfe(t,e){return ua(t,Xt.default).includes(e)||ua(t,Xt.defaultForNew).includes(e)}function O1(t){const e=ua(t,Xt.mode);return e.includes(bl.write)?{read:e.includes(bl.read),append:!0,write:!0,control:e.includes(bl.control)}:{read:e.includes(bl.read),append:e.includes(bl.append),write:!1,control:e.includes(bl.control)}}function R1(t){return t.reduce((e,r)=>e.write||r.write?{read:e.read||r.read,append:!0,write:!0,control:e.control||r.control}:{read:e.read||r.read,append:e.append||r.append,write:!1,control:e.control||r.control},{read:!1,append:!1,write:!1,control:!1})}function vfe(t){return kh(t).filter(bfe).reduce(Dde,t)}function bfe(t){return My(t.predicates,yn.namedNode(t.url),yn.defaultGraph()).some(e=>!_fe(e))?!1:jf(t,Xt.accessTo)===null&&jf(t,Xt.default)===null&&jf(t,Xt.defaultForNew)===null||jf(t,Xt.mode)===null||jf(t,Xt.agent)===null&&jf(t,Xt.agentGroup)===null&&jf(t,Xt.agentClass)===null}function _fe(t){const{predicate:e}=t,{object:r}=t;return!!(e.equals(yn.namedNode(L3.type))&&r.equals(yn.namedNode(Xt.Authorization))||e.equals(yn.namedNode(Xt.accessTo))||e.equals(yn.namedNode(Xt.default))||e.equals(yn.namedNode(Xt.defaultForNew))||e.equals(yn.namedNode(Xt.mode))&&Object.values(bl).some(n=>r.equals(yn.namedNode(n)))||e.equals(yn.namedNode(Xt.agent))||e.equals(yn.namedNode(Xt.agentGroup))||e.equals(yn.namedNode(Xt.agentClass))||e.equals(yn.namedNode(Xt.origin)))}const bl={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function wfe(t,e,r){return t.filter(n=>ua(n,r).includes(e))}function Sfe(t,e){const r={};return t.forEach(n=>{const a=ua(n,e),s=O1(n);a.forEach(o=>{r[o]=typeof r[o]>"u"?s:R1([r[o],s])})}),r}function gz(t){let e=Rh();return e=Ih(e,L3.type,Xt.Authorization),t.read&&(e=Nc(e,Xt.mode,bl.read)),t.append&&!t.write&&(e=Nc(e,Xt.mode,bl.append)),t.write&&(e=Nc(e,Xt.mode,bl.write)),t.control&&(e=Nc(e,Xt.mode,bl.control)),e}function Tfe(t){let e=Rh();e=Ih(e,L3.type,Xt.Authorization);function r(n,a,s){return ua(n,s).reduce((o,u)=>Nc(o,s,u),a)}return e=r(t,e,Xt.accessTo),e=r(t,e,Xt.default),e=r(t,e,Xt.defaultForNew),e=r(t,e,Xt.agent),e=r(t,e,Xt.agentGroup),e=r(t,e,Xt.agentClass),e=r(t,e,Xt.origin),e=r(t,e,Xt.mode),e}function I1(t,e){return Object.assign(GF(t),{internal_acl:e})}const Efe=[Xt.agent,Xt.agentClass,Xt.agentGroup,Xt.origin];function Afe(t,e,r,n,a){if(!ua(t,r).includes(e)){const u=gz({read:!1,append:!1,write:!1,control:!1});return[t,u]}const s=kb(t,r,e);let o=Tfe(t);return o=kb(o,a==="resource"?Xt.accessTo:Xt.default,n),a==="default"&&(o=kb(o,Xt.defaultForNew,n)),o=Ih(o,r,e),Efe.filter(u=>u!==r).forEach(u=>{o=za(o,u)}),[s,o]}function yz(t,e,r,n,a){let s=t;A1(t).forEach(l=>{const[c,d]=Afe(l,a,r,t.internal_accessTo,n);s=Bb(s,c),s=Bb(s,d)});let o=gz(e);o=Ih(o,n==="resource"?Xt.accessTo:Xt.default,t.internal_accessTo),o=Ih(o,r,a);const u=Bb(s,o);return vfe(u)}function mz(t,e){return I1(t,{resourceAcl:e,fallbackAcl:null})}function xfe(t){return t.internal_acl.resourceAcl}class y4 extends Error{constructor(e,r){super(`[${c4(e)}] is governed by Access Control Policies in [${c4(r)}] rather than by Web Access Control.`)}}function P1(t){return t.internal_acl.resourceAcl!==null&&rn(t)===t.internal_acl.resourceAcl.internal_accessTo&&t.internal_resourceInfo.aclUrl===rn(t.internal_acl.resourceAcl)}function t5(t){return P1(t)?t.internal_acl.resourceAcl:null}function C1(t){return t.internal_acl.fallbackAcl!==null}function Ofe(t){return C1(t)?t.internal_acl.fallbackAcl:null}function Rfe(t){return wt({...Mde(),internal_accessTo:rn(t),internal_resourceInfo:{sourceIri:t.internal_resourceInfo.aclUrl,isRawData:!1,linkedResources:{}}})}function Ife(t){const e=Rfe(t),r=kh(t.internal_acl.fallbackAcl);return U3(r,t.internal_acl.fallbackAcl.internal_accessTo).map(o=>(o=za(o,Xt.default),o=za(o,Xt.defaultForNew),o=Ih(o,Xt.accessTo,rn(t)),o=Ih(o,Xt.default,rn(t)),o)).reduce(Bb,e)}async function Pfe(t,e,r=oa){if(!D1(t))throw new Error(`Could not determine the location of the ACL for the Resource at [${rn(t)}]; possibly the current user does not have Control access to that Resource. Try calling \`hasAccessibleAcl()\` before calling \`saveAclFor()\`.`);return{...await nz(t.internal_resourceInfo.aclUrl,e,r),internal_accessTo:rn(t)}}function D1(t){return typeof t.internal_resourceInfo.aclUrl=="string"}function vz(t,e){return P1(t)?Dfe(t.internal_acl.resourceAcl,e):C1(t)?Lfe(t.internal_acl.fallbackAcl,e):null}function Cfe(t){if(P1(t)){const e=t5(t);return Nfe(e)}if(C1(t)){const e=Ofe(t);return jfe(e)}return null}function Dfe(t,e){const r=kh(t),n=e5(r,t.internal_accessTo),s=bz(n,e).map(O1);return R1(s)}function Nfe(t){const e=kh(t),r=e5(e,t.internal_accessTo),n=_z(r);return wz(n)}function Ffe(t,e,r){return yz(t,r,Xt.agent,"resource",e)}function Lfe(t,e){const r=kh(t),n=U3(r,t.internal_accessTo),s=bz(n,e).map(O1);return R1(s)}function jfe(t){const e=kh(t),r=U3(e,t.internal_accessTo),n=_z(r);return wz(n)}function bz(t,e){return wfe(t,e,Xt.agent)}function _z(t){return t.filter(Mfe)}function Mfe(t){return jf(t,Xt.agent)!==null}function wz(t){return Sfe(t,Xt.agent)}function Sz(t){return P1(t)?Bfe(t.internal_acl.resourceAcl):C1(t)?kfe(t.internal_acl.fallbackAcl):null}function Bfe(t){const e=kh(t),r=e5(e,t.internal_accessTo),a=Tz(r,c_.Agent).map(O1);return R1(a)}function kfe(t){const e=kh(t),r=U3(e,t.internal_accessTo),a=Tz(r,c_.Agent).map(O1);return R1(a)}function $fe(t,e){return yz(t,e,Xt.agentClass,"resource",c_.Agent)}function Tz(t,e){return t.filter(r=>Ufe(r,e))}function Ufe(t,e){return ua(t,Xt.agentClass).includes(e)}function Vfe(t,e){const r=ho(e,t),n=A1(e).filter(a=>ua(a,c_.primaryTopic).length>0).map(B3).concat(r?ua(r,c_.isPrimaryTopicOf):[]).filter(a=>a!==c4(e));return Array.from(new Set(n))}async function Hfe(t,e=oa){var r,n;const a=(r=e.fetch)!==null&&r!==void 0?r:l4,s=(n=e.webIdProfile)!==null&&n!==void 0?n:await f_(t,{fetch:l4}),o=(await Promise.allSettled(Vfe(t,s).map(u=>f_(u,{fetch:a})))).filter(u=>u.status==="fulfilled").map(u=>u.value);return{webIdProfile:s,altProfileAll:o}}async function qfe(t,e=oa){const r=await Hfe(t,e);return zfe(r,t)}function zfe(t,e){const r=new Set;return[t.webIdProfile,...t.altProfileAll].forEach(n=>{const a=ho(n,e);a!==null&&ua(a,ode.storage).forEach(s=>r.add(s))}),Array.from(r)}function po(t){if(!Wfe(t))throw new Error(`An Access Control Resource for [${rn(t)}] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources.`);return t.internal_acp.acr}function Gfe(t,e){return Object.assign(GF(t),{internal_acp:{...t.internal_acp,acr:e}})}const Gi="http://www.w3.org/ns/solid/acp#",vi={AccessControl:Gi.concat("AccessControl"),AccessControlResource:Gi.concat("AccessControlResource"),AuthenticatedAgent:Gi.concat("AuthenticatedAgent"),CreatorAgent:Gi.concat("CreatorAgent"),Matcher:Gi.concat("Matcher"),Policy:Gi.concat("Policy"),PublicAgent:Gi.concat("PublicAgent"),access:Gi.concat("access"),accessControl:Gi.concat("accessControl"),agent:Gi.concat("agent"),allOf:Gi.concat("allOf"),allow:Gi.concat("allow"),anyOf:Gi.concat("anyOf"),apply:Gi.concat("apply"),client:Gi.concat("client"),deny:Gi.concat("deny"),memberAccessControl:Gi.concat("memberAccessControl"),noneOf:Gi.concat("noneOf"),vc:Gi.concat("vc")},LS="http://www.w3.org/ns/auth/acl#",ny={Append:LS.concat("Append"),Control:LS.concat("Control"),Read:LS.concat("Read"),Write:LS.concat("Write")};function Ez(t){const e=po(t),r=rn(e);return ho(e,r)}const $b="defaultAccessControl",UT="defaultAcrAccessControl";function r5(t,e){const r=po(t);return rn(r).concat("#").concat(e)}function Az(t,e){const r=po(t),n=r5(t,e),a=ho(r,n);return a===null||typeof a>"u"?Rh({url:n}):a}function xz(t,e){const r=ua(t,e);return{read:r.includes(ny.Read),append:r.includes(ny.Append),write:r.includes(ny.Write),controlRead:!1,controlWrite:!1}}function Qfe(t,e,r){let n=za(t,r);return(e.read||e.controlRead)&&(n=Nc(n,r,ny.Read)),e.append&&(n=Nc(n,r,ny.Append)),(e.write||e.controlWrite)&&(n=Nc(n,r,ny.Write)),n}async function Oz(t,e=oa){const r=po(t),n={...oa,...e},a=await nz(rn(r),r,n);return Gfe(t,a)}function Wfe(t){return typeof t.internal_acp=="object"&&t.internal_acp!==null&&typeof t.internal_acp.acr=="object"&&t.internal_acp.acr!==null}function N1(t,e){return Object.assign(GF(t),{internal_acp:{...t.internal_acp,acr:Bb(t.internal_acp.acr,e)}})}function D9(t){return t.includes("Member")?vi.memberAccessControl:vi.accessControl}function Rz(t,e){const r=r5(t,e),n=po(t);let a=Ez(t);return(a===null||typeof a>"u")&&(a=Rh({url:rn(n)})),ua(a,D9(e)).includes(r)?t:(a=ky(a).addUrl(D9(e),r).build(),N1(t,a))}function Kfe(t,e){const r=Rz(t,UT),n=Az(r,UT);return N1(r,ky(n).addUrl(vi.access,e).build())}function Xfe(t,e){const r=Rz(t,$b),n=Az(r,$b);return N1(r,ky(n).addUrl(vi.apply,e).build())}function Iz(t){const e=Ez(t);return e===null?[]:ua(e,vi.accessControl)}function Pz(t,e,r){const n=po(t);return Array.from(new Set(e.map(a=>{const s=ho(n,a);return s!==null?ua(s,r):[]}).reduce((a,s)=>a.concat(s),[])))}function Jfe(t){return Pz(t,Iz(t),vi.access)}function Yfe(t){return Pz(t,Iz(t),vi.apply)}function Zfe(t,e){return Nc(t,QF.agent,e)}function ehe(t,e){return kb(t,QF.agent,e)}function Cz(t,e){var r,n,a,s;if(t.controlRead!==t.controlWrite)throw new Error("For Pods using Web Access Control, controlRead and controlWrite must be equal.");return{read:(r=t.read)!==null&&r!==void 0?r:e.read,append:(n=t.append)!==null&&n!==void 0?n:e.append,write:(a=t.write)!==null&&a!==void 0?a:e.write,control:(s=t.controlRead)!==null&&s!==void 0?s:e.control}}function n5(t){return{read:t.read,write:t.write,append:t.append,controlRead:t.control,controlWrite:t.control}}async function the(t,e,r,n){const a=await $3(t,n),s=r(I1(t,a),e);return s===null?null:n5(s)}async function rhe(t,e,r){const n=await $3(t,r),a=e(I1(t,n));return a===null?null:n5(a)}async function nhe(t,e,r){const n=await $3(t,r),a=e(I1(t,n));if(a===null)return null;const s={};for(const[o,u]of Object.entries(a))s[o]=n5(u);return s}function Dz(t,e,r=oa){return the(t,e,vz,r)}function Nz(t,e=oa){return rhe(t,Sz,e)}function ihe(t,e=oa){return nhe(t,Cfe,e)}async function Fz(t,e){if(!D1(t))return null;const r=await $3(t,e),n=I1(t,r);let a;if(P1(n))a=xfe(n);else if(C1(n))a=Ife(n);else return null;return mz(n,a)}async function Lz(t,e,r){let n=null;try{return n=await Pfe(t,e,r),mz(t,n)}catch{return null}}async function ahe(t,e,r,n,a){const s=await Fz(t,a);if(s===null)return null;const o=t5(s),u=r(s),l=Cz(e,u),c=n(o,l);return Lz(s,c,a)}async function she(t,e,r,n,a,s){const o=await Fz(t,s);if(o===null)return null;const u=n(o,e),l=t5(o),c=Cz(r,u),d=a(l,e,c);return Lz(o,d,s)}async function ohe(t,e,r,n=oa){return she(t,e,r,vz,Ffe,n)}async function uhe(t,e,r=oa){return ahe(t,e,Sz,$fe,r)}async function jz(t,e){return typeof t.internal_resourceInfo.aclUrl=="string"?I0(t.internal_resourceInfo.aclUrl,e):null}function lhe(t){return xz(t,vi.allow)}function che(t){return xz(t,vi.deny)}function N9(t,e,r){const n=th(e,vi.allOf).map(c=>ho(po(t),c)).filter(c=>c!==null),a=n.every(c=>th(c,vi.agent).includes(r)),s=th(e,vi.anyOf).map(c=>ho(po(t),c)).filter(c=>c!==null),o=s.some(c=>th(c,vi.agent).includes(r)),u=th(e,vi.noneOf).map(c=>ho(po(t),c)).filter(c=>c!==null),l=u.some(c=>th(c,vi.agent).includes(r));return n.length+s.length>0&&(n.length===0||a)&&(s.length===0||o)&&(u.length===0||!l)}function F9(t,e,r){const n=lhe(t),a=che(t);return r==="control"?{read:e.read,append:e.append,write:e.write,controlRead:(e.controlRead||n.read)&&!a.read,controlWrite:(e.controlWrite||n.write)&&!a.write}:{read:(e.read||n.read)&&!a.read,append:(e.append||n.append)&&!a.append,write:(e.write||n.write)&&!a.write,controlRead:e.controlRead,controlWrite:e.controlWrite}}async function V3(t,e){let r={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1};return Yfe(t).map(s=>ho(po(t),s)).filter(s=>s!==null).forEach(s=>{N9(t,s,e)&&(r=F9(s,r,"resource"))}),Jfe(t).map(s=>ho(po(t),s)).filter(s=>s!==null).forEach(s=>{N9(t,s,e)&&(r=F9(s,r,"control"))}),r}function dhe(t){const e=t.internal_resourceInfo.linkedResources[vi.accessControl];return Array.isArray(e)&&e.length===1?e[0]:null}async function fhe(t,e){const r=dhe(t);if(r!==null)return r;const n=await jz(t,e);if(n===null)return null;const a=Hq(n).type;return Array.isArray(a)&&a.includes(vi.AccessControlResource)?rn(n):null}async function F1(t,e){const r=await fhe(t,e);if(r===null)return null;let n;try{n=await f_(r,e)}catch{return null}return{...t,internal_acp:{acr:{...n,accessTo:rn(t)}}}}async function Mz(t,e,r){const n=await I0(t,r),a=await F1(n,r);return a===null?Dz(n,e,r):V3(a,e)}function hhe(t){return Array.from(new Set(A1(po(t)).map(e=>th(e,vi.agent)).reduce((e,r)=>e.concat(r),[])))}async function phe(t){return(await Promise.all(hhe(t).map(async e=>({[e]:await V3(t,e)})))).reduce((e,r)=>({...e,...r}),{})}async function ghe(t,e){const r=await I0(t,e),n=await F1(r,e);return n===null?ihe(r,e):phe(n)}async function yhe(t){return V3(t,vi.PublicAgent)}async function Bz(t,e){const r=await I0(t,e),n=await F1(r,e);return n===null?Nz(r,e):yhe(n)}function i5(t,e,r){return r5(t,e).concat("AgentMatcher").concat(r.charAt(0).toUpperCase()+r.slice(1)).concat("Policy")}function mhe(t,e,r){const n=i5(t,e,r);return n.includes("Acr")?Kfe(t,n):Xfe(t,n)}function kz(t,e,r){return i5(t,e,r).concat("Matcher")}const L9=vi.anyOf;function vhe(t,e,r){const n=i5(t,e,r),a=kz(t,e,r);let s=ho(po(t),n);return s||(t=mhe(t,e,r),s=Rh({url:n}),s=Qfe(s,{[r]:!0},vi.allow)),ua(s,L9).includes(a)?t:(s=ky(s).addUrl(L9,a).build(),N1(t,s))}function Sv(t,e,r,n,a){var s;const o=kz(t,r,n),u=vhe(t,r,n),l=(s=ho(po(u),o))!==null&&s!==void 0?s:Rh({url:o});return N1(u,a==="add"?Zfe(l,e):ehe(l,e))}async function $z(t,e,r){const n=await V3(t,e);return typeof r.read=="boolean"&&n.read!==r.read&&(t=Sv(t,e,$b,"read",r.read?"add":"remove")),typeof r.append=="boolean"&&n.append!==r.append&&(t=Sv(t,e,$b,"append",r.append?"add":"remove")),typeof r.write=="boolean"&&n.write!==r.write&&(t=Sv(t,e,$b,"write",r.write?"add":"remove")),typeof r.controlRead=="boolean"&&n.controlRead!==r.controlRead&&(t=Sv(t,e,UT,"controlRead",r.controlRead?"add":"remove")),typeof r.controlWrite=="boolean"&&n.controlWrite!==r.controlWrite&&(t=Sv(t,e,UT,"controlWrite",r.controlWrite?"add":"remove")),t}async function bhe(t,e,r,n){const a=await I0(t,n),s=await F1(a,n);if(s===null)return await ohe(a,e,r,n),Dz(a,e,n);try{return await Oz(await $z(s,e,r),n),await Mz(t,e,n)}catch{return null}}async function _he(t,e){return $z(t,vi.PublicAgent,e)}async function whe(t,e,r){const n=await I0(t,r),a=await F1(n,r);if(a===null)return await uhe(n,e,r),Nz(n,r);try{return await Oz(await _he(a,e),r),await Bz(t,r)}catch{return null}}var VT=Object.freeze({__proto__:null,getAclServerResourceInfo:jz,getAgentAccess:Mz,getAgentAccessAll:ghe,getPublicAccess:Bz,setAgentAccess:bhe,setPublicAccess:whe});const f0=crypto,a5=t=>t instanceof CryptoKey,Fc=new TextEncoder,$y=new TextDecoder;function Uz(...t){const e=t.reduce((a,{length:s})=>a+s,0),r=new Uint8Array(e);let n=0;return t.forEach(a=>{r.set(a,n),n+=a.length}),r}const She=t=>{let e=t;typeof e=="string"&&(e=Fc.encode(e));const r=32768,n=[];for(let a=0;a<e.length;a+=r)n.push(String.fromCharCode.apply(null,e.subarray(a,a+r)));return btoa(n.join(""))},q2=t=>She(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),The=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},Ub=t=>{let e=t;e instanceof Uint8Array&&(e=$y.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return The(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class C0 extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class Zl extends C0{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,r="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n}}class j9 extends C0{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,r="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n}}class Ehe extends C0{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class oo extends C0{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class Mi extends C0{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class s5 extends C0{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class Ahe extends C0{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function dd(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function jS(t,e){return t.name===e}function HC(t){return parseInt(t.name.slice(4),10)}function xhe(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Ohe(t,e){if(e.length&&!e.some(r=>t.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const n=e.pop();r+=`one of ${e.join(", ")}, or ${n}.`}else e.length===2?r+=`one of ${e[0]} or ${e[1]}.`:r+=`${e[0]}.`;throw new TypeError(r)}}function Rhe(t,e,...r){switch(e){case"HS256":case"HS384":case"HS512":{if(!jS(t.algorithm,"HMAC"))throw dd("HMAC");const n=parseInt(e.slice(2),10);if(HC(t.algorithm.hash)!==n)throw dd(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!jS(t.algorithm,"RSASSA-PKCS1-v1_5"))throw dd("RSASSA-PKCS1-v1_5");const n=parseInt(e.slice(2),10);if(HC(t.algorithm.hash)!==n)throw dd(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!jS(t.algorithm,"RSA-PSS"))throw dd("RSA-PSS");const n=parseInt(e.slice(2),10);if(HC(t.algorithm.hash)!==n)throw dd(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw dd("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!jS(t.algorithm,"ECDSA"))throw dd("ECDSA");const n=xhe(e);if(t.algorithm.namedCurve!==n)throw dd(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Ohe(t,r)}function Vz(t,e,...r){if(r.length>2){const n=r.pop();t+=`one of type ${r.join(", ")}, or ${n}.`}else r.length===2?t+=`one of type ${r[0]} or ${r[1]}.`:t+=`of type ${r[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&e.constructor&&e.constructor.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const m4=(t,...e)=>Vz("Key must be ",t,...e);function Hz(t,e,...r){return Vz(`Key for the ${t} algorithm must be `,e,...r)}const qz=t=>a5(t),_l=["CryptoKey"],Ihe=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let r;for(const n of e){const a=Object.keys(n);if(!r||r.size===0){r=new Set(a);continue}for(const s of a){if(r.has(s))return!1;r.add(s)}}return!0},zz=Ihe;function Phe(t){return typeof t=="object"&&t!==null}function h_(t){if(!Phe(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Gz=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:r}=e.algorithm;if(typeof r!="number"||r<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}};function Che(t){let e,r;switch(t.kty){case"oct":{switch(t.alg){case"HS256":case"HS384":case"HS512":e={name:"HMAC",hash:`SHA-${t.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new oo(`${t.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":e={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":e={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":e={name:"PBKDF2"},r=["deriveBits"];break;default:throw new oo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},r=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},r=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},r=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new oo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},r=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},r=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},r=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},r=t.d?["deriveBits"]:[];break;default:throw new oo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"EdDSA":e={name:t.crv},r=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},r=t.d?["deriveBits"]:[];break;default:throw new oo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new oo('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:r}}const Dhe=async t=>{var e,r;if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:n,keyUsages:a}=Che(t),s=[n,(e=t.ext)!==null&&e!==void 0?e:!1,(r=t.key_ops)!==null&&r!==void 0?r:a];if(n.name==="PBKDF2")return f0.subtle.importKey("raw",Ub(t.k),...s);const o={...t};return delete o.alg,delete o.use,f0.subtle.importKey("jwk",o,...s)},M9=Dhe;async function Nhe(t,e,r){var n;if(!h_(t))throw new TypeError("JWK must be an object");switch(e||(e=t.alg),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return r??(r=t.ext!==!0),r?M9({...t,alg:e,ext:(n=t.ext)!==null&&n!==void 0?n:!1}):Ub(t.k);case"RSA":if(t.oth!==void 0)throw new oo('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return M9({...t,alg:e});default:throw new oo('Unsupported "kty" (Key Type) Parameter value')}}const Fhe=(t,e)=>{if(!(e instanceof Uint8Array)){if(!qz(e))throw new TypeError(Hz(t,e,..._l,"Uint8Array"));if(e.type!=="secret")throw new TypeError(`${_l.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},Lhe=(t,e,r)=>{if(!qz(e))throw new TypeError(Hz(t,e,..._l));if(e.type==="secret")throw new TypeError(`${_l.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&e.type==="public")throw new TypeError(`${_l.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&e.type==="public")throw new TypeError(`${_l.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&r==="verify"&&e.type==="private")throw new TypeError(`${_l.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&r==="encrypt"&&e.type==="private")throw new TypeError(`${_l.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},jhe=(t,e,r)=>{t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?Fhe(t,e):Lhe(t,e,r)},Qz=jhe;function Wz(t,e,r,n,a){if(a.crit!==void 0&&n.crit===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(o=>typeof o!="string"||o.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let s;r!==void 0?s=new Map([...Object.entries(r),...e.entries()]):s=e;for(const o of n.crit){if(!s.has(o))throw new oo(`Extension Header Parameter "${o}" is not recognized`);if(a[o]===void 0)throw new t(`Extension Header Parameter "${o}" is missing`);if(s.get(o)&&n[o]===void 0)throw new t(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(n.crit)}const Mhe=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(r=>typeof r!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(e)return new Set(e)},Bhe=Mhe,khe=async t=>{if(t instanceof Uint8Array)return{kty:"oct",k:q2(t)};if(!a5(t))throw new TypeError(m4(t,..._l,"Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:r,alg:n,use:a,...s}=await f0.subtle.exportKey("jwk",t);return s},$he=khe;async function Uhe(t){return $he(t)}function Kz(t,e){const r=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:e.namedCurve};case"EdDSA":return{name:e.name};default:throw new oo(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}function Xz(t,e,r){if(a5(e))return Rhe(e,t,r),e;if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(m4(e,..._l));return f0.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[r])}throw new TypeError(m4(e,..._l,"Uint8Array"))}const Vhe=async(t,e,r,n)=>{const a=await Xz(t,e,"verify");Gz(t,a);const s=Kz(t,a.algorithm);try{return await f0.subtle.verify(s,a,r,n)}catch{return!1}},Hhe=Vhe;async function qhe(t,e,r){var n;if(!h_(t))throw new Mi("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new Mi('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new Mi("JWS Protected Header incorrect type");if(t.payload===void 0)throw new Mi("JWS Payload missing");if(typeof t.signature!="string")throw new Mi("JWS Signature missing or incorrect type");if(t.header!==void 0&&!h_(t.header))throw new Mi("JWS Unprotected Header incorrect type");let a={};if(t.protected)try{const S=Ub(t.protected);a=JSON.parse($y.decode(S))}catch{throw new Mi("JWS Protected Header is invalid")}if(!zz(a,t.header))throw new Mi("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const s={...a,...t.header},o=Wz(Mi,new Map([["b64",!0]]),r==null?void 0:r.crit,a,s);let u=!0;if(o.has("b64")&&(u=a.b64,typeof u!="boolean"))throw new Mi('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:l}=s;if(typeof l!="string"||!l)throw new Mi('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=r&&Bhe("algorithms",r.algorithms);if(c&&!c.has(l))throw new Ehe('"alg" (Algorithm) Header Parameter not allowed');if(u){if(typeof t.payload!="string")throw new Mi("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new Mi("JWS Payload must be a string or an Uint8Array instance");let d=!1;typeof e=="function"&&(e=await e(a,t),d=!0),Qz(l,e,"verify");const f=Uz(Fc.encode((n=t.protected)!==null&&n!==void 0?n:""),Fc.encode("."),typeof t.payload=="string"?Fc.encode(t.payload):t.payload),h=Ub(t.signature);if(!await Hhe(l,e,h,f))throw new Ahe;let g;u?g=Ub(t.payload):typeof t.payload=="string"?g=Fc.encode(t.payload):g=t.payload;const y={payload:g};return t.protected!==void 0&&(y.protectedHeader=a),t.header!==void 0&&(y.unprotectedHeader=t.header),d?{...y,key:e}:y}async function zhe(t,e,r){if(t instanceof Uint8Array&&(t=$y.decode(t)),typeof t!="string")throw new Mi("Compact JWS must be a string or Uint8Array");const{0:n,1:a,2:s,length:o}=t.split(".");if(o!==3)throw new Mi("Invalid Compact JWS");const u=await qhe({payload:a,protected:n,signature:s},e,r),l={payload:u.payload,protectedHeader:u.protectedHeader};return typeof e=="function"?{...l,key:u.key}:l}const z2=t=>Math.floor(t.getTime()/1e3),Jz=60,Yz=Jz*60,o5=Yz*24,Ghe=o5*7,Qhe=o5*365.25,Whe=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,HT=t=>{const e=Whe.exec(t);if(!e)throw new TypeError("Invalid time period format");const r=parseFloat(e[1]);switch(e[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*Jz);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*Yz);case"day":case"days":case"d":return Math.round(r*o5);case"week":case"weeks":case"w":return Math.round(r*Ghe);default:return Math.round(r*Qhe)}},B9=t=>t.toLowerCase().replace(/^application\//,""),Khe=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1,Xhe=(t,e,r={})=>{const{typ:n}=r;if(n&&(typeof t.typ!="string"||B9(t.typ)!==B9(n)))throw new Zl('unexpected "typ" JWT header value',"typ","check_failed");let a;try{a=JSON.parse($y.decode(e))}catch{}if(!h_(a))throw new s5("JWT Claims Set must be a top-level JSON object");const{requiredClaims:s=[],issuer:o,subject:u,audience:l,maxTokenAge:c}=r;c!==void 0&&s.push("iat"),l!==void 0&&s.push("aud"),u!==void 0&&s.push("sub"),o!==void 0&&s.push("iss");for(const p of new Set(s.reverse()))if(!(p in a))throw new Zl(`missing required "${p}" claim`,p,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(a.iss))throw new Zl('unexpected "iss" claim value',"iss","check_failed");if(u&&a.sub!==u)throw new Zl('unexpected "sub" claim value',"sub","check_failed");if(l&&!Khe(a.aud,typeof l=="string"?[l]:l))throw new Zl('unexpected "aud" claim value',"aud","check_failed");let d;switch(typeof r.clockTolerance){case"string":d=HT(r.clockTolerance);break;case"number":d=r.clockTolerance;break;case"undefined":d=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:f}=r,h=z2(f||new Date);if((a.iat!==void 0||c)&&typeof a.iat!="number")throw new Zl('"iat" claim must be a number',"iat","invalid");if(a.nbf!==void 0){if(typeof a.nbf!="number")throw new Zl('"nbf" claim must be a number',"nbf","invalid");if(a.nbf>h+d)throw new Zl('"nbf" claim timestamp check failed',"nbf","check_failed")}if(a.exp!==void 0){if(typeof a.exp!="number")throw new Zl('"exp" claim must be a number',"exp","invalid");if(a.exp<=h-d)throw new j9('"exp" claim timestamp check failed',"exp","check_failed")}if(c){const p=h-a.iat,g=typeof c=="number"?c:HT(c);if(p-d>g)throw new j9('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(p<0-d)throw new Zl('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return a};async function Jhe(t,e,r){var n;const a=await zhe(t,e,r);if(!((n=a.protectedHeader.crit)===null||n===void 0)&&n.includes("b64")&&a.protectedHeader.b64===!1)throw new s5("JWTs MUST NOT use unencoded payload");const o={payload:Xhe(a.protectedHeader,a.payload,r),protectedHeader:a.protectedHeader};return typeof e=="function"?{...o,key:a.key}:o}const Yhe=async(t,e,r)=>{const n=await Xz(t,e,"sign");Gz(t,n);const a=await f0.subtle.sign(Kz(t,n.algorithm),n,r);return new Uint8Array(a)},Zhe=Yhe;class epe{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,r){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Mi("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!zz(this._protectedHeader,this._unprotectedHeader))throw new Mi("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader},a=Wz(Mi,new Map([["b64",!0]]),r==null?void 0:r.crit,this._protectedHeader,n);let s=!0;if(a.has("b64")&&(s=this._protectedHeader.b64,typeof s!="boolean"))throw new Mi('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=n;if(typeof o!="string"||!o)throw new Mi('JWS "alg" (Algorithm) Header Parameter missing or invalid');Qz(o,e,"sign");let u=this._payload;s&&(u=Fc.encode(q2(u)));let l;this._protectedHeader?l=Fc.encode(q2(JSON.stringify(this._protectedHeader))):l=Fc.encode("");const c=Uz(l,Fc.encode("."),u),d=await Zhe(o,e,c),f={signature:q2(d),payload:""};return s&&(f.payload=$y.decode(u)),this._unprotectedHeader&&(f.header=this._unprotectedHeader),this._protectedHeader&&(f.protected=$y.decode(l)),f}}class tpe{constructor(e){this._flattened=new epe(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,r){const n=await this._flattened.sign(e,r);if(n.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}class rpe{constructor(e){if(!h_(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:z2(new Date)+HT(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:z2(new Date)+HT(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:z2(new Date)}:this._payload={...this._payload,iat:e},this}}class npe extends rpe{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,r){var n;const a=new tpe(Fc.encode(JSON.stringify(this._payload)));if(a.setProtectedHeader(this._protectedHeader),Array.isArray((n=this._protectedHeader)===null||n===void 0?void 0:n.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new s5("JWTs MUST NOT use unencoded payload");return a.sign(e,r)}}function qC(t){var e;const r=(e=t==null?void 0:t.modulusLength)!==null&&e!==void 0?e:2048;if(typeof r!="number"||r<2048)throw new oo("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function ipe(t,e){var r,n,a;let s,o;switch(t){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:qC(e)},o=["sign","verify"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:qC(e)},o=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(t.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:qC(e)},o=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},o=["sign","verify"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},o=["sign","verify"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},o=["sign","verify"];break;case"EdDSA":o=["sign","verify"];const u=(r=e==null?void 0:e.crv)!==null&&r!==void 0?r:"Ed25519";switch(u){case"Ed25519":case"Ed448":s={name:u};break;default:throw new oo("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{o=["deriveKey","deriveBits"];const l=(n=e==null?void 0:e.crv)!==null&&n!==void 0?n:"P-256";switch(l){case"P-256":case"P-384":case"P-521":{s={name:"ECDH",namedCurve:l};break}case"X25519":case"X448":s={name:l};break;default:throw new oo("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new oo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return f0.subtle.generateKey(s,(a=e==null?void 0:e.extractable)!==null&&a!==void 0?a:!1,o)}async function ape(t,e){return ipe(t,e)}const Zz="solidClientAuthn:",qT=["ES256","RS256"],ti={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},k9=5,spe="openid",ope="offline_access",upe="webid",eG=[spe,ope,upe].join(" "),lpe=(t,e)=>({get(r,n,a){if(!Object.getOwnPropertyNames(Cl.EventEmitter).includes(n)&&Object.getOwnPropertyNames(t).includes(n))throw new Error(`${e}: [${n}] is not supported`);return Reflect.get(r,n,a)}});class cpe{constructor(e){this.handleables=e}async getProperHandler(e){const r=await Promise.all(this.handleables.map(n=>n.canHandle(...e)));for(let n=0;n<r.length;n+=1)if(r[n])return this.handleables[n];return null}async canHandle(...e){return await this.getProperHandler(e)!==null}async handle(...e){const r=await this.getProperHandler(e);if(r)return r.handle(...e);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map(n=>{try{return JSON.stringify(n)}catch{return n.toString()}}).join(", ")}`)}}async function dpe(t,e){const r=await Mh.call(globalThis,t);if(r.status!==200)throw new Error(`Could not fetch JWKS for [${e}] at [${t}]: ${r.status} ${r.statusText}`);let n;try{n=(await r.json()).keys[0]}catch(a){throw new Error(`Malformed JWKS for [${e}] at [${t}]: ${a.message}`)}return n}async function u5(t,e,r,n){const a=await dpe(e,r);let s;try{const{payload:o}=await Jhe(t,await Nhe(a),{issuer:r,audience:n});s=o}catch(o){throw new Error(`Token verification failed: ${o.stack}`)}if(typeof s.webid=="string")return s.webid;if(typeof s.sub!="string")throw new Error(`The token ${JSON.stringify(s)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(s.sub),s.sub}catch(o){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${s.sub}] is invalid as a URL - error [${o}].`)}}function fpe(t){try{return new URL(t).hash===""}catch{return!1}}class hpe{constructor(e,r){this.storageUtility=e,this.redirector=r}async canHandle(e){return!!(e.issuerConfiguration.grantTypesSupported&&e.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1)}async handleRedirect({oidcLoginOptions:e,state:r,codeVerifier:n,targetUrl:a}){await Promise.all([this.storageUtility.setForUser(r,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:n,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:e.dpop?"true":"false"})]),this.redirector.redirect(a,{handleRedirect:e.handleRedirect})}}class ppe{constructor(e){this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class gpe{constructor(e){this.redirector=e}async canHandle(e,r){return(r==null?void 0:r.logoutType)==="idp"}async handle(e,r){if((r==null?void 0:r.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(r.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(r.toLogoutUrl(r),{handleRedirect:r.handleRedirect})}}class ype{constructor(e,r){this.handlers=[new ppe(e),new gpe(r)]}async canHandle(){return!0}async handle(e,r){for(const n of this.handlers)await n.canHandle(e,r)&&await n.handle(e,r)}}function tG(){return{isLoggedIn:!1,sessionId:D3(),fetch:(...t)=>Mh.call(globalThis,...t)}}async function rG(t,e){await Promise.all([e.deleteAllUserData(t,{secure:!1}),e.deleteAllUserData(t,{secure:!0})])}class mpe{constructor(e){this.storageUtility=e}update(e,r){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(e){return rG(e,this.storageUtility)}async register(e){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function vpe({endSessionEndpoint:t,idTokenHint:e,postLogoutRedirectUri:r,state:n}){const a=new URL(t);return e!==void 0&&a.searchParams.append("id_token_hint",e),r!==void 0&&(a.searchParams.append("post_logout_redirect_uri",r),n!==void 0&&a.searchParams.append("state",n)),a.toString()}function bpe({endSessionEndpoint:t,idTokenHint:e}){if(t!==void 0)return function({state:n,postLogoutUrl:a}){return vpe({endSessionEndpoint:t,idTokenHint:e,state:n,postLogoutRedirectUri:a})}}function _pe(t){return typeof t=="string"&&["DPoP","Bearer"].includes(t)}function $9(t){try{return new URL(t),!0}catch{return!1}}function wpe(t,e){var r;return(r=e.find(n=>t.includes(n)))!==null&&r!==void 0?r:null}function Spe(t,e){return t.clientId!==void 0&&!$9(t.clientId)?"static":e.scopesSupported.includes("webid")&&t.clientId!==void 0&&$9(t.clientId)?"solid-oidc":"dynamic"}async function Tpe(t,e,r,n){const a=Spe(t,e);return a==="dynamic"?n.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},e):(await r.setForUser(t.sessionId,{clientId:t.clientId}),t.clientSecret&&await r.setForUser(t.sessionId,{clientSecret:t.clientSecret}),t.clientName&&await r.setForUser(t.sessionId,{clientName:t.clientName}),{clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:a})}const U9=(t,e)=>Mh.call(globalThis,t,e);let Epe=class{constructor(e,r,n,a,s){this.loginHandler=e,this.redirectHandler=r,this.logoutHandler=n,this.sessionInfoManager=a,this.issuerConfigFetcher=s,this.fetch=U9,this.logout=async(o,u)=>{await this.logoutHandler.handle(o,(u==null?void 0:u.logoutType)==="idp"?{...u,toLogoutUrl:this.boundLogout}:u),this.fetch=U9,delete this.boundLogout},this.getSessionInfo=async o=>this.sessionInfoManager.get(o),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll()}};async function nG(t,e,r){try{const[n,a,s,o]=await Promise.all([e.getForUser(t,"issuer",{errorIfNull:!0}),e.getForUser(t,"codeVerifier"),e.getForUser(t,"redirectUrl"),e.getForUser(t,"dpop",{errorIfNull:!0})]);await e.deleteForUser(t,"codeVerifier");const u=await r.fetchConfig(n);return{codeVerifier:a,redirectUrl:s,issuerConfig:u,dpop:o==="true"}}catch(n){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${t}]: ${n}`)}}class Ape{constructor(e,r){this.secureStorage=e,this.insecureStorage=r}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,r){const n=await(r?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(n===void 0)return{};try{return JSON.parse(n)}catch{throw new Error(`Data for user [${e}] in [${r?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${n}`)}}async setUserData(e,r,n){await(n?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(r))}async get(e,r){const n=await(r!=null&&r.secure?this.secureStorage:this.insecureStorage).get(e);if(n===void 0&&(r!=null&&r.errorIfNull))throw new Error(`[${e}] is not stored`);return n}async set(e,r,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).set(e,r)}async delete(e,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,r,n){const a=await this.getUserData(e,n==null?void 0:n.secure);let s;if((!a||!a[r])&&(s=void 0),s=a[r],s===void 0&&(n!=null&&n.errorIfNull))throw new Error(`Field [${r}] for user [${e}] is not stored`);return s||void 0}async setForUser(e,r,n){let a;try{a=await this.getUserData(e,n==null?void 0:n.secure)}catch{a={}}await this.setUserData(e,{...a,...r},n==null?void 0:n.secure)}async deleteForUser(e,r,n){const a=await this.getUserData(e,n==null?void 0:n.secure);delete a[r],await this.setUserData(e,a,n==null?void 0:n.secure)}async deleteAllUserData(e,r){await(r!=null&&r.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class xpe{constructor(){this.map={}}async get(e){return this.map[e]||void 0}async set(e,r){this.map[e]=r}async delete(e){delete this.map[e]}}class v4 extends Error{constructor(e){super(e)}}class ib extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class iG extends Error{constructor(e,r,n){super(e),this.error=r,this.errorDescription=n}}function Ope(t){const e=new URL(t);return new URL(e.pathname,e.origin).toString()}async function l5(t,e,r){return new npe({htu:Ope(t),htm:e.toUpperCase(),jti:D3()}).setProtectedHeader({alg:qT[0],jwk:r.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(r.privateKey,{})}async function Rpe(){const{privateKey:t,publicKey:e}=await ape(qT[0]),r={privateKey:t,publicKey:await Uhe(e)};return[r.publicKey.alg]=qT,r}const aG=600;function Ipe(t){return[401,403].includes(t)}async function Ppe(t,e,r,n){var a;const s=new Oq(n==null?void 0:n.headers);return s.set("Authorization",`DPoP ${e}`),s.set("DPoP",await l5(t,(a=n==null?void 0:n.method)!==null&&a!==void 0?a:"get",r)),{...n,headers:s}}async function Cpe(t,e,r,n){if(r!==void 0)return Ppe(t,e,r,n);const a=new Oq(n==null?void 0:n.headers);return a.set("Authorization",`Bearer ${e}`),{...n,headers:a}}async function V9(t,e,r,n,a){return t(r,await Cpe(r.toString(),e,a,n))}async function Dpe(t,e,r){var n;const a=await t.tokenRefresher.refresh(t.sessionId,t.refreshToken,e);return r==null||r.emit(ti.SESSION_EXTENDED,(n=a.expiresIn)!==null&&n!==void 0?n:aG),typeof a.refreshToken=="string"&&(r==null||r.emit(ti.NEW_REFRESH_TOKEN,a.refreshToken)),{accessToken:a.accessToken,refreshToken:a.refreshToken,expiresIn:a.expiresIn}}const zC=t=>t!==void 0?t-k9>0?t-k9:t:aG;async function Npe(t,e,r){var n;let a=e,s;const o=r==null?void 0:r.refreshOptions;if(o!==void 0){const u=async()=>{var l,c,d,f;try{const{accessToken:h,refreshToken:p,expiresIn:g}=await Dpe(o,r.dpopKey,r.eventEmitter);a=h,p!==void 0&&(o.refreshToken=p),clearTimeout(s),s=setTimeout(u,zC(g)*1e3),(l=r.eventEmitter)===null||l===void 0||l.emit(ti.TIMEOUT_SET,s)}catch(h){h instanceof iG&&((c=r==null?void 0:r.eventEmitter)===null||c===void 0||c.emit(ti.ERROR,h.error,h.errorDescription),(d=r==null?void 0:r.eventEmitter)===null||d===void 0||d.emit(ti.SESSION_EXPIRED)),h instanceof ib&&h.missingFields.includes("access_token")&&((f=r==null?void 0:r.eventEmitter)===null||f===void 0||f.emit(ti.SESSION_EXPIRED))}};s=setTimeout(u,zC(r.expiresIn)*1e3),(n=r.eventEmitter)===null||n===void 0||n.emit(ti.TIMEOUT_SET,s)}else if(r!==void 0&&r.eventEmitter!==void 0){const u=setTimeout(()=>{r.eventEmitter.emit(ti.SESSION_EXPIRED)},zC(r.expiresIn)*1e3);r.eventEmitter.emit(ti.TIMEOUT_SET,u)}return async(u,l)=>{let c=await V9(t,a,u,l,r==null?void 0:r.dpopKey);const d=!c.ok&&!Ipe(c.status);return c.ok||d||c.url!==u&&(r==null?void 0:r.dpopKey)!==void 0&&(c=await V9(t,a,c.url,l,r.dpopKey)),c}}var Uy={},Fpe={get exports(){return Uy},set exports(t){Uy=t}};(function(t,e){(function(n,a){t.exports=a()})(F,function(){return function(r){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(s,o,u){a.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:u})},a.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},a.t=function(s,o){if(1&o&&(s=a(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var l in s)a.d(u,l,function(c){return s[c]}.bind(null,l));return u},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=22)}([function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),o={debug:function(){},info:function(){},warn:function(){},error:function(){}},u=void 0,l=void 0;(n.Log=function(){function c(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.reset=function(){l=3,u=o},c.debug=function(){if(l>=4){for(var f=arguments.length,h=Array(f),p=0;p<f;p++)h[p]=arguments[p];u.debug.apply(u,Array.from(h))}},c.info=function(){if(l>=3){for(var f=arguments.length,h=Array(f),p=0;p<f;p++)h[p]=arguments[p];u.info.apply(u,Array.from(h))}},c.warn=function(){if(l>=2){for(var f=arguments.length,h=Array(f),p=0;p<f;p++)h[p]=arguments[p];u.warn.apply(u,Array.from(h))}},c.error=function(){if(l>=1){for(var f=arguments.length,h=Array(f),p=0;p<f;p++)h[p]=arguments[p];u.error.apply(u,Array.from(h))}},s(c,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(f){if(!(0<=f&&f<=4))throw new Error("Invalid log level");l=f}},{key:"logger",get:function(){return u},set:function(f){if(!f.debug&&f.info&&(f.debug=f.info),!(f.debug&&f.info&&f.warn&&f.error))throw new Error("Invalid logger");u=f}}]),c}()).reset()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),o={setInterval:function(c){function d(f,h){return c.apply(this,arguments)}return d.toString=function(){return c.toString()},d}(function(c,d){return setInterval(c,d)}),clearInterval:function(c){function d(f){return c.apply(this,arguments)}return d.toString=function(){return c.toString()},d}(function(c){return clearInterval(c)})},u=!1,l=null;n.Global=function(){function c(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c)}return c._testing=function(){u=!0},c.setXMLHttpRequest=function(f){l=f},s(c,null,[{key:"location",get:function(){if(!u)return location}},{key:"localStorage",get:function(){if(!u&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!u&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!u&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!u)return o}}]),c}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.MetadataService=void 0;var s=function(){function d(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,h,p){return h&&d(f.prototype,h),p&&d(f,p),f}}(),o=a(0),u=a(7);function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var c=".well-known/openid-configuration";n.MetadataService=function(){function d(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.JsonService;if(l(this,d),!f)throw o.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=f,this._jsonService=new h(["application/jwk-set+json"])}return d.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},d.prototype.getMetadata=function(){var h=this;return this._settings.metadata?(o.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(o.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(p){o.Log.debug("MetadataService.getMetadata: json received");var g=h._settings.metadataSeed||{};return h._settings.metadata=Object.assign({},g,p),h._settings.metadata})):(o.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},d.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},d.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},d.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},d.prototype.getTokenEndpoint=function(){var h=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",h)},d.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},d.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},d.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},d.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},d.prototype._getMetadataProperty=function(h){var p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return o.Log.debug("MetadataService.getMetadataProperty for: "+h),this.getMetadata().then(function(g){if(o.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),g[h]===void 0){if(p===!0)return void o.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+h);throw o.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+h),new Error("Metadata does not contain property "+h)}return g[h]})},d.prototype.getSigningKeys=function(){var h=this;return this._settings.signingKeys?(o.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(p){return o.Log.debug("MetadataService.getSigningKeys: jwks_uri received",p),h._jsonService.getJson(p).then(function(g){if(o.Log.debug("MetadataService.getSigningKeys: key set received",g),!g.keys)throw o.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return h._settings.signingKeys=g.keys,h._settings.signingKeys})})},s(d,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=c))),this._metadataUrl}}]),d}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.UrlUtility=void 0;var s=a(0),o=a(1);n.UrlUtility=function(){function u(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.addQueryParam=function(c,d,f){return c.indexOf("?")<0&&(c+="?"),c[c.length-1]!=="?"&&(c+="&"),c+=encodeURIComponent(d),c+="=",c+=encodeURIComponent(f)},u.parseUrlFragment=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.Global;typeof c!="string"&&(c=f.location.href);var h=c.lastIndexOf(d);h>=0&&(c=c.substr(h+1)),d==="?"&&(h=c.indexOf("#"))>=0&&(c=c.substr(0,h));for(var p,g={},y=/([^&=]+)=([^&]*)/g,S=0;p=y.exec(c);)if(g[decodeURIComponent(p[1])]=decodeURIComponent(p[2].replace(/\+/g," ")),S++>50)return s.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",c),{error:"Response exceeded expected number of parameters"};for(var v in g)return g;return{}},u}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.JoseUtil=void 0;var s=a(26),o=function(l){return l&&l.__esModule?l:{default:l}}(a(33));n.JoseUtil=(0,o.default)({jws:s.jws,KeyUtil:s.KeyUtil,X509:s.X509,crypto:s.crypto,hextob64u:s.hextob64u,b64tohex:s.b64tohex,AllowedSigningAlgs:s.AllowedSigningAlgs})},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.OidcClientSettings=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=function(){function v(A,E){for(var T=0;T<E.length;T++){var R=E[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(A,R.key,R)}}return function(A,E,T){return E&&v(A.prototype,E),T&&v(A,T),A}}(),u=a(0),l=a(23),c=a(6),d=a(24),f=a(2);function h(v,A){if(!(v instanceof A))throw new TypeError("Cannot call a class as a function")}var p=".well-known/openid-configuration",g="id_token",y="openid",S="client_secret_post";n.OidcClientSettings=function(){function v(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=A.authority,T=A.metadataUrl,R=A.metadata,I=A.signingKeys,D=A.metadataSeed,M=A.client_id,N=A.client_secret,O=A.response_type,k=O===void 0?g:O,Y=A.scope,ne=Y===void 0?y:Y,q=A.redirect_uri,H=A.post_logout_redirect_uri,J=A.client_authentication,se=J===void 0?S:J,ue=A.prompt,Se=A.display,ve=A.max_age,Le=A.ui_locales,Xe=A.acr_values,Ne=A.resource,ye=A.response_mode,qe=A.filterProtocolClaims,Te=qe===void 0||qe,Oe=A.loadUserInfo,Be=Oe===void 0||Oe,He=A.staleStateAge,ee=He===void 0?900:He,j=A.clockSkew,b=j===void 0?300:j,m=A.clockService,C=m===void 0?new l.ClockService:m,B=A.userInfoJwtIssuer,z=B===void 0?"OP":B,Q=A.mergeClaims,ae=Q!==void 0&&Q,ce=A.stateStore,fe=ce===void 0?new c.WebStorageStateStore:ce,be=A.ResponseValidatorCtor,je=be===void 0?d.ResponseValidator:be,$e=A.MetadataServiceCtor,Ke=$e===void 0?f.MetadataService:$e,re=A.extraQueryParams,le=re===void 0?{}:re,X=A.extraTokenParams,$=X===void 0?{}:X;h(this,v),this._authority=E,this._metadataUrl=T,this._metadata=R,this._metadataSeed=D,this._signingKeys=I,this._client_id=M,this._client_secret=N,this._response_type=k,this._scope=ne,this._redirect_uri=q,this._post_logout_redirect_uri=H,this._client_authentication=se,this._prompt=ue,this._display=Se,this._max_age=ve,this._ui_locales=Le,this._acr_values=Xe,this._resource=Ne,this._response_mode=ye,this._filterProtocolClaims=!!Te,this._loadUserInfo=!!Be,this._staleStateAge=ee,this._clockSkew=b,this._clockService=C,this._userInfoJwtIssuer=z,this._mergeClaims=!!ae,this._stateStore=fe,this._validator=new je(this),this._metadataService=new Ke(this),this._extraQueryParams=(le===void 0?"undefined":s(le))==="object"?le:{},this._extraTokenParams=($===void 0?"undefined":s($))==="object"?$:{}}return v.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},o(v,[{key:"client_id",get:function(){return this._client_id},set:function(E){if(this._client_id)throw u.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=E}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(E){if(this._authority)throw u.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=E}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(p)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=p)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(E){this._metadata=E}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(E){this._metadataSeed=E}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(E){this._signingKeys=E}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(E){(E===void 0?"undefined":s(E))==="object"?this._extraQueryParams=E:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(E){(E===void 0?"undefined":s(E))==="object"?this._extraTokenParams=E:this._extraTokenParams={}}}]),v}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.WebStorageStateStore=void 0;var s=a(0),o=a(1);function u(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}n.WebStorageStateStore=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.prefix,f=d===void 0?"oidc.":d,h=c.store,p=h===void 0?o.Global.localStorage:h;u(this,l),this._store=p,this._prefix=f}return l.prototype.set=function(d,f){return s.Log.debug("WebStorageStateStore.set",d),d=this._prefix+d,this._store.setItem(d,f),Promise.resolve()},l.prototype.get=function(d){s.Log.debug("WebStorageStateStore.get",d),d=this._prefix+d;var f=this._store.getItem(d);return Promise.resolve(f)},l.prototype.remove=function(d){s.Log.debug("WebStorageStateStore.remove",d),d=this._prefix+d;var f=this._store.getItem(d);return this._store.removeItem(d),Promise.resolve(f)},l.prototype.getAllKeys=function(){s.Log.debug("WebStorageStateStore.getAllKeys");for(var d=[],f=0;f<this._store.length;f++){var h=this._store.key(f);h.indexOf(this._prefix)===0&&d.push(h.substr(this._prefix.length))}return Promise.resolve(d)},l}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.JsonService=void 0;var s=a(0),o=a(1);function u(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}n.JsonService=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;u(this,l),c&&Array.isArray(c)?this._contentTypes=c.slice():this._contentTypes=[],this._contentTypes.push("application/json"),f&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=d,this._jwtHandler=f}return l.prototype.getJson=function(d,f){var h=this;if(!d)throw s.Log.error("JsonService.getJson: No url passed"),new Error("url");return s.Log.debug("JsonService.getJson, url: ",d),new Promise(function(p,g){var y=new h._XMLHttpRequest;y.open("GET",d);var S=h._contentTypes,v=h._jwtHandler;y.onload=function(){if(s.Log.debug("JsonService.getJson: HTTP response received, status",y.status),y.status===200){var A=y.getResponseHeader("Content-Type");if(A){var E=S.find(function(T){if(A.startsWith(T))return!0});if(E=="application/jwt")return void v(y).then(p,g);if(E)try{return void p(JSON.parse(y.responseText))}catch(T){return s.Log.error("JsonService.getJson: Error parsing JSON response",T.message),void g(T)}}g(Error("Invalid response Content-Type: "+A+", from URL: "+d))}else g(Error(y.statusText+" ("+y.status+")"))},y.onerror=function(){s.Log.error("JsonService.getJson: network error"),g(Error("Network Error"))},f&&(s.Log.debug("JsonService.getJson: token passed, setting Authorization header"),y.setRequestHeader("Authorization","Bearer "+f)),y.send()})},l.prototype.postForm=function(d,f,h){var p=this;if(!d)throw s.Log.error("JsonService.postForm: No url passed"),new Error("url");return s.Log.debug("JsonService.postForm, url: ",d),new Promise(function(g,y){var S=new p._XMLHttpRequest;S.open("POST",d);var v=p._contentTypes;S.onload=function(){if(s.Log.debug("JsonService.postForm: HTTP response received, status",S.status),S.status!==200){if(S.status===400&&(I=S.getResponseHeader("Content-Type"))&&v.find(function(D){if(I.startsWith(D))return!0}))try{var R=JSON.parse(S.responseText);if(R&&R.error)return s.Log.error("JsonService.postForm: Error from server: ",R.error),void y(new Error(R.error))}catch(D){return s.Log.error("JsonService.postForm: Error parsing JSON response",D.message),void y(D)}y(Error(S.statusText+" ("+S.status+")"))}else{var I;if((I=S.getResponseHeader("Content-Type"))&&v.find(function(D){if(I.startsWith(D))return!0}))try{return void g(JSON.parse(S.responseText))}catch(D){return s.Log.error("JsonService.postForm: Error parsing JSON response",D.message),void y(D)}y(Error("Invalid response Content-Type: "+I+", from URL: "+d))}},S.onerror=function(){s.Log.error("JsonService.postForm: network error"),y(Error("Network Error"))};var A="";for(var E in f){var T=f[E];T&&(A.length>0&&(A+="&"),A+=encodeURIComponent(E),A+="=",A+=encodeURIComponent(T))}S.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h!==void 0&&S.setRequestHeader("Authorization","Basic "+btoa(h)),S.send(A)})},l}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SigninRequest=void 0;var s=a(0),o=a(3),u=a(13);n.SigninRequest=function(){function l(c){var d=c.url,f=c.client_id,h=c.redirect_uri,p=c.response_type,g=c.scope,y=c.authority,S=c.data,v=c.prompt,A=c.display,E=c.max_age,T=c.ui_locales,R=c.id_token_hint,I=c.login_hint,D=c.acr_values,M=c.resource,N=c.response_mode,O=c.request,k=c.request_uri,Y=c.extraQueryParams,ne=c.request_type,q=c.client_secret,H=c.extraTokenParams,J=c.skipUserInfo;if(function(Ne,ye){if(!(Ne instanceof ye))throw new TypeError("Cannot call a class as a function")}(this,l),!d)throw s.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!f)throw s.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!h)throw s.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!p)throw s.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!g)throw s.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!y)throw s.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var se=l.isOidc(p),ue=l.isCode(p);N||(N=l.isCode(p)?"query":null),this.state=new u.SigninState({nonce:se,data:S,client_id:f,authority:y,redirect_uri:h,code_verifier:ue,request_type:ne,response_mode:N,client_secret:q,scope:g,extraTokenParams:H,skipUserInfo:J}),d=o.UrlUtility.addQueryParam(d,"client_id",f),d=o.UrlUtility.addQueryParam(d,"redirect_uri",h),d=o.UrlUtility.addQueryParam(d,"response_type",p),d=o.UrlUtility.addQueryParam(d,"scope",g),d=o.UrlUtility.addQueryParam(d,"state",this.state.id),se&&(d=o.UrlUtility.addQueryParam(d,"nonce",this.state.nonce)),ue&&(d=o.UrlUtility.addQueryParam(d,"code_challenge",this.state.code_challenge),d=o.UrlUtility.addQueryParam(d,"code_challenge_method","S256"));var Se={prompt:v,display:A,max_age:E,ui_locales:T,id_token_hint:R,login_hint:I,acr_values:D,resource:M,request:O,request_uri:k,response_mode:N};for(var ve in Se)Se[ve]&&(d=o.UrlUtility.addQueryParam(d,ve,Se[ve]));for(var Le in Y)d=o.UrlUtility.addQueryParam(d,Le,Y[Le]);this.url=d}return l.isOidc=function(d){return!!d.split(/\s+/g).filter(function(f){return f==="id_token"})[0]},l.isOAuth=function(d){return!!d.split(/\s+/g).filter(function(f){return f==="token"})[0]},l.isCode=function(d){return!!d.split(/\s+/g).filter(function(f){return f==="code"})[0]},l}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.State=void 0;var s=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),o=a(0),u=function(d){return d&&d.__esModule?d:{default:d}}(a(14));function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}n.State=function(){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=d.id,h=d.data,p=d.created,g=d.request_type;l(this,c),this._id=f||(0,u.default)(),this._data=h,this._created=typeof p=="number"&&p>0?p:parseInt(Date.now()/1e3),this._request_type=g}return c.prototype.toStorageString=function(){return o.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},c.fromStorageString=function(f){return o.Log.debug("State.fromStorageString"),new c(JSON.parse(f))},c.clearStaleState=function(f,h){var p=Date.now()/1e3-h;return f.getAllKeys().then(function(g){o.Log.debug("State.clearStaleState: got keys",g);for(var y=[],S=function(T){var R=g[T];A=f.get(R).then(function(I){var D=!1;if(I)try{var M=c.fromStorageString(I);o.Log.debug("State.clearStaleState: got item from key: ",R,M.created),M.created<=p&&(D=!0)}catch(N){o.Log.error("State.clearStaleState: Error parsing state for key",R,N.message),D=!0}else o.Log.debug("State.clearStaleState: no item in storage for key: ",R),D=!0;if(D)return o.Log.debug("State.clearStaleState: removed item for key: ",R),f.remove(R)}),y.push(A)},v=0;v<g.length;v++){var A;S(v)}return o.Log.debug("State.clearStaleState: waiting on promise count:",y.length),Promise.all(y)})},s(c,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),c}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.OidcClient=void 0;var s=function(){function S(v,A){for(var E=0;E<A.length;E++){var T=A[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,A,E){return A&&S(v.prototype,A),E&&S(v,E),v}}(),o=a(0),u=a(5),l=a(12),c=a(8),d=a(34),f=a(35),h=a(36),p=a(13),g=a(9);function y(S,v){if(!(S instanceof v))throw new TypeError("Cannot call a class as a function")}n.OidcClient=function(){function S(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};y(this,S),v instanceof u.OidcClientSettings?this._settings=v:this._settings=new u.OidcClientSettings(v)}return S.prototype.createSigninRequest=function(){var A=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=E.response_type,R=E.scope,I=E.redirect_uri,D=E.data,M=E.state,N=E.prompt,O=E.display,k=E.max_age,Y=E.ui_locales,ne=E.id_token_hint,q=E.login_hint,H=E.acr_values,J=E.resource,se=E.request,ue=E.request_uri,Se=E.response_mode,ve=E.extraQueryParams,Le=E.extraTokenParams,Xe=E.request_type,Ne=E.skipUserInfo,ye=arguments[1];o.Log.debug("OidcClient.createSigninRequest");var qe=this._settings.client_id;T=T||this._settings.response_type,R=R||this._settings.scope,I=I||this._settings.redirect_uri,N=N||this._settings.prompt,O=O||this._settings.display,k=k||this._settings.max_age,Y=Y||this._settings.ui_locales,H=H||this._settings.acr_values,J=J||this._settings.resource,Se=Se||this._settings.response_mode,ve=ve||this._settings.extraQueryParams,Le=Le||this._settings.extraTokenParams;var Te=this._settings.authority;return c.SigninRequest.isCode(T)&&T!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Oe){o.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Oe);var Be=new c.SigninRequest({url:Oe,client_id:qe,redirect_uri:I,response_type:T,scope:R,data:D||M,authority:Te,prompt:N,display:O,max_age:k,ui_locales:Y,id_token_hint:ne,login_hint:q,acr_values:H,resource:J,request:se,request_uri:ue,extraQueryParams:ve,extraTokenParams:Le,request_type:Xe,response_mode:Se,client_secret:A._settings.client_secret,skipUserInfo:Ne}),He=Be.state;return(ye=ye||A._stateStore).set(He.id,He.toStorageString()).then(function(){return Be})})},S.prototype.readSigninResponseState=function(A,E){var T=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSigninResponseState");var R=this._settings.response_mode==="query"||!this._settings.response_mode&&c.SigninRequest.isCode(this._settings.response_type),I=R?"?":"#",D=new d.SigninResponse(A,I);if(!D.state)return o.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));E=E||this._stateStore;var M=T?E.remove.bind(E):E.get.bind(E);return M(D.state).then(function(N){if(!N)throw o.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:p.SigninState.fromStorageString(N),response:D}})},S.prototype.processSigninResponse=function(A,E){var T=this;return o.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(A,E,!0).then(function(R){var I=R.state,D=R.response;return o.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),T._validator.validateSigninResponse(I,D)})},S.prototype.createSignoutRequest=function(){var A=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=E.id_token_hint,R=E.data,I=E.state,D=E.post_logout_redirect_uri,M=E.extraQueryParams,N=E.request_type,O=arguments[1];return o.Log.debug("OidcClient.createSignoutRequest"),D=D||this._settings.post_logout_redirect_uri,M=M||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(k){if(!k)throw o.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");o.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",k);var Y=new f.SignoutRequest({url:k,id_token_hint:T,post_logout_redirect_uri:D,data:R||I,extraQueryParams:M,request_type:N}),ne=Y.state;return ne&&(o.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(O=O||A._stateStore).set(ne.id,ne.toStorageString())),Y})},S.prototype.readSignoutResponseState=function(A,E){var T=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSignoutResponseState");var R=new h.SignoutResponse(A);if(!R.state)return o.Log.debug("OidcClient.readSignoutResponseState: No state in response"),R.error?(o.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",R.error),Promise.reject(new l.ErrorResponse(R))):Promise.resolve({state:void 0,response:R});var I=R.state;E=E||this._stateStore;var D=T?E.remove.bind(E):E.get.bind(E);return D(I).then(function(M){if(!M)throw o.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:g.State.fromStorageString(M),response:R}})},S.prototype.processSignoutResponse=function(A,E){var T=this;return o.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(A,E,!0).then(function(R){var I=R.state,D=R.response;return I?(o.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),T._validator.validateSignoutResponse(I,D)):(o.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),D)})},S.prototype.clearStaleState=function(A){return o.Log.debug("OidcClient.clearStaleState"),A=A||this._stateStore,g.State.clearStaleState(A,this.settings.staleStateAge)},s(S,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),S}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.TokenClient=void 0;var s=a(7),o=a(2),u=a(0);function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}n.TokenClient=function(){function c(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.JsonService,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,c),!d)throw u.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=d,this._jsonService=new f,this._metadataService=new h(this._settings)}return c.prototype.exchangeCode=function(){var f=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(h=Object.assign({},h)).grant_type=h.grant_type||"authorization_code",h.client_id=h.client_id||this._settings.client_id,h.client_secret=h.client_secret||this._settings.client_secret,h.redirect_uri=h.redirect_uri||this._settings.redirect_uri;var p=void 0,g=h._client_authentication||this._settings._client_authentication;return delete h._client_authentication,h.code?h.redirect_uri?h.code_verifier?h.client_id?h.client_secret||g!="client_secret_basic"?(g=="client_secret_basic"&&(p=h.client_id+":"+h.client_secret,delete h.client_id,delete h.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(y){return u.Log.debug("TokenClient.exchangeCode: Received token endpoint"),f._jsonService.postForm(y,h,p).then(function(S){return u.Log.debug("TokenClient.exchangeCode: response received"),S})})):(u.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(u.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(u.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(u.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(u.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},c.prototype.exchangeRefreshToken=function(){var f=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(h=Object.assign({},h)).grant_type=h.grant_type||"refresh_token",h.client_id=h.client_id||this._settings.client_id,h.client_secret=h.client_secret||this._settings.client_secret;var p=void 0,g=h._client_authentication||this._settings._client_authentication;return delete h._client_authentication,h.refresh_token?h.client_id?(g=="client_secret_basic"&&(p=h.client_id+":"+h.client_secret,delete h.client_id,delete h.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(y){return u.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),f._jsonService.postForm(y,h,p).then(function(S){return u.Log.debug("TokenClient.exchangeRefreshToken: response received"),S})})):(u.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(u.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},c}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorResponse=void 0;var s=a(0);function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function u(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?l:c}n.ErrorResponse=function(l){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=d.error,h=d.error_description,p=d.error_uri,g=d.state,y=d.session_state;if(o(this,c),!f)throw s.Log.error("No error passed to ErrorResponse"),new Error("error");var S=u(this,l.call(this,h||f));return S.name="ErrorResponse",S.error=f,S.error_description=h,S.error_uri=p,S.state=g,S.session_state=y,S}return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}(c,l),c}(Error)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SigninState=void 0;var s=function(){function h(p,g){for(var y=0;y<g.length;y++){var S=g[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,g,y){return g&&h(p.prototype,g),y&&h(p,y),p}}(),o=a(0),u=a(9),l=a(4),c=function(p){return p&&p.__esModule?p:{default:p}}(a(14));function d(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function f(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?h:p}n.SigninState=function(h){function p(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=g.nonce,S=g.authority,v=g.client_id,A=g.redirect_uri,E=g.code_verifier,T=g.response_mode,R=g.client_secret,I=g.scope,D=g.extraTokenParams,M=g.skipUserInfo;d(this,p);var N=f(this,h.call(this,arguments[0]));if(y===!0?N._nonce=(0,c.default)():y&&(N._nonce=y),E===!0?N._code_verifier=(0,c.default)()+(0,c.default)()+(0,c.default)():E&&(N._code_verifier=E),N.code_verifier){var O=l.JoseUtil.hashString(N.code_verifier,"SHA256");N._code_challenge=l.JoseUtil.hexToBase64Url(O)}return N._redirect_uri=A,N._authority=S,N._client_id=v,N._response_mode=T,N._client_secret=R,N._scope=I,N._extraTokenParams=D,N._skipUserInfo=M,N}return function(y,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);y.prototype=Object.create(S&&S.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(y,S):y.__proto__=S)}(p,h),p.prototype.toStorageString=function(){return o.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},p.fromStorageString=function(y){return o.Log.debug("SigninState.fromStorageString"),new p(JSON.parse(y))},s(p,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),p}(u.State)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return(s!="undefined"&&s!==null&&s.getRandomValues!==void 0?o:u)().replace(/-/g,"")};var s=typeof window<"u"?window.crypto||window.msCrypto:null;function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(l){return(l^s.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)})}function u(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(l){return(l^16*Math.random()>>l/4).toString(16)})}r.exports=n.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.User=void 0;var s=function(){function u(l,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,c,d){return c&&u(l.prototype,c),d&&u(l,d),l}}(),o=a(0);n.User=function(){function u(l){var c=l.id_token,d=l.session_state,f=l.access_token,h=l.refresh_token,p=l.token_type,g=l.scope,y=l.profile,S=l.expires_at,v=l.state;(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,u),this.id_token=c,this.session_state=d,this.access_token=f,this.refresh_token=h,this.token_type=p,this.scope=g,this.profile=y,this.expires_at=S,this.state=v}return u.prototype.toStorageString=function(){return o.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},u.fromStorageString=function(c){return o.Log.debug("User.fromStorageString"),new u(JSON.parse(c))},s(u,[{key:"expires_in",get:function(){if(this.expires_at){var c=parseInt(Date.now()/1e3);return this.expires_at-c}},set:function(c){var d=parseInt(c);if(typeof d=="number"&&d>0){var f=parseInt(Date.now()/1e3);this.expires_at=f+d}}},{key:"expired",get:function(){var c=this.expires_in;if(c!==void 0)return c<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),u}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.AccessTokenEvents=void 0;var s=a(0),o=a(46);function u(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}n.AccessTokenEvents=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.accessTokenExpiringNotificationTime,f=d===void 0?60:d,h=c.accessTokenExpiringTimer,p=h===void 0?new o.Timer("Access token expiring"):h,g=c.accessTokenExpiredTimer,y=g===void 0?new o.Timer("Access token expired"):g;u(this,l),this._accessTokenExpiringNotificationTime=f,this._accessTokenExpiring=p,this._accessTokenExpired=y}return l.prototype.load=function(d){if(d.access_token&&d.expires_in!==void 0){var f=d.expires_in;if(s.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",f),f>0){var h=f-this._accessTokenExpiringNotificationTime;h<=0&&(h=1),s.Log.debug("AccessTokenEvents.load: registering expiring timer in:",h),this._accessTokenExpiring.init(h)}else s.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var p=f+1;s.Log.debug("AccessTokenEvents.load: registering expired timer in:",p),this._accessTokenExpired.init(p)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){s.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(d){this._accessTokenExpiring.addHandler(d)},l.prototype.removeAccessTokenExpiring=function(d){this._accessTokenExpiring.removeHandler(d)},l.prototype.addAccessTokenExpired=function(d){this._accessTokenExpired.addHandler(d)},l.prototype.removeAccessTokenExpired=function(d){this._accessTokenExpired.removeHandler(d)},l}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.Event=void 0;var s=a(0);n.Event=function(){function o(u){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=u,this._callbacks=[]}return o.prototype.addHandler=function(l){this._callbacks.push(l)},o.prototype.removeHandler=function(l){var c=this._callbacks.findIndex(function(d){return d===l});c>=0&&this._callbacks.splice(c,1)},o.prototype.raise=function(){s.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var c;(c=this._callbacks)[l].apply(c,arguments)}},o}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SessionMonitor=void 0;var s=function(){function d(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,h,p){return h&&d(f.prototype,h),p&&d(f,p),f}}(),o=a(0),u=a(19),l=a(1);function c(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}n.SessionMonitor=function(){function d(f){var h=this,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.CheckSessionIFrame,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(c(this,d),!f)throw o.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=f,this._CheckSessionIFrameCtor=p,this._timer=g,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(y){y?h._start(y):h._settings.monitorAnonymousSession&&h._userManager.querySessionStatus().then(function(S){var v={session_state:S.session_state};S.sub&&S.sid&&(v.profile={sub:S.sub,sid:S.sid}),h._start(v)}).catch(function(S){o.Log.error("SessionMonitor ctor: error from querySessionStatus:",S.message)})}).catch(function(y){o.Log.error("SessionMonitor ctor: error from getUser:",y.message)}))}return d.prototype._start=function(h){var p=this,g=h.session_state;g&&(h.profile?(this._sub=h.profile.sub,this._sid=h.profile.sid,o.Log.debug("SessionMonitor._start: session_state:",g,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,o.Log.debug("SessionMonitor._start: session_state:",g,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(g):this._metadataService.getCheckSessionIframe().then(function(y){if(y){o.Log.debug("SessionMonitor._start: Initializing check session iframe");var S=p._client_id,v=p._checkSessionInterval,A=p._stopCheckSessionOnError;p._checkSessionIFrame=new p._CheckSessionIFrameCtor(p._callback.bind(p),S,y,v,A),p._checkSessionIFrame.load().then(function(){p._checkSessionIFrame.start(g)})}else o.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(y){o.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",y.message)}))},d.prototype._stop=function(){var h=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(o.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var p=this._timer.setInterval(function(){h._timer.clearInterval(p),h._userManager.querySessionStatus().then(function(g){var y={session_state:g.session_state};g.sub&&g.sid&&(y.profile={sub:g.sub,sid:g.sid}),h._start(y)}).catch(function(g){o.Log.error("SessionMonitor: error from querySessionStatus:",g.message)})},1e3)},d.prototype._callback=function(){var h=this;this._userManager.querySessionStatus().then(function(p){var g=!0;p?p.sub===h._sub?(g=!1,h._checkSessionIFrame.start(p.session_state),p.sid===h._sid?o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",p.session_state):(o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",p.session_state),h._userManager.events._raiseUserSessionChanged())):o.Log.debug("SessionMonitor._callback: Different subject signed into OP:",p.sub):o.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),g&&(h._sub?(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),h._userManager.events._raiseUserSignedOut()):(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),h._userManager.events._raiseUserSignedIn()))}).catch(function(p){h._sub&&(o.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",p.message),h._userManager.events._raiseUserSignedOut())})},s(d,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),d}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.CheckSessionIFrame=void 0;var s=a(0);function o(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}n.CheckSessionIFrame=function(){function u(l,c,d,f){var h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];o(this,u),this._callback=l,this._client_id=c,this._url=d,this._interval=f||2e3,this._stopOnError=h;var p=d.indexOf("/",d.indexOf("//")+2);this._frame_origin=d.substr(0,p),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=d}return u.prototype.load=function(){var c=this;return new Promise(function(d){c._frame.onload=function(){d()},window.document.body.appendChild(c._frame),c._boundMessageEvent=c._message.bind(c),window.addEventListener("message",c._boundMessageEvent,!1)})},u.prototype._message=function(c){c.origin===this._frame_origin&&c.source===this._frame.contentWindow&&(c.data==="error"?(s.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):c.data==="changed"?(s.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):s.Log.debug("CheckSessionIFrame: "+c.data+" message from check session op iframe"))},u.prototype.start=function(c){var d=this;if(this._session_state!==c){s.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=c;var f=function(){d._frame.contentWindow.postMessage(d._client_id+" "+d._session_state,d._frame_origin)};f(),this._timer=window.setInterval(f,this._interval)}},u.prototype.stop=function(){this._session_state=null,this._timer&&(s.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},u}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.TokenRevocationClient=void 0;var s=a(0),o=a(2),u=a(1);function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var c="access_token",d="refresh_token";n.TokenRevocationClient=function(){function f(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Global.XMLHttpRequest,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,f),!h)throw s.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=h,this._XMLHttpRequestCtor=p,this._metadataService=new g(this._settings)}return f.prototype.revoke=function(p,g){var y=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!p)throw s.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(S!==c&&S!=d)throw s.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(v){if(v){s.Log.debug("TokenRevocationClient.revoke: Revoking "+S);var A=y._settings.client_id,E=y._settings.client_secret;return y._revoke(v,A,E,p,S)}if(g)throw s.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},f.prototype._revoke=function(p,g,y,S,v){var A=this;return new Promise(function(E,T){var R=new A._XMLHttpRequestCtor;R.open("POST",p),R.onload=function(){s.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",R.status),R.status===200?E():T(Error(R.statusText+" ("+R.status+")"))},R.onerror=function(){s.Log.debug("TokenRevocationClient.revoke: Network Error."),T("Network Error")};var I="client_id="+encodeURIComponent(g);y&&(I+="&client_secret="+encodeURIComponent(y)),I+="&token_type_hint="+encodeURIComponent(v),I+="&token="+encodeURIComponent(S),R.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),R.send(I)})},f}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.CordovaPopupWindow=void 0;var s=function(){function u(l,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,c,d){return c&&u(l.prototype,c),d&&u(l,d),l}}(),o=a(0);n.CordovaPopupWindow=function(){function u(l){var c=this;(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,u),this._promise=new Promise(function(d,f){c._resolve=d,c._reject=f}),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,o.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return u.prototype._isInAppBrowserInstalled=function(c){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(d){return c.hasOwnProperty(d)})},u.prototype.navigate=function(c){if(c&&c.url){if(!window.cordova)return this._error("cordova is undefined");var d=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(d)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(c.url,this.target,this.features),this._popup?(o.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},u.prototype._loadStartCallback=function(c){c.url.indexOf(this.redirect_uri)===0&&this._success({url:c.url})},u.prototype._exitCallback=function(c){this._error(c)},u.prototype._success=function(c){this._cleanup(),o.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(c)},u.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},u.prototype.close=function(){this._cleanup()},u.prototype._cleanup=function(){this._popup&&(o.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},s(u,[{key:"promise",get:function(){return this._promise}}]),u}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=a(10),u=a(5),l=a(6),c=a(37),d=a(38),f=a(16),h=a(2),p=a(48),g=a(49),y=a(19),S=a(20),v=a(18),A=a(1),E=a(15),T=a(50);n.default={Version:T.Version,Log:s.Log,OidcClient:o.OidcClient,OidcClientSettings:u.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:c.InMemoryWebStorage,UserManager:d.UserManager,AccessTokenEvents:f.AccessTokenEvents,MetadataService:h.MetadataService,CordovaPopupNavigator:p.CordovaPopupNavigator,CordovaIFrameNavigator:g.CordovaIFrameNavigator,CheckSessionIFrame:y.CheckSessionIFrame,TokenRevocationClient:S.TokenRevocationClient,SessionMonitor:v.SessionMonitor,Global:A.Global,User:E.User},r.exports=n.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.ClockService=function(){function s(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},s}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.ResponseValidator=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=a(0),u=a(2),l=a(25),c=a(11),d=a(12),f=a(4);function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var p=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];n.ResponseValidator=function(){function g(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.MetadataService,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f.JoseUtil,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c.TokenClient;if(h(this,g),!y)throw o.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=y,this._metadataService=new S(this._settings),this._userInfoService=new v(this._settings),this._joseUtil=A,this._tokenClient=new E(this._settings)}return g.prototype.validateSigninResponse=function(S,v){var A=this;return o.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(S,v).then(function(E){return o.Log.debug("ResponseValidator.validateSigninResponse: state processed"),A._validateTokens(S,E).then(function(T){return o.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),A._processClaims(S,T).then(function(R){return o.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),R})})})},g.prototype.validateSignoutResponse=function(S,v){return S.id!==v.state?(o.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(o.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),v.state=S.data,v.error?(o.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",v.error),Promise.reject(new d.ErrorResponse(v))):Promise.resolve(v))},g.prototype._processSigninParams=function(S,v){if(S.id!==v.state)return o.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!S.client_id)return o.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!S.authority)return o.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==S.authority)return o.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=S.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==S.client_id)return o.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=S.client_id;return o.Log.debug("ResponseValidator._processSigninParams: state validated"),v.state=S.data,v.error?(o.Log.warn("ResponseValidator._processSigninParams: Response was error",v.error),Promise.reject(new d.ErrorResponse(v))):S.nonce&&!v.id_token?(o.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!S.nonce&&v.id_token?(o.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):S.code_verifier&&!v.code?(o.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!S.code_verifier&&v.code?(o.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(v.scope||(v.scope=S.scope),Promise.resolve(v))},g.prototype._processClaims=function(S,v){var A=this;if(v.isOpenIdConnect){if(o.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),v.profile=this._filterProtocolClaims(v.profile),S.skipUserInfo!==!0&&this._settings.loadUserInfo&&v.access_token)return o.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(v.access_token).then(function(E){return o.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),E.sub!==v.profile.sub?(o.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(v.profile=A._mergeClaims(v.profile,E),o.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",v.profile),v)});o.Log.debug("ResponseValidator._processClaims: not loading user info")}else o.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(v)},g.prototype._mergeClaims=function(S,v){var A=Object.assign({},S);for(var E in v){var T=v[E];Array.isArray(T)||(T=[T]);for(var R=0;R<T.length;R++){var I=T[R];A[E]?Array.isArray(A[E])?A[E].indexOf(I)<0&&A[E].push(I):A[E]!==I&&((I===void 0?"undefined":s(I))==="object"&&this._settings.mergeClaims?A[E]=this._mergeClaims(A[E],I):A[E]=[A[E],I]):A[E]=I}}return A},g.prototype._filterProtocolClaims=function(S){o.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",S);var v=Object.assign({},S);return this._settings._filterProtocolClaims?(p.forEach(function(A){delete v[A]}),o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",v)):o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),v},g.prototype._validateTokens=function(S,v){return v.code?(o.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(S,v)):v.id_token?v.access_token?(o.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(S,v)):(o.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(S,v)):(o.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(v))},g.prototype._processCode=function(S,v){var A=this,E={client_id:S.client_id,client_secret:S.client_secret,code:v.code,redirect_uri:S.redirect_uri,code_verifier:S.code_verifier};return S.extraTokenParams&&s(S.extraTokenParams)==="object"&&Object.assign(E,S.extraTokenParams),this._tokenClient.exchangeCode(E).then(function(T){for(var R in T)v[R]=T[R];return v.id_token?(o.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),A._validateIdTokenAttributes(S,v)):(o.Log.debug("ResponseValidator._processCode: token response successful, returning response"),v)})},g.prototype._validateIdTokenAttributes=function(S,v){var A=this;return this._metadataService.getIssuer().then(function(E){var T=S.client_id,R=A._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",R),A._settings.getEpochTime().then(function(I){return A._joseUtil.validateJwtAttributes(v.id_token,E,T,R,I).then(function(D){return S.nonce&&S.nonce!==D.nonce?(o.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):D.sub?(v.profile=D,v):(o.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},g.prototype._validateIdTokenAndAccessToken=function(S,v){var A=this;return this._validateIdToken(S,v).then(function(E){return A._validateAccessToken(E)})},g.prototype._getSigningKeyForJwt=function(S){var v=this;return this._metadataService.getSigningKeys().then(function(A){var E=S.header.kid;if(!A)return o.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var T=void 0;if(E)T=A.filter(function(R){return R.kid===E})[0];else{if((A=v._filterByAlg(A,S.header.alg)).length>1)return o.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));T=A[0]}return Promise.resolve(T)})},g.prototype._getSigningKeyForJwtWithSingleRetry=function(S){var v=this;return this._getSigningKeyForJwt(S).then(function(A){return A?Promise.resolve(A):(v._metadataService.resetSigningKeys(),v._getSigningKeyForJwt(S))})},g.prototype._validateIdToken=function(S,v){var A=this;if(!S.nonce)return o.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var E=this._joseUtil.parseJwt(v.id_token);return E&&E.header&&E.payload?S.nonce!==E.payload.nonce?(o.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(T){return o.Log.debug("ResponseValidator._validateIdToken: Received issuer"),A._getSigningKeyForJwtWithSingleRetry(E).then(function(R){if(!R)return o.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var I=S.client_id,D=A._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",D),A._joseUtil.validateJwt(v.id_token,R,T,I,D).then(function(){return o.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),E.payload.sub?(v.profile=E.payload,v):(o.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(o.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",E),Promise.reject(new Error("Failed to parse id_token")))},g.prototype._filterByAlg=function(S,v){var A=null;if(v.startsWith("RS"))A="RSA";else if(v.startsWith("PS"))A="PS";else{if(!v.startsWith("ES"))return o.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",v),[];A="EC"}return o.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",A),S=S.filter(function(E){return E.kty===A}),o.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",A,S.length),S},g.prototype._validateAccessToken=function(S){if(!S.profile)return o.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!S.profile.at_hash)return o.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!S.id_token)return o.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var v=this._joseUtil.parseJwt(S.id_token);if(!v||!v.header)return o.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",v),Promise.reject(new Error("Failed to parse id_token"));var A=v.header.alg;if(!A||A.length!==5)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",A),Promise.reject(new Error("Unsupported alg: "+A));var E=A.substr(2,3);if(!E)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",A,E),Promise.reject(new Error("Unsupported alg: "+A));if((E=parseInt(E))!==256&&E!==384&&E!==512)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",A,E),Promise.reject(new Error("Unsupported alg: "+A));var T="sha"+E,R=this._joseUtil.hashString(S.access_token,T);if(!R)return o.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",T),Promise.reject(new Error("Failed to validate at_hash"));var I=R.substr(0,R.length/2),D=this._joseUtil.hexToBase64Url(I);return D!==S.profile.at_hash?(o.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",D,S.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(o.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(S))},g}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.UserInfoService=void 0;var s=a(7),o=a(2),u=a(0),l=a(4);function c(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}n.UserInfoService=function(){function d(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.JsonService,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(c(this,d),!f)throw u.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=f,this._jsonService=new h(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new p(this._settings),this._joseUtil=g}return d.prototype.getClaims=function(h){var p=this;return h?this._metadataService.getUserInfoEndpoint().then(function(g){return u.Log.debug("UserInfoService.getClaims: received userinfo url",g),p._jsonService.getJson(g,h).then(function(y){return u.Log.debug("UserInfoService.getClaims: claims received",y),y})}):(u.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},d.prototype._getClaimsFromJwt=function(h){var p=this;try{var g=this._joseUtil.parseJwt(h.responseText);if(!g||!g.header||!g.payload)return u.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",g),Promise.reject(new Error("Failed to parse id_token"));var y=g.header.kid,S=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":S=this._metadataService.getIssuer();break;case"ANY":S=Promise.resolve(g.payload.iss);break;default:S=Promise.resolve(this._settings.userInfoJwtIssuer)}return S.then(function(v){return u.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+v),p._metadataService.getSigningKeys().then(function(A){if(!A)return u.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));u.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var E=void 0;if(y)E=A.filter(function(I){return I.kid===y})[0];else{if((A=p._filterByAlg(A,g.header.alg)).length>1)return u.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));E=A[0]}if(!E)return u.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var T=p._settings.client_id,R=p._settings.clockSkew;return u.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",R),p._joseUtil.validateJwt(h.responseText,E,v,T,R,void 0,!0).then(function(){return u.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),g.payload})})})}catch(v){return u.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",v.message),void reject(v)}},d.prototype._filterByAlg=function(h,p){var g=null;if(p.startsWith("RS"))g="RSA";else if(p.startsWith("PS"))g="PS";else{if(!p.startsWith("ES"))return u.Log.debug("UserInfoService._filterByAlg: alg not supported: ",p),[];g="EC"}return u.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",g),h=h.filter(function(y){return y.kty===g}),u.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",g,h.length),h},d}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.AllowedSigningAlgs=n.b64tohex=n.hextob64u=n.crypto=n.X509=n.KeyUtil=n.jws=void 0;var s=a(27);n.jws=s.jws,n.KeyUtil=s.KEYUTIL,n.X509=s.X509,n.crypto=s.crypto,n.hextob64u=s.hextob64u,n.b64tohex=s.b64tohex,n.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(r,n,a){(function(s){Object.defineProperty(n,"__esModule",{value:!0});var o,u,l,c,d,f,h,p,g,y,S,v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},A={userAgent:!1},E={},T=T||(o=Math,l=(u={}).lib={},c=l.Base=function(){function w(){}return{extend:function(P){w.prototype=this;var L=new w;return P&&L.mixIn(P),L.hasOwnProperty("init")||(L.init=function(){L.$super.init.apply(this,arguments)}),L.init.prototype=L,L.$super=this,L},create:function(){var P=this.extend();return P.init.apply(P,arguments),P},init:function(){},mixIn:function(P){for(var L in P)P.hasOwnProperty(L)&&(this[L]=P[L]);P.hasOwnProperty("toString")&&(this.toString=P.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=l.WordArray=c.extend({init:function(_,P){_=this.words=_||[],this.sigBytes=P??4*_.length},toString:function(_){return(_||h).stringify(this)},concat:function(_){var P=this.words,L=_.words,G=this.sigBytes,ie=_.sigBytes;if(this.clamp(),G%4)for(var de=0;de<ie;de++){var W=L[de>>>2]>>>24-de%4*8&255;P[G+de>>>2]|=W<<24-(G+de)%4*8}else for(de=0;de<ie;de+=4)P[G+de>>>2]=L[de>>>2];return this.sigBytes+=ie,this},clamp:function(){var _=this.words,P=this.sigBytes;_[P>>>2]&=4294967295<<32-P%4*8,_.length=o.ceil(P/4)},clone:function(){var _=c.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var P=[],L=0;L<_;L+=4)P.push(4294967296*o.random()|0);return new d.init(P,_)}}),f=u.enc={},h=f.Hex={stringify:function(_){for(var P=_.words,L=_.sigBytes,G=[],ie=0;ie<L;ie++){var de=P[ie>>>2]>>>24-ie%4*8&255;G.push((de>>>4).toString(16)),G.push((15&de).toString(16))}return G.join("")},parse:function(_){for(var P=_.length,L=[],G=0;G<P;G+=2)L[G>>>3]|=parseInt(_.substr(G,2),16)<<24-G%8*4;return new d.init(L,P/2)}},p=f.Latin1={stringify:function(_){for(var P=_.words,L=_.sigBytes,G=[],ie=0;ie<L;ie++){var de=P[ie>>>2]>>>24-ie%4*8&255;G.push(String.fromCharCode(de))}return G.join("")},parse:function(_){for(var P=_.length,L=[],G=0;G<P;G++)L[G>>>2]|=(255&_.charCodeAt(G))<<24-G%4*8;return new d.init(L,P)}},g=f.Utf8={stringify:function(_){try{return decodeURIComponent(escape(p.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return p.parse(unescape(encodeURIComponent(_)))}},y=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=g.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var P=this._data,L=P.words,G=P.sigBytes,ie=this.blockSize,de=G/(4*ie),W=(de=_?o.ceil(de):o.max((0|de)-this._minBufferSize,0))*ie,Z=o.min(4*W,G);if(W){for(var te=0;te<W;te+=ie)this._doProcessBlock(L,te);var pe=L.splice(0,W);P.sigBytes-=Z}return new d.init(pe,Z)},clone:function(){var _=c.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0}),l.Hasher=y.extend({cfg:c.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){return _&&this._append(_),this._doFinalize()},blockSize:16,_createHelper:function(_){return function(P,L){return new _.init(L).finalize(P)}},_createHmacHelper:function(_){return function(P,L){return new S.HMAC.init(_,L).finalize(P)}}}),S=u.algo={},u);(function(w){var _,P=(_=T).lib,L=P.Base,G=P.WordArray;(_=_.x64={}).Word=L.extend({init:function(de,W){this.high=de,this.low=W}}),_.WordArray=L.extend({init:function(de,W){de=this.words=de||[],this.sigBytes=W??8*de.length},toX32:function(){for(var de=this.words,W=de.length,Z=[],te=0;te<W;te++){var pe=de[te];Z.push(pe.high),Z.push(pe.low)}return G.create(Z,this.sigBytes)},clone:function(){for(var de=L.clone.call(this),W=de.words=this.words.slice(0),Z=W.length,te=0;te<Z;te++)W[te]=W[te].clone();return de}})})(),function(){var w=T,_=w.lib.WordArray;w.enc.Base64={stringify:function(L){var G=L.words,ie=L.sigBytes,de=this._map;L.clamp(),L=[];for(var W=0;W<ie;W+=3)for(var Z=(G[W>>>2]>>>24-W%4*8&255)<<16|(G[W+1>>>2]>>>24-(W+1)%4*8&255)<<8|G[W+2>>>2]>>>24-(W+2)%4*8&255,te=0;4>te&&W+.75*te<ie;te++)L.push(de.charAt(Z>>>6*(3-te)&63));if(G=de.charAt(64))for(;L.length%4;)L.push(G);return L.join("")},parse:function(L){var G=L.length,ie=this._map;(de=ie.charAt(64))&&(de=L.indexOf(de))!=-1&&(G=de);for(var de=[],W=0,Z=0;Z<G;Z++)if(Z%4){var te=ie.indexOf(L.charAt(Z-1))<<Z%4*2,pe=ie.indexOf(L.charAt(Z))>>>6-Z%4*2;de[W>>>2]|=(te|pe)<<24-W%4*8,W++}return _.create(de,W)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(w){for(var _=T,P=(G=_.lib).WordArray,L=G.Hasher,G=_.algo,ie=[],de=[],W=function(Qe){return 4294967296*(Qe-(0|Qe))|0},Z=2,te=0;64>te;){var pe;e:{pe=Z;for(var ge=w.sqrt(pe),we=2;we<=ge;we++)if(!(pe%we)){pe=!1;break e}pe=!0}pe&&(8>te&&(ie[te]=W(w.pow(Z,.5))),de[te]=W(w.pow(Z,1/3)),te++),Z++}var De=[];G=G.SHA256=L.extend({_doReset:function(){this._hash=new P.init(ie.slice(0))},_doProcessBlock:function(Qe,We){for(var oe=this._hash.words,Ee=oe[0],Re=oe[1],Ce=oe[2],Ge=oe[3],Ye=oe[4],At=oe[5],it=oe[6],ir=oe[7],xt=0;64>xt;xt++){if(16>xt)De[xt]=0|Qe[We+xt];else{var $t=De[xt-15],Ht=De[xt-2];De[xt]=(($t<<25|$t>>>7)^($t<<14|$t>>>18)^$t>>>3)+De[xt-7]+((Ht<<15|Ht>>>17)^(Ht<<13|Ht>>>19)^Ht>>>10)+De[xt-16]}$t=ir+((Ye<<26|Ye>>>6)^(Ye<<21|Ye>>>11)^(Ye<<7|Ye>>>25))+(Ye&At^~Ye&it)+de[xt]+De[xt],Ht=((Ee<<30|Ee>>>2)^(Ee<<19|Ee>>>13)^(Ee<<10|Ee>>>22))+(Ee&Re^Ee&Ce^Re&Ce),ir=it,it=At,At=Ye,Ye=Ge+$t|0,Ge=Ce,Ce=Re,Re=Ee,Ee=$t+Ht|0}oe[0]=oe[0]+Ee|0,oe[1]=oe[1]+Re|0,oe[2]=oe[2]+Ce|0,oe[3]=oe[3]+Ge|0,oe[4]=oe[4]+Ye|0,oe[5]=oe[5]+At|0,oe[6]=oe[6]+it|0,oe[7]=oe[7]+ir|0},_doFinalize:function(){var Qe=this._data,We=Qe.words,oe=8*this._nDataBytes,Ee=8*Qe.sigBytes;return We[Ee>>>5]|=128<<24-Ee%32,We[14+(Ee+64>>>9<<4)]=w.floor(oe/4294967296),We[15+(Ee+64>>>9<<4)]=oe,Qe.sigBytes=4*We.length,this._process(),this._hash},clone:function(){var Qe=L.clone.call(this);return Qe._hash=this._hash.clone(),Qe}}),_.SHA256=L._createHelper(G),_.HmacSHA256=L._createHmacHelper(G)}(Math),function(){function w(){return L.create.apply(L,arguments)}for(var _=T,P=_.lib.Hasher,L=(ie=_.x64).Word,G=ie.WordArray,ie=_.algo,de=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],W=[],Z=0;80>Z;Z++)W[Z]=w();ie=ie.SHA512=P.extend({_doReset:function(){this._hash=new G.init([new L.init(1779033703,4089235720),new L.init(3144134277,2227873595),new L.init(1013904242,4271175723),new L.init(2773480762,1595750129),new L.init(1359893119,2917565137),new L.init(2600822924,725511199),new L.init(528734635,4215389547),new L.init(1541459225,327033209)])},_doProcessBlock:function(pe,ge){for(var we=(Re=this._hash.words)[0],De=Re[1],Me=Re[2],Qe=Re[3],We=Re[4],oe=Re[5],Ee=Re[6],Re=Re[7],Ce=we.high,Ge=we.low,Ye=De.high,At=De.low,it=Me.high,ir=Me.low,xt=Qe.high,$t=Qe.low,Ht=We.high,mr=We.low,Vr=oe.high,si=oe.low,xi=Ee.high,Fi=Ee.low,un=Re.high,pi=Re.low,Li=Ce,zi=Ge,Tf=Ye,Ao=At,Ef=it,Xa=ir,ng=xt,Es=$t,ha=Ht,Ia=mr,Xs=Vr,Af=si,id=xi,xf=Fi,ig=un,ad=pi,Ja=0;80>Ja;Ja++){var fu=W[Ja];if(16>Ja)var Bu=fu.high=0|pe[ge+2*Ja],wn=fu.low=0|pe[ge+2*Ja+1];else{Bu=((wn=(Bu=W[Ja-15]).high)>>>1|(ku=Bu.low)<<31)^(wn>>>8|ku<<24)^wn>>>7;var ku=(ku>>>1|wn<<31)^(ku>>>8|wn<<24)^(ku>>>7|wn<<25),sd=((wn=(sd=W[Ja-2]).high)>>>19|(Wn=sd.low)<<13)^(wn<<3|Wn>>>29)^wn>>>6,Wn=(Wn>>>19|wn<<13)^(Wn<<3|wn>>>29)^(Wn>>>6|wn<<26),ag=(wn=W[Ja-7]).high,Gl=(Ql=W[Ja-16]).high,Ql=Ql.low;Bu=(Bu=(Bu=Bu+ag+((wn=ku+wn.low)>>>0<ku>>>0?1:0))+sd+((wn=wn+Wn)>>>0<Wn>>>0?1:0))+Gl+((wn=wn+Ql)>>>0<Ql>>>0?1:0),fu.high=Bu,fu.low=wn}ag=ha&Xs^~ha&id,Ql=Ia&Af^~Ia&xf,fu=Li&Tf^Li&Ef^Tf&Ef;var WP=zi&Ao^zi&Xa^Ao&Xa,od=(ku=(Li>>>28|zi<<4)^(Li<<30|zi>>>2)^(Li<<25|zi>>>7),sd=(zi>>>28|Li<<4)^(zi<<30|Li>>>2)^(zi<<25|Li>>>7),(Wn=de[Ja]).high),iv=Wn.low;Gl=ig+((ha>>>14|Ia<<18)^(ha>>>18|Ia<<14)^(ha<<23|Ia>>>9))+((Wn=ad+((Ia>>>14|ha<<18)^(Ia>>>18|ha<<14)^(Ia<<23|ha>>>9)))>>>0<ad>>>0?1:0),ig=id,ad=xf,id=Xs,xf=Af,Xs=ha,Af=Ia,ha=ng+(Gl=(Gl=(Gl=Gl+ag+((Wn=Wn+Ql)>>>0<Ql>>>0?1:0))+od+((Wn=Wn+iv)>>>0<iv>>>0?1:0))+Bu+((Wn=Wn+wn)>>>0<wn>>>0?1:0))+((Ia=Es+Wn|0)>>>0<Es>>>0?1:0)|0,ng=Ef,Es=Xa,Ef=Tf,Xa=Ao,Tf=Li,Ao=zi,Li=Gl+(fu=ku+fu+((wn=sd+WP)>>>0<sd>>>0?1:0))+((zi=Wn+wn|0)>>>0<Wn>>>0?1:0)|0}Ge=we.low=Ge+zi,we.high=Ce+Li+(Ge>>>0<zi>>>0?1:0),At=De.low=At+Ao,De.high=Ye+Tf+(At>>>0<Ao>>>0?1:0),ir=Me.low=ir+Xa,Me.high=it+Ef+(ir>>>0<Xa>>>0?1:0),$t=Qe.low=$t+Es,Qe.high=xt+ng+($t>>>0<Es>>>0?1:0),mr=We.low=mr+Ia,We.high=Ht+ha+(mr>>>0<Ia>>>0?1:0),si=oe.low=si+Af,oe.high=Vr+Xs+(si>>>0<Af>>>0?1:0),Fi=Ee.low=Fi+xf,Ee.high=xi+id+(Fi>>>0<xf>>>0?1:0),pi=Re.low=pi+ad,Re.high=un+ig+(pi>>>0<ad>>>0?1:0)},_doFinalize:function(){var pe=this._data,ge=pe.words,we=8*this._nDataBytes,De=8*pe.sigBytes;return ge[De>>>5]|=128<<24-De%32,ge[30+(De+128>>>10<<5)]=Math.floor(we/4294967296),ge[31+(De+128>>>10<<5)]=we,pe.sigBytes=4*ge.length,this._process(),this._hash.toX32()},clone:function(){var pe=P.clone.call(this);return pe._hash=this._hash.clone(),pe},blockSize:32}),_.SHA512=P._createHelper(ie),_.HmacSHA512=P._createHmacHelper(ie)}(),function(){var w=T,_=(G=w.x64).Word,P=G.WordArray,L=(G=w.algo).SHA512,G=G.SHA384=L.extend({_doReset:function(){this._hash=new P.init([new _.init(3418070365,3238371032),new _.init(1654270250,914150663),new _.init(2438529370,812702999),new _.init(355462360,4144912697),new _.init(1731405415,4290775857),new _.init(2394180231,1750603025),new _.init(3675008525,1694076839),new _.init(1203062813,3204075428)])},_doFinalize:function(){var de=L._doFinalize.call(this);return de.sigBytes-=16,de}});w.SHA384=L._createHelper(G),w.HmacSHA384=L._createHmacHelper(G)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var R,I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function D(w){var _,P,L="";for(_=0;_+3<=w.length;_+=3)P=parseInt(w.substring(_,_+3),16),L+=I.charAt(P>>6)+I.charAt(63&P);for(_+1==w.length?(P=parseInt(w.substring(_,_+1),16),L+=I.charAt(P<<2)):_+2==w.length&&(P=parseInt(w.substring(_,_+2),16),L+=I.charAt(P>>2)+I.charAt((3&P)<<4)),"=";(3&L.length)>0;)L+="=";return L}function M(w){var _,P,L,G="",ie=0;for(_=0;_<w.length&&w.charAt(_)!="=";++_)(L=I.indexOf(w.charAt(_)))<0||(ie==0?(G+=H(L>>2),P=3&L,ie=1):ie==1?(G+=H(P<<2|L>>4),P=15&L,ie=2):ie==2?(G+=H(P),G+=H(L>>2),P=3&L,ie=3):(G+=H(P<<2|L>>4),G+=H(15&L),ie=0));return ie==1&&(G+=H(P<<2)),G}function N(w){var _,P=M(w),L=new Array;for(_=0;2*_<P.length;++_)L[_]=parseInt(P.substring(2*_,2*_+2),16);return L}function O(w,_,P){w!=null&&(typeof w=="number"?this.fromNumber(w,_,P):_==null&&typeof w!="string"?this.fromString(w,256):this.fromString(w,_))}function k(){return new O(null)}A.appName=="Microsoft Internet Explorer"?(O.prototype.am=function(_,P,L,G,ie,de){for(var W=32767&P,Z=P>>15;--de>=0;){var te=32767&this[_],pe=this[_++]>>15,ge=Z*te+pe*W;ie=((te=W*te+((32767&ge)<<15)+L[G]+(1073741823&ie))>>>30)+(ge>>>15)+Z*pe+(ie>>>30),L[G++]=1073741823&te}return ie},R=30):A.appName!="Netscape"?(O.prototype.am=function(_,P,L,G,ie,de){for(;--de>=0;){var W=P*this[_++]+L[G]+ie;ie=Math.floor(W/67108864),L[G++]=67108863&W}return ie},R=26):(O.prototype.am=function(_,P,L,G,ie,de){for(var W=16383&P,Z=P>>14;--de>=0;){var te=16383&this[_],pe=this[_++]>>14,ge=Z*te+pe*W;ie=((te=W*te+((16383&ge)<<14)+L[G]+ie)>>28)+(ge>>14)+Z*pe,L[G++]=268435455&te}return ie},R=28),O.prototype.DB=R,O.prototype.DM=(1<<R)-1,O.prototype.DV=1<<R,O.prototype.FV=Math.pow(2,52),O.prototype.F1=52-R,O.prototype.F2=2*R-52;var Y,ne,q=new Array;for(Y="0".charCodeAt(0),ne=0;ne<=9;++ne)q[Y++]=ne;for(Y="a".charCodeAt(0),ne=10;ne<36;++ne)q[Y++]=ne;for(Y="A".charCodeAt(0),ne=10;ne<36;++ne)q[Y++]=ne;function H(w){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(w)}function J(w,_){var P=q[w.charCodeAt(_)];return P??-1}function se(w){var _=k();return _.fromInt(w),_}function ue(w){var _,P=1;return(_=w>>>16)!=0&&(w=_,P+=16),(_=w>>8)!=0&&(w=_,P+=8),(_=w>>4)!=0&&(w=_,P+=4),(_=w>>2)!=0&&(w=_,P+=2),(_=w>>1)!=0&&(w=_,P+=1),P}function Se(w){this.m=w}function ve(w){this.m=w,this.mp=w.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<w.DB-15)-1,this.mt2=2*w.t}function Le(w,_){return w&_}function Xe(w,_){return w|_}function Ne(w,_){return w^_}function ye(w,_){return w&~_}function qe(w){if(w==0)return-1;var _=0;return!(65535&w)&&(w>>=16,_+=16),!(255&w)&&(w>>=8,_+=8),!(15&w)&&(w>>=4,_+=4),!(3&w)&&(w>>=2,_+=2),!(1&w)&&++_,_}function Te(w){for(var _=0;w!=0;)w&=w-1,++_;return _}function Oe(){}function Be(w){return w}function He(w){this.r2=k(),this.q3=k(),O.ONE.dlShiftTo(2*w.t,this.r2),this.mu=this.r2.divide(w),this.m=w}Se.prototype.convert=function(_){return _.s<0||_.compareTo(this.m)>=0?_.mod(this.m):_},Se.prototype.revert=function(_){return _},Se.prototype.reduce=function(_){_.divRemTo(this.m,null,_)},Se.prototype.mulTo=function(_,P,L){_.multiplyTo(P,L),this.reduce(L)},Se.prototype.sqrTo=function(_,P){_.squareTo(P),this.reduce(P)},ve.prototype.convert=function(_){var P=k();return _.abs().dlShiftTo(this.m.t,P),P.divRemTo(this.m,null,P),_.s<0&&P.compareTo(O.ZERO)>0&&this.m.subTo(P,P),P},ve.prototype.revert=function(_){var P=k();return _.copyTo(P),this.reduce(P),P},ve.prototype.reduce=function(_){for(;_.t<=this.mt2;)_[_.t++]=0;for(var P=0;P<this.m.t;++P){var L=32767&_[P],G=L*this.mpl+((L*this.mph+(_[P]>>15)*this.mpl&this.um)<<15)&_.DM;for(_[L=P+this.m.t]+=this.m.am(0,G,_,P,0,this.m.t);_[L]>=_.DV;)_[L]-=_.DV,_[++L]++}_.clamp(),_.drShiftTo(this.m.t,_),_.compareTo(this.m)>=0&&_.subTo(this.m,_)},ve.prototype.mulTo=function(_,P,L){_.multiplyTo(P,L),this.reduce(L)},ve.prototype.sqrTo=function(_,P){_.squareTo(P),this.reduce(P)},O.prototype.copyTo=function(_){for(var P=this.t-1;P>=0;--P)_[P]=this[P];_.t=this.t,_.s=this.s},O.prototype.fromInt=function(_){this.t=1,this.s=_<0?-1:0,_>0?this[0]=_:_<-1?this[0]=_+this.DV:this.t=0},O.prototype.fromString=function(_,P){var L;if(P==16)L=4;else if(P==8)L=3;else if(P==256)L=8;else if(P==2)L=1;else if(P==32)L=5;else{if(P!=4)return void this.fromRadix(_,P);L=2}this.t=0,this.s=0;for(var G=_.length,ie=!1,de=0;--G>=0;){var W=L==8?255&_[G]:J(_,G);W<0?_.charAt(G)=="-"&&(ie=!0):(ie=!1,de==0?this[this.t++]=W:de+L>this.DB?(this[this.t-1]|=(W&(1<<this.DB-de)-1)<<de,this[this.t++]=W>>this.DB-de):this[this.t-1]|=W<<de,(de+=L)>=this.DB&&(de-=this.DB))}L==8&&128&_[0]&&(this.s=-1,de>0&&(this[this.t-1]|=(1<<this.DB-de)-1<<de)),this.clamp(),ie&&O.ZERO.subTo(this,this)},O.prototype.clamp=function(){for(var _=this.s&this.DM;this.t>0&&this[this.t-1]==_;)--this.t},O.prototype.dlShiftTo=function(_,P){var L;for(L=this.t-1;L>=0;--L)P[L+_]=this[L];for(L=_-1;L>=0;--L)P[L]=0;P.t=this.t+_,P.s=this.s},O.prototype.drShiftTo=function(_,P){for(var L=_;L<this.t;++L)P[L-_]=this[L];P.t=Math.max(this.t-_,0),P.s=this.s},O.prototype.lShiftTo=function(_,P){var L,G=_%this.DB,ie=this.DB-G,de=(1<<ie)-1,W=Math.floor(_/this.DB),Z=this.s<<G&this.DM;for(L=this.t-1;L>=0;--L)P[L+W+1]=this[L]>>ie|Z,Z=(this[L]&de)<<G;for(L=W-1;L>=0;--L)P[L]=0;P[W]=Z,P.t=this.t+W+1,P.s=this.s,P.clamp()},O.prototype.rShiftTo=function(_,P){P.s=this.s;var L=Math.floor(_/this.DB);if(L>=this.t)P.t=0;else{var G=_%this.DB,ie=this.DB-G,de=(1<<G)-1;P[0]=this[L]>>G;for(var W=L+1;W<this.t;++W)P[W-L-1]|=(this[W]&de)<<ie,P[W-L]=this[W]>>G;G>0&&(P[this.t-L-1]|=(this.s&de)<<ie),P.t=this.t-L,P.clamp()}},O.prototype.subTo=function(_,P){for(var L=0,G=0,ie=Math.min(_.t,this.t);L<ie;)G+=this[L]-_[L],P[L++]=G&this.DM,G>>=this.DB;if(_.t<this.t){for(G-=_.s;L<this.t;)G+=this[L],P[L++]=G&this.DM,G>>=this.DB;G+=this.s}else{for(G+=this.s;L<_.t;)G-=_[L],P[L++]=G&this.DM,G>>=this.DB;G-=_.s}P.s=G<0?-1:0,G<-1?P[L++]=this.DV+G:G>0&&(P[L++]=G),P.t=L,P.clamp()},O.prototype.multiplyTo=function(_,P){var L=this.abs(),G=_.abs(),ie=L.t;for(P.t=ie+G.t;--ie>=0;)P[ie]=0;for(ie=0;ie<G.t;++ie)P[ie+L.t]=L.am(0,G[ie],P,ie,0,L.t);P.s=0,P.clamp(),this.s!=_.s&&O.ZERO.subTo(P,P)},O.prototype.squareTo=function(_){for(var P=this.abs(),L=_.t=2*P.t;--L>=0;)_[L]=0;for(L=0;L<P.t-1;++L){var G=P.am(L,P[L],_,2*L,0,1);(_[L+P.t]+=P.am(L+1,2*P[L],_,2*L+1,G,P.t-L-1))>=P.DV&&(_[L+P.t]-=P.DV,_[L+P.t+1]=1)}_.t>0&&(_[_.t-1]+=P.am(L,P[L],_,2*L,0,1)),_.s=0,_.clamp()},O.prototype.divRemTo=function(_,P,L){var G=_.abs();if(!(G.t<=0)){var ie=this.abs();if(ie.t<G.t)return P!=null&&P.fromInt(0),void(L!=null&&this.copyTo(L));L==null&&(L=k());var de=k(),W=this.s,Z=_.s,te=this.DB-ue(G[G.t-1]);te>0?(G.lShiftTo(te,de),ie.lShiftTo(te,L)):(G.copyTo(de),ie.copyTo(L));var pe=de.t,ge=de[pe-1];if(ge!=0){var we=ge*(1<<this.F1)+(pe>1?de[pe-2]>>this.F2:0),De=this.FV/we,Me=(1<<this.F1)/we,Qe=1<<this.F2,We=L.t,oe=We-pe,Ee=P??k();for(de.dlShiftTo(oe,Ee),L.compareTo(Ee)>=0&&(L[L.t++]=1,L.subTo(Ee,L)),O.ONE.dlShiftTo(pe,Ee),Ee.subTo(de,de);de.t<pe;)de[de.t++]=0;for(;--oe>=0;){var Re=L[--We]==ge?this.DM:Math.floor(L[We]*De+(L[We-1]+Qe)*Me);if((L[We]+=de.am(0,Re,L,oe,0,pe))<Re)for(de.dlShiftTo(oe,Ee),L.subTo(Ee,L);L[We]<--Re;)L.subTo(Ee,L)}P!=null&&(L.drShiftTo(pe,P),W!=Z&&O.ZERO.subTo(P,P)),L.t=pe,L.clamp(),te>0&&L.rShiftTo(te,L),W<0&&O.ZERO.subTo(L,L)}}},O.prototype.invDigit=function(){if(this.t<1)return 0;var _=this[0];if(!(1&_))return 0;var P=3&_;return(P=(P=(P=(P=P*(2-(15&_)*P)&15)*(2-(255&_)*P)&255)*(2-((65535&_)*P&65535))&65535)*(2-_*P%this.DV)%this.DV)>0?this.DV-P:-P},O.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},O.prototype.exp=function(_,P){if(_>4294967295||_<1)return O.ONE;var L=k(),G=k(),ie=P.convert(this),de=ue(_)-1;for(ie.copyTo(L);--de>=0;)if(P.sqrTo(L,G),(_&1<<de)>0)P.mulTo(G,ie,L);else{var W=L;L=G,G=W}return P.revert(L)},O.prototype.toString=function(_){if(this.s<0)return"-"+this.negate().toString(_);var P;if(_==16)P=4;else if(_==8)P=3;else if(_==2)P=1;else if(_==32)P=5;else{if(_!=4)return this.toRadix(_);P=2}var L,G=(1<<P)-1,ie=!1,de="",W=this.t,Z=this.DB-W*this.DB%P;if(W-- >0)for(Z<this.DB&&(L=this[W]>>Z)>0&&(ie=!0,de=H(L));W>=0;)Z<P?(L=(this[W]&(1<<Z)-1)<<P-Z,L|=this[--W]>>(Z+=this.DB-P)):(L=this[W]>>(Z-=P)&G,Z<=0&&(Z+=this.DB,--W)),L>0&&(ie=!0),ie&&(de+=H(L));return ie?de:"0"},O.prototype.negate=function(){var _=k();return O.ZERO.subTo(this,_),_},O.prototype.abs=function(){return this.s<0?this.negate():this},O.prototype.compareTo=function(_){var P=this.s-_.s;if(P!=0)return P;var L=this.t;if((P=L-_.t)!=0)return this.s<0?-P:P;for(;--L>=0;)if((P=this[L]-_[L])!=0)return P;return 0},O.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ue(this[this.t-1]^this.s&this.DM)},O.prototype.mod=function(_){var P=k();return this.abs().divRemTo(_,null,P),this.s<0&&P.compareTo(O.ZERO)>0&&_.subTo(P,P),P},O.prototype.modPowInt=function(_,P){var L;return L=_<256||P.isEven()?new Se(P):new ve(P),this.exp(_,L)},O.ZERO=se(0),O.ONE=se(1),Oe.prototype.convert=Be,Oe.prototype.revert=Be,Oe.prototype.mulTo=function(_,P,L){_.multiplyTo(P,L)},Oe.prototype.sqrTo=function(_,P){_.squareTo(P)},He.prototype.convert=function(_){if(_.s<0||_.t>2*this.m.t)return _.mod(this.m);if(_.compareTo(this.m)<0)return _;var P=k();return _.copyTo(P),this.reduce(P),P},He.prototype.revert=function(_){return _},He.prototype.reduce=function(_){for(_.drShiftTo(this.m.t-1,this.r2),_.t>this.m.t+1&&(_.t=this.m.t+1,_.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);_.compareTo(this.r2)<0;)_.dAddOffset(1,this.m.t+1);for(_.subTo(this.r2,_);_.compareTo(this.m)>=0;)_.subTo(this.m,_)},He.prototype.mulTo=function(_,P,L){_.multiplyTo(P,L),this.reduce(L)},He.prototype.sqrTo=function(_,P){_.squareTo(P),this.reduce(P)};var ee=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],j=(1<<26)/ee[ee.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function b(){this.i=0,this.j=0,this.S=new Array}O.prototype.chunkSize=function(_){return Math.floor(Math.LN2*this.DB/Math.log(_))},O.prototype.toRadix=function(_){if(_==null&&(_=10),this.signum()==0||_<2||_>36)return"0";var P=this.chunkSize(_),L=Math.pow(_,P),G=se(L),ie=k(),de=k(),W="";for(this.divRemTo(G,ie,de);ie.signum()>0;)W=(L+de.intValue()).toString(_).substr(1)+W,ie.divRemTo(G,ie,de);return de.intValue().toString(_)+W},O.prototype.fromRadix=function(_,P){this.fromInt(0),P==null&&(P=10);for(var L=this.chunkSize(P),G=Math.pow(P,L),ie=!1,de=0,W=0,Z=0;Z<_.length;++Z){var te=J(_,Z);te<0?_.charAt(Z)=="-"&&this.signum()==0&&(ie=!0):(W=P*W+te,++de>=L&&(this.dMultiply(G),this.dAddOffset(W,0),de=0,W=0))}de>0&&(this.dMultiply(Math.pow(P,de)),this.dAddOffset(W,0)),ie&&O.ZERO.subTo(this,this)},O.prototype.fromNumber=function(_,P,L){if(typeof P=="number")if(_<2)this.fromInt(1);else for(this.fromNumber(_,L),this.testBit(_-1)||this.bitwiseTo(O.ONE.shiftLeft(_-1),Xe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(P);)this.dAddOffset(2,0),this.bitLength()>_&&this.subTo(O.ONE.shiftLeft(_-1),this);else{var G=new Array,ie=7&_;G.length=1+(_>>3),P.nextBytes(G),ie>0?G[0]&=(1<<ie)-1:G[0]=0,this.fromString(G,256)}},O.prototype.bitwiseTo=function(_,P,L){var G,ie,de=Math.min(_.t,this.t);for(G=0;G<de;++G)L[G]=P(this[G],_[G]);if(_.t<this.t){for(ie=_.s&this.DM,G=de;G<this.t;++G)L[G]=P(this[G],ie);L.t=this.t}else{for(ie=this.s&this.DM,G=de;G<_.t;++G)L[G]=P(ie,_[G]);L.t=_.t}L.s=P(this.s,_.s),L.clamp()},O.prototype.changeBit=function(_,P){var L=O.ONE.shiftLeft(_);return this.bitwiseTo(L,P,L),L},O.prototype.addTo=function(_,P){for(var L=0,G=0,ie=Math.min(_.t,this.t);L<ie;)G+=this[L]+_[L],P[L++]=G&this.DM,G>>=this.DB;if(_.t<this.t){for(G+=_.s;L<this.t;)G+=this[L],P[L++]=G&this.DM,G>>=this.DB;G+=this.s}else{for(G+=this.s;L<_.t;)G+=_[L],P[L++]=G&this.DM,G>>=this.DB;G+=_.s}P.s=G<0?-1:0,G>0?P[L++]=G:G<-1&&(P[L++]=this.DV+G),P.t=L,P.clamp()},O.prototype.dMultiply=function(_){this[this.t]=this.am(0,_-1,this,0,0,this.t),++this.t,this.clamp()},O.prototype.dAddOffset=function(_,P){if(_!=0){for(;this.t<=P;)this[this.t++]=0;for(this[P]+=_;this[P]>=this.DV;)this[P]-=this.DV,++P>=this.t&&(this[this.t++]=0),++this[P]}},O.prototype.multiplyLowerTo=function(_,P,L){var G,ie=Math.min(this.t+_.t,P);for(L.s=0,L.t=ie;ie>0;)L[--ie]=0;for(G=L.t-this.t;ie<G;++ie)L[ie+this.t]=this.am(0,_[ie],L,ie,0,this.t);for(G=Math.min(_.t,P);ie<G;++ie)this.am(0,_[ie],L,ie,0,P-ie);L.clamp()},O.prototype.multiplyUpperTo=function(_,P,L){--P;var G=L.t=this.t+_.t-P;for(L.s=0;--G>=0;)L[G]=0;for(G=Math.max(P-this.t,0);G<_.t;++G)L[this.t+G-P]=this.am(P-G,_[G],L,0,0,this.t+G-P);L.clamp(),L.drShiftTo(1,L)},O.prototype.modInt=function(_){if(_<=0)return 0;var P=this.DV%_,L=this.s<0?_-1:0;if(this.t>0)if(P==0)L=this[0]%_;else for(var G=this.t-1;G>=0;--G)L=(P*L+this[G])%_;return L},O.prototype.millerRabin=function(_){var P=this.subtract(O.ONE),L=P.getLowestSetBit();if(L<=0)return!1;var G=P.shiftRight(L);(_=_+1>>1)>ee.length&&(_=ee.length);for(var ie=k(),de=0;de<_;++de){ie.fromInt(ee[Math.floor(Math.random()*ee.length)]);var W=ie.modPow(G,this);if(W.compareTo(O.ONE)!=0&&W.compareTo(P)!=0){for(var Z=1;Z++<L&&W.compareTo(P)!=0;)if((W=W.modPowInt(2,this)).compareTo(O.ONE)==0)return!1;if(W.compareTo(P)!=0)return!1}}return!0},O.prototype.clone=function(){var _=k();return this.copyTo(_),_},O.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},O.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},O.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},O.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},O.prototype.toByteArray=function(){var _=this.t,P=new Array;P[0]=this.s;var L,G=this.DB-_*this.DB%8,ie=0;if(_-- >0)for(G<this.DB&&(L=this[_]>>G)!=(this.s&this.DM)>>G&&(P[ie++]=L|this.s<<this.DB-G);_>=0;)G<8?(L=(this[_]&(1<<G)-1)<<8-G,L|=this[--_]>>(G+=this.DB-8)):(L=this[_]>>(G-=8)&255,G<=0&&(G+=this.DB,--_)),128&L&&(L|=-256),ie==0&&(128&this.s)!=(128&L)&&++ie,(ie>0||L!=this.s)&&(P[ie++]=L);return P},O.prototype.equals=function(_){return this.compareTo(_)==0},O.prototype.min=function(_){return this.compareTo(_)<0?this:_},O.prototype.max=function(_){return this.compareTo(_)>0?this:_},O.prototype.and=function(_){var P=k();return this.bitwiseTo(_,Le,P),P},O.prototype.or=function(_){var P=k();return this.bitwiseTo(_,Xe,P),P},O.prototype.xor=function(_){var P=k();return this.bitwiseTo(_,Ne,P),P},O.prototype.andNot=function(_){var P=k();return this.bitwiseTo(_,ye,P),P},O.prototype.not=function(){for(var _=k(),P=0;P<this.t;++P)_[P]=this.DM&~this[P];return _.t=this.t,_.s=~this.s,_},O.prototype.shiftLeft=function(_){var P=k();return _<0?this.rShiftTo(-_,P):this.lShiftTo(_,P),P},O.prototype.shiftRight=function(_){var P=k();return _<0?this.lShiftTo(-_,P):this.rShiftTo(_,P),P},O.prototype.getLowestSetBit=function(){for(var _=0;_<this.t;++_)if(this[_]!=0)return _*this.DB+qe(this[_]);return this.s<0?this.t*this.DB:-1},O.prototype.bitCount=function(){for(var _=0,P=this.s&this.DM,L=0;L<this.t;++L)_+=Te(this[L]^P);return _},O.prototype.testBit=function(_){var P=Math.floor(_/this.DB);return P>=this.t?this.s!=0:(this[P]&1<<_%this.DB)!=0},O.prototype.setBit=function(_){return this.changeBit(_,Xe)},O.prototype.clearBit=function(_){return this.changeBit(_,ye)},O.prototype.flipBit=function(_){return this.changeBit(_,Ne)},O.prototype.add=function(_){var P=k();return this.addTo(_,P),P},O.prototype.subtract=function(_){var P=k();return this.subTo(_,P),P},O.prototype.multiply=function(_){var P=k();return this.multiplyTo(_,P),P},O.prototype.divide=function(_){var P=k();return this.divRemTo(_,P,null),P},O.prototype.remainder=function(_){var P=k();return this.divRemTo(_,null,P),P},O.prototype.divideAndRemainder=function(_){var P=k(),L=k();return this.divRemTo(_,P,L),new Array(P,L)},O.prototype.modPow=function(_,P){var L,G,ie=_.bitLength(),de=se(1);if(ie<=0)return de;L=ie<18?1:ie<48?3:ie<144?4:ie<768?5:6,G=ie<8?new Se(P):P.isEven()?new He(P):new ve(P);var W=new Array,Z=3,te=L-1,pe=(1<<L)-1;if(W[1]=G.convert(this),L>1){var ge=k();for(G.sqrTo(W[1],ge);Z<=pe;)W[Z]=k(),G.mulTo(ge,W[Z-2],W[Z]),Z+=2}var we,De,Me=_.t-1,Qe=!0,We=k();for(ie=ue(_[Me])-1;Me>=0;){for(ie>=te?we=_[Me]>>ie-te&pe:(we=(_[Me]&(1<<ie+1)-1)<<te-ie,Me>0&&(we|=_[Me-1]>>this.DB+ie-te)),Z=L;!(1&we);)we>>=1,--Z;if((ie-=Z)<0&&(ie+=this.DB,--Me),Qe)W[we].copyTo(de),Qe=!1;else{for(;Z>1;)G.sqrTo(de,We),G.sqrTo(We,de),Z-=2;Z>0?G.sqrTo(de,We):(De=de,de=We,We=De),G.mulTo(We,W[we],de)}for(;Me>=0&&!(_[Me]&1<<ie);)G.sqrTo(de,We),De=de,de=We,We=De,--ie<0&&(ie=this.DB-1,--Me)}return G.revert(de)},O.prototype.modInverse=function(_){var P=_.isEven();if(this.isEven()&&P||_.signum()==0)return O.ZERO;for(var L=_.clone(),G=this.clone(),ie=se(1),de=se(0),W=se(0),Z=se(1);L.signum()!=0;){for(;L.isEven();)L.rShiftTo(1,L),P?(ie.isEven()&&de.isEven()||(ie.addTo(this,ie),de.subTo(_,de)),ie.rShiftTo(1,ie)):de.isEven()||de.subTo(_,de),de.rShiftTo(1,de);for(;G.isEven();)G.rShiftTo(1,G),P?(W.isEven()&&Z.isEven()||(W.addTo(this,W),Z.subTo(_,Z)),W.rShiftTo(1,W)):Z.isEven()||Z.subTo(_,Z),Z.rShiftTo(1,Z);L.compareTo(G)>=0?(L.subTo(G,L),P&&ie.subTo(W,ie),de.subTo(Z,de)):(G.subTo(L,G),P&&W.subTo(ie,W),Z.subTo(de,Z))}return G.compareTo(O.ONE)!=0?O.ZERO:Z.compareTo(_)>=0?Z.subtract(_):Z.signum()<0?(Z.addTo(_,Z),Z.signum()<0?Z.add(_):Z):Z},O.prototype.pow=function(_){return this.exp(_,new Oe)},O.prototype.gcd=function(_){var P=this.s<0?this.negate():this.clone(),L=_.s<0?_.negate():_.clone();if(P.compareTo(L)<0){var G=P;P=L,L=G}var ie=P.getLowestSetBit(),de=L.getLowestSetBit();if(de<0)return P;for(ie<de&&(de=ie),de>0&&(P.rShiftTo(de,P),L.rShiftTo(de,L));P.signum()>0;)(ie=P.getLowestSetBit())>0&&P.rShiftTo(ie,P),(ie=L.getLowestSetBit())>0&&L.rShiftTo(ie,L),P.compareTo(L)>=0?(P.subTo(L,P),P.rShiftTo(1,P)):(L.subTo(P,L),L.rShiftTo(1,L));return de>0&&L.lShiftTo(de,L),L},O.prototype.isProbablePrime=function(_){var P,L=this.abs();if(L.t==1&&L[0]<=ee[ee.length-1]){for(P=0;P<ee.length;++P)if(L[0]==ee[P])return!0;return!1}if(L.isEven())return!1;for(P=1;P<ee.length;){for(var G=ee[P],ie=P+1;ie<ee.length&&G<j;)G*=ee[ie++];for(G=L.modInt(G);P<ie;)if(G%ee[P++]==0)return!1}return L.millerRabin(_)},O.prototype.square=function(){var _=k();return this.squareTo(_),_},b.prototype.init=function(_){var P,L,G;for(P=0;P<256;++P)this.S[P]=P;for(L=0,P=0;P<256;++P)L=L+this.S[P]+_[P%_.length]&255,G=this.S[P],this.S[P]=this.S[L],this.S[L]=G;this.i=0,this.j=0},b.prototype.next=function(){var _;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,_=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=_,this.S[_+this.S[this.i]&255]};var m,C,B;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function z(){(function(_){C[B++]^=255&_,C[B++]^=_>>8&255,C[B++]^=_>>16&255,C[B++]^=_>>24&255,B>=256&&(B-=256)})(new Date().getTime())}if(C==null){var Q;if(C=new Array,B=0,E!==void 0&&(E.crypto!==void 0||E.msCrypto!==void 0)){var ae=E.crypto||E.msCrypto;if(ae.getRandomValues){var ce=new Uint8Array(32);for(ae.getRandomValues(ce),Q=0;Q<32;++Q)C[B++]=ce[Q]}else if(A.appName=="Netscape"&&A.appVersion<"5"){var fe=E.crypto.random(32);for(Q=0;Q<fe.length;++Q)C[B++]=255&fe.charCodeAt(Q)}}for(;B<256;)Q=Math.floor(65536*Math.random()),C[B++]=Q>>>8,C[B++]=255&Q;B=0,z()}function be(){if(m==null){for(z(),(m=function(){return new b}()).init(C),B=0;B<C.length;++B)C[B]=0;B=0}return m.next()}function je(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function $e(w,_){return new O(w,_)}function Ke(w,_,P){for(var L="",G=0;L.length<_;)L+=P(String.fromCharCode.apply(String,w.concat([(4278190080&G)>>24,(16711680&G)>>16,(65280&G)>>8,255&G]))),G+=1;return L}function re(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function le(w,_){this.x=_,this.q=w}function X(w,_,P,L){this.curve=w,this.x=_,this.y=P,this.z=L??O.ONE,this.zinv=null}function $(w,_,P){this.q=w,this.a=this.fromBigInteger(_),this.b=this.fromBigInteger(P),this.infinity=new X(this,null,null)}je.prototype.nextBytes=function(_){var P;for(P=0;P<_.length;++P)_[P]=be()},re.prototype.doPublic=function(_){return _.modPowInt(this.e,this.n)},re.prototype.setPublic=function(_,P){if(this.isPublic=!0,this.isPrivate=!1,typeof _!="string")this.n=_,this.e=P;else{if(!(_!=null&&P!=null&&_.length>0&&P.length>0))throw"Invalid RSA public key";this.n=$e(_,16),this.e=parseInt(P,16)}},re.prototype.encrypt=function(_){var P=function(de,W){if(W<de.length+11)throw"Message too long for RSA";for(var Z=new Array,te=de.length-1;te>=0&&W>0;){var pe=de.charCodeAt(te--);pe<128?Z[--W]=pe:pe>127&&pe<2048?(Z[--W]=63&pe|128,Z[--W]=pe>>6|192):(Z[--W]=63&pe|128,Z[--W]=pe>>6&63|128,Z[--W]=pe>>12|224)}Z[--W]=0;for(var ge=new je,we=new Array;W>2;){for(we[0]=0;we[0]==0;)ge.nextBytes(we);Z[--W]=we[0]}return Z[--W]=2,Z[--W]=0,new O(Z)}(_,this.n.bitLength()+7>>3);if(P==null)return null;var L=this.doPublic(P);if(L==null)return null;var G=L.toString(16);return 1&G.length?"0"+G:G},re.prototype.encryptOAEP=function(_,P,L){var G=function(Z,te,pe,ge){var we=V.crypto.MessageDigest,De=V.crypto.Util,Me=null;if(pe||(pe="sha1"),typeof pe=="string"&&(Me=we.getCanonicalAlgName(pe),ge=we.getHashLength(Me),pe=function(it){return Ur(De.hashHex(Zr(it),Me))}),Z.length+2*ge+2>te)throw"Message too long for RSA";var Qe,We="";for(Qe=0;Qe<te-Z.length-2*ge-2;Qe+=1)We+="\0";var oe=pe("")+We+""+Z,Ee=new Array(ge);new je().nextBytes(Ee);var Re=Ke(Ee,oe.length,pe),Ce=[];for(Qe=0;Qe<oe.length;Qe+=1)Ce[Qe]=oe.charCodeAt(Qe)^Re.charCodeAt(Qe);var Ge=Ke(Ce,Ee.length,pe),Ye=[0];for(Qe=0;Qe<Ee.length;Qe+=1)Ye[Qe+1]=Ee[Qe]^Ge.charCodeAt(Qe);return new O(Ye.concat(Ce))}(_,this.n.bitLength()+7>>3,P,L);if(G==null)return null;var ie=this.doPublic(G);if(ie==null)return null;var de=ie.toString(16);return 1&de.length?"0"+de:de},re.prototype.type="RSA",le.prototype.equals=function(_){return _==this||this.q.equals(_.q)&&this.x.equals(_.x)},le.prototype.toBigInteger=function(){return this.x},le.prototype.negate=function(){return new le(this.q,this.x.negate().mod(this.q))},le.prototype.add=function(_){return new le(this.q,this.x.add(_.toBigInteger()).mod(this.q))},le.prototype.subtract=function(_){return new le(this.q,this.x.subtract(_.toBigInteger()).mod(this.q))},le.prototype.multiply=function(_){return new le(this.q,this.x.multiply(_.toBigInteger()).mod(this.q))},le.prototype.square=function(){return new le(this.q,this.x.square().mod(this.q))},le.prototype.divide=function(_){return new le(this.q,this.x.multiply(_.toBigInteger().modInverse(this.q)).mod(this.q))},X.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.equals=function(_){return _==this||(this.isInfinity()?_.isInfinity():_.isInfinity()?this.isInfinity():!!_.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(_.z)).mod(this.curve.q).equals(O.ZERO)&&_.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(_.z)).mod(this.curve.q).equals(O.ZERO))},X.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(O.ZERO)&&!this.y.toBigInteger().equals(O.ZERO)},X.prototype.negate=function(){return new X(this.curve,this.x,this.y.negate(),this.z)},X.prototype.add=function(_){if(this.isInfinity())return _;if(_.isInfinity())return this;var P=_.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(_.z)).mod(this.curve.q),L=_.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(_.z)).mod(this.curve.q);if(O.ZERO.equals(L))return O.ZERO.equals(P)?this.twice():this.curve.getInfinity();var G=new O("3"),ie=this.x.toBigInteger(),de=this.y.toBigInteger(),W=(_.x.toBigInteger(),_.y.toBigInteger(),L.square()),Z=W.multiply(L),te=ie.multiply(W),pe=P.square().multiply(this.z),ge=pe.subtract(te.shiftLeft(1)).multiply(_.z).subtract(Z).multiply(L).mod(this.curve.q),we=te.multiply(G).multiply(P).subtract(de.multiply(Z)).subtract(pe.multiply(P)).multiply(_.z).add(P.multiply(Z)).mod(this.curve.q),De=Z.multiply(this.z).multiply(_.z).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger(ge),this.curve.fromBigInteger(we),De)},X.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var _=new O("3"),P=this.x.toBigInteger(),L=this.y.toBigInteger(),G=L.multiply(this.z),ie=G.multiply(L).mod(this.curve.q),de=this.curve.a.toBigInteger(),W=P.square().multiply(_);O.ZERO.equals(de)||(W=W.add(this.z.square().multiply(de)));var Z=(W=W.mod(this.curve.q)).square().subtract(P.shiftLeft(3).multiply(ie)).shiftLeft(1).multiply(G).mod(this.curve.q),te=W.multiply(_).multiply(P).subtract(ie.shiftLeft(1)).shiftLeft(2).multiply(ie).subtract(W.square().multiply(W)).mod(this.curve.q),pe=G.square().multiply(G).shiftLeft(3).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger(Z),this.curve.fromBigInteger(te),pe)},X.prototype.multiply=function(_){if(this.isInfinity())return this;if(_.signum()==0)return this.curve.getInfinity();var P,L=_,G=L.multiply(new O("3")),ie=this.negate(),de=this,W=this.curve.q.subtract(_),Z=W.multiply(new O("3")),te=new X(this.curve,this.x,this.y),pe=te.negate();for(P=G.bitLength()-2;P>0;--P){de=de.twice();var ge=G.testBit(P);ge!=L.testBit(P)&&(de=de.add(ge?this:ie))}for(P=Z.bitLength()-2;P>0;--P){te=te.twice();var we=Z.testBit(P);we!=W.testBit(P)&&(te=te.add(we?te:pe))}return de},X.prototype.multiplyTwo=function(_,P,L){var G;G=_.bitLength()>L.bitLength()?_.bitLength()-1:L.bitLength()-1;for(var ie=this.curve.getInfinity(),de=this.add(P);G>=0;)ie=ie.twice(),_.testBit(G)?ie=L.testBit(G)?ie.add(de):ie.add(this):L.testBit(G)&&(ie=ie.add(P)),--G;return ie},$.prototype.getQ=function(){return this.q},$.prototype.getA=function(){return this.a},$.prototype.getB=function(){return this.b},$.prototype.equals=function(_){return _==this||this.q.equals(_.q)&&this.a.equals(_.a)&&this.b.equals(_.b)},$.prototype.getInfinity=function(){return this.infinity},$.prototype.fromBigInteger=function(_){return new le(this.q,_)},$.prototype.decodePointHex=function(_){switch(parseInt(_.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var P=(_.length-2)/2,L=_.substr(2,P),G=_.substr(P+2,P);return new X(this,this.fromBigInteger(new O(L,16)),this.fromBigInteger(new O(G,16)));default:return null}},le.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},X.prototype.getEncoded=function(w){var _=function(de,W){var Z=de.toByteArrayUnsigned();if(W<Z.length)Z=Z.slice(Z.length-W);else for(;W>Z.length;)Z.unshift(0);return Z},P=this.getX().toBigInteger(),L=this.getY().toBigInteger(),G=_(P,32);return w?L.isEven()?G.unshift(2):G.unshift(3):(G.unshift(4),G=G.concat(_(L,32))),G},X.decodeFrom=function(w,_){_[0];var P=_.length-1,L=_.slice(1,1+P/2),G=_.slice(1+P/2,1+P);L.unshift(0),G.unshift(0);var ie=new O(L),de=new O(G);return new X(w,w.fromBigInteger(ie),w.fromBigInteger(de))},X.decodeFromHex=function(w,_){_.substr(0,2);var P=_.length-2,L=_.substr(2,P/2),G=_.substr(2+P/2,P/2),ie=new O(L,16),de=new O(G,16);return new X(w,w.fromBigInteger(ie),w.fromBigInteger(de))},X.prototype.add2D=function(w){if(this.isInfinity())return w;if(w.isInfinity())return this;if(this.x.equals(w.x))return this.y.equals(w.y)?this.twice():this.curve.getInfinity();var _=w.x.subtract(this.x),P=w.y.subtract(this.y).divide(_),L=P.square().subtract(this.x).subtract(w.x),G=P.multiply(this.x.subtract(L)).subtract(this.y);return new X(this.curve,L,G)},X.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var w=this.curve.fromBigInteger(O.valueOf(2)),_=this.curve.fromBigInteger(O.valueOf(3)),P=this.x.square().multiply(_).add(this.curve.a).divide(this.y.multiply(w)),L=P.square().subtract(this.x.multiply(w)),G=P.multiply(this.x.subtract(L)).subtract(this.y);return new X(this.curve,L,G)},X.prototype.multiply2D=function(w){if(this.isInfinity())return this;if(w.signum()==0)return this.curve.getInfinity();var _,P=w,L=P.multiply(new O("3")),G=this.negate(),ie=this;for(_=L.bitLength()-2;_>0;--_){ie=ie.twice();var de=L.testBit(_);de!=P.testBit(_)&&(ie=ie.add2D(de?this:G))}return ie},X.prototype.isOnCurve=function(){var w=this.getX().toBigInteger(),_=this.getY().toBigInteger(),P=this.curve.getA().toBigInteger(),L=this.curve.getB().toBigInteger(),G=this.curve.getQ(),ie=_.multiply(_).mod(G),de=w.multiply(w).multiply(w).add(P.multiply(w)).add(L).mod(G);return ie.equals(de)},X.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},X.prototype.validate=function(){var w=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var _=this.getX().toBigInteger(),P=this.getY().toBigInteger();if(_.compareTo(O.ONE)<0||_.compareTo(w.subtract(O.ONE))>0)throw new Error("x coordinate out of bounds");if(P.compareTo(O.ONE)<0||P.compareTo(w.subtract(O.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(w).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var U=function(){var w=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),_=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),P={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function L(de,W,Z){return W?P[W]:String.fromCharCode(parseInt(Z,16))}var G=new String(""),ie=Object.hasOwnProperty;return function(de,W){var Z,te,pe=de.match(w),ge=pe[0],we=!1;ge==="{"?Z={}:ge==="["?Z=[]:(Z=[],we=!0);for(var De=[Z],Me=1-we,Qe=pe.length;Me<Qe;++Me){var We;switch((ge=pe[Me]).charCodeAt(0)){default:(We=De[0])[te||We.length]=+ge,te=void 0;break;case 34:if((ge=ge.substring(1,ge.length-1)).indexOf("\\")!==-1&&(ge=ge.replace(_,L)),We=De[0],!te){if(!(We instanceof Array)){te=ge||G;break}te=We.length}We[te]=ge,te=void 0;break;case 91:We=De[0],De.unshift(We[te||We.length]=[]),te=void 0;break;case 93:De.shift();break;case 102:(We=De[0])[te||We.length]=!1,te=void 0;break;case 110:(We=De[0])[te||We.length]=null,te=void 0;break;case 116:(We=De[0])[te||We.length]=!0,te=void 0;break;case 123:We=De[0],De.unshift(We[te||We.length]={}),te=void 0;break;case 125:De.shift()}}if(we){if(De.length!==1)throw new Error;Z=Z[0]}else if(De.length)throw new Error;return W&&(Z=function oe(Ee,Re){var Ce=Ee[Re];if(Ce&&(Ce===void 0?"undefined":v(Ce))==="object"){var Ge=null;for(var Ye in Ce)if(ie.call(Ce,Ye)&&Ce!==Ee){var At=oe(Ce,Ye);At!==void 0?Ce[Ye]=At:(Ge||(Ge=[]),Ge.push(Ye))}if(Ge)for(var it=Ge.length;--it>=0;)delete Ce[Ge[it]]}return W.call(Ee,Re,Ce)}({"":Z},"")),Z}}();V!==void 0&&V||(n.KJUR=V={}),V.asn1!==void 0&&V.asn1||(V.asn1={}),V.asn1.ASN1Util=new function(){this.integerToByteHex=function(w){var _=w.toString(16);return _.length%2==1&&(_="0"+_),_},this.bigIntToMinTwosComplementsHex=function(w){var _=w.toString(16);if(_.substr(0,1)!="-")_.length%2==1?_="0"+_:_.match(/^[0-7]/)||(_="00"+_);else{var P=_.substr(1).length;P%2==1?P+=1:_.match(/^[0-7]/)||(P+=2);for(var L="",G=0;G<P;G++)L+="f";_=new O(L,16).xor(w).add(O.ONE).toString(16).replace(/^-/,"")}return _},this.getPEMStringFromHex=function(w,_){return Ve(w,_)},this.newObject=function(w){var _=V.asn1,P=_.ASN1Object,L=_.DERBoolean,G=_.DERInteger,ie=_.DERBitString,de=_.DEROctetString,W=_.DERNull,Z=_.DERObjectIdentifier,te=_.DEREnumerated,pe=_.DERUTF8String,ge=_.DERNumericString,we=_.DERPrintableString,De=_.DERTeletexString,Me=_.DERIA5String,Qe=_.DERUTCTime,We=_.DERGeneralizedTime,oe=_.DERVisibleString,Ee=_.DERBMPString,Re=_.DERSequence,Ce=_.DERSet,Ge=_.DERTaggedObject,Ye=_.ASN1Util.newObject;if(w instanceof _.ASN1Object)return w;var At=Object.keys(w);if(At.length!=1)throw new Error("key of param shall be only one.");var it=At[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+it+":")==-1)throw new Error("undefined key: "+it);if(it=="bool")return new L(w[it]);if(it=="int")return new G(w[it]);if(it=="bitstr")return new ie(w[it]);if(it=="octstr")return new de(w[it]);if(it=="null")return new W(w[it]);if(it=="oid")return new Z(w[it]);if(it=="enum")return new te(w[it]);if(it=="utf8str")return new pe(w[it]);if(it=="numstr")return new ge(w[it]);if(it=="prnstr")return new we(w[it]);if(it=="telstr")return new De(w[it]);if(it=="ia5str")return new Me(w[it]);if(it=="utctime")return new Qe(w[it]);if(it=="gentime")return new We(w[it]);if(it=="visstr")return new oe(w[it]);if(it=="bmpstr")return new Ee(w[it]);if(it=="asn1")return new P(w[it]);if(it=="seq"){for(var ir=w[it],xt=[],$t=0;$t<ir.length;$t++){var Ht=Ye(ir[$t]);xt.push(Ht)}return new Re({array:xt})}if(it=="set"){for(ir=w[it],xt=[],$t=0;$t<ir.length;$t++)Ht=Ye(ir[$t]),xt.push(Ht);return new Ce({array:xt})}if(it=="tag"){var mr=w[it];if(Object.prototype.toString.call(mr)==="[object Array]"&&mr.length==3){var Vr=Ye(mr[2]);return new Ge({tag:mr[0],explicit:mr[1],obj:Vr})}return new Ge(mr)}},this.jsonToASN1HEX=function(w){return this.newObject(w).getEncodedHex()}},V.asn1.ASN1Util.oidHexToInt=function(w){for(var _="",P=parseInt(w.substr(0,2),16),L=(_=Math.floor(P/40)+"."+P%40,""),G=2;G<w.length;G+=2){var ie=("00000000"+parseInt(w.substr(G,2),16).toString(2)).slice(-8);L+=ie.substr(1,7),ie.substr(0,1)=="0"&&(_=_+"."+new O(L,2).toString(10),L="")}return _},V.asn1.ASN1Util.oidIntToHex=function(w){var _=function(Z){var te=Z.toString(16);return te.length==1&&(te="0"+te),te},P=function(Z){var te="",pe=new O(Z,10).toString(2),ge=7-pe.length%7;ge==7&&(ge=0);for(var we="",De=0;De<ge;De++)we+="0";for(pe=we+pe,De=0;De<pe.length-1;De+=7){var Me=pe.substr(De,7);De!=pe.length-7&&(Me="1"+Me),te+=_(parseInt(Me,2))}return te};if(!w.match(/^[0-9.]+$/))throw"malformed oid string: "+w;var L="",G=w.split("."),ie=40*parseInt(G[0])+parseInt(G[1]);L+=_(ie),G.splice(0,2);for(var de=0;de<G.length;de++)L+=P(G[de]);return L},V.asn1.ASN1Object=function(w){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+0+",v="+this.hV);var _=this.hV.length/2,P=_.toString(16);if(P.length%2==1&&(P="0"+P),_<128)return P;var L=P.length/2;if(L>15)throw"ASN.1 length too long to represent by 8x: n = "+_.toString(16);return(128+L).toString(16)+P},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(_){this.params=_},w!=null&&w.tlv!=null&&(this.hTLV=w.tlv,this.isModified=!1)},V.asn1.DERAbstractString=function(w){V.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(_){this.hTLV=null,this.isModified=!0,this.s=_,this.hV=Qr(this.s).toLowerCase()},this.setStringHex=function(_){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=_},this.getFreshValueHex=function(){return this.hV},w!==void 0&&(typeof w=="string"?this.setString(w):w.str!==void 0?this.setString(w.str):w.hex!==void 0&&this.setStringHex(w.hex))},nr(V.asn1.DERAbstractString,V.asn1.ASN1Object),V.asn1.DERAbstractTime=function(w){V.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(_){var P=_.getTime()+6e4*_.getTimezoneOffset();return new Date(P)},this.formatDate=function(_,P,L){var G=this.zeroPadding,ie=this.localDateToUTC(_),de=String(ie.getFullYear());P=="utc"&&(de=de.substr(2,2));var W=de+G(String(ie.getMonth()+1),2)+G(String(ie.getDate()),2)+G(String(ie.getHours()),2)+G(String(ie.getMinutes()),2)+G(String(ie.getSeconds()),2);if(L===!0){var Z=ie.getMilliseconds();if(Z!=0){var te=G(String(Z),3);W=W+"."+(te=te.replace(/[0]+$/,""))}}return W+"Z"},this.zeroPadding=function(_,P){return _.length>=P?_:new Array(P-_.length+1).join("0")+_},this.getString=function(){return this.s},this.setString=function(_){this.hTLV=null,this.isModified=!0,this.s=_,this.hV=Et(_)},this.setByDateValue=function(_,P,L,G,ie,de){var W=new Date(Date.UTC(_,P-1,L,G,ie,de,0));this.setByDate(W)},this.getFreshValueHex=function(){return this.hV}},nr(V.asn1.DERAbstractTime,V.asn1.ASN1Object),V.asn1.DERAbstractStructured=function(w){V.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(_){this.hTLV=null,this.isModified=!0,this.asn1Array=_},this.appendASN1Object=function(_){this.hTLV=null,this.isModified=!0,this.asn1Array.push(_)},this.asn1Array=new Array,w!==void 0&&w.array!==void 0&&(this.asn1Array=w.array)},nr(V.asn1.DERAbstractStructured,V.asn1.ASN1Object),V.asn1.DERBoolean=function(w){V.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=w==0?"010100":"0101ff"},nr(V.asn1.DERBoolean,V.asn1.ASN1Object),V.asn1.DERInteger=function(w){V.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(_){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(_)},this.setByInteger=function(_){var P=new O(String(_),10);this.setByBigInteger(P)},this.setValueHex=function(_){this.hV=_},this.getFreshValueHex=function(){return this.hV},w!==void 0&&(w.bigint!==void 0?this.setByBigInteger(w.bigint):w.int!==void 0?this.setByInteger(w.int):typeof w=="number"?this.setByInteger(w):w.hex!==void 0&&this.setValueHex(w.hex))},nr(V.asn1.DERInteger,V.asn1.ASN1Object),V.asn1.DERBitString=function(w){if(w!==void 0&&w.obj!==void 0){var _=V.asn1.ASN1Util.newObject(w.obj);w.hex="00"+_.getEncodedHex()}V.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(P){this.hTLV=null,this.isModified=!0,this.hV=P},this.setUnusedBitsAndHexValue=function(P,L){if(P<0||7<P)throw"unused bits shall be from 0 to 7: u = "+P;var G="0"+P;this.hTLV=null,this.isModified=!0,this.hV=G+L},this.setByBinaryString=function(P){var L=8-(P=P.replace(/0+$/,"")).length%8;L==8&&(L=0);for(var G=0;G<=L;G++)P+="0";var ie="";for(G=0;G<P.length-1;G+=8){var de=P.substr(G,8),W=parseInt(de,2).toString(16);W.length==1&&(W="0"+W),ie+=W}this.hTLV=null,this.isModified=!0,this.hV="0"+L+ie},this.setByBooleanArray=function(P){for(var L="",G=0;G<P.length;G++)P[G]==1?L+="1":L+="0";this.setByBinaryString(L)},this.newFalseArray=function(P){for(var L=new Array(P),G=0;G<P;G++)L[G]=!1;return L},this.getFreshValueHex=function(){return this.hV},w!==void 0&&(typeof w=="string"&&w.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(w):w.hex!==void 0?this.setHexValueIncludingUnusedBits(w.hex):w.bin!==void 0?this.setByBinaryString(w.bin):w.array!==void 0&&this.setByBooleanArray(w.array))},nr(V.asn1.DERBitString,V.asn1.ASN1Object),V.asn1.DEROctetString=function(w){if(w!==void 0&&w.obj!==void 0){var _=V.asn1.ASN1Util.newObject(w.obj);w.hex=_.getEncodedHex()}V.asn1.DEROctetString.superclass.constructor.call(this,w),this.hT="04"},nr(V.asn1.DEROctetString,V.asn1.DERAbstractString),V.asn1.DERNull=function(){V.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},nr(V.asn1.DERNull,V.asn1.ASN1Object),V.asn1.DERObjectIdentifier=function(w){V.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(_){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=_},this.setValueOidString=function(_){var P=function(G){var ie=function(we){var De=we.toString(16);return De.length==1&&(De="0"+De),De},de=function(we){var De="",Me=parseInt(we,10).toString(2),Qe=7-Me.length%7;Qe==7&&(Qe=0);for(var We="",oe=0;oe<Qe;oe++)We+="0";for(Me=We+Me,oe=0;oe<Me.length-1;oe+=7){var Ee=Me.substr(oe,7);oe!=Me.length-7&&(Ee="1"+Ee),De+=ie(parseInt(Ee,2))}return De};try{if(!G.match(/^[0-9.]+$/))return null;var W="",Z=G.split("."),te=40*parseInt(Z[0],10)+parseInt(Z[1],10);W+=ie(te),Z.splice(0,2);for(var pe=0;pe<Z.length;pe++)W+=de(Z[pe]);return W}catch{return null}}(_);if(P==null)throw new Error("malformed oid string: "+_);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=P},this.setValueName=function(_){var P=V.asn1.x509.OID.name2oid(_);if(P==="")throw new Error("DERObjectIdentifier oidName undefined: "+_);this.setValueOidString(P)},this.setValueNameOrOid=function(_){_.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(_):this.setValueName(_)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(_){typeof _=="string"?this.setValueNameOrOid(_):_.oid!==void 0?this.setValueNameOrOid(_.oid):_.name!==void 0?this.setValueNameOrOid(_.name):_.hex!==void 0&&this.setValueHex(_.hex)},w!==void 0&&this.setByParam(w)},nr(V.asn1.DERObjectIdentifier,V.asn1.ASN1Object),V.asn1.DEREnumerated=function(w){V.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(_){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(_)},this.setByInteger=function(_){var P=new O(String(_),10);this.setByBigInteger(P)},this.setValueHex=function(_){this.hV=_},this.getFreshValueHex=function(){return this.hV},w!==void 0&&(w.int!==void 0?this.setByInteger(w.int):typeof w=="number"?this.setByInteger(w):w.hex!==void 0&&this.setValueHex(w.hex))},nr(V.asn1.DEREnumerated,V.asn1.ASN1Object),V.asn1.DERUTF8String=function(w){V.asn1.DERUTF8String.superclass.constructor.call(this,w),this.hT="0c"},nr(V.asn1.DERUTF8String,V.asn1.DERAbstractString),V.asn1.DERNumericString=function(w){V.asn1.DERNumericString.superclass.constructor.call(this,w),this.hT="12"},nr(V.asn1.DERNumericString,V.asn1.DERAbstractString),V.asn1.DERPrintableString=function(w){V.asn1.DERPrintableString.superclass.constructor.call(this,w),this.hT="13"},nr(V.asn1.DERPrintableString,V.asn1.DERAbstractString),V.asn1.DERTeletexString=function(w){V.asn1.DERTeletexString.superclass.constructor.call(this,w),this.hT="14"},nr(V.asn1.DERTeletexString,V.asn1.DERAbstractString),V.asn1.DERIA5String=function(w){V.asn1.DERIA5String.superclass.constructor.call(this,w),this.hT="16"},nr(V.asn1.DERIA5String,V.asn1.DERAbstractString),V.asn1.DERVisibleString=function(w){V.asn1.DERIA5String.superclass.constructor.call(this,w),this.hT="1a"},nr(V.asn1.DERVisibleString,V.asn1.DERAbstractString),V.asn1.DERBMPString=function(w){V.asn1.DERBMPString.superclass.constructor.call(this,w),this.hT="1e"},nr(V.asn1.DERBMPString,V.asn1.DERAbstractString),V.asn1.DERUTCTime=function(w){V.asn1.DERUTCTime.superclass.constructor.call(this,w),this.hT="17",this.setByDate=function(_){this.hTLV=null,this.isModified=!0,this.date=_,this.s=this.formatDate(this.date,"utc"),this.hV=Et(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Et(this.s)),this.hV},w!==void 0&&(w.str!==void 0?this.setString(w.str):typeof w=="string"&&w.match(/^[0-9]{12}Z$/)?this.setString(w):w.hex!==void 0?this.setStringHex(w.hex):w.date!==void 0&&this.setByDate(w.date))},nr(V.asn1.DERUTCTime,V.asn1.DERAbstractTime),V.asn1.DERGeneralizedTime=function(w){V.asn1.DERGeneralizedTime.superclass.constructor.call(this,w),this.hT="18",this.withMillis=!1,this.setByDate=function(_){this.hTLV=null,this.isModified=!0,this.date=_,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Et(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Et(this.s)),this.hV},w!==void 0&&(w.str!==void 0?this.setString(w.str):typeof w=="string"&&w.match(/^[0-9]{14}Z$/)?this.setString(w):w.hex!==void 0?this.setStringHex(w.hex):w.date!==void 0&&this.setByDate(w.date),w.millis===!0&&(this.withMillis=!0))},nr(V.asn1.DERGeneralizedTime,V.asn1.DERAbstractTime),V.asn1.DERSequence=function(w){V.asn1.DERSequence.superclass.constructor.call(this,w),this.hT="30",this.getFreshValueHex=function(){for(var _="",P=0;P<this.asn1Array.length;P++)_+=this.asn1Array[P].getEncodedHex();return this.hV=_,this.hV}},nr(V.asn1.DERSequence,V.asn1.DERAbstractStructured),V.asn1.DERSet=function(w){V.asn1.DERSet.superclass.constructor.call(this,w),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var _=new Array,P=0;P<this.asn1Array.length;P++){var L=this.asn1Array[P];_.push(L.getEncodedHex())}return this.sortFlag==1&&_.sort(),this.hV=_.join(""),this.hV},w!==void 0&&w.sortflag!==void 0&&w.sortflag==0&&(this.sortFlag=!1)},nr(V.asn1.DERSet,V.asn1.DERAbstractStructured),V.asn1.DERTaggedObject=function(w){V.asn1.DERTaggedObject.superclass.constructor.call(this);var _=V.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(P,L,G){this.hT=L,this.isExplicit=P,this.asn1Object=G,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=G.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,L),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(P){P.tag!=null&&(this.hT=P.tag),P.explicit!=null&&(this.isExplicit=P.explicit),P.tage!=null&&(this.hT=P.tage,this.isExplicit=!0),P.tagi!=null&&(this.hT=P.tagi,this.isExplicit=!1),P.obj!=null&&(P.obj instanceof _.ASN1Object?(this.asn1Object=P.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):v(P.obj)=="object"&&(this.asn1Object=_.ASN1Util.newObject(P.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},w!=null&&this.setByParam(w)},nr(V.asn1.DERTaggedObject,V.asn1.ASN1Object);var V,Ie,ke,Pe=new function(){};function ht(w){for(var _=new Array,P=0;P<w.length;P++)_[P]=w.charCodeAt(P);return _}function _t(w){for(var _="",P=0;P<w.length;P++)_+=String.fromCharCode(w[P]);return _}function Rt(w){for(var _="",P=0;P<w.length;P++){var L=w[P].toString(16);L.length==1&&(L="0"+L),_+=L}return _}function Et(w){return Rt(ht(w))}function Jt(w){return w=(w=(w=w.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Cn(w){return w.length%4==2?w+="==":w.length%4==3&&(w+="="),w=(w=w.replace(/-/g,"+")).replace(/_/g,"/")}function gr(w){return w.length%2==1&&(w="0"+w),Jt(D(w))}function ar(w){return M(Cn(w))}function Qr(w){return Ot(bt(w))}function yr(w){return decodeURIComponent(at(w))}function Ur(w){for(var _="",P=0;P<w.length-1;P+=2)_+=String.fromCharCode(parseInt(w.substr(P,2),16));return _}function Zr(w){for(var _="",P=0;P<w.length;P++)_+=("0"+w.charCodeAt(P).toString(16)).slice(-2);return _}function fa(w){return D(w)}function xr(w){var _=fa(w).replace(/(.{64})/g,`$1\r
`);return _=_.replace(/\r\n$/,"")}function Ae(w){return M(w.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ve(w,_){return"-----BEGIN "+_+`-----\r
`+xr(w)+`\r
-----END `+_+`-----\r
`}function ut(w,_){if(w.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+_;return Ae(w=_!==void 0?(w=w.replace(new RegExp("^[^]*-----BEGIN "+_+"-----"),"")).replace(new RegExp("-----END "+_+"-----[^]*$"),""):(w=w.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Bt(w){var _,P,L,G,ie,de,W,Z,te,pe,ge;if(ge=w.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return Z=ge[1],_=parseInt(Z),Z.length===2&&(50<=_&&_<100?_=1900+_:0<=_&&_<50&&(_=2e3+_)),P=parseInt(ge[2])-1,L=parseInt(ge[3]),G=parseInt(ge[4]),ie=parseInt(ge[5]),de=parseInt(ge[6]),W=0,(te=ge[7])!==""&&(pe=(te.substr(1)+"00").substr(0,3),W=parseInt(pe)),Date.UTC(_,P,L,G,ie,de,W);throw"unsupported zulu format: "+w}function nt(w){return~~(Bt(w)/1e3)}function Ot(w){return w.replace(/%/g,"")}function at(w){return w.replace(/(..)/g,"%$1")}function pt(w){var _="malformed IPv6 address";if(!w.match(/^[0-9A-Fa-f:]+$/))throw _;var P=(w=w.toLowerCase()).split(":").length-1;if(P<2)throw _;var L=":".repeat(7-P+2),G=(w=w.replace("::",L)).split(":");if(G.length!=8)throw _;for(var ie=0;ie<8;ie++)G[ie]=("0000"+G[ie]).slice(-4);return G.join("")}function Ft(w){if(!w.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var _=(w=w.toLowerCase()).match(/.{1,4}/g),P=0;P<8;P++)_[P]=_[P].replace(/^0+/,""),_[P]==""&&(_[P]="0");var L=(w=":"+_.join(":")+":").match(/:(0:){2,}/g);if(L===null)return w.slice(1,-1);var G="";for(P=0;P<L.length;P++)L[P].length>G.length&&(G=L[P]);return(w=w.replace(G,"::")).slice(1,-1)}function Tr(w){var _="malformed hex value";if(!w.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw _;if(w.length!=8)return w.length==32?Ft(w):w;try{return parseInt(w.substr(0,2),16)+"."+parseInt(w.substr(2,2),16)+"."+parseInt(w.substr(4,2),16)+"."+parseInt(w.substr(6,2),16)}catch{throw _}}function qt(w){return w.match(/.{4}/g).map(function(P){var L=parseInt(P.substr(0,2),16),G=parseInt(P.substr(2),16);if(L==0&G<128)return String.fromCharCode(G);if(L<8){var ie=128|63&G;return yr((192|(7&L)<<3|(192&G)>>6).toString(16)+ie.toString(16))}ie=128|(15&L)<<2|(192&G)>>6;var de=128|63&G;return yr((224|(240&L)>>4).toString(16)+ie.toString(16)+de.toString(16))}).join("")}function bt(w){for(var _=encodeURIComponent(w),P="",L=0;L<_.length;L++)_[L]=="%"?(P+=_.substr(L,3),L+=2):P=P+"%"+Et(_[L]);return P}function To(w){return!(w.length%2!=0||!w.match(/^[0-9a-f]+$/)&&!w.match(/^[0-9A-F]+$/))}function St(w){return w.length%2==1?"0"+w:w.substr(0,1)>"7"?"00"+w:w}Pe.getLblen=function(w,_){if(w.substr(_+2,1)!="8")return 1;var P=parseInt(w.substr(_+3,1));return P==0?-1:0<P&&P<10?P+1:-2},Pe.getL=function(w,_){var P=Pe.getLblen(w,_);return P<1?"":w.substr(_+2,2*P)},Pe.getVblen=function(w,_){var P;return(P=Pe.getL(w,_))==""?-1:(P.substr(0,1)==="8"?new O(P.substr(2),16):new O(P,16)).intValue()},Pe.getVidx=function(w,_){var P=Pe.getLblen(w,_);return P<0?P:_+2*(P+1)},Pe.getV=function(w,_){var P=Pe.getVidx(w,_),L=Pe.getVblen(w,_);return w.substr(P,2*L)},Pe.getTLV=function(w,_){return w.substr(_,2)+Pe.getL(w,_)+Pe.getV(w,_)},Pe.getTLVblen=function(w,_){return 2+2*Pe.getLblen(w,_)+2*Pe.getVblen(w,_)},Pe.getNextSiblingIdx=function(w,_){return Pe.getVidx(w,_)+2*Pe.getVblen(w,_)},Pe.getChildIdx=function(w,_){var P,L,G,ie=Pe,de=[];P=ie.getVidx(w,_),L=2*ie.getVblen(w,_),w.substr(_,2)=="03"&&(P+=2,L-=2),G=0;for(var W=P;G<=L;){var Z=ie.getTLVblen(w,W);if((G+=Z)<=L&&de.push(W),W+=Z,G>=L)break}return de},Pe.getNthChildIdx=function(w,_,P){return Pe.getChildIdx(w,_)[P]},Pe.getIdxbyList=function(w,_,P,L){var G,ie,de=Pe;return P.length==0?L!==void 0&&w.substr(_,2)!==L?-1:_:(G=P.shift())>=(ie=de.getChildIdx(w,_)).length?-1:de.getIdxbyList(w,ie[G],P,L)},Pe.getIdxbyListEx=function(w,_,P,L){var G,ie,de=Pe;if(P.length==0)return L!==void 0&&w.substr(_,2)!==L?-1:_;G=P.shift(),ie=de.getChildIdx(w,_);for(var W=0,Z=0;Z<ie.length;Z++){var te=w.substr(ie[Z],2);if(typeof G=="number"&&!de.isContextTag(te)&&W==G||typeof G=="string"&&de.isContextTag(te,G))return de.getIdxbyListEx(w,ie[Z],P,L);de.isContextTag(te)||W++}return-1},Pe.getTLVbyList=function(w,_,P,L){var G=Pe,ie=G.getIdxbyList(w,_,P,L);return ie==-1||ie>=w.length?null:G.getTLV(w,ie)},Pe.getTLVbyListEx=function(w,_,P,L){var G=Pe,ie=G.getIdxbyListEx(w,_,P,L);return ie==-1?null:G.getTLV(w,ie)},Pe.getVbyList=function(w,_,P,L,G){var ie,de,W=Pe;return(ie=W.getIdxbyList(w,_,P,L))==-1||ie>=w.length?null:(de=W.getV(w,ie),G===!0&&(de=de.substr(2)),de)},Pe.getVbyListEx=function(w,_,P,L,G){var ie,de,W=Pe;return(ie=W.getIdxbyListEx(w,_,P,L))==-1?null:(de=W.getV(w,ie),w.substr(ie,2)=="03"&&G!==!1&&(de=de.substr(2)),de)},Pe.getInt=function(w,_,P){P==null&&(P=-1);try{var L=w.substr(_,2);if(L!="02"&&L!="03")return P;var G=Pe.getV(w,_);return L=="02"?parseInt(G,16):function(de){try{var W=de.substr(0,2);if(W=="00")return parseInt(de.substr(2),16);var Z=parseInt(W,16),te=de.substr(2),pe=parseInt(te,16).toString(2);return pe=="0"&&(pe="00000000"),pe=pe.slice(0,0-Z),parseInt(pe,2)}catch{return-1}}(G)}catch{return P}},Pe.getOID=function(w,_,P){P==null&&(P=null);try{return w.substr(_,2)!="06"?P:function(G){if(!To(G))return null;try{var ie=[],de=G.substr(0,2),W=parseInt(de,16);ie[0]=new String(Math.floor(W/40)),ie[1]=new String(W%40);for(var Z=G.substr(2),te=[],pe=0;pe<Z.length/2;pe++)te.push(parseInt(Z.substr(2*pe,2),16));var ge=[],we="";for(pe=0;pe<te.length;pe++)128&te[pe]?we+=Ti((127&te[pe]).toString(2),7):(we+=Ti((127&te[pe]).toString(2),7),ge.push(new String(parseInt(we,2))),we="");var De=ie.join(".");return ge.length>0&&(De=De+"."+ge.join(".")),De}catch{return null}}(Pe.getV(w,_))}catch{return P}},Pe.getOIDName=function(w,_,P){P==null&&(P=null);try{var L=Pe.getOID(w,_,P);if(L==P)return P;var G=V.asn1.x509.OID.oid2name(L);return G==""?L:G}catch{return P}},Pe.getString=function(w,_,P){P==null&&(P=null);try{return Ur(Pe.getV(w,_))}catch{return P}},Pe.hextooidstr=function(w){var _=function(we,De){return we.length>=De?we:new Array(De-we.length+1).join("0")+we},P=[],L=w.substr(0,2),G=parseInt(L,16);P[0]=new String(Math.floor(G/40)),P[1]=new String(G%40);for(var ie=w.substr(2),de=[],W=0;W<ie.length/2;W++)de.push(parseInt(ie.substr(2*W,2),16));var Z=[],te="";for(W=0;W<de.length;W++)128&de[W]?te+=_((127&de[W]).toString(2),7):(te+=_((127&de[W]).toString(2),7),Z.push(new String(parseInt(te,2))),te="");var pe=P.join(".");return Z.length>0&&(pe=pe+"."+Z.join(".")),pe},Pe.dump=function(w,_,P,L){var G=Pe,ie=G.getV,de=G.dump,W=G.getChildIdx,Z=w;w instanceof V.asn1.ASN1Object&&(Z=w.getEncodedHex());var te=function(it,ir){return it.length<=2*ir?it:it.substr(0,ir)+"..(total "+it.length/2+"bytes).."+it.substr(it.length-ir,ir)};_===void 0&&(_={ommit_long_octet:32}),P===void 0&&(P=0),L===void 0&&(L="");var pe,ge=_.ommit_long_octet;if((pe=Z.substr(P,2))=="01")return(we=ie(Z,P))=="00"?L+`BOOLEAN FALSE
`:L+`BOOLEAN TRUE
`;if(pe=="02")return L+"INTEGER "+te(we=ie(Z,P),ge)+`
`;if(pe=="03"){var we=ie(Z,P);if(G.isASN1HEX(we.substr(2))){var De=L+`BITSTRING, encapsulates
`;return De+=de(we.substr(2),_,0,L+"  ")}return L+"BITSTRING "+te(we,ge)+`
`}if(pe=="04")return we=ie(Z,P),G.isASN1HEX(we)?(De=L+`OCTETSTRING, encapsulates
`,De+=de(we,_,0,L+"  ")):L+"OCTETSTRING "+te(we,ge)+`
`;if(pe=="05")return L+`NULL
`;if(pe=="06"){var Me=ie(Z,P),Qe=V.asn1.ASN1Util.oidHexToInt(Me),We=V.asn1.x509.OID.oid2name(Qe),oe=Qe.replace(/\./g," ");return We!=""?L+"ObjectIdentifier "+We+" ("+oe+`)
`:L+"ObjectIdentifier ("+oe+`)
`}if(pe=="0a")return L+"ENUMERATED "+parseInt(ie(Z,P))+`
`;if(pe=="0c")return L+"UTF8String '"+yr(ie(Z,P))+`'
`;if(pe=="13")return L+"PrintableString '"+yr(ie(Z,P))+`'
`;if(pe=="14")return L+"TeletexString '"+yr(ie(Z,P))+`'
`;if(pe=="16")return L+"IA5String '"+yr(ie(Z,P))+`'
`;if(pe=="17")return L+"UTCTime "+yr(ie(Z,P))+`
`;if(pe=="18")return L+"GeneralizedTime "+yr(ie(Z,P))+`
`;if(pe=="1a")return L+"VisualString '"+yr(ie(Z,P))+`'
`;if(pe=="1e")return L+"BMPString '"+qt(ie(Z,P))+`'
`;if(pe=="30"){if(Z.substr(P,4)=="3000")return L+`SEQUENCE {}
`;De=L+`SEQUENCE
`;var Ee=_;if(((Ge=W(Z,P)).length==2||Ge.length==3)&&Z.substr(Ge[0],2)=="06"&&Z.substr(Ge[Ge.length-1],2)=="04"){We=G.oidname(ie(Z,Ge[0]));var Re=JSON.parse(JSON.stringify(_));Re.x509ExtName=We,Ee=Re}for(var Ce=0;Ce<Ge.length;Ce++)De+=de(Z,Ee,Ge[Ce],L+"  ");return De}if(pe=="31"){De=L+`SET
`;var Ge=W(Z,P);for(Ce=0;Ce<Ge.length;Ce++)De+=de(Z,_,Ge[Ce],L+"  ");return De}if(128&(pe=parseInt(pe,16))){var Ye=31&pe;if(32&pe){for(De=L+"["+Ye+`]
`,Ge=W(Z,P),Ce=0;Ce<Ge.length;Ce++)De+=de(Z,_,Ge[Ce],L+"  ");return De}if(we=ie(Z,P),Pe.isASN1HEX(we)){var De=L+"["+Ye+`]
`;return De+=de(we,_,0,L+"  ")}return(we.substr(0,8)=="68747470"||_.x509ExtName==="subjectAltName"&&Ye==2)&&(we=yr(we)),De=L+"["+Ye+"] "+we+`
`}return L+"UNKNOWN("+pe+") "+ie(Z,P)+`
`},Pe.isContextTag=function(w,_){var P,L;w=w.toLowerCase();try{P=parseInt(w,16)}catch{return-1}if(_===void 0)return(192&P)==128;try{return _.match(/^\[[0-9]+\]$/)!=null&&!((L=parseInt(_.substr(1,_.length-1),10))>31)&&(192&P)==128&&(31&P)==L}catch{return!1}},Pe.isASN1HEX=function(w){var _=Pe;if(w.length%2==1)return!1;var P=_.getVblen(w,0),L=w.substr(0,2),G=_.getL(w,0);return w.length-L.length-G.length==2*P},Pe.checkStrictDER=function(w,_,P,L,G){var ie=Pe;if(P===void 0){if(typeof w!="string")throw new Error("not hex string");if(w=w.toLowerCase(),!V.lang.String.isHex(w))throw new Error("not hex string");P=w.length,G=(L=w.length/2)<128?1:Math.ceil(L.toString(16))+1}if(ie.getL(w,_).length>2*G)throw new Error("L of TLV too long: idx="+_);var de=ie.getVblen(w,_);if(de>L)throw new Error("value of L too long than hex: idx="+_);var W=ie.getTLV(w,_),Z=W.length-2-ie.getL(w,_).length;if(Z!==2*de)throw new Error("V string length and L's value not the same:"+Z+"/"+2*de);if(_===0&&w.length!=W.length)throw new Error("total length and TLV length unmatch:"+w.length+"!="+W.length);var te=w.substr(_,2);if(te==="02"){var pe=ie.getVidx(w,_);if(w.substr(pe,2)=="00"&&w.charCodeAt(pe+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(te,16)){for(var ge=ie.getVblen(w,_),we=0,De=ie.getChildIdx(w,_),Me=0;Me<De.length;Me++)we+=ie.getTLV(w,De[Me]).length,ie.checkStrictDER(w,De[Me],P,L,G);if(2*ge!=we)throw new Error("sum of children's TLV length and L unmatch: "+2*ge+"!="+we)}},Pe.oidname=function(w){var _=V.asn1;V.lang.String.isHex(w)&&(w=_.ASN1Util.oidHexToInt(w));var P=_.x509.OID.oid2name(w);return P===""&&(P=w),P},V!==void 0&&V||(n.KJUR=V={}),V.lang!==void 0&&V.lang||(V.lang={}),V.lang.String=function(){},typeof s=="function"?(n.utf8tob64u=Ie=function(_){return Jt(s.from(_,"utf8").toString("base64"))},n.b64utoutf8=ke=function(_){return s.from(Cn(_),"base64").toString("utf8")}):(n.utf8tob64u=Ie=function(_){return gr(Ot(bt(_)))},n.b64utoutf8=ke=function(_){return decodeURIComponent(at(ar(_)))}),V.lang.String.isInteger=function(w){return!!w.match(/^[0-9]+$/)||!!w.match(/^-[0-9]+$/)},V.lang.String.isHex=function(w){return To(w)},V.lang.String.isBase64=function(w){return!(!(w=w.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||w.length%4!=0)},V.lang.String.isBase64URL=function(w){return!w.match(/[+/=]/)&&(w=Cn(w),V.lang.String.isBase64(w))},V.lang.String.isIntegerArray=function(w){return!!(w=w.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},V.lang.String.isPrintable=function(w){return w.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},V.lang.String.isIA5=function(w){return w.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},V.lang.String.isMail=function(w){return w.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Ti=function(_,P,L){return L==null&&(L="0"),_.length>=P?_:new Array(P-_.length+1).join(L)+_};function nr(w,_){var P=function(){};P.prototype=_.prototype,w.prototype=new P,w.prototype.constructor=w,w.superclass=_.prototype,_.prototype.constructor==Object.prototype.constructor&&(_.prototype.constructor=_)}V!==void 0&&V||(n.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:T.algo.MD5,sha1:T.algo.SHA1,sha224:T.algo.SHA224,sha256:T.algo.SHA256,sha384:T.algo.SHA384,sha512:T.algo.SHA512,ripemd160:T.algo.RIPEMD160},this.getDigestInfoHex=function(w,_){if(this.DIGESTINFOHEAD[_]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+_;return this.DIGESTINFOHEAD[_]+w},this.getPaddedDigestInfoHex=function(w,_,P){var L=this.getDigestInfoHex(w,_),G=P/4;if(L.length+22>G)throw"key is too short for SigAlg: keylen="+P+","+_;for(var ie="0001",de="00"+L,W="",Z=G-ie.length-de.length,te=0;te<Z;te+=2)W+="ff";return ie+W+de},this.hashString=function(w,_){return new V.crypto.MessageDigest({alg:_}).digestString(w)},this.hashHex=function(w,_){return new V.crypto.MessageDigest({alg:_}).digestHex(w)},this.sha1=function(w){return this.hashString(w,"sha1")},this.sha256=function(w){return this.hashString(w,"sha256")},this.sha256Hex=function(w){return this.hashHex(w,"sha256")},this.sha512=function(w){return this.hashString(w,"sha512")},this.sha512Hex=function(w){return this.hashHex(w,"sha512")},this.isKey=function(w){return w instanceof re||w instanceof V.crypto.DSA||w instanceof V.crypto.ECDSA}},V.crypto.Util.md5=function(w){return new V.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(w)},V.crypto.Util.ripemd160=function(w){return new V.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(w)},V.crypto.Util.SECURERANDOMGEN=new je,V.crypto.Util.getRandomHexOfNbytes=function(w){var _=new Array(w);return V.crypto.Util.SECURERANDOMGEN.nextBytes(_),Rt(_)},V.crypto.Util.getRandomBigIntegerOfNbytes=function(w){return new O(V.crypto.Util.getRandomHexOfNbytes(w),16)},V.crypto.Util.getRandomHexOfNbits=function(w){var _=w%8,P=new Array((w-_)/8+1);return V.crypto.Util.SECURERANDOMGEN.nextBytes(P),P[0]=(255<<_&255^255)&P[0],Rt(P)},V.crypto.Util.getRandomBigIntegerOfNbits=function(w){return new O(V.crypto.Util.getRandomHexOfNbits(w),16)},V.crypto.Util.getRandomBigIntegerZeroToMax=function(w){for(var _=w.bitLength();;){var P=V.crypto.Util.getRandomBigIntegerOfNbits(_);if(w.compareTo(P)!=-1)return P}},V.crypto.Util.getRandomBigIntegerMinToMax=function(w,_){var P=w.compareTo(_);if(P==1)throw"biMin is greater than biMax";if(P==0)return w;var L=_.subtract(w);return V.crypto.Util.getRandomBigIntegerZeroToMax(L).add(w)},V.crypto.MessageDigest=function(w){this.setAlgAndProvider=function(_,P){if((_=V.crypto.MessageDigest.getCanonicalAlgName(_))!==null&&P===void 0&&(P=V.crypto.Util.DEFAULTPROVIDER[_]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(_)!=-1&&P=="cryptojs"){try{this.md=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[_].create()}catch(L){throw"setAlgAndProvider hash alg set fail alg="+_+"/"+L}this.updateString=function(L){this.md.update(L)},this.updateHex=function(L){var G=T.enc.Hex.parse(L);this.md.update(G)},this.digest=function(){return this.md.finalize().toString(T.enc.Hex)},this.digestString=function(L){return this.updateString(L),this.digest()},this.digestHex=function(L){return this.updateHex(L),this.digest()}}if(":sha256:".indexOf(_)!=-1&&P=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(L){throw"setAlgAndProvider hash alg set fail alg="+_+"/"+L}this.updateString=function(L){this.md.update(L)},this.updateHex=function(L){var G=sjcl.codec.hex.toBits(L);this.md.update(G)},this.digest=function(){var L=this.md.finalize();return sjcl.codec.hex.fromBits(L)},this.digestString=function(L){return this.updateString(L),this.digest()},this.digestHex=function(L){return this.updateHex(L),this.digest()}}},this.updateString=function(_){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(_){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(_){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(_){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},w!==void 0&&w.alg!==void 0&&(this.algName=w.alg,w.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},V.crypto.MessageDigest.getCanonicalAlgName=function(w){return typeof w=="string"&&(w=(w=w.toLowerCase()).replace(/-/,"")),w},V.crypto.MessageDigest.getHashLength=function(w){var _=V.crypto.MessageDigest,P=_.getCanonicalAlgName(w);if(_.HASHLENGTH[P]===void 0)throw"not supported algorithm: "+w;return _.HASHLENGTH[P]},V.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},V.crypto.Mac=function(w){this.setAlgAndProvider=function(_,P){if((_=_.toLowerCase())==null&&(_="hmacsha1"),(_=_.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+_;P===void 0&&(P=V.crypto.Util.DEFAULTPROVIDER[_]),this.algProv=_+"/"+P;var L=_.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(L)!=-1&&P=="cryptojs"){try{var G=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[L];this.mac=T.algo.HMAC.create(G,this.pass)}catch(ie){throw"setAlgAndProvider hash alg set fail hashAlg="+L+"/"+ie}this.updateString=function(ie){this.mac.update(ie)},this.updateHex=function(ie){var de=T.enc.Hex.parse(ie);this.mac.update(de)},this.doFinal=function(){return this.mac.finalize().toString(T.enc.Hex)},this.doFinalString=function(ie){return this.updateString(ie),this.doFinal()},this.doFinalHex=function(ie){return this.updateHex(ie),this.doFinal()}}},this.updateString=function(_){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(_){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(_){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(_){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(_){if(typeof _=="string"){var P=_;return _.length%2!=1&&_.match(/^[0-9A-Fa-f]+$/)||(P=Zr(_)),void(this.pass=T.enc.Hex.parse(P))}if((_===void 0?"undefined":v(_))!="object")throw"KJUR.crypto.Mac unsupported password type: "+_;if(P=null,_.hex!==void 0){if(_.hex.length%2!=0||!_.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+_.hex;P=_.hex}if(_.utf8!==void 0&&(P=Qr(_.utf8)),_.rstr!==void 0&&(P=Zr(_.rstr)),_.b64!==void 0&&(P=M(_.b64)),_.b64u!==void 0&&(P=ar(_.b64u)),P==null)throw"KJUR.crypto.Mac unsupported password type: "+_;this.pass=T.enc.Hex.parse(P)},w!==void 0&&(w.pass!==void 0&&this.setPassword(w.pass),w.alg!==void 0&&(this.algName=w.alg,w.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},V.crypto.Signature=function(w){var _=null;if(this._setAlgNames=function(){var P=this.algName.match(/^(.+)with(.+)$/);P&&(this.mdAlgName=P[1].toLowerCase(),this.pubkeyAlgName=P[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(P,L){for(var G="",ie=L/4-P.length,de=0;de<ie;de++)G+="0";return G+P},this.setAlgAndProvider=function(P,L){if(this._setAlgNames(),L!="cryptojs/jsrsa")throw new Error("provider not supported: "+L);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new V.crypto.MessageDigest({alg:this.mdAlgName})}catch(G){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+G)}this.init=function(G,ie){var de=null;try{de=ie===void 0?or.getKey(G):or.getKey(G,ie)}catch(W){throw"init failed:"+W}if(de.isPrivate===!0)this.prvKey=de,this.state="SIGN";else{if(de.isPublic!==!0)throw"init failed.:"+de;this.pubKey=de,this.state="VERIFY"}},this.updateString=function(G){this.md.updateString(G)},this.updateHex=function(G){this.md.updateHex(G)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.prvKey=new V.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof re&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof re&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof V.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof V.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(G){return this.updateString(G),this.sign()},this.signHex=function(G){return this.updateHex(G),this.sign()},this.verify=function(G){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.pubKey=new V.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof re&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,G,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof re&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,G);if(V.crypto.ECDSA!==void 0&&this.pubKey instanceof V.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,G);if(V.crypto.DSA!==void 0&&this.pubKey instanceof V.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,G);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(P,L){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(P){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(P){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(P){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(P){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(P){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=w,w!==void 0&&(w.alg!==void 0&&(this.algName=w.alg,w.prov===void 0?this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=w.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),w.psssaltlen!==void 0&&(this.pssSaltLen=w.psssaltlen),w.prvkeypem!==void 0)){if(w.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{_=or.getKey(w.prvkeypem),this.init(_)}catch(P){throw"fatal error to load pem private key: "+P}}},V.crypto.Cipher=function(w){},V.crypto.Cipher.encrypt=function(w,_,P){if(_ instanceof re&&_.isPublic){var L=V.crypto.Cipher.getAlgByKeyAndName(_,P);if(L==="RSA")return _.encrypt(w);if(L==="RSAOAEP")return _.encryptOAEP(w,"sha1");var G=L.match(/^RSAOAEP(\d+)$/);if(G!==null)return _.encryptOAEP(w,"sha"+G[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+P}throw"Cipher.encrypt: unsupported key or algorithm"},V.crypto.Cipher.decrypt=function(w,_,P){if(_ instanceof re&&_.isPrivate){var L=V.crypto.Cipher.getAlgByKeyAndName(_,P);if(L==="RSA")return _.decrypt(w);if(L==="RSAOAEP")return _.decryptOAEP(w,"sha1");var G=L.match(/^RSAOAEP(\d+)$/);if(G!==null)return _.decryptOAEP(w,"sha"+G[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+P}throw"Cipher.decrypt: unsupported key or algorithm"},V.crypto.Cipher.getAlgByKeyAndName=function(w,_){if(w instanceof re){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(_)!=-1)return _;if(_==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+_}throw"getAlgByKeyAndName: not supported algorithm name: "+_},V.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},V!==void 0&&V||(n.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECDSA=function(w){var _=Error,P=O,L=X,G=V.crypto.ECDSA,ie=V.crypto.ECParameterDB,de=G.getName,W=Pe,Z=W.getVbyListEx,te=W.isASN1HEX,pe=new je;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(ge){return new P(ge.bitLength(),pe).mod(ge.subtract(P.ONE)).add(P.ONE)},this.setNamedCurve=function(ge){this.ecparams=ie.getByName(ge),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=ge},this.setPrivateKeyHex=function(ge){this.isPrivate=!0,this.prvKeyHex=ge},this.setPublicKeyHex=function(ge){this.isPublic=!0,this.pubKeyHex=ge},this.getPublicKeyXYHex=function(){var ge=this.pubKeyHex;if(ge.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var we=this.ecparams.keylen/4;if(ge.length!==2+2*we)throw"malformed public key hex length";var De={};return De.x=ge.substr(2,we),De.y=ge.substr(2+we),De},this.getShortNISTPCurveName=function(){var ge=this.curveName;return ge==="secp256r1"||ge==="NIST P-256"||ge==="P-256"||ge==="prime256v1"?"P-256":ge==="secp384r1"||ge==="NIST P-384"||ge==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var ge=this.ecparams.n,we=this.getBigRandom(ge),De=this.ecparams.G.multiply(we),Me=De.getX().toBigInteger(),Qe=De.getY().toBigInteger(),We=this.ecparams.keylen/4,oe=("0000000000"+we.toString(16)).slice(-We),Ee="04"+("0000000000"+Me.toString(16)).slice(-We)+("0000000000"+Qe.toString(16)).slice(-We);return this.setPrivateKeyHex(oe),this.setPublicKeyHex(Ee),{ecprvhex:oe,ecpubhex:Ee}},this.signWithMessageHash=function(ge){return this.signHex(ge,this.prvKeyHex)},this.signHex=function(ge,we){var De=new P(we,16),Me=this.ecparams.n,Qe=new P(ge.substring(0,this.ecparams.keylen/4),16);do var We=this.getBigRandom(Me),oe=this.ecparams.G.multiply(We).getX().toBigInteger().mod(Me);while(oe.compareTo(P.ZERO)<=0);var Ee=We.modInverse(Me).multiply(Qe.add(De.multiply(oe))).mod(Me);return G.biRSSigToASN1Sig(oe,Ee)},this.sign=function(ge,we){var De=we,Me=this.ecparams.n,Qe=P.fromByteArrayUnsigned(ge);do var We=this.getBigRandom(Me),oe=this.ecparams.G.multiply(We).getX().toBigInteger().mod(Me);while(oe.compareTo(O.ZERO)<=0);var Ee=We.modInverse(Me).multiply(Qe.add(De.multiply(oe))).mod(Me);return this.serializeSig(oe,Ee)},this.verifyWithMessageHash=function(ge,we){return this.verifyHex(ge,we,this.pubKeyHex)},this.verifyHex=function(ge,we,De){try{var Me,Qe,We=G.parseSigHex(we);Me=We.r,Qe=We.s;var oe=L.decodeFromHex(this.ecparams.curve,De),Ee=new P(ge.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Ee,Me,Qe,oe)}catch{return!1}},this.verify=function(ge,we,De){var Me,Qe,We;if(Bitcoin.Util.isArray(we)){var oe=this.parseSig(we);Me=oe.r,Qe=oe.s}else{if((we===void 0?"undefined":v(we))!=="object"||!we.r||!we.s)throw"Invalid value for signature";Me=we.r,Qe=we.s}if(De instanceof X)We=De;else{if(!Bitcoin.Util.isArray(De))throw"Invalid format for pubkey value, must be byte array or ECPointFp";We=L.decodeFrom(this.ecparams.curve,De)}var Ee=P.fromByteArrayUnsigned(ge);return this.verifyRaw(Ee,Me,Qe,We)},this.verifyRaw=function(ge,we,De,Me){var Qe=this.ecparams.n,We=this.ecparams.G;if(we.compareTo(P.ONE)<0||we.compareTo(Qe)>=0||De.compareTo(P.ONE)<0||De.compareTo(Qe)>=0)return!1;var oe=De.modInverse(Qe),Ee=ge.multiply(oe).mod(Qe),Re=we.multiply(oe).mod(Qe);return We.multiply(Ee).add(Me.multiply(Re)).getX().toBigInteger().mod(Qe).equals(we)},this.serializeSig=function(ge,we){var De=ge.toByteArraySigned(),Me=we.toByteArraySigned(),Qe=[];return Qe.push(2),Qe.push(De.length),(Qe=Qe.concat(De)).push(2),Qe.push(Me.length),(Qe=Qe.concat(Me)).unshift(Qe.length),Qe.unshift(48),Qe},this.parseSig=function(ge){var we;if(ge[0]!=48)throw new Error("Signature not a valid DERSequence");if(ge[we=2]!=2)throw new Error("First element in signature must be a DERInteger");var De=ge.slice(we+2,we+2+ge[we+1]);if(ge[we+=2+ge[we+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var Me=ge.slice(we+2,we+2+ge[we+1]);return we+=2+ge[we+1],{r:P.fromByteArrayUnsigned(De),s:P.fromByteArrayUnsigned(Me)}},this.parseSigCompact=function(ge){if(ge.length!==65)throw"Signature has the wrong length";var we=ge[0]-27;if(we<0||we>7)throw"Invalid signature type";var De=this.ecparams.n;return{r:P.fromByteArrayUnsigned(ge.slice(1,33)).mod(De),s:P.fromByteArrayUnsigned(ge.slice(33,65)).mod(De),i:we}},this.readPKCS5PrvKeyHex=function(ge){if(te(ge)===!1)throw new Error("not ASN.1 hex string");var we,De,Me;try{we=Z(ge,0,["[0]",0],"06"),De=Z(ge,0,[1],"04");try{Me=Z(ge,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=de(we),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(Me),this.setPrivateKeyHex(De),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(ge){if(te(ge)===!1)throw new _("not ASN.1 hex string");var we,De,Me;try{Z(ge,0,[1,0],"06"),we=Z(ge,0,[1,1],"06"),De=Z(ge,0,[2,0,1],"04");try{Me=Z(ge,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new _("malformed PKCS#8 plain ECC private key")}if(this.curveName=de(we),this.curveName===void 0)throw new _("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Me),this.setPrivateKeyHex(De),this.isPublic=!1},this.readPKCS8PubKeyHex=function(ge){if(te(ge)===!1)throw new _("not ASN.1 hex string");var we,De;try{Z(ge,0,[0,0],"06"),we=Z(ge,0,[0,1],"06"),De=Z(ge,0,[1],"03")}catch{throw new _("malformed PKCS#8 ECC public key")}if(this.curveName=de(we),this.curveName===null)throw new _("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(De)},this.readCertPubKeyHex=function(ge,we){if(te(ge)===!1)throw new _("not ASN.1 hex string");var De,Me;try{De=Z(ge,0,[0,5,0,1],"06"),Me=Z(ge,0,[0,5,1],"03")}catch{throw new _("malformed X.509 certificate ECC public key")}if(this.curveName=de(De),this.curveName===null)throw new _("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Me)},w!==void 0&&w.curve!==void 0&&(this.curveName=w.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),w!==void 0&&(w.prv!==void 0&&this.setPrivateKeyHex(w.prv),w.pub!==void 0&&this.setPublicKeyHex(w.pub))},V.crypto.ECDSA.parseSigHex=function(w){var _=V.crypto.ECDSA.parseSigHexInHexRS(w);return{r:new O(_.r,16),s:new O(_.s,16)}},V.crypto.ECDSA.parseSigHexInHexRS=function(w){var _=Pe,P=_.getChildIdx,L=_.getV;if(_.checkStrictDER(w,0),w.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var G=P(w,0);if(G.length!=2)throw new Error("signature shall have two elements");var ie=G[0],de=G[1];if(w.substr(ie,2)!="02")throw new Error("1st item not ASN.1 integer");if(w.substr(de,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:L(w,ie),s:L(w,de)}},V.crypto.ECDSA.asn1SigToConcatSig=function(w){var _=V.crypto.ECDSA.parseSigHexInHexRS(w),P=_.r,L=_.s;if(P.substr(0,2)=="00"&&P.length%32==2&&(P=P.substr(2)),L.substr(0,2)=="00"&&L.length%32==2&&(L=L.substr(2)),P.length%32==30&&(P="00"+P),L.length%32==30&&(L="00"+L),P.length%32!=0)throw"unknown ECDSA sig r length error";if(L.length%32!=0)throw"unknown ECDSA sig s length error";return P+L},V.crypto.ECDSA.concatSigToASN1Sig=function(w){if(w.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var _=w.substr(0,w.length/2),P=w.substr(w.length/2);return V.crypto.ECDSA.hexRSSigToASN1Sig(_,P)},V.crypto.ECDSA.hexRSSigToASN1Sig=function(w,_){var P=new O(w,16),L=new O(_,16);return V.crypto.ECDSA.biRSSigToASN1Sig(P,L)},V.crypto.ECDSA.biRSSigToASN1Sig=function(w,_){var P=V.asn1,L=new P.DERInteger({bigint:w}),G=new P.DERInteger({bigint:_});return new P.DERSequence({array:[L,G]}).getEncodedHex()},V.crypto.ECDSA.getName=function(w){return w==="2b8104001f"?"secp192k1":w==="2a8648ce3d030107"?"secp256r1":w==="2b8104000a"?"secp256k1":w==="2b81040021"?"secp224r1":w==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(w)!==-1?"secp256r1":"|secp256k1|".indexOf(w)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(w)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(w)!==-1?"secp384r1":null},V!==void 0&&V||(n.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECParameterDB=new function(){var w={},_={};function P(L){return new O(L,16)}this.getByName=function(L){var G=L;if(_[G]!==void 0&&(G=_[L]),w[G]!==void 0)return w[G];throw"unregistered EC curve name: "+G},this.regist=function(L,G,ie,de,W,Z,te,pe,ge,we,De,Me){w[L]={};var Qe=P(ie),We=P(de),oe=P(W),Ee=P(Z),Re=P(te),Ce=new $(Qe,We,oe),Ge=Ce.decodePointHex("04"+pe+ge);w[L].name=L,w[L].keylen=G,w[L].curve=Ce,w[L].G=Ge,w[L].n=Ee,w[L].h=Re,w[L].oid=De,w[L].info=Me;for(var Ye=0;Ye<we.length;Ye++)_[we[Ye]]=L}},V.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),V.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),V.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),V.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),V.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),V.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),V.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),V.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var or=function(){var w=function(te,pe,ge){return _(T.AES,te,pe,ge)},_=function(te,pe,ge,we){var De=T.enc.Hex.parse(pe),Me=T.enc.Hex.parse(ge),Qe=T.enc.Hex.parse(we),We={};We.key=Me,We.iv=Qe,We.ciphertext=De;var oe=te.decrypt(We,Me,{iv:Qe});return T.enc.Hex.stringify(oe)},P=function(te,pe,ge){return L(T.AES,te,pe,ge)},L=function(te,pe,ge,we){var De=T.enc.Hex.parse(pe),Me=T.enc.Hex.parse(ge),Qe=T.enc.Hex.parse(we),We=te.encrypt(De,Me,{iv:Qe}),oe=T.enc.Hex.parse(We.toString());return T.enc.Base64.stringify(oe)},G={"AES-256-CBC":{proc:w,eproc:P,keylen:32,ivlen:16},"AES-192-CBC":{proc:w,eproc:P,keylen:24,ivlen:16},"AES-128-CBC":{proc:w,eproc:P,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(te,pe,ge){return _(T.TripleDES,te,pe,ge)},eproc:function(te,pe,ge){return L(T.TripleDES,te,pe,ge)},keylen:24,ivlen:8},"DES-CBC":{proc:function(te,pe,ge){return _(T.DES,te,pe,ge)},eproc:function(te,pe,ge){return L(T.DES,te,pe,ge)},keylen:8,ivlen:8}},ie=function(te){var pe={},ge=te.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));ge&&(pe.cipher=ge[1],pe.ivsalt=ge[2]);var we=te.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));we&&(pe.type=we[1]);var De=-1,Me=0;te.indexOf(`\r
\r
`)!=-1&&(De=te.indexOf(`\r
\r
`),Me=2),te.indexOf(`

`)!=-1&&(De=te.indexOf(`

`),Me=1);var Qe=te.indexOf("-----END");if(De!=-1&&Qe!=-1){var We=te.substring(De+2*Me,Qe-Me);We=We.replace(/\s+/g,""),pe.data=We}return pe},de=function(te,pe,ge){for(var we=ge.substring(0,16),De=T.enc.Hex.parse(we),Me=T.enc.Utf8.parse(pe),Qe=G[te].keylen+G[te].ivlen,We="",oe=null;;){var Ee=T.algo.MD5.create();if(oe!=null&&Ee.update(oe),Ee.update(Me),Ee.update(De),oe=Ee.finalize(),(We+=T.enc.Hex.stringify(oe)).length>=2*Qe)break}var Re={};return Re.keyhex=We.substr(0,2*G[te].keylen),Re.ivhex=We.substr(2*G[te].keylen,2*G[te].ivlen),Re},W=function(te,pe,ge,we){var De=T.enc.Base64.parse(te),Me=T.enc.Hex.stringify(De);return(0,G[pe].proc)(Me,ge,we)};return{version:"1.0.0",parsePKCS5PEM:function(te){return ie(te)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(te,pe,ge){return de(te,pe,ge)},decryptKeyB64:function(te,pe,ge,we){return W(te,pe,ge,we)},getDecryptedKeyHex:function(te,pe){var ge=ie(te),we=ge.cipher,De=ge.ivsalt,Me=ge.data,Qe=de(we,pe,De).keyhex;return W(Me,we,Qe,De)},getEncryptedPKCS5PEMFromPrvKeyHex:function(te,pe,ge,we,De){var Me="";if(we!==void 0&&we!=null||(we="AES-256-CBC"),G[we]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+we);De!==void 0&&De!=null||(De=function(oe){var Ee=T.lib.WordArray.random(oe);return T.enc.Hex.stringify(Ee)}(G[we].ivlen).toUpperCase());var Qe=function(oe,Ee,Re,Ce){return(0,G[Ee].eproc)(oe,Re,Ce)}(pe,we,de(we,ge,De).keyhex,De);return Me="-----BEGIN "+te+` PRIVATE KEY-----\r
`,Me+=`Proc-Type: 4,ENCRYPTED\r
`,Me+="DEK-Info: "+we+","+De+`\r
`,Me+=`\r
`,Me+=Qe.replace(/(.{64})/g,`$1\r
`),Me+=`\r
-----END `+te+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(te){var pe=Pe,ge=pe.getChildIdx,we=pe.getV,De={},Me=ge(te,0);if(Me.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+Me.length);De.ciphertext=we(te,Me[1]);var Qe=ge(te,Me[0]);if(Qe.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+Qe.length);if(we(te,Qe[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var We=ge(te,Qe[1]);if(Qe.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+We.length);var oe=ge(te,We[1]);if(oe.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+oe.length);if(we(te,oe[0])!="2a864886f70d0307")throw"this only supports TripleDES";De.encryptionSchemeAlg="TripleDES",De.encryptionSchemeIV=we(te,oe[1]);var Ee=ge(te,We[0]);if(Ee.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+Ee.length);if(we(te,Ee[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Re=ge(te,Ee[1]);if(Re.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Re.length);De.pbkdf2Salt=we(te,Re[0]);var Ce=we(te,Re[1]);try{De.pbkdf2Iter=parseInt(Ce,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ce)}return De},getPBKDF2KeyHexFromParam:function(te,pe){var ge=T.enc.Hex.parse(te.pbkdf2Salt),we=te.pbkdf2Iter,De=T.PBKDF2(pe,ge,{keySize:6,iterations:we});return T.enc.Hex.stringify(De)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(te,pe){var ge=ut(te,"ENCRYPTED PRIVATE KEY"),we=this.parseHexOfEncryptedPKCS8(ge),De=or.getPBKDF2KeyHexFromParam(we,pe),Me={};Me.ciphertext=T.enc.Hex.parse(we.ciphertext);var Qe=T.enc.Hex.parse(De),We=T.enc.Hex.parse(we.encryptionSchemeIV),oe=T.TripleDES.decrypt(Me,Qe,{iv:We});return T.enc.Hex.stringify(oe)},getKeyFromEncryptedPKCS8PEM:function(te,pe){var ge=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(te,pe);return this.getKeyFromPlainPrivatePKCS8Hex(ge)},parsePlainPrivatePKCS8Hex:function(te){var pe=Pe,ge=pe.getChildIdx,we=pe.getV,De={algparam:null};if(te.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var Me=ge(te,0);if(Me.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(te.substr(Me[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var Qe=ge(te,Me[1]);if(Qe.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(te.substr(Qe[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(De.algoid=we(te,Qe[0]),te.substr(Qe[1],2)=="06"&&(De.algparam=we(te,Qe[1])),te.substr(Me[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return De.keyidx=pe.getVidx(te,Me[2]),De},getKeyFromPlainPrivatePKCS8PEM:function(te){var pe=ut(te,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(pe)},getKeyFromPlainPrivatePKCS8Hex:function(te){var pe,ge=this.parsePlainPrivatePKCS8Hex(te);if(ge.algoid=="2a864886f70d010101")pe=new re;else if(ge.algoid=="2a8648ce380401")pe=new V.crypto.DSA;else{if(ge.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");pe=new V.crypto.ECDSA}return pe.readPKCS8PrvKeyHex(te),pe},_getKeyFromPublicPKCS8Hex:function(te){var pe,ge=Pe.getVbyList(te,0,[0,0],"06");if(ge==="2a864886f70d010101")pe=new re;else if(ge==="2a8648ce380401")pe=new V.crypto.DSA;else{if(ge!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");pe=new V.crypto.ECDSA}return pe.readPKCS8PubKeyHex(te),pe},parsePublicRawRSAKeyHex:function(te){var pe=Pe,ge=pe.getChildIdx,we=pe.getV,De={};if(te.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var Me=ge(te,0);if(Me.length!=2)throw new Error("malformed RSA key(code:002)");if(te.substr(Me[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(De.n=we(te,Me[0]),te.substr(Me[1],2)!="02")throw new Error("malformed RSA key(code:004)");return De.e=we(te,Me[1]),De},parsePublicPKCS8Hex:function(te){var pe=Pe,ge=pe.getChildIdx,we=pe.getV,De={algparam:null},Me=ge(te,0);if(Me.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+Me.length);var Qe=Me[0];if(te.substr(Qe,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var We=ge(te,Qe);if(We.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(te.substr(We[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(De.algoid=we(te,We[0]),te.substr(We[1],2)=="06"?De.algparam=we(te,We[1]):te.substr(We[1],2)=="30"&&(De.algparam={},De.algparam.p=pe.getVbyList(te,We[1],[0],"02"),De.algparam.q=pe.getVbyList(te,We[1],[1],"02"),De.algparam.g=pe.getVbyList(te,We[1],[2],"02")),te.substr(Me[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return De.key=we(te,Me[1]).substr(2),De}}}();or.getKey=function(w,_,P){var L=(We=Pe).getChildIdx,G=(We.getV,We.getVbyList),ie=V.crypto,de=ie.ECDSA,W=ie.DSA,Z=re,te=ut,pe=or;if(Z!==void 0&&w instanceof Z||de!==void 0&&w instanceof de||W!==void 0&&w instanceof W)return w;if(w.curve!==void 0&&w.xy!==void 0&&w.d===void 0)return new de({pub:w.xy,curve:w.curve});if(w.curve!==void 0&&w.d!==void 0)return new de({prv:w.d,curve:w.curve});if(w.kty===void 0&&w.n!==void 0&&w.e!==void 0&&w.d===void 0)return($t=new Z).setPublic(w.n,w.e),$t;if(w.kty===void 0&&w.n!==void 0&&w.e!==void 0&&w.d!==void 0&&w.p!==void 0&&w.q!==void 0&&w.dp!==void 0&&w.dq!==void 0&&w.co!==void 0&&w.qi===void 0)return($t=new Z).setPrivateEx(w.n,w.e,w.d,w.p,w.q,w.dp,w.dq,w.co),$t;if(w.kty===void 0&&w.n!==void 0&&w.e!==void 0&&w.d!==void 0&&w.p===void 0)return($t=new Z).setPrivate(w.n,w.e,w.d),$t;if(w.p!==void 0&&w.q!==void 0&&w.g!==void 0&&w.y!==void 0&&w.x===void 0)return($t=new W).setPublic(w.p,w.q,w.g,w.y),$t;if(w.p!==void 0&&w.q!==void 0&&w.g!==void 0&&w.y!==void 0&&w.x!==void 0)return($t=new W).setPrivate(w.p,w.q,w.g,w.y,w.x),$t;if(w.kty==="RSA"&&w.n!==void 0&&w.e!==void 0&&w.d===void 0)return($t=new Z).setPublic(ar(w.n),ar(w.e)),$t;if(w.kty==="RSA"&&w.n!==void 0&&w.e!==void 0&&w.d!==void 0&&w.p!==void 0&&w.q!==void 0&&w.dp!==void 0&&w.dq!==void 0&&w.qi!==void 0)return($t=new Z).setPrivateEx(ar(w.n),ar(w.e),ar(w.d),ar(w.p),ar(w.q),ar(w.dp),ar(w.dq),ar(w.qi)),$t;if(w.kty==="RSA"&&w.n!==void 0&&w.e!==void 0&&w.d!==void 0)return($t=new Z).setPrivate(ar(w.n),ar(w.e),ar(w.d)),$t;if(w.kty==="EC"&&w.crv!==void 0&&w.x!==void 0&&w.y!==void 0&&w.d===void 0){var ge=(xt=new de({curve:w.crv})).ecparams.keylen/4,we="04"+("0000000000"+ar(w.x)).slice(-ge)+("0000000000"+ar(w.y)).slice(-ge);return xt.setPublicKeyHex(we),xt}if(w.kty==="EC"&&w.crv!==void 0&&w.x!==void 0&&w.y!==void 0&&w.d!==void 0){ge=(xt=new de({curve:w.crv})).ecparams.keylen/4,we="04"+("0000000000"+ar(w.x)).slice(-ge)+("0000000000"+ar(w.y)).slice(-ge);var De=("0000000000"+ar(w.d)).slice(-ge);return xt.setPublicKeyHex(we),xt.setPrivateKeyHex(De),xt}if(P==="pkcs5prv"){var Me,Qe=w,We=Pe;if((Me=L(Qe,0)).length===9)($t=new Z).readPKCS5PrvKeyHex(Qe);else if(Me.length===6)($t=new W).readPKCS5PrvKeyHex(Qe);else{if(!(Me.length>2&&Qe.substr(Me[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");($t=new de).readPKCS5PrvKeyHex(Qe)}return $t}if(P==="pkcs8prv")return $t=pe.getKeyFromPlainPrivatePKCS8Hex(w);if(P==="pkcs8pub")return pe._getKeyFromPublicPKCS8Hex(w);if(P==="x509pub")return Wr.getPublicKeyFromCertHex(w);if(w.indexOf("-END CERTIFICATE-",0)!=-1||w.indexOf("-END X509 CERTIFICATE-",0)!=-1||w.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Wr.getPublicKeyFromCertPEM(w);if(w.indexOf("-END PUBLIC KEY-")!=-1){var oe=ut(w,"PUBLIC KEY");return pe._getKeyFromPublicPKCS8Hex(oe)}if(w.indexOf("-END RSA PRIVATE KEY-")!=-1&&w.indexOf("4,ENCRYPTED")==-1){var Ee=te(w,"RSA PRIVATE KEY");return pe.getKey(Ee,null,"pkcs5prv")}if(w.indexOf("-END DSA PRIVATE KEY-")!=-1&&w.indexOf("4,ENCRYPTED")==-1){var Re=G(Vr=te(w,"DSA PRIVATE KEY"),0,[1],"02"),Ce=G(Vr,0,[2],"02"),Ge=G(Vr,0,[3],"02"),Ye=G(Vr,0,[4],"02"),At=G(Vr,0,[5],"02");return($t=new W).setPrivate(new O(Re,16),new O(Ce,16),new O(Ge,16),new O(Ye,16),new O(At,16)),$t}if(w.indexOf("-END EC PRIVATE KEY-")!=-1&&w.indexOf("4,ENCRYPTED")==-1)return Ee=te(w,"EC PRIVATE KEY"),pe.getKey(Ee,null,"pkcs5prv");if(w.indexOf("-END PRIVATE KEY-")!=-1)return pe.getKeyFromPlainPrivatePKCS8PEM(w);if(w.indexOf("-END RSA PRIVATE KEY-")!=-1&&w.indexOf("4,ENCRYPTED")!=-1){var it=pe.getDecryptedKeyHex(w,_),ir=new re;return ir.readPKCS5PrvKeyHex(it),ir}if(w.indexOf("-END EC PRIVATE KEY-")!=-1&&w.indexOf("4,ENCRYPTED")!=-1){var xt,$t=G(Vr=pe.getDecryptedKeyHex(w,_),0,[1],"04"),Ht=G(Vr,0,[2,0],"06"),mr=G(Vr,0,[3,0],"03").substr(2);if(V.crypto.OID.oidhex2name[Ht]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+Ht);return(xt=new de({curve:V.crypto.OID.oidhex2name[Ht]})).setPublicKeyHex(mr),xt.setPrivateKeyHex($t),xt.isPublic=!1,xt}if(w.indexOf("-END DSA PRIVATE KEY-")!=-1&&w.indexOf("4,ENCRYPTED")!=-1){var Vr;return Re=G(Vr=pe.getDecryptedKeyHex(w,_),0,[1],"02"),Ce=G(Vr,0,[2],"02"),Ge=G(Vr,0,[3],"02"),Ye=G(Vr,0,[4],"02"),At=G(Vr,0,[5],"02"),($t=new W).setPrivate(new O(Re,16),new O(Ce,16),new O(Ge,16),new O(Ye,16),new O(At,16)),$t}if(w.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return pe.getKeyFromEncryptedPKCS8PEM(w,_);throw new Error("not supported argument")},or.generateKeypair=function(w,_){if(w=="RSA"){var P=_;(de=new re).generate(P,"10001"),de.isPrivate=!0,de.isPublic=!0;var L=new re,G=de.n.toString(16),ie=de.e.toString(16);return L.setPublic(G,ie),L.isPrivate=!1,L.isPublic=!0,(W={}).prvKeyObj=de,W.pubKeyObj=L,W}if(w=="EC"){var de,W,Z=_,te=new V.crypto.ECDSA({curve:Z}).generateKeyPairHex();return(de=new V.crypto.ECDSA({curve:Z})).setPublicKeyHex(te.ecpubhex),de.setPrivateKeyHex(te.ecprvhex),de.isPrivate=!0,de.isPublic=!1,(L=new V.crypto.ECDSA({curve:Z})).setPublicKeyHex(te.ecpubhex),L.isPrivate=!1,L.isPublic=!0,(W={}).prvKeyObj=de,W.pubKeyObj=L,W}throw new Error("unknown algorithm: "+w)},or.getPEM=function(w,_,P,L,G,ie){var de=V,W=de.asn1,Z=W.DERObjectIdentifier,te=W.DERInteger,pe=W.ASN1Util.newObject,ge=W.x509.SubjectPublicKeyInfo,we=de.crypto,De=we.DSA,Me=we.ECDSA,Qe=re;function We(xt){return pe({seq:[{int:0},{int:{bigint:xt.n}},{int:xt.e},{int:{bigint:xt.d}},{int:{bigint:xt.p}},{int:{bigint:xt.q}},{int:{bigint:xt.dmp1}},{int:{bigint:xt.dmq1}},{int:{bigint:xt.coeff}}]})}function oe(xt){return pe({seq:[{int:1},{octstr:{hex:xt.prvKeyHex}},{tag:["a0",!0,{oid:{name:xt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+xt.pubKeyHex}}]}]})}function Ee(xt){return pe({seq:[{int:0},{int:{bigint:xt.p}},{int:{bigint:xt.q}},{int:{bigint:xt.g}},{int:{bigint:xt.y}},{int:{bigint:xt.x}}]})}if((Qe!==void 0&&w instanceof Qe||De!==void 0&&w instanceof De||Me!==void 0&&w instanceof Me)&&w.isPublic==1&&(_===void 0||_=="PKCS8PUB"))return Ve(Ye=new ge(w).getEncodedHex(),"PUBLIC KEY");if(_=="PKCS1PRV"&&Qe!==void 0&&w instanceof Qe&&(P===void 0||P==null)&&w.isPrivate==1)return Ve(Ye=We(w).getEncodedHex(),"RSA PRIVATE KEY");if(_=="PKCS1PRV"&&Me!==void 0&&w instanceof Me&&(P===void 0||P==null)&&w.isPrivate==1){var Re=new Z({name:w.curveName}).getEncodedHex(),Ce=oe(w).getEncodedHex(),Ge="";return Ge+=Ve(Re,"EC PARAMETERS"),Ge+=Ve(Ce,"EC PRIVATE KEY")}if(_=="PKCS1PRV"&&De!==void 0&&w instanceof De&&(P===void 0||P==null)&&w.isPrivate==1)return Ve(Ye=Ee(w).getEncodedHex(),"DSA PRIVATE KEY");if(_=="PKCS5PRV"&&Qe!==void 0&&w instanceof Qe&&P!==void 0&&P!=null&&w.isPrivate==1){var Ye=We(w).getEncodedHex();return L===void 0&&(L="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",Ye,P,L,ie)}if(_=="PKCS5PRV"&&Me!==void 0&&w instanceof Me&&P!==void 0&&P!=null&&w.isPrivate==1)return Ye=oe(w).getEncodedHex(),L===void 0&&(L="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",Ye,P,L,ie);if(_=="PKCS5PRV"&&De!==void 0&&w instanceof De&&P!==void 0&&P!=null&&w.isPrivate==1)return Ye=Ee(w).getEncodedHex(),L===void 0&&(L="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",Ye,P,L,ie);var At=function($t,Ht){var mr=it($t,Ht);return new pe({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:mr.pbkdf2Salt}},{int:mr.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:mr.encryptionSchemeIV}}]}]}]},{octstr:{hex:mr.ciphertext}}]}).getEncodedHex()},it=function($t,Ht){var mr=T.lib.WordArray.random(8),Vr=T.lib.WordArray.random(8),si=T.PBKDF2(Ht,mr,{keySize:6,iterations:100}),xi=T.enc.Hex.parse($t),Fi=T.TripleDES.encrypt(xi,si,{iv:Vr})+"",un={};return un.ciphertext=Fi,un.pbkdf2Salt=T.enc.Hex.stringify(mr),un.pbkdf2Iter=100,un.encryptionSchemeAlg="DES-EDE3-CBC",un.encryptionSchemeIV=T.enc.Hex.stringify(Vr),un};if(_=="PKCS8PRV"&&Qe!=null&&w instanceof Qe&&w.isPrivate==1){var ir=We(w).getEncodedHex();return Ye=pe({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:ir}}]}).getEncodedHex(),P===void 0||P==null?Ve(Ye,"PRIVATE KEY"):Ve(Ce=At(Ye,P),"ENCRYPTED PRIVATE KEY")}if(_=="PKCS8PRV"&&Me!==void 0&&w instanceof Me&&w.isPrivate==1)return ir=new pe({seq:[{int:1},{octstr:{hex:w.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+w.pubKeyHex}}]}]}).getEncodedHex(),Ye=pe({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:w.curveName}}]},{octstr:{hex:ir}}]}).getEncodedHex(),P===void 0||P==null?Ve(Ye,"PRIVATE KEY"):Ve(Ce=At(Ye,P),"ENCRYPTED PRIVATE KEY");if(_=="PKCS8PRV"&&De!==void 0&&w instanceof De&&w.isPrivate==1)return ir=new te({bigint:w.x}).getEncodedHex(),Ye=pe({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:w.p}},{int:{bigint:w.q}},{int:{bigint:w.g}}]}]},{octstr:{hex:ir}}]}).getEncodedHex(),P===void 0||P==null?Ve(Ye,"PRIVATE KEY"):Ve(Ce=At(Ye,P),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},or.getKeyFromCSRPEM=function(w){var _=ut(w,"CERTIFICATE REQUEST");return or.getKeyFromCSRHex(_)},or.getKeyFromCSRHex=function(w){var _=or.parseCSRHex(w);return or.getKey(_.p8pubkeyhex,null,"pkcs8pub")},or.parseCSRHex=function(w){var _=Pe,P=_.getChildIdx,L=_.getTLV,G={},ie=w;if(ie.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var de=P(ie,0);if(de.length<1)throw new Error("malformed CSR(code:002)");if(ie.substr(de[0],2)!="30")throw new Error("malformed CSR(code:003)");var W=P(ie,de[0]);if(W.length<3)throw new Error("malformed CSR(code:004)");return G.p8pubkeyhex=L(ie,W[2]),G},or.getKeyID=function(w){var _=or,P=Pe;typeof w=="string"&&w.indexOf("BEGIN ")!=-1&&(w=_.getKey(w));var L=ut(_.getPEM(w)),G=P.getIdxbyList(L,0,[1]),ie=P.getV(L,G).substring(2);return V.crypto.Util.hashHex(ie,"sha1")},or.getJWKFromKey=function(w){var _={};if(w instanceof re&&w.isPrivate)return _.kty="RSA",_.n=gr(w.n.toString(16)),_.e=gr(w.e.toString(16)),_.d=gr(w.d.toString(16)),_.p=gr(w.p.toString(16)),_.q=gr(w.q.toString(16)),_.dp=gr(w.dmp1.toString(16)),_.dq=gr(w.dmq1.toString(16)),_.qi=gr(w.coeff.toString(16)),_;if(w instanceof re&&w.isPublic)return _.kty="RSA",_.n=gr(w.n.toString(16)),_.e=gr(w.e.toString(16)),_;if(w instanceof V.crypto.ECDSA&&w.isPrivate){if((L=w.getShortNISTPCurveName())!=="P-256"&&L!=="P-384")throw new Error("unsupported curve name for JWT: "+L);var P=w.getPublicKeyXYHex();return _.kty="EC",_.crv=L,_.x=gr(P.x),_.y=gr(P.y),_.d=gr(w.prvKeyHex),_}if(w instanceof V.crypto.ECDSA&&w.isPublic){var L;if((L=w.getShortNISTPCurveName())!=="P-256"&&L!=="P-384")throw new Error("unsupported curve name for JWT: "+L);return P=w.getPublicKeyXYHex(),_.kty="EC",_.crv=L,_.x=gr(P.x),_.y=gr(P.y),_}throw new Error("not supported key object")},re.getPosArrayOfChildrenFromHex=function(w){return Pe.getChildIdx(w,0)},re.getHexValueArrayOfChildrenFromHex=function(w){var _,P=Pe.getV,L=P(w,(_=re.getPosArrayOfChildrenFromHex(w))[0]),G=P(w,_[1]),ie=P(w,_[2]),de=P(w,_[3]),W=P(w,_[4]),Z=P(w,_[5]),te=P(w,_[6]),pe=P(w,_[7]),ge=P(w,_[8]);return(_=new Array).push(L,G,ie,de,W,Z,te,pe,ge),_},re.prototype.readPrivateKeyFromPEMString=function(w){var _=ut(w),P=re.getHexValueArrayOfChildrenFromHex(_);this.setPrivateEx(P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8])},re.prototype.readPKCS5PrvKeyHex=function(w){var _=re.getHexValueArrayOfChildrenFromHex(w);this.setPrivateEx(_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8])},re.prototype.readPKCS8PrvKeyHex=function(w){var _,P,L,G,ie,de,W,Z,te=Pe,pe=te.getVbyListEx;if(te.isASN1HEX(w)===!1)throw new Error("not ASN.1 hex string");try{_=pe(w,0,[2,0,1],"02"),P=pe(w,0,[2,0,2],"02"),L=pe(w,0,[2,0,3],"02"),G=pe(w,0,[2,0,4],"02"),ie=pe(w,0,[2,0,5],"02"),de=pe(w,0,[2,0,6],"02"),W=pe(w,0,[2,0,7],"02"),Z=pe(w,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(_,P,L,G,ie,de,W,Z)},re.prototype.readPKCS5PubKeyHex=function(w){var _=Pe,P=_.getV;if(_.isASN1HEX(w)===!1)throw new Error("keyHex is not ASN.1 hex string");var L=_.getChildIdx(w,0);if(L.length!==2||w.substr(L[0],2)!=="02"||w.substr(L[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var G=P(w,L[0]),ie=P(w,L[1]);this.setPublic(G,ie)},re.prototype.readPKCS8PubKeyHex=function(w){var _=Pe;if(_.isASN1HEX(w)===!1)throw new Error("not ASN.1 hex string");if(_.getTLVbyListEx(w,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var P=_.getTLVbyListEx(w,0,[1,0]);this.readPKCS5PubKeyHex(P)},re.prototype.readCertPubKeyHex=function(w,_){var P,L;(P=new Wr).readCertHex(w),L=P.getPublicKeyHex(),this.readPKCS8PubKeyHex(L)};function Ra(w,_){for(var P="",L=_/4-w.length,G=0;G<L;G++)P+="0";return P+w}function hr(w,_,P){for(var L="",G=0;L.length<_;)L+=Ur(P(Zr(w+String.fromCharCode.apply(String,[(4278190080&G)>>24,(16711680&G)>>16,(65280&G)>>8,255&G])))),G+=1;return L}function Ss(w){for(var _ in V.crypto.Util.DIGESTINFOHEAD){var P=V.crypto.Util.DIGESTINFOHEAD[_],L=P.length;if(w.substring(0,L)==P)return[_,w.substring(L)]}return[]}function Wr(w){var _,P=Pe,L=P.getChildIdx,G=P.getV,ie=P.getTLV,de=P.getVbyList,W=P.getVbyListEx,Z=P.getTLVbyList,te=P.getTLVbyListEx,pe=P.getIdxbyList,ge=P.getIdxbyListEx,we=P.getVidx,De=P.getInt,Me=P.oidname,Qe=P.hextooidstr,We=ut;try{_=V.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var oe=Z(this.hex,0,[0,0]);if(oe.substr(0,2)=="a0"){var Ee=Z(oe,0,[0]),Re=De(Ee,0);if(Re<0||2<Re)throw new Error("malformed version field");return this.version=Re+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return W(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var oe=te(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(oe)},this.getAlgorithmIdentifierName=function(oe){for(var Ee in _)if(oe===_[Ee])return Ee;return Me(W(oe,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return Z(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return Z(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var oe=de(this.hex,0,[0,4+this.foffset,0]);return oe=oe.replace(/(..)/g,"%$1"),oe=decodeURIComponent(oe)},this.getNotAfter=function(){var oe=de(this.hex,0,[0,4+this.foffset,1]);return oe=oe.replace(/(..)/g,"%$1"),oe=decodeURIComponent(oe)},this.getPublicKeyHex=function(){return P.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return pe(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var oe=this.getPublicKeyIdx();return pe(this.hex,oe,[1,0],"30")},this.getPublicKey=function(){return or.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var oe=Z(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(oe)},this.getSignatureValueHex=function(){return de(this.hex,0,[2],"03",!0)},this.verifySignature=function(oe){var Ee=this.getSignatureAlgorithmField(),Re=this.getSignatureValueHex(),Ce=Z(this.hex,0,[0],"30"),Ge=new V.crypto.Signature({alg:Ee});return Ge.init(oe),Ge.updateHex(Ce),Ge.verify(Re)},this.parseExt=function(oe){var Ee,Re,Ce;if(oe===void 0){if(Ce=this.hex,this.version!==3)return-1;Ee=pe(Ce,0,[0,7,0],"30"),Re=L(Ce,Ee)}else{Ce=ut(oe);var Ge=pe(Ce,0,[0,3,0,0],"06");if(G(Ce,Ge)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);Ee=pe(Ce,0,[0,3,0,1,0],"30"),Re=L(Ce,Ee),this.hex=Ce}this.aExtInfo=new Array;for(var Ye=0;Ye<Re.length;Ye++){var At={critical:!1},it=0;L(Ce,Re[Ye]).length===3&&(At.critical=!0,it=1),At.oid=P.hextooidstr(de(Ce,Re[Ye],[0],"06"));var ir=pe(Ce,Re[Ye],[1+it]);At.vidx=we(Ce,ir),this.aExtInfo.push(At)}},this.getExtInfo=function(oe){var Ee=this.aExtInfo,Re=oe;if(oe.match(/^[0-9.]+$/)||(Re=V.asn1.x509.OID.name2oid(oe)),Re!==""){for(var Ce=0;Ce<Ee.length;Ce++)if(Ee[Ce].oid===Re)return Ee[Ce]}},this.getExtBasicConstraints=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("basicConstraints");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"basicConstraints"};if(Ee&&(Ce.critical=!0),oe==="3000")return Ce;if(oe==="30030101ff")return Ce.cA=!0,Ce;if(oe.substr(0,12)==="30060101ff02"){var Ge=G(oe,10),Ye=parseInt(Ge,16);return Ce.cA=!0,Ce.pathLen=Ye,Ce}throw new Error("hExtV parse error: "+oe)},this.getExtKeyUsage=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("keyUsage");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"keyUsage"};return Ee&&(Ce.critical=!0),Ce.names=this.getExtKeyUsageString(oe).split(","),Ce},this.getExtKeyUsageBin=function(oe){if(oe===void 0){var Ee=this.getExtInfo("keyUsage");if(Ee===void 0)return"";oe=ie(this.hex,Ee.vidx)}if(oe.length!=8&&oe.length!=10)throw new Error("malformed key usage value: "+oe);var Re="000000000000000"+parseInt(oe.substr(6),16).toString(2);return oe.length==8&&(Re=Re.slice(-8)),oe.length==10&&(Re=Re.slice(-16)),(Re=Re.replace(/0+$/,""))==""&&(Re="0"),Re},this.getExtKeyUsageString=function(oe){for(var Ee=this.getExtKeyUsageBin(oe),Re=new Array,Ce=0;Ce<Ee.length;Ce++)Ee.substr(Ce,1)=="1"&&Re.push(Wr.KEYUSAGE_NAME[Ce]);return Re.join(",")},this.getExtSubjectKeyIdentifier=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("subjectKeyIdentifier");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"subjectKeyIdentifier"};Ee&&(Ce.critical=!0);var Ge=G(oe,0);return Ce.kid={hex:Ge},Ce},this.getExtAuthorityKeyIdentifier=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("authorityKeyIdentifier");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"authorityKeyIdentifier"};Ee&&(Ce.critical=!0);for(var Ge=L(oe,0),Ye=0;Ye<Ge.length;Ye++){var At=oe.substr(Ge[Ye],2);if(At==="80"&&(Ce.kid={hex:G(oe,Ge[Ye])}),At==="a1"){var it=ie(oe,Ge[Ye]),ir=this.getGeneralNames(it);Ce.issuer=ir[0].dn}At==="82"&&(Ce.sn={hex:G(oe,Ge[Ye])})}return Ce},this.getExtExtKeyUsage=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("extKeyUsage");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"extKeyUsage",array:[]};Ee&&(Ce.critical=!0);for(var Ge=L(oe,0),Ye=0;Ye<Ge.length;Ye++)Ce.array.push(Me(G(oe,Ge[Ye])));return Ce},this.getExtExtKeyUsageName=function(){var oe=this.getExtInfo("extKeyUsage");if(oe===void 0)return oe;var Ee=new Array,Re=ie(this.hex,oe.vidx);if(Re==="")return Ee;for(var Ce=L(Re,0),Ge=0;Ge<Ce.length;Ge++)Ee.push(Me(G(Re,Ce[Ge])));return Ee},this.getExtSubjectAltName=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("subjectAltName");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"subjectAltName",array:[]};return Ee&&(Ce.critical=!0),Ce.array=this.getGeneralNames(oe),Ce},this.getExtIssuerAltName=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("issuerAltName");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"issuerAltName",array:[]};return Ee&&(Ce.critical=!0),Ce.array=this.getGeneralNames(oe),Ce},this.getGeneralNames=function(oe){for(var Ee=L(oe,0),Re=[],Ce=0;Ce<Ee.length;Ce++){var Ge=this.getGeneralName(ie(oe,Ee[Ce]));Ge!==void 0&&Re.push(Ge)}return Re},this.getGeneralName=function(oe){var Ee=oe.substr(0,2),Re=G(oe,0),Ce=Ur(Re);return Ee=="81"?{rfc822:Ce}:Ee=="82"?{dns:Ce}:Ee=="86"?{uri:Ce}:Ee=="87"?{ip:Tr(Re)}:Ee=="a4"?{dn:this.getX500Name(Re)}:void 0},this.getExtSubjectAltName2=function(){var oe,Ee,Re,Ce=this.getExtInfo("subjectAltName");if(Ce===void 0)return Ce;for(var Ge=new Array,Ye=ie(this.hex,Ce.vidx),At=L(Ye,0),it=0;it<At.length;it++)Re=Ye.substr(At[it],2),oe=G(Ye,At[it]),Re==="81"&&(Ee=yr(oe),Ge.push(["MAIL",Ee])),Re==="82"&&(Ee=yr(oe),Ge.push(["DNS",Ee])),Re==="84"&&(Ee=Wr.hex2dn(oe,0),Ge.push(["DN",Ee])),Re==="86"&&(Ee=yr(oe),Ge.push(["URI",Ee])),Re==="87"&&(Ee=Tr(oe),Ge.push(["IP",Ee]));return Ge},this.getExtCRLDistributionPoints=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("cRLDistributionPoints");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"cRLDistributionPoints",array:[]};Ee&&(Ce.critical=!0);for(var Ge=L(oe,0),Ye=0;Ye<Ge.length;Ye++){var At=ie(oe,Ge[Ye]);Ce.array.push(this.getDistributionPoint(At))}return Ce},this.getDistributionPoint=function(oe){for(var Ee={},Re=L(oe,0),Ce=0;Ce<Re.length;Ce++){var Ge=oe.substr(Re[Ce],2),Ye=ie(oe,Re[Ce]);Ge=="a0"&&(Ee.dpname=this.getDistributionPointName(Ye))}return Ee},this.getDistributionPointName=function(oe){for(var Ee={},Re=L(oe,0),Ce=0;Ce<Re.length;Ce++){var Ge=oe.substr(Re[Ce],2),Ye=ie(oe,Re[Ce]);Ge=="a0"&&(Ee.full=this.getGeneralNames(Ye))}return Ee},this.getExtCRLDistributionPointsURI=function(){var oe=this.getExtInfo("cRLDistributionPoints");if(oe===void 0)return oe;for(var Ee=new Array,Re=L(this.hex,oe.vidx),Ce=0;Ce<Re.length;Ce++)try{var Ge=yr(de(this.hex,Re[Ce],[0,0,0],"86"));Ee.push(Ge)}catch{}return Ee},this.getExtAIAInfo=function(){var oe=this.getExtInfo("authorityInfoAccess");if(oe===void 0)return oe;for(var Ee={ocsp:[],caissuer:[]},Re=L(this.hex,oe.vidx),Ce=0;Ce<Re.length;Ce++){var Ge=de(this.hex,Re[Ce],[0],"06"),Ye=de(this.hex,Re[Ce],[1],"86");Ge==="2b06010505073001"&&Ee.ocsp.push(yr(Ye)),Ge==="2b06010505073002"&&Ee.caissuer.push(yr(Ye))}return Ee},this.getExtAuthorityInfoAccess=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("authorityInfoAccess");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"authorityInfoAccess",array:[]};Ee&&(Ce.critical=!0);for(var Ge=L(oe,0),Ye=0;Ye<Ge.length;Ye++){var At=W(oe,Ge[Ye],[0],"06"),it=yr(de(oe,Ge[Ye],[1],"86"));if(At=="2b06010505073001")Ce.array.push({ocsp:it});else{if(At!="2b06010505073002")throw new Error("unknown method: "+At);Ce.array.push({caissuer:it})}}return Ce},this.getExtCertificatePolicies=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("certificatePolicies");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"certificatePolicies",array:[]};Ee&&(Ce.critical=!0);for(var Ge=L(oe,0),Ye=0;Ye<Ge.length;Ye++){var At=ie(oe,Ge[Ye]),it=this.getPolicyInformation(At);Ce.array.push(it)}return Ce},this.getPolicyInformation=function(oe){var Ee={},Re=de(oe,0,[0],"06");Ee.policyoid=Me(Re);var Ce=ge(oe,0,[1],"30");if(Ce!=-1){Ee.array=[];for(var Ge=L(oe,Ce),Ye=0;Ye<Ge.length;Ye++){var At=ie(oe,Ge[Ye]),it=this.getPolicyQualifierInfo(At);Ee.array.push(it)}}return Ee},this.getPolicyQualifierInfo=function(oe){var Ee={},Re=de(oe,0,[0],"06");if(Re==="2b06010505070201"){var Ce=W(oe,0,[1],"16");Ee.cps=Ur(Ce)}else if(Re==="2b06010505070202"){var Ge=Z(oe,0,[1],"30");Ee.unotice=this.getUserNotice(Ge)}return Ee},this.getUserNotice=function(oe){for(var Ee={},Re=L(oe,0),Ce=0;Ce<Re.length;Ce++){var Ge=ie(oe,Re[Ce]);Ge.substr(0,2)!="30"&&(Ee.exptext=this.getDisplayText(Ge))}return Ee},this.getDisplayText=function(oe){var Ee={};return Ee.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[oe.substr(0,2)],Ee.str=Ur(G(oe,0)),Ee},this.getExtCRLNumber=function(oe,Ee){var Re={extname:"cRLNumber"};if(Ee&&(Re.critical=!0),oe.substr(0,2)=="02")return Re.num={hex:G(oe,0)},Re;throw new Error("hExtV parse error: "+oe)},this.getExtCRLReason=function(oe,Ee){var Re={extname:"cRLReason"};if(Ee&&(Re.critical=!0),oe.substr(0,2)=="0a")return Re.code=parseInt(G(oe,0),16),Re;throw new Error("hExtV parse error: "+oe)},this.getExtOcspNonce=function(oe,Ee){var Re={extname:"ocspNonce"};Ee&&(Re.critical=!0);var Ce=G(oe,0);return Re.hex=Ce,Re},this.getExtOcspNoCheck=function(oe,Ee){var Re={extname:"ocspNoCheck"};return Ee&&(Re.critical=!0),Re},this.getExtAdobeTimeStamp=function(oe,Ee){if(oe===void 0&&Ee===void 0){var Re=this.getExtInfo("adobeTimeStamp");if(Re===void 0)return;oe=ie(this.hex,Re.vidx),Ee=Re.critical}var Ce={extname:"adobeTimeStamp"};Ee&&(Ce.critical=!0);var Ge=L(oe,0);if(Ge.length>1){var Ye=ie(oe,Ge[1]),At=this.getGeneralName(Ye);At.uri!=null&&(Ce.uri=At.uri)}if(Ge.length>2){var it=ie(oe,Ge[2]);it=="0101ff"&&(Ce.reqauth=!0),it=="010100"&&(Ce.reqauth=!1)}return Ce},this.getX500NameRule=function(oe){for(var Ee=null,Re=[],Ce=0;Ce<oe.length;Ce++)for(var Ge=oe[Ce],Ye=0;Ye<Ge.length;Ye++)Re.push(Ge[Ye]);for(Ce=0;Ce<Re.length;Ce++){var At=Re[Ce],it=At.ds,ir=At.value,xt=At.type;if(it!="prn"&&it!="utf8"&&it!="ia5")return"mixed";if(it=="ia5"){if(xt!="CN")return"mixed";if(V.lang.String.isMail(ir))continue;return"mixed"}if(xt=="C"){if(it=="prn")continue;return"mixed"}if(Ee==null)Ee=it;else if(Ee!==it)return"mixed"}return Ee??"prn"},this.getX500Name=function(oe){var Ee=this.getX500NameArray(oe);return{array:Ee,str:this.dnarraytostr(Ee)}},this.getX500NameArray=function(oe){for(var Ee=[],Re=L(oe,0),Ce=0;Ce<Re.length;Ce++)Ee.push(this.getRDN(ie(oe,Re[Ce])));return Ee},this.getRDN=function(oe){for(var Ee=[],Re=L(oe,0),Ce=0;Ce<Re.length;Ce++)Ee.push(this.getAttrTypeAndValue(ie(oe,Re[Ce])));return Ee},this.getAttrTypeAndValue=function(oe){var Ee={type:null,value:null,ds:null},Re=L(oe,0),Ce=de(oe,Re[0],[],"06"),Ge=de(oe,Re[1],[]),Ye=V.asn1.ASN1Util.oidHexToInt(Ce);return Ee.type=V.asn1.x509.OID.oid2atype(Ye),Ee.ds=this.HEX2STAG[oe.substr(Re[1],2)],Ee.ds!="bmp"?Ee.value=yr(Ge):Ee.value=qt(Ge),Ee},this.readCertPEM=function(oe){this.readCertHex(We(oe))},this.readCertHex=function(oe){this.hex=oe,this.getVersion();try{pe(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var oe={};return oe.version=this.getVersion(),oe.serial={hex:this.getSerialNumberHex()},oe.sigalg=this.getSignatureAlgorithmField(),oe.issuer=this.getIssuer(),oe.notbefore=this.getNotBefore(),oe.notafter=this.getNotAfter(),oe.subject=this.getSubject(),oe.sbjpubkey=Ve(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(oe.ext=this.getExtParamArray()),oe.sighex=this.getSignatureValueHex(),oe},this.getExtParamArray=function(oe){oe==null&&ge(this.hex,0,[0,"[3]"])!=-1&&(oe=te(this.hex,0,[0,"[3]",0],"30"));for(var Ee=[],Re=L(oe,0),Ce=0;Ce<Re.length;Ce++){var Ge=ie(oe,Re[Ce]),Ye=this.getExtParam(Ge);Ye!=null&&Ee.push(Ye)}return Ee},this.getExtParam=function(oe){var Ee=L(oe,0).length;if(Ee!=2&&Ee!=3)throw new Error("wrong number elements in Extension: "+Ee+" "+oe);var Re=Qe(de(oe,0,[0],"06")),Ce=!1;Ee==3&&Z(oe,0,[1])=="0101ff"&&(Ce=!0);var Ge=Z(oe,0,[Ee-1,0]),Ye=void 0;if(Re=="2.5.29.14"?Ye=this.getExtSubjectKeyIdentifier(Ge,Ce):Re=="2.5.29.15"?Ye=this.getExtKeyUsage(Ge,Ce):Re=="2.5.29.17"?Ye=this.getExtSubjectAltName(Ge,Ce):Re=="2.5.29.18"?Ye=this.getExtIssuerAltName(Ge,Ce):Re=="2.5.29.19"?Ye=this.getExtBasicConstraints(Ge,Ce):Re=="2.5.29.31"?Ye=this.getExtCRLDistributionPoints(Ge,Ce):Re=="2.5.29.32"?Ye=this.getExtCertificatePolicies(Ge,Ce):Re=="2.5.29.35"?Ye=this.getExtAuthorityKeyIdentifier(Ge,Ce):Re=="2.5.29.37"?Ye=this.getExtExtKeyUsage(Ge,Ce):Re=="1.3.6.1.5.5.7.1.1"?Ye=this.getExtAuthorityInfoAccess(Ge,Ce):Re=="2.5.29.20"?Ye=this.getExtCRLNumber(Ge,Ce):Re=="2.5.29.21"?Ye=this.getExtCRLReason(Ge,Ce):Re=="1.3.6.1.5.5.7.48.1.2"?Ye=this.getExtOcspNonce(Ge,Ce):Re=="1.3.6.1.5.5.7.48.1.5"?Ye=this.getExtOcspNoCheck(Ge,Ce):Re=="1.2.840.113583.1.1.9.1"&&(Ye=this.getExtAdobeTimeStamp(Ge,Ce)),Ye!=null)return Ye;var At={extname:Re,extn:Ge};return Ce&&(At.critical=!0),At},this.findExt=function(oe,Ee){for(var Re=0;Re<oe.length;Re++)if(oe[Re].extname==Ee)return oe[Re];return null},this.updateExtCDPFullURI=function(oe,Ee){var Re=this.findExt(oe,"cRLDistributionPoints");if(Re!=null&&Re.array!=null){for(var Ce=Re.array,Ge=0;Ge<Ce.length;Ge++)if(Ce[Ge].dpname!=null&&Ce[Ge].dpname.full!=null)for(var Ye=Ce[Ge].dpname.full,At=0;At<Ye.length;At++){var it=Ye[Ge];it.uri!=null&&(it.uri=Ee)}}},this.updateExtAIAOCSP=function(oe,Ee){var Re=this.findExt(oe,"authorityInfoAccess");if(Re!=null&&Re.array!=null)for(var Ce=Re.array,Ge=0;Ge<Ce.length;Ge++)Ce[Ge].ocsp!=null&&(Ce[Ge].ocsp=Ee)},this.updateExtAIACAIssuer=function(oe,Ee){var Re=this.findExt(oe,"authorityInfoAccess");if(Re!=null&&Re.array!=null)for(var Ce=Re.array,Ge=0;Ge<Ce.length;Ge++)Ce[Ge].caissuer!=null&&(Ce[Ge].caissuer=Ee)},this.dnarraytostr=function(oe){return"/"+oe.map(function(Ee){return function(Ce){return Ce.map(function(Ge){return function(At){return At.type+"="+At.value}(Ge).replace(/\+/,"\\+")}).join("+")}(Ee).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var oe,Ee,Re,Ce=function(si){return JSON.stringify(si.array).replace(/[\[\]\{\}\"]/g,"")},Ge=function(si){for(var xi="",Fi=si.array,un=0;un<Fi.length;un++){var pi=Fi[un];if(xi+="    policy oid: "+pi.policyoid+`
`,pi.array!==void 0)for(var Li=0;Li<pi.array.length;Li++){var zi=pi.array[Li];zi.cps!==void 0&&(xi+="    cps: "+zi.cps+`
`)}}return xi},Ye=function(si){for(var xi="",Fi=si.array,un=0;un<Fi.length;un++){var pi=Fi[un];try{pi.dpname.full[0].uri!==void 0&&(xi+="    "+pi.dpname.full[0].uri+`
`)}catch{}try{pi.dname.full[0].dn.hex!==void 0&&(xi+="    "+Wr.hex2dn(pi.dpname.full[0].dn.hex)+`
`)}catch{}}return xi},At=function(si){for(var xi="",Fi=si.array,un=0;un<Fi.length;un++){var pi=Fi[un];pi.caissuer!==void 0&&(xi+="    caissuer: "+pi.caissuer+`
`),pi.ocsp!==void 0&&(xi+="    ocsp: "+pi.ocsp+`
`)}return xi};if(oe=`Basic Fields
`,oe+="  serial number: "+this.getSerialNumberHex()+`
`,oe+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,oe+="  issuer: "+this.getIssuerString()+`
`,oe+="  notBefore: "+this.getNotBefore()+`
`,oe+="  notAfter: "+this.getNotAfter()+`
`,oe+="  subject: "+this.getSubjectString()+`
`,oe+=`  subject public key info: 
`,oe+="    key algorithm: "+(Ee=this.getPublicKey()).type+`
`,Ee.type==="RSA"&&(oe+="    n="+St(Ee.n.toString(16)).substr(0,16)+`...
`,oe+="    e="+St(Ee.e.toString(16))+`
`),(Re=this.aExtInfo)!=null){oe+=`X509v3 Extensions:
`;for(var it=0;it<Re.length;it++){var ir=Re[it],xt=V.asn1.x509.OID.oid2name(ir.oid);xt===""&&(xt=ir.oid);var $t="";if(ir.critical===!0&&($t="CRITICAL"),oe+="  "+xt+" "+$t+`:
`,xt==="basicConstraints"){var Ht=this.getExtBasicConstraints();Ht.cA===void 0?oe+=`    {}
`:(oe+="    cA=true",Ht.pathLen!==void 0&&(oe+=", pathLen="+Ht.pathLen),oe+=`
`)}else if(xt==="keyUsage")oe+="    "+this.getExtKeyUsageString()+`
`;else if(xt==="subjectKeyIdentifier")oe+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(xt==="authorityKeyIdentifier"){var mr=this.getExtAuthorityKeyIdentifier();mr.kid!==void 0&&(oe+="    kid="+mr.kid.hex+`
`)}else xt==="extKeyUsage"?oe+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:xt==="subjectAltName"?oe+="    "+Ce(this.getExtSubjectAltName())+`
`:xt==="cRLDistributionPoints"?oe+=Ye(this.getExtCRLDistributionPoints()):xt==="authorityInfoAccess"?oe+=At(this.getExtAuthorityInfoAccess()):xt==="certificatePolicies"&&(oe+=Ge(this.getExtCertificatePolicies()))}}return oe+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,oe+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof w=="string"&&(w.indexOf("-----BEGIN")!=-1?this.readCertPEM(w):V.lang.String.isHex(w)&&this.readCertHex(w))}re.prototype.sign=function(w,_){var P=function(G){return V.crypto.Util.hashString(G,_)}(w);return this.signWithMessageHash(P,_)},re.prototype.signWithMessageHash=function(w,_){var P=$e(V.crypto.Util.getPaddedDigestInfoHex(w,_,this.n.bitLength()),16);return Ra(this.doPrivate(P).toString(16),this.n.bitLength())},re.prototype.signPSS=function(w,_,P){var L=function(ie){return V.crypto.Util.hashHex(ie,_)}(Zr(w));return P===void 0&&(P=-1),this.signWithMessageHashPSS(L,_,P)},re.prototype.signWithMessageHashPSS=function(w,_,P){var L,G=Ur(w),ie=G.length,de=this.n.bitLength()-1,W=Math.ceil(de/8),Z=function(oe){return V.crypto.Util.hashHex(oe,_)};if(P===-1||P===void 0)P=ie;else if(P===-2)P=W-ie-2;else if(P<-2)throw new Error("invalid salt length");if(W<ie+P+2)throw new Error("data too long");var te="";P>0&&(te=new Array(P),new je().nextBytes(te),te=String.fromCharCode.apply(String,te));var pe=Ur(Z(Zr("\0\0\0\0\0\0\0\0"+G+te))),ge=[];for(L=0;L<W-P-ie-2;L+=1)ge[L]=0;var we=String.fromCharCode.apply(String,ge)+""+te,De=hr(pe,we.length,Z),Me=[];for(L=0;L<we.length;L+=1)Me[L]=we.charCodeAt(L)^De.charCodeAt(L);var Qe=65280>>8*W-de&255;for(Me[0]&=~Qe,L=0;L<ie;L++)Me.push(pe.charCodeAt(L));return Me.push(188),Ra(this.doPrivate(new O(Me)).toString(16),this.n.bitLength())},re.prototype.verify=function(w,_){if((_=_.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var P=$e(_,16),L=this.n.bitLength();if(P.bitLength()>L)return!1;var G=this.doPublic(P).toString(16);if(G.length+3!=L/4)return!1;var ie=Ss(G.replace(/^1f+00/,""));if(ie.length==0)return!1;var de=ie[0];return ie[1]==function(Z){return V.crypto.Util.hashString(Z,de)}(w)},re.prototype.verifyWithMessageHash=function(w,_){if(_.length!=Math.ceil(this.n.bitLength()/4))return!1;var P=$e(_,16);if(P.bitLength()>this.n.bitLength())return 0;var L=Ss(this.doPublic(P).toString(16).replace(/^1f+00/,""));return L.length==0?!1:(L[0],L[1]==w)},re.prototype.verifyPSS=function(w,_,P,L){var G=function(de){return V.crypto.Util.hashHex(de,P)}(Zr(w));return L===void 0&&(L=-1),this.verifyWithMessageHashPSS(G,_,P,L)},re.prototype.verifyWithMessageHashPSS=function(w,_,P,L){if(_.length!=Math.ceil(this.n.bitLength()/4))return!1;var G,ie=new O(_,16),de=function(Re){return V.crypto.Util.hashHex(Re,P)},W=Ur(w),Z=W.length,te=this.n.bitLength()-1,pe=Math.ceil(te/8);if(L===-1||L===void 0)L=Z;else if(L===-2)L=pe-Z-2;else if(L<-2)throw new Error("invalid salt length");if(pe<Z+L+2)throw new Error("data too long");var ge=this.doPublic(ie).toByteArray();for(G=0;G<ge.length;G+=1)ge[G]&=255;for(;ge.length<pe;)ge.unshift(0);if(ge[pe-1]!==188)throw new Error("encoded message does not end in 0xbc");var we=(ge=String.fromCharCode.apply(String,ge)).substr(0,pe-Z-1),De=ge.substr(we.length,Z),Me=65280>>8*pe-te&255;if(we.charCodeAt(0)&Me)throw new Error("bits beyond keysize not zero");var Qe=hr(De,we.length,de),We=[];for(G=0;G<we.length;G+=1)We[G]=we.charCodeAt(G)^Qe.charCodeAt(G);We[0]&=~Me;var oe=pe-Z-L-2;for(G=0;G<oe;G+=1)if(We[G]!==0)throw new Error("leftmost octets not zero");if(We[oe]!==1)throw new Error("0x01 marker not found");return De===Ur(de(Zr("\0\0\0\0\0\0\0\0"+W+String.fromCharCode.apply(String,We.slice(-L)))))},re.SALT_LEN_HLEN=-1,re.SALT_LEN_MAX=-2,re.SALT_LEN_RECOVER=-2,Wr.hex2dn=function(w,_){_===void 0&&(_=0);var P=new Wr;return Pe.getTLV(w,_),P.getX500Name(w).str},Wr.hex2rdn=function(w,_){if(_===void 0&&(_=0),w.substr(_,2)!=="31")throw new Error("malformed RDN");for(var P=new Array,L=Pe.getChildIdx(w,_),G=0;G<L.length;G++)P.push(Wr.hex2attrTypeValue(w,L[G]));return(P=P.map(function(ie){return ie.replace("+","\\+")})).join("+")},Wr.hex2attrTypeValue=function(w,_){var P=Pe,L=P.getV;if(_===void 0&&(_=0),w.substr(_,2)!=="30")throw new Error("malformed attribute type and value");var G=P.getChildIdx(w,_);G.length!==2||w.substr(G[0],2);var ie=L(w,G[0]),de=V.asn1.ASN1Util.oidHexToInt(ie);return V.asn1.x509.OID.oid2atype(de)+"="+Ur(L(w,G[1]))},Wr.getPublicKeyFromCertHex=function(w){var _=new Wr;return _.readCertHex(w),_.getPublicKey()},Wr.getPublicKeyFromCertPEM=function(w){var _=new Wr;return _.readCertPEM(w),_.getPublicKey()},Wr.getPublicKeyInfoPropOfCertPEM=function(w){var _,P,L=Pe.getVbyList,G={};return G.algparam=null,(_=new Wr).readCertPEM(w),P=_.getPublicKeyHex(),G.keyhex=L(P,0,[1],"03").substr(2),G.algoid=L(P,0,[0,0],"06"),G.algoid==="2a8648ce3d0201"&&(G.algparam=L(P,0,[0,1],"06")),G},Wr.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],V!==void 0&&V||(n.KJUR=V={}),V.jws!==void 0&&V.jws||(V.jws={}),V.jws.JWS=function(){var w=V.jws.JWS.isSafeJSONString;this.parseJWS=function(_,P){if(this.parsedJWS===void 0||!P&&this.parsedJWS.sigvalH===void 0){var L=_.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(L==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var G=L[1],ie=L[2],de=L[3],W=G+"."+ie;if(this.parsedJWS={},this.parsedJWS.headB64U=G,this.parsedJWS.payloadB64U=ie,this.parsedJWS.sigvalB64U=de,this.parsedJWS.si=W,!P){var Z=ar(de),te=$e(Z,16);this.parsedJWS.sigvalH=Z,this.parsedJWS.sigvalBI=te}var pe=ke(G),ge=ke(ie);if(this.parsedJWS.headS=pe,this.parsedJWS.payloadS=ge,!w(pe,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+pe}}},V.jws.JWS.sign=function(w,_,P,L,G){var ie,de,W,Z=V,te=Z.jws.JWS,pe=te.readSafeJSONString,ge=te.isSafeJSONString,we=Z.crypto,De=(we.ECDSA,we.Mac),Me=we.Signature,Qe=JSON;if(typeof _!="string"&&(_===void 0?"undefined":v(_))!="object")throw"spHeader must be JSON string or object: "+_;if((_===void 0?"undefined":v(_))=="object"&&(de=_,ie=Qe.stringify(de)),typeof _=="string"){if(!ge(ie=_))throw"JWS Head is not safe JSON string: "+ie;de=pe(ie)}if(W=P,(P===void 0?"undefined":v(P))=="object"&&(W=Qe.stringify(P)),w!=""&&w!=null||de.alg===void 0||(w=de.alg),w!=""&&w!=null&&de.alg===void 0&&(de.alg=w,ie=Qe.stringify(de)),w!==de.alg)throw"alg and sHeader.alg doesn't match: "+w+"!="+de.alg;var We=null;if(te.jwsalg2sigalg[w]===void 0)throw"unsupported alg name: "+w;We=te.jwsalg2sigalg[w];var oe=Ie(ie)+"."+Ie(W),Ee="";if(We.substr(0,4)=="Hmac"){if(L===void 0)throw"mac key shall be specified for HS* alg";var Re=new De({alg:We,prov:"cryptojs",pass:L});Re.updateString(oe),Ee=Re.doFinal()}else if(We.indexOf("withECDSA")!=-1){(Ge=new Me({alg:We})).init(L,G),Ge.updateString(oe);var Ce=Ge.sign();Ee=V.crypto.ECDSA.asn1SigToConcatSig(Ce)}else{var Ge;We!="none"&&((Ge=new Me({alg:We})).init(L,G),Ge.updateString(oe),Ee=Ge.sign())}return oe+"."+gr(Ee)},V.jws.JWS.verify=function(w,_,P){var L,G=V,ie=G.jws.JWS,de=ie.readSafeJSONString,W=G.crypto,Z=W.ECDSA,te=W.Mac,pe=W.Signature;v(re)!==void 0&&(L=re);var ge=w.split(".");if(ge.length!==3)return!1;var we=ge[0]+"."+ge[1],De=ar(ge[2]),Me=de(ke(ge[0])),Qe=null,We=null;if(Me.alg===void 0)throw"algorithm not specified in header";if(We=(Qe=Me.alg).substr(0,2),P!=null&&Object.prototype.toString.call(P)==="[object Array]"&&P.length>0&&(":"+P.join(":")+":").indexOf(":"+Qe+":")==-1)throw"algorithm '"+Qe+"' not accepted in the list";if(Qe!="none"&&_===null)throw"key shall be specified to verify.";if(typeof _=="string"&&_.indexOf("-----BEGIN ")!=-1&&(_=or.getKey(_)),!(We!="RS"&&We!="PS"||_ instanceof L))throw"key shall be a RSAKey obj for RS* and PS* algs";if(We=="ES"&&!(_ instanceof Z))throw"key shall be a ECDSA obj for ES* algs";var oe=null;if(ie.jwsalg2sigalg[Me.alg]===void 0)throw"unsupported alg name: "+Qe;if((oe=ie.jwsalg2sigalg[Qe])=="none")throw"not supported";if(oe.substr(0,4)=="Hmac"){if(_===void 0)throw"hexadecimal key shall be specified for HMAC";var Ee=new te({alg:oe,pass:_});return Ee.updateString(we),De==Ee.doFinal()}if(oe.indexOf("withECDSA")!=-1){var Re,Ce=null;try{Ce=Z.concatSigToASN1Sig(De)}catch{return!1}return(Re=new pe({alg:oe})).init(_),Re.updateString(we),Re.verify(Ce)}return(Re=new pe({alg:oe})).init(_),Re.updateString(we),Re.verify(De)},V.jws.JWS.parse=function(w){var _,P,L,G=w.split("."),ie={};if(G.length!=2&&G.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return _=G[0],P=G[1],G.length==3&&(L=G[2]),ie.headerObj=V.jws.JWS.readSafeJSONString(ke(_)),ie.payloadObj=V.jws.JWS.readSafeJSONString(ke(P)),ie.headerPP=JSON.stringify(ie.headerObj,null,"  "),ie.payloadObj==null?ie.payloadPP=ke(P):ie.payloadPP=JSON.stringify(ie.payloadObj,null,"  "),L!==void 0&&(ie.sigHex=ar(L)),ie},V.jws.JWS.verifyJWT=function(w,_,P){var L=V.jws,G=L.JWS,ie=G.readSafeJSONString,de=G.inArray,W=G.includedArray,Z=w.split("."),te=Z[0],pe=Z[1],ge=(ar(Z[2]),ie(ke(te))),we=ie(ke(pe));if(ge.alg===void 0)return!1;if(P.alg===void 0)throw"acceptField.alg shall be specified";if(!de(ge.alg,P.alg)||we.iss!==void 0&&v(P.iss)==="object"&&!de(we.iss,P.iss)||we.sub!==void 0&&v(P.sub)==="object"&&!de(we.sub,P.sub))return!1;if(we.aud!==void 0&&v(P.aud)==="object"){if(typeof we.aud=="string"){if(!de(we.aud,P.aud))return!1}else if(v(we.aud)=="object"&&!W(we.aud,P.aud))return!1}var De=L.IntDate.getNow();return P.verifyAt!==void 0&&typeof P.verifyAt=="number"&&(De=P.verifyAt),P.gracePeriod!==void 0&&typeof P.gracePeriod=="number"||(P.gracePeriod=0),!(we.exp!==void 0&&typeof we.exp=="number"&&we.exp+P.gracePeriod<De)&&!(we.nbf!==void 0&&typeof we.nbf=="number"&&De<we.nbf-P.gracePeriod)&&!(we.iat!==void 0&&typeof we.iat=="number"&&De<we.iat-P.gracePeriod)&&(we.jti===void 0||P.jti===void 0||we.jti===P.jti)&&!!G.verify(w,_,P.alg)},V.jws.JWS.includedArray=function(w,_){var P=V.jws.JWS.inArray;if(w===null||(w===void 0?"undefined":v(w))!=="object"||typeof w.length!="number")return!1;for(var L=0;L<w.length;L++)if(!P(w[L],_))return!1;return!0},V.jws.JWS.inArray=function(w,_){if(_===null||(_===void 0?"undefined":v(_))!=="object"||typeof _.length!="number")return!1;for(var P=0;P<_.length;P++)if(_[P]==w)return!0;return!1},V.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},V.jws.JWS.isSafeJSONString=function(w,_,P){var L=null;try{return((L=U(w))===void 0?"undefined":v(L))!="object"||L.constructor===Array?0:(_&&(_[P]=L),1)}catch{return 0}},V.jws.JWS.readSafeJSONString=function(w){var _=null;try{return((_=U(w))===void 0?"undefined":v(_))!="object"||_.constructor===Array?null:_}catch{return null}},V.jws.JWS.getEncodedSignatureValueFromJWS=function(w){var _=w.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(_==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return _[1]},V.jws.JWS.getJWKthumbprint=function(w){if(w.kty!=="RSA"&&w.kty!=="EC"&&w.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var _="{";if(w.kty==="RSA"){if(typeof w.n!="string"||typeof w.e!="string")throw"wrong n and e value for RSA key";_+='"e":"'+w.e+'",',_+='"kty":"'+w.kty+'",',_+='"n":"'+w.n+'"}'}else if(w.kty==="EC"){if(typeof w.crv!="string"||typeof w.x!="string"||typeof w.y!="string")throw"wrong crv, x and y value for EC key";_+='"crv":"'+w.crv+'",',_+='"kty":"'+w.kty+'",',_+='"x":"'+w.x+'",',_+='"y":"'+w.y+'"}'}else if(w.kty==="oct"){if(typeof w.k!="string")throw"wrong k value for oct(symmetric) key";_+='"kty":"'+w.kty+'",',_+='"k":"'+w.k+'"}'}var P=Zr(_);return gr(V.crypto.Util.hashHex(P,"sha256"))},V.jws.IntDate={},V.jws.IntDate.get=function(w){var _=V.jws.IntDate,P=_.getNow,L=_.getZulu;if(w=="now")return P();if(w=="now + 1hour")return P()+3600;if(w=="now + 1day")return P()+86400;if(w=="now + 1month")return P()+2592e3;if(w=="now + 1year")return P()+31536e3;if(w.match(/Z$/))return L(w);if(w.match(/^[0-9]+$/))return parseInt(w);throw"unsupported format: "+w},V.jws.IntDate.getZulu=function(w){return nt(w)},V.jws.IntDate.getNow=function(){return~~(new Date/1e3)},V.jws.IntDate.intDate2UTCString=function(w){return new Date(1e3*w).toUTCString()},V.jws.IntDate.intDate2Zulu=function(w){var _=new Date(1e3*w);return("0000"+_.getUTCFullYear()).slice(-4)+("00"+(_.getUTCMonth()+1)).slice(-2)+("00"+_.getUTCDate()).slice(-2)+("00"+_.getUTCHours()).slice(-2)+("00"+_.getUTCMinutes()).slice(-2)+("00"+_.getUTCSeconds()).slice(-2)+"Z"},n.SecureRandom=je,n.rng_seed_time=z,n.BigInteger=O,n.RSAKey=re;var an=V.crypto.EDSA;n.EDSA=an;var Mu=V.crypto.DSA;n.DSA=Mu;var zl=V.crypto.Signature;n.Signature=zl;var ai=V.crypto.MessageDigest;n.MessageDigest=ai;var Ka=V.crypto.Mac;n.Mac=Ka;var Ei=V.crypto.Cipher;n.Cipher=Ei,n.KEYUTIL=or,n.ASN1HEX=Pe,n.X509=Wr,n.CryptoJS=T,n.b64tohex=M,n.b64toBA=N,n.stoBA=ht,n.BAtos=_t,n.BAtohex=Rt,n.stohex=Et,n.stob64=function(_){return D(Et(_))},n.stob64u=function(_){return Jt(D(Et(_)))},n.b64utos=function(_){return _t(N(Cn(_)))},n.b64tob64u=Jt,n.b64utob64=Cn,n.hex2b64=D,n.hextob64u=gr,n.b64utohex=ar,n.utf8tob64u=Ie,n.b64utoutf8=ke,n.utf8tob64=function(_){return D(Ot(bt(_)))},n.b64toutf8=function(_){return decodeURIComponent(at(M(_)))},n.utf8tohex=Qr,n.hextoutf8=yr,n.hextorstr=Ur,n.rstrtohex=Zr,n.hextob64=fa,n.hextob64nl=xr,n.b64nltohex=Ae,n.hextopem=Ve,n.pemtohex=ut,n.hextoArrayBuffer=function(_){if(_.length%2!=0)throw"input is not even length";if(_.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var P=new ArrayBuffer(_.length/2),L=new DataView(P),G=0;G<_.length/2;G++)L.setUint8(G,parseInt(_.substr(2*G,2),16));return P},n.ArrayBuffertohex=function(_){for(var P="",L=new DataView(_),G=0;G<_.byteLength;G++)P+=("00"+L.getUint8(G).toString(16)).slice(-2);return P},n.zulutomsec=Bt,n.zulutosec=nt,n.zulutodate=function(_){return new Date(Bt(_))},n.datetozulu=function(_,P,L){var G,ie=_.getUTCFullYear();if(P){if(ie<1950||2049<ie)throw"not proper year for UTCTime: "+ie;G=(""+ie).slice(-2)}else G=("000"+ie).slice(-4);if(G+=("0"+(_.getUTCMonth()+1)).slice(-2),G+=("0"+_.getUTCDate()).slice(-2),G+=("0"+_.getUTCHours()).slice(-2),G+=("0"+_.getUTCMinutes()).slice(-2),G+=("0"+_.getUTCSeconds()).slice(-2),L){var de=_.getUTCMilliseconds();de!==0&&(G+="."+(de=(de=("00"+de).slice(-3)).replace(/0+$/g,"")))}return G+="Z"},n.uricmptohex=Ot,n.hextouricmp=at,n.ipv6tohex=pt,n.hextoipv6=Ft,n.hextoip=Tr,n.iptohex=function(_){var P="malformed IP address";if(!(_=_.toLowerCase(_)).match(/^[0-9.]+$/)){if(_.match(/^[0-9a-f:]+$/)&&_.indexOf(":")!==-1)return pt(_);throw P}var L=_.split(".");if(L.length!==4)throw P;var G="";try{for(var ie=0;ie<4;ie++)G+=("0"+parseInt(L[ie]).toString(16)).slice(-2);return G}catch{throw P}},n.encodeURIComponentAll=bt,n.newline_toUnix=function(_){return _=_.replace(/\r\n/gm,`
`)},n.newline_toDos=function(_){return _=(_=_.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},n.hextoposhex=St,n.intarystrtohex=function(_){_=(_=(_=_.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return _.split(/,/).map(function(P,L,G){var ie=parseInt(P);if(ie<0||255<ie)throw"integer not in range 0-255";return("00"+ie.toString(16)).slice(-2)}).join("")}catch(P){throw"malformed integer array string: "+P}},n.strdiffidx=function(_,P){var L=_.length;_.length>P.length&&(L=P.length);for(var G=0;G<L;G++)if(_.charCodeAt(G)!=P.charCodeAt(G))return G;return _.length!=P.length?L:-1},n.KJUR=V;var Ts=V.crypto;n.crypto=Ts;var Ai=V.asn1;n.asn1=Ai;var Eo=V.jws;n.jws=Eo;var hi=V.lang;n.lang=hi}).call(this,a(28).Buffer)},function(r,n,a){(function(s){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var o=a(30),u=a(31),l=a(32);function c(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(j,b){if(c()<b)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(j=new Uint8Array(b)).__proto__=f.prototype:(j===null&&(j=new f(b)),j.length=b),j}function f(j,b,m){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(j,b,m);if(typeof j=="number"){if(typeof b=="string")throw new Error("If encoding is specified then the first argument must be a string");return g(this,j)}return h(this,j,b,m)}function h(j,b,m,C){if(typeof b=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&b instanceof ArrayBuffer?function(z,Q,ae,ce){if(Q.byteLength,ae<0||Q.byteLength<ae)throw new RangeError("'offset' is out of bounds");if(Q.byteLength<ae+(ce||0))throw new RangeError("'length' is out of bounds");return Q=ae===void 0&&ce===void 0?new Uint8Array(Q):ce===void 0?new Uint8Array(Q,ae):new Uint8Array(Q,ae,ce),f.TYPED_ARRAY_SUPPORT?(z=Q).__proto__=f.prototype:z=y(z,Q),z}(j,b,m,C):typeof b=="string"?function(z,Q,ae){if(typeof ae=="string"&&ae!==""||(ae="utf8"),!f.isEncoding(ae))throw new TypeError('"encoding" must be a valid string encoding');var ce=0|v(Q,ae),fe=(z=d(z,ce)).write(Q,ae);return fe!==ce&&(z=z.slice(0,fe)),z}(j,b,m):function(z,Q){if(f.isBuffer(Q)){var ae=0|S(Q.length);return(z=d(z,ae)).length===0||Q.copy(z,0,0,ae),z}if(Q){if(typeof ArrayBuffer<"u"&&Q.buffer instanceof ArrayBuffer||"length"in Q)return typeof Q.length!="number"||function(fe){return fe!=fe}(Q.length)?d(z,0):y(z,Q);if(Q.type==="Buffer"&&l(Q.data))return y(z,Q.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(j,b)}function p(j){if(typeof j!="number")throw new TypeError('"size" argument must be a number');if(j<0)throw new RangeError('"size" argument must not be negative')}function g(j,b){if(p(b),j=d(j,b<0?0:0|S(b)),!f.TYPED_ARRAY_SUPPORT)for(var m=0;m<b;++m)j[m]=0;return j}function y(j,b){var m=b.length<0?0:0|S(b.length);j=d(j,m);for(var C=0;C<m;C+=1)j[C]=255&b[C];return j}function S(j){if(j>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|j}function v(j,b){if(f.isBuffer(j))return j.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(j)||j instanceof ArrayBuffer))return j.byteLength;typeof j!="string"&&(j=""+j);var m=j.length;if(m===0)return 0;for(var C=!1;;)switch(b){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":case void 0:return Be(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return He(j).length;default:if(C)return Be(j).length;b=(""+b).toLowerCase(),C=!0}}function A(j,b,m){var C=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(b>>>=0))return"";for(j||(j="utf8");;)switch(j){case"hex":return se(this,b,m);case"utf8":case"utf-8":return ne(this,b,m);case"ascii":return H(this,b,m);case"latin1":case"binary":return J(this,b,m);case"base64":return Y(this,b,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,b,m);default:if(C)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),C=!0}}function E(j,b,m){var C=j[b];j[b]=j[m],j[m]=C}function T(j,b,m,C,B){if(j.length===0)return-1;if(typeof m=="string"?(C=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,isNaN(m)&&(m=B?0:j.length-1),m<0&&(m=j.length+m),m>=j.length){if(B)return-1;m=j.length-1}else if(m<0){if(!B)return-1;m=0}if(typeof b=="string"&&(b=f.from(b,C)),f.isBuffer(b))return b.length===0?-1:R(j,b,m,C,B);if(typeof b=="number")return b&=255,f.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(j,b,m):Uint8Array.prototype.lastIndexOf.call(j,b,m):R(j,[b],m,C,B);throw new TypeError("val must be string, number or Buffer")}function R(j,b,m,C,B){var z,Q=1,ae=j.length,ce=b.length;if(C!==void 0&&((C=String(C).toLowerCase())==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(j.length<2||b.length<2)return-1;Q=2,ae/=2,ce/=2,m/=2}function fe(Ke,re){return Q===1?Ke[re]:Ke.readUInt16BE(re*Q)}if(B){var be=-1;for(z=m;z<ae;z++)if(fe(j,z)===fe(b,be===-1?0:z-be)){if(be===-1&&(be=z),z-be+1===ce)return be*Q}else be!==-1&&(z-=z-be),be=-1}else for(m+ce>ae&&(m=ae-ce),z=m;z>=0;z--){for(var je=!0,$e=0;$e<ce;$e++)if(fe(j,z+$e)!==fe(b,$e)){je=!1;break}if(je)return z}return-1}function I(j,b,m,C){m=Number(m)||0;var B=j.length-m;C?(C=Number(C))>B&&(C=B):C=B;var z=b.length;if(z%2!=0)throw new TypeError("Invalid hex string");C>z/2&&(C=z/2);for(var Q=0;Q<C;++Q){var ae=parseInt(b.substr(2*Q,2),16);if(isNaN(ae))return Q;j[m+Q]=ae}return Q}function D(j,b,m,C){return ee(Be(b,j.length-m),j,m,C)}function M(j,b,m,C){return ee(function(z){for(var Q=[],ae=0;ae<z.length;++ae)Q.push(255&z.charCodeAt(ae));return Q}(b),j,m,C)}function N(j,b,m,C){return M(j,b,m,C)}function O(j,b,m,C){return ee(He(b),j,m,C)}function k(j,b,m,C){return ee(function(z,Q){for(var ae,ce,fe,be=[],je=0;je<z.length&&!((Q-=2)<0);++je)ce=(ae=z.charCodeAt(je))>>8,fe=ae%256,be.push(fe),be.push(ce);return be}(b,j.length-m),j,m,C)}function Y(j,b,m){return b===0&&m===j.length?o.fromByteArray(j):o.fromByteArray(j.slice(b,m))}function ne(j,b,m){m=Math.min(j.length,m);for(var C=[],B=b;B<m;){var z,Q,ae,ce,fe=j[B],be=null,je=fe>239?4:fe>223?3:fe>191?2:1;if(B+je<=m)switch(je){case 1:fe<128&&(be=fe);break;case 2:(192&(z=j[B+1]))==128&&(ce=(31&fe)<<6|63&z)>127&&(be=ce);break;case 3:z=j[B+1],Q=j[B+2],(192&z)==128&&(192&Q)==128&&(ce=(15&fe)<<12|(63&z)<<6|63&Q)>2047&&(ce<55296||ce>57343)&&(be=ce);break;case 4:z=j[B+1],Q=j[B+2],ae=j[B+3],(192&z)==128&&(192&Q)==128&&(192&ae)==128&&(ce=(15&fe)<<18|(63&z)<<12|(63&Q)<<6|63&ae)>65535&&ce<1114112&&(be=ce)}be===null?(be=65533,je=1):be>65535&&(be-=65536,C.push(be>>>10&1023|55296),be=56320|1023&be),C.push(be),B+=je}return function(Ke){var re=Ke.length;if(re<=q)return String.fromCharCode.apply(String,Ke);for(var le="",X=0;X<re;)le+=String.fromCharCode.apply(String,Ke.slice(X,X+=q));return le}(C)}n.Buffer=f,n.SlowBuffer=function(b){return+b!=b&&(b=0),f.alloc(+b)},n.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:function(){try{var b=new Uint8Array(1);return b.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},b.foo()===42&&typeof b.subarray=="function"&&b.subarray(1,1).byteLength===0}catch{return!1}}(),n.kMaxLength=c(),f.poolSize=8192,f._augment=function(j){return j.__proto__=f.prototype,j},f.from=function(j,b,m){return h(null,j,b,m)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(j,b,m){return function(B,z,Q,ae){return p(z),z<=0?d(B,z):Q!==void 0?typeof ae=="string"?d(B,z).fill(Q,ae):d(B,z).fill(Q):d(B,z)}(null,j,b,m)},f.allocUnsafe=function(j){return g(null,j)},f.allocUnsafeSlow=function(j){return g(null,j)},f.isBuffer=function(b){return!(b==null||!b._isBuffer)},f.compare=function(b,m){if(!f.isBuffer(b)||!f.isBuffer(m))throw new TypeError("Arguments must be Buffers");if(b===m)return 0;for(var C=b.length,B=m.length,z=0,Q=Math.min(C,B);z<Q;++z)if(b[z]!==m[z]){C=b[z],B=m[z];break}return C<B?-1:B<C?1:0},f.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(b,m){if(!l(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return f.alloc(0);var C;if(m===void 0)for(m=0,C=0;C<b.length;++C)m+=b[C].length;var B=f.allocUnsafe(m),z=0;for(C=0;C<b.length;++C){var Q=b[C];if(!f.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(B,z),z+=Q.length}return B},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var b=this.length;if(b%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<b;m+=2)E(this,m,m+1);return this},f.prototype.swap32=function(){var b=this.length;if(b%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<b;m+=4)E(this,m,m+3),E(this,m+1,m+2);return this},f.prototype.swap64=function(){var b=this.length;if(b%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<b;m+=8)E(this,m,m+7),E(this,m+1,m+6),E(this,m+2,m+5),E(this,m+3,m+4);return this},f.prototype.toString=function(){var b=0|this.length;return b===0?"":arguments.length===0?ne(this,0,b):A.apply(this,arguments)},f.prototype.equals=function(b){if(!f.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||f.compare(this,b)===0},f.prototype.inspect=function(){var b="",m=n.INSPECT_MAX_BYTES;return this.length>0&&(b=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(b+=" ... ")),"<Buffer "+b+">"},f.prototype.compare=function(b,m,C,B,z){if(!f.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),C===void 0&&(C=b?b.length:0),B===void 0&&(B=0),z===void 0&&(z=this.length),m<0||C>b.length||B<0||z>this.length)throw new RangeError("out of range index");if(B>=z&&m>=C)return 0;if(B>=z)return-1;if(m>=C)return 1;if(this===b)return 0;for(var Q=(z>>>=0)-(B>>>=0),ae=(C>>>=0)-(m>>>=0),ce=Math.min(Q,ae),fe=this.slice(B,z),be=b.slice(m,C),je=0;je<ce;++je)if(fe[je]!==be[je]){Q=fe[je],ae=be[je];break}return Q<ae?-1:ae<Q?1:0},f.prototype.includes=function(b,m,C){return this.indexOf(b,m,C)!==-1},f.prototype.indexOf=function(b,m,C){return T(this,b,m,C,!0)},f.prototype.lastIndexOf=function(b,m,C){return T(this,b,m,C,!1)},f.prototype.write=function(b,m,C,B){if(m===void 0)B="utf8",C=this.length,m=0;else if(C===void 0&&typeof m=="string")B=m,C=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(C)?(C|=0,B===void 0&&(B="utf8")):(B=C,C=void 0)}var z=this.length-m;if((C===void 0||C>z)&&(C=z),b.length>0&&(C<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var Q=!1;;)switch(B){case"hex":return I(this,b,m,C);case"utf8":case"utf-8":return D(this,b,m,C);case"ascii":return M(this,b,m,C);case"latin1":case"binary":return N(this,b,m,C);case"base64":return O(this,b,m,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,b,m,C);default:if(Q)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),Q=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var q=4096;function H(j,b,m){var C="";m=Math.min(j.length,m);for(var B=b;B<m;++B)C+=String.fromCharCode(127&j[B]);return C}function J(j,b,m){var C="";m=Math.min(j.length,m);for(var B=b;B<m;++B)C+=String.fromCharCode(j[B]);return C}function se(j,b,m){var C=j.length;(!b||b<0)&&(b=0),(!m||m<0||m>C)&&(m=C);for(var B="",z=b;z<m;++z)B+=Oe(j[z]);return B}function ue(j,b,m){for(var C=j.slice(b,m),B="",z=0;z<C.length;z+=2)B+=String.fromCharCode(C[z]+256*C[z+1]);return B}function Se(j,b,m){if(j%1!=0||j<0)throw new RangeError("offset is not uint");if(j+b>m)throw new RangeError("Trying to access beyond buffer length")}function ve(j,b,m,C,B,z){if(!f.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>B||b<z)throw new RangeError('"value" argument is out of bounds');if(m+C>j.length)throw new RangeError("Index out of range")}function Le(j,b,m,C){b<0&&(b=65535+b+1);for(var B=0,z=Math.min(j.length-m,2);B<z;++B)j[m+B]=(b&255<<8*(C?B:1-B))>>>8*(C?B:1-B)}function Xe(j,b,m,C){b<0&&(b=4294967295+b+1);for(var B=0,z=Math.min(j.length-m,4);B<z;++B)j[m+B]=b>>>8*(C?B:3-B)&255}function Ne(j,b,m,C,B,z){if(m+C>j.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function ye(j,b,m,C,B){return B||Ne(j,0,m,4),u.write(j,b,m,C,23,4),m+4}function qe(j,b,m,C,B){return B||Ne(j,0,m,8),u.write(j,b,m,C,52,8),m+8}f.prototype.slice=function(b,m){var C,B=this.length;if((b=~~b)<0?(b+=B)<0&&(b=0):b>B&&(b=B),(m=m===void 0?B:~~m)<0?(m+=B)<0&&(m=0):m>B&&(m=B),m<b&&(m=b),f.TYPED_ARRAY_SUPPORT)(C=this.subarray(b,m)).__proto__=f.prototype;else{var z=m-b;C=new f(z,void 0);for(var Q=0;Q<z;++Q)C[Q]=this[Q+b]}return C},f.prototype.readUIntLE=function(b,m,C){b|=0,m|=0,C||Se(b,m,this.length);for(var B=this[b],z=1,Q=0;++Q<m&&(z*=256);)B+=this[b+Q]*z;return B},f.prototype.readUIntBE=function(b,m,C){b|=0,m|=0,C||Se(b,m,this.length);for(var B=this[b+--m],z=1;m>0&&(z*=256);)B+=this[b+--m]*z;return B},f.prototype.readUInt8=function(b,m){return m||Se(b,1,this.length),this[b]},f.prototype.readUInt16LE=function(b,m){return m||Se(b,2,this.length),this[b]|this[b+1]<<8},f.prototype.readUInt16BE=function(b,m){return m||Se(b,2,this.length),this[b]<<8|this[b+1]},f.prototype.readUInt32LE=function(b,m){return m||Se(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]},f.prototype.readUInt32BE=function(b,m){return m||Se(b,4,this.length),16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])},f.prototype.readIntLE=function(b,m,C){b|=0,m|=0,C||Se(b,m,this.length);for(var B=this[b],z=1,Q=0;++Q<m&&(z*=256);)B+=this[b+Q]*z;return B>=(z*=128)&&(B-=Math.pow(2,8*m)),B},f.prototype.readIntBE=function(b,m,C){b|=0,m|=0,C||Se(b,m,this.length);for(var B=m,z=1,Q=this[b+--B];B>0&&(z*=256);)Q+=this[b+--B]*z;return Q>=(z*=128)&&(Q-=Math.pow(2,8*m)),Q},f.prototype.readInt8=function(b,m){return m||Se(b,1,this.length),128&this[b]?-1*(255-this[b]+1):this[b]},f.prototype.readInt16LE=function(b,m){m||Se(b,2,this.length);var C=this[b]|this[b+1]<<8;return 32768&C?4294901760|C:C},f.prototype.readInt16BE=function(b,m){m||Se(b,2,this.length);var C=this[b+1]|this[b]<<8;return 32768&C?4294901760|C:C},f.prototype.readInt32LE=function(b,m){return m||Se(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},f.prototype.readInt32BE=function(b,m){return m||Se(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},f.prototype.readFloatLE=function(b,m){return m||Se(b,4,this.length),u.read(this,b,!0,23,4)},f.prototype.readFloatBE=function(b,m){return m||Se(b,4,this.length),u.read(this,b,!1,23,4)},f.prototype.readDoubleLE=function(b,m){return m||Se(b,8,this.length),u.read(this,b,!0,52,8)},f.prototype.readDoubleBE=function(b,m){return m||Se(b,8,this.length),u.read(this,b,!1,52,8)},f.prototype.writeUIntLE=function(b,m,C,B){b=+b,m|=0,C|=0,B||ve(this,b,m,C,Math.pow(2,8*C)-1,0);var z=1,Q=0;for(this[m]=255&b;++Q<C&&(z*=256);)this[m+Q]=b/z&255;return m+C},f.prototype.writeUIntBE=function(b,m,C,B){b=+b,m|=0,C|=0,B||ve(this,b,m,C,Math.pow(2,8*C)-1,0);var z=C-1,Q=1;for(this[m+z]=255&b;--z>=0&&(Q*=256);)this[m+z]=b/Q&255;return m+C},f.prototype.writeUInt8=function(b,m,C){return b=+b,m|=0,C||ve(this,b,m,1,255,0),f.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),this[m]=255&b,m+1},f.prototype.writeUInt16LE=function(b,m,C){return b=+b,m|=0,C||ve(this,b,m,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[m]=255&b,this[m+1]=b>>>8):Le(this,b,m,!0),m+2},f.prototype.writeUInt16BE=function(b,m,C){return b=+b,m|=0,C||ve(this,b,m,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[m]=b>>>8,this[m+1]=255&b):Le(this,b,m,!1),m+2},f.prototype.writeUInt32LE=function(b,m,C){return b=+b,m|=0,C||ve(this,b,m,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[m+3]=b>>>24,this[m+2]=b>>>16,this[m+1]=b>>>8,this[m]=255&b):Xe(this,b,m,!0),m+4},f.prototype.writeUInt32BE=function(b,m,C){return b=+b,m|=0,C||ve(this,b,m,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[m]=b>>>24,this[m+1]=b>>>16,this[m+2]=b>>>8,this[m+3]=255&b):Xe(this,b,m,!1),m+4},f.prototype.writeIntLE=function(b,m,C,B){if(b=+b,m|=0,!B){var z=Math.pow(2,8*C-1);ve(this,b,m,C,z-1,-z)}var Q=0,ae=1,ce=0;for(this[m]=255&b;++Q<C&&(ae*=256);)b<0&&ce===0&&this[m+Q-1]!==0&&(ce=1),this[m+Q]=(b/ae>>0)-ce&255;return m+C},f.prototype.writeIntBE=function(b,m,C,B){if(b=+b,m|=0,!B){var z=Math.pow(2,8*C-1);ve(this,b,m,C,z-1,-z)}var Q=C-1,ae=1,ce=0;for(this[m+Q]=255&b;--Q>=0&&(ae*=256);)b<0&&ce===0&&this[m+Q+1]!==0&&(ce=1),this[m+Q]=(b/ae>>0)-ce&255;return m+C},f.prototype.writeInt8=function(b,m,C){return b=+b,m|=0,C||ve(this,b,m,1,127,-128),f.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),b<0&&(b=255+b+1),this[m]=255&b,m+1},f.prototype.writeInt16LE=function(b,m,C){return b=+b,m|=0,C||ve(this,b,m,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[m]=255&b,this[m+1]=b>>>8):Le(this,b,m,!0),m+2},f.prototype.writeInt16BE=function(b,m,C){return b=+b,m|=0,C||ve(this,b,m,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[m]=b>>>8,this[m+1]=255&b):Le(this,b,m,!1),m+2},f.prototype.writeInt32LE=function(b,m,C){return b=+b,m|=0,C||ve(this,b,m,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[m]=255&b,this[m+1]=b>>>8,this[m+2]=b>>>16,this[m+3]=b>>>24):Xe(this,b,m,!0),m+4},f.prototype.writeInt32BE=function(b,m,C){return b=+b,m|=0,C||ve(this,b,m,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),f.TYPED_ARRAY_SUPPORT?(this[m]=b>>>24,this[m+1]=b>>>16,this[m+2]=b>>>8,this[m+3]=255&b):Xe(this,b,m,!1),m+4},f.prototype.writeFloatLE=function(b,m,C){return ye(this,b,m,!0,C)},f.prototype.writeFloatBE=function(b,m,C){return ye(this,b,m,!1,C)},f.prototype.writeDoubleLE=function(b,m,C){return qe(this,b,m,!0,C)},f.prototype.writeDoubleBE=function(b,m,C){return qe(this,b,m,!1,C)},f.prototype.copy=function(b,m,C,B){if(C||(C=0),B||B===0||(B=this.length),m>=b.length&&(m=b.length),m||(m=0),B>0&&B<C&&(B=C),B===C||b.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(C<0||C>=this.length)throw new RangeError("sourceStart out of bounds");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),b.length-m<B-C&&(B=b.length-m+C);var z,Q=B-C;if(this===b&&C<m&&m<B)for(z=Q-1;z>=0;--z)b[z+m]=this[z+C];else if(Q<1e3||!f.TYPED_ARRAY_SUPPORT)for(z=0;z<Q;++z)b[z+m]=this[z+C];else Uint8Array.prototype.set.call(b,this.subarray(C,C+Q),m);return Q},f.prototype.fill=function(b,m,C,B){if(typeof b=="string"){if(typeof m=="string"?(B=m,m=0,C=this.length):typeof C=="string"&&(B=C,C=this.length),b.length===1){var z=b.charCodeAt(0);z<256&&(b=z)}if(B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!f.isEncoding(B))throw new TypeError("Unknown encoding: "+B)}else typeof b=="number"&&(b&=255);if(m<0||this.length<m||this.length<C)throw new RangeError("Out of range index");if(C<=m)return this;var Q;if(m>>>=0,C=C===void 0?this.length:C>>>0,b||(b=0),typeof b=="number")for(Q=m;Q<C;++Q)this[Q]=b;else{var ae=f.isBuffer(b)?b:Be(new f(b,B).toString()),ce=ae.length;for(Q=0;Q<C-m;++Q)this[Q+m]=ae[Q%ce]}return this};var Te=/[^+\/0-9A-Za-z-_]/g;function Oe(j){return j<16?"0"+j.toString(16):j.toString(16)}function Be(j,b){var m;b=b||1/0;for(var C=j.length,B=null,z=[],Q=0;Q<C;++Q){if((m=j.charCodeAt(Q))>55295&&m<57344){if(!B){if(m>56319){(b-=3)>-1&&z.push(239,191,189);continue}if(Q+1===C){(b-=3)>-1&&z.push(239,191,189);continue}B=m;continue}if(m<56320){(b-=3)>-1&&z.push(239,191,189),B=m;continue}m=65536+(B-55296<<10|m-56320)}else B&&(b-=3)>-1&&z.push(239,191,189);if(B=null,m<128){if((b-=1)<0)break;z.push(m)}else if(m<2048){if((b-=2)<0)break;z.push(m>>6|192,63&m|128)}else if(m<65536){if((b-=3)<0)break;z.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;z.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return z}function He(j){return o.toByteArray(function(m){if((m=function(B){return B.trim?B.trim():B.replace(/^\s+|\s+$/g,"")}(m).replace(Te,"")).length<2)return"";for(;m.length%4!=0;)m+="=";return m}(j))}function ee(j,b,m,C){for(var B=0;B<C&&!(B+m>=b.length||B>=j.length);++B)b[B+m]=j[B];return B}}).call(this,a(29))},function(r,n){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}r.exports=a},function(r,n,a){n.byteLength=function(g){var y=f(g),S=y[0],v=y[1];return 3*(S+v)/4-v},n.toByteArray=function(g){var y,S,v=f(g),A=v[0],E=v[1],T=new u(function(M,N,O){return 3*(N+O)/4-O}(0,A,E)),R=0,I=E>0?A-4:A;for(S=0;S<I;S+=4)y=o[g.charCodeAt(S)]<<18|o[g.charCodeAt(S+1)]<<12|o[g.charCodeAt(S+2)]<<6|o[g.charCodeAt(S+3)],T[R++]=y>>16&255,T[R++]=y>>8&255,T[R++]=255&y;return E===2&&(y=o[g.charCodeAt(S)]<<2|o[g.charCodeAt(S+1)]>>4,T[R++]=255&y),E===1&&(y=o[g.charCodeAt(S)]<<10|o[g.charCodeAt(S+1)]<<4|o[g.charCodeAt(S+2)]>>2,T[R++]=y>>8&255,T[R++]=255&y),T},n.fromByteArray=function(g){for(var y,S=g.length,v=S%3,A=[],E=16383,T=0,R=S-v;T<R;T+=E)A.push(h(g,T,T+E>R?R:T+E));return v===1?(y=g[S-1],A.push(s[y>>2]+s[y<<4&63]+"==")):v===2&&(y=(g[S-2]<<8)+g[S-1],A.push(s[y>>10]+s[y>>4&63]+s[y<<2&63]+"=")),A.join("")};for(var s=[],o=[],u=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,d=l.length;c<d;++c)s[c]=l[c],o[l.charCodeAt(c)]=c;function f(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=p.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function h(p,g,y){for(var S,v,A=[],E=g;E<y;E+=3)S=(p[E]<<16&16711680)+(p[E+1]<<8&65280)+(255&p[E+2]),A.push(s[(v=S)>>18&63]+s[v>>12&63]+s[v>>6&63]+s[63&v]);return A.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(r,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(a,s,o,u,l){var c,d,f=8*l-u-1,h=(1<<f)-1,p=h>>1,g=-7,y=o?l-1:0,S=o?-1:1,v=a[s+y];for(y+=S,c=v&(1<<-g)-1,v>>=-g,g+=f;g>0;c=256*c+a[s+y],y+=S,g-=8);for(d=c&(1<<-g)-1,c>>=-g,g+=u;g>0;d=256*d+a[s+y],y+=S,g-=8);if(c===0)c=1-p;else{if(c===h)return d?NaN:1/0*(v?-1:1);d+=Math.pow(2,u),c-=p}return(v?-1:1)*d*Math.pow(2,c-u)},n.write=function(a,s,o,u,l,c){var d,f,h,p=8*c-l-1,g=(1<<p)-1,y=g>>1,S=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=u?0:c-1,A=u?1:-1,E=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(f=isNaN(s)?1:0,d=g):(d=Math.floor(Math.log(s)/Math.LN2),s*(h=Math.pow(2,-d))<1&&(d--,h*=2),(s+=d+y>=1?S/h:S*Math.pow(2,1-y))*h>=2&&(d++,h/=2),d+y>=g?(f=0,d=g):d+y>=1?(f=(s*h-1)*Math.pow(2,l),d+=y):(f=s*Math.pow(2,y-1)*Math.pow(2,l),d=0));l>=8;a[o+v]=255&f,v+=A,f/=256,l-=8);for(d=d<<l|f,p+=l;p>0;a[o+v]=255&d,v+=A,d/=256,p-=8);a[o+v-A]|=128*E}},function(r,n){var a={}.toString;r.exports=Array.isArray||function(s){return a.call(s)=="[object Array]"}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(u){var l=u.jws,c=u.KeyUtil,d=u.X509,f=u.crypto,h=u.hextob64u,p=u.b64tohex,g=u.AllowedSigningAlgs;return function(){function y(){(function(v,A){if(!(v instanceof A))throw new TypeError("Cannot call a class as a function")})(this,y)}return y.parseJwt=function(v){s.Log.debug("JoseUtil.parseJwt");try{var A=l.JWS.parse(v);return{header:A.headerObj,payload:A.payloadObj}}catch(E){s.Log.error(E)}},y.validateJwt=function(v,A,E,T,R,I,D){s.Log.debug("JoseUtil.validateJwt");try{if(A.kty==="RSA")if(A.e&&A.n)A=c.getKey(A);else{if(!A.x5c||!A.x5c.length)return s.Log.error("JoseUtil.validateJwt: RSA key missing key material",A),Promise.reject(new Error("RSA key missing key material"));var M=p(A.x5c[0]);A=d.getPublicKeyFromCertHex(M)}else{if(A.kty!=="EC")return s.Log.error("JoseUtil.validateJwt: Unsupported key type",A&&A.kty),Promise.reject(new Error(A.kty));if(!(A.crv&&A.x&&A.y))return s.Log.error("JoseUtil.validateJwt: EC key missing key material",A),Promise.reject(new Error("EC key missing key material"));A=c.getKey(A)}return y._validateJwt(v,A,E,T,R,I,D)}catch(N){return s.Log.error(N&&N.message||N),Promise.reject("JWT validation failed")}},y.validateJwtAttributes=function(v,A,E,T,R,I){T||(T=0),R||(R=parseInt(Date.now()/1e3));var D=y.parseJwt(v).payload;if(!D.iss)return s.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(D.iss!==A)return s.Log.error("JoseUtil._validateJwt: Invalid issuer in token",D.iss),Promise.reject(new Error("Invalid issuer in token: "+D.iss));if(!D.aud)return s.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(D.aud===E||Array.isArray(D.aud)&&D.aud.indexOf(E)>=0))return s.Log.error("JoseUtil._validateJwt: Invalid audience in token",D.aud),Promise.reject(new Error("Invalid audience in token: "+D.aud));if(D.azp&&D.azp!==E)return s.Log.error("JoseUtil._validateJwt: Invalid azp in token",D.azp),Promise.reject(new Error("Invalid azp in token: "+D.azp));if(!I){var M=R+T,N=R-T;if(!D.iat)return s.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(M<D.iat)return s.Log.error("JoseUtil._validateJwt: iat is in the future",D.iat),Promise.reject(new Error("iat is in the future: "+D.iat));if(D.nbf&&M<D.nbf)return s.Log.error("JoseUtil._validateJwt: nbf is in the future",D.nbf),Promise.reject(new Error("nbf is in the future: "+D.nbf));if(!D.exp)return s.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(D.exp<N)return s.Log.error("JoseUtil._validateJwt: exp is in the past",D.exp),Promise.reject(new Error("exp is in the past:"+D.exp))}return Promise.resolve(D)},y._validateJwt=function(v,A,E,T,R,I,D){return y.validateJwtAttributes(v,E,T,R,I,D).then(function(M){try{return l.JWS.verify(v,A,g)?M:(s.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(N){return s.Log.error(N&&N.message||N),Promise.reject(new Error("signature validation failed"))}})},y.hashString=function(v,A){try{return f.Util.hashString(v,A)}catch(E){s.Log.error(E)}},y.hexToBase64Url=function(v){try{return h(v)}catch(A){s.Log.error(A)}},y}()};var s=a(0);r.exports=n.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SigninResponse=void 0;var s=function(){function l(c,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,d,f){return d&&l(c.prototype,d),f&&l(c,f),c}}(),o=a(3);function u(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}n.SigninResponse=function(){function l(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";u(this,l);var f=o.UrlUtility.parseUrlFragment(c,d);this.error=f.error,this.error_description=f.error_description,this.error_uri=f.error_uri,this.code=f.code,this.state=f.state,this.id_token=f.id_token,this.session_state=f.session_state,this.access_token=f.access_token,this.token_type=f.token_type,this.scope=f.scope,this.profile=void 0,this.expires_in=f.expires_in}return s(l,[{key:"expires_in",get:function(){if(this.expires_at){var d=parseInt(Date.now()/1e3);return this.expires_at-d}},set:function(d){var f=parseInt(d);if(typeof f=="number"&&f>0){var h=parseInt(Date.now()/1e3);this.expires_at=h+f}}},{key:"expired",get:function(){var d=this.expires_in;if(d!==void 0)return d<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SignoutRequest=void 0;var s=a(0),o=a(3),u=a(9);n.SignoutRequest=function l(c){var d=c.url,f=c.id_token_hint,h=c.post_logout_redirect_uri,p=c.data,g=c.extraQueryParams,y=c.request_type;if(function(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}(this,l),!d)throw s.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var S in f&&(d=o.UrlUtility.addQueryParam(d,"id_token_hint",f)),h&&(d=o.UrlUtility.addQueryParam(d,"post_logout_redirect_uri",h),p&&(this.state=new u.State({data:p,request_type:y}),d=o.UrlUtility.addQueryParam(d,"state",this.state.id))),g)d=o.UrlUtility.addQueryParam(d,S,g[S]);this.url=d}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SignoutResponse=void 0;var s=a(3);n.SignoutResponse=function o(u){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,o);var l=s.UrlUtility.parseUrlFragment(u,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.InMemoryWebStorage=void 0;var s=function(){function u(l,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,c,d){return c&&u(l.prototype,c),d&&u(l,d),l}}(),o=a(0);n.InMemoryWebStorage=function(){function u(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,u),this._data={}}return u.prototype.getItem=function(c){return o.Log.debug("InMemoryWebStorage.getItem",c),this._data[c]},u.prototype.setItem=function(c,d){o.Log.debug("InMemoryWebStorage.setItem",c),this._data[c]=d},u.prototype.removeItem=function(c){o.Log.debug("InMemoryWebStorage.removeItem",c),delete this._data[c]},u.prototype.key=function(c){return Object.getOwnPropertyNames(this._data)[c]},s(u,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),u}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.UserManager=void 0;var s=function(){function E(T,R){for(var I=0;I<R.length;I++){var D=R[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,R,I){return R&&E(T.prototype,R),I&&E(T,I),T}}(),o=a(0),u=a(10),l=a(39),c=a(15),d=a(45),f=a(47),h=a(18),p=a(8),g=a(20),y=a(11),S=a(4);function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function A(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?E:T}n.UserManager=function(E){function T(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.SilentRenewService,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.SessionMonitor,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:g.TokenRevocationClient,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:y.TokenClient,O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:S.JoseUtil;v(this,T),R instanceof l.UserManagerSettings||(R=new l.UserManagerSettings(R));var k=A(this,E.call(this,R));return k._events=new d.UserManagerEvents(R),k._silentRenewService=new I(k),k.settings.automaticSilentRenew&&(o.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),k.startSilentRenew()),k.settings.monitorSession&&(o.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),k._sessionMonitor=new D(k)),k._tokenRevocationClient=new M(k._settings),k._tokenClient=new N(k._settings),k._joseUtil=O,k}return function(I,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);I.prototype=Object.create(D&&D.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(I,D):I.__proto__=D)}(T,E),T.prototype.getUser=function(){var I=this;return this._loadUser().then(function(D){return D?(o.Log.info("UserManager.getUser: user loaded"),I._events.load(D,!1),D):(o.Log.info("UserManager.getUser: user not found in storage"),null)})},T.prototype.removeUser=function(){var I=this;return this.storeUser(null).then(function(){o.Log.info("UserManager.removeUser: user removed from storage"),I._events.unload()})},T.prototype.signinRedirect=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="si:r";var D={useReplaceToNavigate:I.useReplaceToNavigate};return this._signinStart(I,this._redirectNavigator,D).then(function(){o.Log.info("UserManager.signinRedirect: successful")})},T.prototype.signinRedirectCallback=function(I){return this._signinEnd(I||this._redirectNavigator.url).then(function(D){return D.profile&&D.profile.sub?o.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",D.profile.sub):o.Log.info("UserManager.signinRedirectCallback: no sub"),D})},T.prototype.signinPopup=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="si:p";var D=I.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return D?(I.redirect_uri=D,I.display="popup",this._signin(I,this._popupNavigator,{startUrl:D,popupWindowFeatures:I.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:I.popupWindowTarget||this.settings.popupWindowTarget}).then(function(M){return M&&(M.profile&&M.profile.sub?o.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",M.profile.sub):o.Log.info("UserManager.signinPopup: no sub")),M})):(o.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},T.prototype.signinPopupCallback=function(I){return this._signinCallback(I,this._popupNavigator).then(function(D){return D&&(D.profile&&D.profile.sub?o.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",D.profile.sub):o.Log.info("UserManager.signinPopupCallback: no sub")),D}).catch(function(D){o.Log.error(D.message)})},T.prototype.signinSilent=function(){var I=this,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return D=Object.assign({},D),this._loadUser().then(function(M){return M&&M.refresh_token?(D.refresh_token=M.refresh_token,I._useRefreshToken(D)):(D.request_type="si:s",D.id_token_hint=D.id_token_hint||I.settings.includeIdTokenInSilentRenew&&M&&M.id_token,M&&I._settings.validateSubOnSilentRenew&&(o.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",M.profile.sub),D.current_sub=M.profile.sub),I._signinSilentIframe(D))})},T.prototype._useRefreshToken=function(){var I=this,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(D).then(function(M){return M?M.access_token?I._loadUser().then(function(N){if(N){var O=Promise.resolve();return M.id_token&&(O=I._validateIdTokenFromTokenRefreshToken(N.profile,M.id_token)),O.then(function(){return o.Log.debug("UserManager._useRefreshToken: refresh token response success"),N.id_token=M.id_token||N.id_token,N.access_token=M.access_token,N.refresh_token=M.refresh_token||N.refresh_token,N.expires_in=M.expires_in,I.storeUser(N).then(function(){return I._events.load(N),N})})}return null}):(o.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(o.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},T.prototype._validateIdTokenFromTokenRefreshToken=function(I,D){var M=this;return this._metadataService.getIssuer().then(function(N){return M.settings.getEpochTime().then(function(O){return M._joseUtil.validateJwtAttributes(D,N,M._settings.client_id,M._settings.clockSkew,O).then(function(k){return k?k.sub!==I.sub?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):k.auth_time&&k.auth_time!==I.auth_time?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):k.azp&&k.azp!==I.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!k.azp&&I.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},T.prototype._signinSilentIframe=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=I.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return D?(I.redirect_uri=D,I.prompt=I.prompt||"none",this._signin(I,this._iframeNavigator,{startUrl:D,silentRequestTimeout:I.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(M){return M&&(M.profile&&M.profile.sub?o.Log.info("UserManager.signinSilent: successful, signed in sub: ",M.profile.sub):o.Log.info("UserManager.signinSilent: no sub")),M})):(o.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},T.prototype.signinSilentCallback=function(I){return this._signinCallback(I,this._iframeNavigator).then(function(D){return D&&(D.profile&&D.profile.sub?o.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",D.profile.sub):o.Log.info("UserManager.signinSilentCallback: no sub")),D})},T.prototype.signinCallback=function(I){var D=this;return this.readSigninResponseState(I).then(function(M){var N=M.state;return M.response,N.request_type==="si:r"?D.signinRedirectCallback(I):N.request_type==="si:p"?D.signinPopupCallback(I):N.request_type==="si:s"?D.signinSilentCallback(I):Promise.reject(new Error("invalid response_type in state"))})},T.prototype.signoutCallback=function(I,D){var M=this;return this.readSignoutResponseState(I).then(function(N){var O=N.state,k=N.response;return O?O.request_type==="so:r"?M.signoutRedirectCallback(I):O.request_type==="so:p"?M.signoutPopupCallback(I,D):Promise.reject(new Error("invalid response_type in state")):k})},T.prototype.querySessionStatus=function(){var I=this,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:s";var M=D.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return M?(D.redirect_uri=M,D.prompt="none",D.response_type=D.response_type||this.settings.query_status_response_type,D.scope=D.scope||"openid",D.skipUserInfo=!0,this._signinStart(D,this._iframeNavigator,{startUrl:M,silentRequestTimeout:D.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(N){return I.processSigninResponse(N.url).then(function(O){if(o.Log.debug("UserManager.querySessionStatus: got signin response"),O.session_state&&O.profile.sub)return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",O.profile.sub),{session_state:O.session_state,sub:O.profile.sub,sid:O.profile.sid};o.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(O){if(O.session_state&&I.settings.monitorAnonymousSession&&(O.message=="login_required"||O.message=="consent_required"||O.message=="interaction_required"||O.message=="account_selection_required"))return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:O.session_state};throw O})})):(o.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},T.prototype._signin=function(I,D){var M=this,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(I,D,N).then(function(O){return M._signinEnd(O.url,I)})},T.prototype._signinStart=function(I,D){var M=this,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return D.prepare(N).then(function(O){return o.Log.debug("UserManager._signinStart: got navigator window handle"),M.createSigninRequest(I).then(function(k){return o.Log.debug("UserManager._signinStart: got signin request"),N.url=k.url,N.id=k.state.id,O.navigate(N)}).catch(function(k){throw O.close&&(o.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),O.close()),k})})},T.prototype._signinEnd=function(I){var D=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(I).then(function(N){o.Log.debug("UserManager._signinEnd: got signin response");var O=new c.User(N);if(M.current_sub){if(M.current_sub!==O.profile.sub)return o.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",O.profile.sub),Promise.reject(new Error("login_required"));o.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return D.storeUser(O).then(function(){return o.Log.debug("UserManager._signinEnd: user stored"),D._events.load(O),O})})},T.prototype._signinCallback=function(I,D){o.Log.debug("UserManager._signinCallback");var M=this._settings.response_mode==="query"||!this._settings.response_mode&&p.SigninRequest.isCode(this._settings.response_type)?"?":"#";return D.callback(I,void 0,M)},T.prototype.signoutRedirect=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="so:r";var D=I.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;D&&(I.post_logout_redirect_uri=D);var M={useReplaceToNavigate:I.useReplaceToNavigate};return this._signoutStart(I,this._redirectNavigator,M).then(function(){o.Log.info("UserManager.signoutRedirect: successful")})},T.prototype.signoutRedirectCallback=function(I){return this._signoutEnd(I||this._redirectNavigator.url).then(function(D){return o.Log.info("UserManager.signoutRedirectCallback: successful"),D})},T.prototype.signoutPopup=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="so:p";var D=I.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return I.post_logout_redirect_uri=D,I.display="popup",I.post_logout_redirect_uri&&(I.state=I.state||{}),this._signout(I,this._popupNavigator,{startUrl:D,popupWindowFeatures:I.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:I.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){o.Log.info("UserManager.signoutPopup: successful")})},T.prototype.signoutPopupCallback=function(I,D){return D===void 0&&typeof I=="boolean"&&(D=I,I=null),this._popupNavigator.callback(I,D,"?").then(function(){o.Log.info("UserManager.signoutPopupCallback: successful")})},T.prototype._signout=function(I,D){var M=this,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(I,D,N).then(function(O){return M._signoutEnd(O.url)})},T.prototype._signoutStart=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=this,M=arguments[1],N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M.prepare(N).then(function(O){return o.Log.debug("UserManager._signoutStart: got navigator window handle"),D._loadUser().then(function(k){return o.Log.debug("UserManager._signoutStart: loaded current user from storage"),(D._settings.revokeAccessTokenOnSignout?D._revokeInternal(k):Promise.resolve()).then(function(){var Y=I.id_token_hint||k&&k.id_token;return Y&&(o.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),I.id_token_hint=Y),D.removeUser().then(function(){return o.Log.debug("UserManager._signoutStart: user removed, creating signout request"),D.createSignoutRequest(I).then(function(ne){return o.Log.debug("UserManager._signoutStart: got signout request"),N.url=ne.url,ne.state&&(N.id=ne.state.id),O.navigate(N)})})})}).catch(function(k){throw O.close&&(o.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),O.close()),k})})},T.prototype._signoutEnd=function(I){return this.processSignoutResponse(I).then(function(D){return o.Log.debug("UserManager._signoutEnd: got signout response"),D})},T.prototype.revokeAccessToken=function(){var I=this;return this._loadUser().then(function(D){return I._revokeInternal(D,!0).then(function(M){if(M)return o.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),D.access_token=null,D.refresh_token=null,D.expires_at=null,D.token_type=null,I.storeUser(D).then(function(){o.Log.debug("UserManager.revokeAccessToken: user stored"),I._events.load(D)})})}).then(function(){o.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},T.prototype._revokeInternal=function(I,D){var M=this;if(I){var N=I.access_token,O=I.refresh_token;return this._revokeAccessTokenInternal(N,D).then(function(k){return M._revokeRefreshTokenInternal(O,D).then(function(Y){return k||Y||o.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),k||Y})})}return Promise.resolve(!1)},T.prototype._revokeAccessTokenInternal=function(I,D){return!I||I.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(I,D).then(function(){return!0})},T.prototype._revokeRefreshTokenInternal=function(I,D){return I?this._tokenRevocationClient.revoke(I,D,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},T.prototype.startSilentRenew=function(){this._silentRenewService.start()},T.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},T.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(I){return I?(o.Log.debug("UserManager._loadUser: user storageString loaded"),c.User.fromStorageString(I)):(o.Log.debug("UserManager._loadUser: no user storageString"),null)})},T.prototype.storeUser=function(I){if(I){o.Log.debug("UserManager.storeUser: storing user");var D=I.toStorageString();return this._userStore.set(this._userStoreKey,D)}return o.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},s(T,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),T}(u.OidcClient)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.UserManagerSettings=void 0;var s=function(){function y(S,v){for(var A=0;A<v.length;A++){var E=v[A];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,v,A){return v&&y(S.prototype,v),A&&y(S,A),S}}(),o=(a(0),a(5)),u=a(40),l=a(41),c=a(43),d=a(6),f=a(1),h=a(8);function p(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}function g(y,S){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?y:S}n.UserManagerSettings=function(y){function S(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=v.popup_redirect_uri,E=v.popup_post_logout_redirect_uri,T=v.popupWindowFeatures,R=v.popupWindowTarget,I=v.silent_redirect_uri,D=v.silentRequestTimeout,M=v.automaticSilentRenew,N=M!==void 0&&M,O=v.validateSubOnSilentRenew,k=O!==void 0&&O,Y=v.includeIdTokenInSilentRenew,ne=Y===void 0||Y,q=v.monitorSession,H=q===void 0||q,J=v.monitorAnonymousSession,se=J!==void 0&&J,ue=v.checkSessionInterval,Se=ue===void 0?2e3:ue,ve=v.stopCheckSessionOnError,Le=ve===void 0||ve,Xe=v.query_status_response_type,Ne=v.revokeAccessTokenOnSignout,ye=Ne!==void 0&&Ne,qe=v.accessTokenExpiringNotificationTime,Te=qe===void 0?60:qe,Oe=v.redirectNavigator,Be=Oe===void 0?new u.RedirectNavigator:Oe,He=v.popupNavigator,ee=He===void 0?new l.PopupNavigator:He,j=v.iframeNavigator,b=j===void 0?new c.IFrameNavigator:j,m=v.userStore,C=m===void 0?new d.WebStorageStateStore({store:f.Global.sessionStorage}):m;p(this,S);var B=g(this,y.call(this,arguments[0]));return B._popup_redirect_uri=A,B._popup_post_logout_redirect_uri=E,B._popupWindowFeatures=T,B._popupWindowTarget=R,B._silent_redirect_uri=I,B._silentRequestTimeout=D,B._automaticSilentRenew=N,B._validateSubOnSilentRenew=k,B._includeIdTokenInSilentRenew=ne,B._accessTokenExpiringNotificationTime=Te,B._monitorSession=H,B._monitorAnonymousSession=se,B._checkSessionInterval=Se,B._stopCheckSessionOnError=Le,Xe?B._query_status_response_type=Xe:arguments[0]&&arguments[0].response_type?B._query_status_response_type=h.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":B._query_status_response_type="id_token",B._revokeAccessTokenOnSignout=ye,B._redirectNavigator=Be,B._popupNavigator=ee,B._iframeNavigator=b,B._userStore=C,B}return function(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(A,E):A.__proto__=E)}(S,y),s(S,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),S}(o.OidcClientSettings)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.RedirectNavigator=void 0;var s=function(){function u(l,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,c,d){return c&&u(l.prototype,c),d&&u(l,d),l}}(),o=a(0);n.RedirectNavigator=function(){function u(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(){return Promise.resolve(this)},u.prototype.navigate=function(c){return c&&c.url?(c.useReplaceToNavigate?window.location.replace(c.url):window.location=c.url,Promise.resolve()):(o.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},s(u,[{key:"url",get:function(){return window.location.href}}]),u}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.PopupNavigator=void 0;var s=a(0),o=a(42);n.PopupNavigator=function(){function u(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(c){var d=new o.PopupWindow(c);return Promise.resolve(d)},u.prototype.callback=function(c,d,f){s.Log.debug("PopupNavigator.callback");try{return o.PopupWindow.notifyOpener(c,d,f),Promise.resolve()}catch(h){return Promise.reject(h)}},u}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.PopupWindow=void 0;var s=function(){function l(c,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,d,f){return d&&l(c.prototype,d),f&&l(c,f),c}}(),o=a(0),u=a(3);n.PopupWindow=function(){function l(c){var d=this;(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise(function(p,g){d._resolve=p,d._reject=g});var f=c.popupWindowTarget||"_blank",h=c.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",f,h),this._popup&&(o.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(d){return this._popup?d&&d.url?(o.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=d.id,this._id&&(window["popupCallback_"+d.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=d.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(d){o.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(d)},l.prototype._error=function(d){o.Log.error("PopupWindow.error: ",d),this._cleanup(),this._reject(new Error(d))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(d){o.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!d&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(d,f){this._cleanup(f),d?(o.Log.debug("PopupWindow.callback success"),this._success({url:d})):(o.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(d,f,h){if(window.opener){if(d=d||window.location.href){var p=u.UrlUtility.parseUrlFragment(d,h);if(p.state){var g="popupCallback_"+p.state,y=window.opener[g];y?(o.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),y(d,f)):o.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else o.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else o.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},s(l,[{key:"promise",get:function(){return this._promise}}]),l}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.IFrameNavigator=void 0;var s=a(0),o=a(44);n.IFrameNavigator=function(){function u(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(c){var d=new o.IFrameWindow(c);return Promise.resolve(d)},u.prototype.callback=function(c){s.Log.debug("IFrameNavigator.callback");try{return o.IFrameWindow.notifyParent(c),Promise.resolve()}catch(d){return Promise.reject(d)}},u}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.IFrameWindow=void 0;var s=function(){function u(l,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,c,d){return c&&u(l.prototype,c),d&&u(l,d),l}}(),o=a(0);n.IFrameWindow=function(){function u(l){var c=this;(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,u),this._promise=new Promise(function(d,f){c._resolve=d,c._reject=f}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return u.prototype.navigate=function(c){if(c&&c.url){var d=c.silentRequestTimeout||1e4;o.Log.debug("IFrameWindow.navigate: Using timeout of:",d),this._timer=window.setTimeout(this._timeout.bind(this),d),this._frame.src=c.url}else this._error("No url provided");return this.promise},u.prototype._success=function(c){this._cleanup(),o.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(c)},u.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},u.prototype.close=function(){this._cleanup()},u.prototype._cleanup=function(){this._frame&&(o.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},u.prototype._timeout=function(){o.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},u.prototype._message=function(c){if(o.Log.debug("IFrameWindow.message"),this._timer&&c.origin===this._origin&&c.source===this._frame.contentWindow&&typeof c.data=="string"&&(c.data.startsWith("http://")||c.data.startsWith("https://"))){var d=c.data;d?this._success({url:d}):this._error("Invalid response from frame")}},u.notifyParent=function(c){o.Log.debug("IFrameWindow.notifyParent"),(c=c||window.location.href)&&(o.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(c,location.protocol+"//"+location.host))},s(u,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),u}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.UserManagerEvents=void 0;var s=a(0),o=a(16),u=a(17);n.UserManagerEvents=function(l){function c(d){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c);var f=function(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||typeof g!="object"&&typeof g!="function"?p:g}(this,l.call(this,d));return f._userLoaded=new u.Event("User loaded"),f._userUnloaded=new u.Event("User unloaded"),f._silentRenewError=new u.Event("Silent renew error"),f._userSignedIn=new u.Event("User signed in"),f._userSignedOut=new u.Event("User signed out"),f._userSessionChanged=new u.Event("User session changed"),f}return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}(c,l),c.prototype.load=function(f){var h=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];s.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,f),h&&this._userLoaded.raise(f)},c.prototype.unload=function(){s.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},c.prototype.addUserLoaded=function(f){this._userLoaded.addHandler(f)},c.prototype.removeUserLoaded=function(f){this._userLoaded.removeHandler(f)},c.prototype.addUserUnloaded=function(f){this._userUnloaded.addHandler(f)},c.prototype.removeUserUnloaded=function(f){this._userUnloaded.removeHandler(f)},c.prototype.addSilentRenewError=function(f){this._silentRenewError.addHandler(f)},c.prototype.removeSilentRenewError=function(f){this._silentRenewError.removeHandler(f)},c.prototype._raiseSilentRenewError=function(f){s.Log.debug("UserManagerEvents._raiseSilentRenewError",f.message),this._silentRenewError.raise(f)},c.prototype.addUserSignedIn=function(f){this._userSignedIn.addHandler(f)},c.prototype.removeUserSignedIn=function(f){this._userSignedIn.removeHandler(f)},c.prototype._raiseUserSignedIn=function(){s.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},c.prototype.addUserSignedOut=function(f){this._userSignedOut.addHandler(f)},c.prototype.removeUserSignedOut=function(f){this._userSignedOut.removeHandler(f)},c.prototype._raiseUserSignedOut=function(){s.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},c.prototype.addUserSessionChanged=function(f){this._userSessionChanged.addHandler(f)},c.prototype.removeUserSessionChanged=function(f){this._userSessionChanged.removeHandler(f)},c.prototype._raiseUserSessionChanged=function(){s.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},c}(o.AccessTokenEvents)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.Timer=void 0;var s=function(){function f(h,p){for(var g=0;g<p.length;g++){var y=p[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,g){return p&&f(h.prototype,p),g&&f(h,g),h}}(),o=a(0),u=a(1),l=a(17);function c(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function d(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?f:h}n.Timer=function(f){function h(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Global.timer,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;c(this,h);var S=d(this,f.call(this,p));return S._timer=g,S._nowFunc=y||function(){return Date.now()/1e3},S}return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}(h,f),h.prototype.init=function(g){g<=0&&(g=1),g=parseInt(g);var y=this.now+g;if(this.expiration===y&&this._timerHandle)o.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),o.Log.debug("Timer.init timer "+this._name+" for duration:",g),this._expiration=y;var S=5;g<S&&(S=g),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*S)}},h.prototype.cancel=function(){this._timerHandle&&(o.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},h.prototype._callback=function(){var g=this._expiration-this.now;o.Log.debug("Timer.callback; "+this._name+" timer expires in:",g),this._expiration<=this.now&&(this.cancel(),f.prototype.raise.call(this))},s(h,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),h}(l.Event)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SilentRenewService=void 0;var s=a(0);n.SilentRenewService=function(){function o(u){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._userManager=u}return o.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(l){}).catch(function(l){s.Log.error("SilentRenewService.start: Error from getUser:",l.message)}))},o.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},o.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then(function(c){s.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(c){s.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",c.message),l._userManager.events._raiseSilentRenewError(c)})},o}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.CordovaPopupNavigator=void 0;var s=a(21);n.CordovaPopupNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){var c=new s.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.CordovaIFrameNavigator=void 0;var s=a(21);n.CordovaIFrameNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var c=new s.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.Version="1.11.6"}])})})(Fpe);function Lpe(t,e){var r,n,a,s;throw t.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(r=e.redirectUrl)===null||r===void 0?void 0:r.toString()}] is invalid - ${(n=t.error_description)!==null&&n!==void 0?n:""}`):t.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(e)} is invalid - ${(a=t.error_description)!==null&&a!==void 0?a:""}`):new Error(`Dynamic client registration failed: ${t.error} - ${(s=t.error_description)!==null&&s!==void 0?s:""}`)}function jpe(t,e){if(t.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(t)}`);if(e.redirectUrl&&(t.redirect_uris===void 0||t.redirect_uris[0]!==e.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(t.redirect_uris)} don't match the provided ${JSON.stringify([e.redirectUrl.toString()])}`)}async function Mpe(t,e){var r;if(!e.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(e.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const n=wpe(e.idTokenSigningAlgValuesSupported,qT),a={client_name:t.clientName,application_type:"web",redirect_uris:[(r=t.redirectUrl)===null||r===void 0?void 0:r.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:n,grant_types:["authorization_code","refresh_token"]},s={"Content-Type":"application/json"},o=await fetch(e.registrationEndpoint.toString(),{method:"POST",headers:s,body:JSON.stringify(a)});if(o.ok){const u=await o.json();return jpe(u,t),{clientId:u.client_id,clientSecret:u.client_secret,idTokenSignedResponseAlg:u.id_token_signed_response_alg,clientType:"dynamic"}}throw o.status===400&&Lpe(await o.json(),t),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function Bpe(t){return t.error!==void 0&&typeof t.error=="string"}function H9(t){return t.error_description!==void 0&&typeof t.error_description=="string"}function kpe(t){return t.error_uri!==void 0&&typeof t.error_uri=="string"}function $pe(t){return t.access_token!==void 0&&typeof t.access_token=="string"}function Upe(t){return t.id_token!==void 0&&typeof t.id_token=="string"}function Vpe(t){return t.refresh_token!==void 0&&typeof t.refresh_token=="string"}function Hpe(t){return t.token_type!==void 0&&typeof t.token_type=="string"}function qpe(t){return t.expires_in===void 0||typeof t.expires_in=="number"}function zpe(t,e){if(e.grantType&&(!t.grantTypesSupported||!t.grantTypesSupported.includes(e.grantType)))throw new Error(`The issuer [${t.issuer}] does not support the [${e.grantType}] grant`);if(!t.tokenEndpoint)throw new Error(`This issuer [${t.issuer}] does not have a token endpoint`)}function sG(t,e){if(Bpe(t))throw new iG(`Token endpoint returned error [${t.error}]${H9(t)?`: ${t.error_description}`:""}${kpe(t)?` (see ${t.error_uri})`:""}`,t.error,H9(t)?t.error_description:void 0);if(!$pe(t))throw new ib(["access_token"]);if(!Upe(t))throw new ib(["id_token"]);if(!Hpe(t))throw new ib(["token_type"]);if(!qpe(t))throw new ib(["expires_in"]);if(!e&&t.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${t.token_type}].`);return t}async function Gpe(t,e,r,n){zpe(t,r);const a={"content-type":"application/x-www-form-urlencoded"};let s;n&&(s=await Rpe(),a.DPoP=await l5(t.tokenEndpoint,"POST",s)),e.clientSecret&&(a.Authorization=`Basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`);const o={grant_type:r.grantType,redirect_uri:r.redirectUrl,code:r.code,code_verifier:r.codeVerifier,client_id:e.clientId},u={method:"POST",headers:a,body:new URLSearchParams(o).toString()},c=await(await Mh(t.tokenEndpoint,u)).json(),d=sG(c,n),f=await u5(d.id_token,t.jwksUri,t.issuer,e.clientId);return{accessToken:d.access_token,idToken:d.id_token,refreshToken:Vpe(d)?d.refresh_token:void 0,webId:f,dpopKey:s,expiresIn:d.expires_in}}async function Qpe(t){let e;try{const r=new Uy.OidcClient({response_mode:"query",loadUserInfo:!1});if(e=await r.processSigninResponse(t),r.settings.metadata===void 0)throw new Error("Cannot retrieve issuer metadata from client information in storage.");if(r.settings.metadata.jwks_uri===void 0)throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");if(r.settings.metadata.issuer===void 0)throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");if(r.settings.client_id===void 0)throw new Error("Missing some client information in storage: 'client_id' is undefined");const n=await u5(e.id_token,r.settings.metadata.jwks_uri,r.settings.metadata.issuer,r.settings.client_id);return{accessToken:e.access_token,idToken:e.id_token,webId:n,refreshToken:e.refresh_token}}catch(r){throw new Error(`Problem handling Auth Code Grant (Flow) redirect - URL [${t}]: ${r}`)}}async function Wpe(t,e,r){return Gpe(t,e,r,!0)}const Kpe=t=>{try{return new URL(t),!0}catch{return!1}};async function Xpe(t,e,r,n){if(r.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const a={grant_type:"refresh_token",refresh_token:t,scope:eG};let s={};n!==void 0&&(s={DPoP:await l5(e.tokenEndpoint,"POST",n)});let o={};r.clientSecret!==void 0?o={Authorization:`Basic ${btoa(`${r.clientId}:${r.clientSecret}`)}`}:Kpe(r.clientId)&&(a.client_id=r.clientId);const u=await Mh(e.tokenEndpoint,{method:"POST",body:new URLSearchParams(a).toString(),headers:{...s,...o,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await u.json()}catch{throw new Error(`The token endpoint of issuer ${e.issuer} returned a malformed response.`)}const c=sG(l,n!==void 0),d=await u5(c.id_token,e.jwksUri,e.issuer,r.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:typeof c.refresh_token=="string"?c.refresh_token:void 0,webId:d,dpopKey:n,expiresIn:c.expires_in}}function Jpe(t){const e=new URL(t);return e.searchParams.delete("code"),e.searchParams.delete("state"),e.hash="",t.includes(`${e.origin}/`)?e.href:`${e.origin}${e.href.substring(e.origin.length+1)}`}async function Ype(){await new Uy.OidcClient({response_mode:"query"}).clearStaleState(new Uy.WebStorageStateStore({}));const e=window.localStorage,r=[];for(let n=0;n<=e.length;n+=1){const a=e.key(n);a&&(a.match(/^oidc\..+$/)||a.match(/^solidClientAuthenticationUser:.+$/))&&r.push(a)}r.forEach(n=>e.removeItem(n))}class Zpe extends Ape{constructor(e,r){super(e,r)}}class e0e extends Epe{constructor(){super(...arguments),this.login=async(e,r)=>{var n,a;await this.sessionInfoManager.clear(e.sessionId);const s=(n=e.redirectUrl)!==null&&n!==void 0?n:Jpe(window.location.href);if(!fpe(s))throw new Error(`${s} is not a valid redirect URL, it is either a malformed IRI or it includes a hash fragment.`);await this.loginHandler.handle({...e,redirectUrl:s,clientName:(a=e.clientName)!==null&&a!==void 0?a:e.clientId,eventEmitter:r})},this.validateCurrentSession=async e=>{const r=await this.sessionInfoManager.get(e);return r===void 0||r.clientAppId===void 0||r.issuer===void 0?null:r},this.handleIncomingRedirect=async(e,r)=>{try{const n=await this.redirectHandler.handle(e,r);return this.fetch=n.fetch.bind(window),this.boundLogout=n.getLogoutUrl,this.cleanUrlAfterRedirect(e),{isLoggedIn:n.isLoggedIn,webId:n.webId,sessionId:n.sessionId,expirationDate:n.expirationDate}}catch(n){this.cleanUrlAfterRedirect(e),r.emit(ti.ERROR,"redirect",n);return}}}cleanUrlAfterRedirect(e){const r=new URL(e);r.searchParams.delete("state"),r.searchParams.delete("code"),r.searchParams.delete("id_token"),r.searchParams.delete("access_token"),r.searchParams.delete("error"),r.searchParams.delete("error_description"),r.searchParams.delete("iss"),window.history.replaceState(null,"",r.toString())}}function q9(t){return typeof t.oidcIssuer=="string"}function z9(t){return typeof t.redirectUrl=="string"}class t0e{constructor(e,r,n,a){this.storageUtility=e,this.oidcHandler=r,this.issuerConfigFetcher=n,this.clientRegistrar=a}async canHandle(e){return q9(e)&&z9(e)}async handle(e){if(!q9(e))throw new v4(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!z9(e))throw new v4(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);const r=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),n=await Tpe(e,r,this.storageUtility,this.clientRegistrar),a={issuer:r.issuer,dpop:e.tokenType.toLowerCase()==="dpop",...e,issuerConfiguration:r,client:n};return this.oidcHandler.handle(a)}}class r0e extends hpe{async handle(e){var r;const n={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl.toString(),post_logout_redirect_uri:e.redirectUrl.toString(),response_type:"code",scope:eG,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(r=e.prompt)!==null&&r!==void 0?r:"consent"},a=new Uy.OidcClient(n);try{const s=await a.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:e,state:s.state._id,codeVerifier:s.state._code_verifier,targetUrl:s.url.toString()})}catch(s){console.error(s)}}}const n0e=".well-known/openid-configuration",G9={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function i0e(t){const e={};return Object.keys(t).forEach(r=>{G9[r]&&(e[G9[r].toKey]=t[r])}),Array.isArray(e.scopesSupported)||(e.scopesSupported=["openid"]),e}class c5{constructor(e){this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let r;const n=new URL(n0e,e.endsWith("/")?e:`${e}/`).href,a=await Mh.call(globalThis,n);try{r=i0e(await a.json())}catch(s){throw new v4(`[${e.toString()}] has an invalid configuration: ${s.message}`)}return await this.storageUtility.set(c5.getLocalStorageKey(e),JSON.stringify(r)),r}}async function a0e(t,e){await rG(t,e),await Ype()}class s0e extends mpe{async get(e){var r;const n=await this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),a=await this.storageUtility.getForUser(e,"webId",{secure:!0}),s=await this.storageUtility.getForUser(e,"clientId",{secure:!1}),o=await this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),u=await this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),l=await this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),c=await this.storageUtility.getForUser(e,"issuer",{secure:!1}),d=(r=await this.storageUtility.getForUser(e,"tokenType",{secure:!1}))!==null&&r!==void 0?r:"DPoP";if(!_pe(d))throw new Error(`Tokens of type [${d}] are not supported.`);if(!(s===void 0&&n===void 0&&a===void 0&&l===void 0))return{sessionId:e,webId:a,isLoggedIn:n==="true",redirectUrl:u,refreshToken:l,issuer:c,clientAppId:s,clientAppSecret:o,tokenType:d}}async clear(e){return a0e(e,this.storageUtility)}}class o0e{async canHandle(e){try{return new URL(e),!0}catch(r){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${r}`)}}async handle(e){return tG()}}const u0e=(...t)=>Mh.call(globalThis,...t);class l0e{constructor(e,r,n,a,s){this.storageUtility=e,this.sessionInfoManager=r,this.issuerConfigFetcher=n,this.clientRegistrar=a,this.tokerRefresher=s}async canHandle(e){try{const r=new URL(e);return r.searchParams.get("code")!==null&&r.searchParams.get("state")!==null}catch(r){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${r}`)}}async handle(e,r){if(!await this.canHandle(e))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);const n=new URL(e),a=n.searchParams.get("state"),s=await this.storageUtility.getForUser(a,"sessionId",{errorIfNull:!0}),{issuerConfig:o,codeVerifier:u,redirectUrl:l,dpop:c}=await nG(s,this.storageUtility,this.issuerConfigFetcher),d=n.searchParams.get("iss");if(typeof d=="string"&&d!==o.issuer)throw new Error(`The value of the iss parameter (${d}) does not match the issuer identifier of the authorization server (${o.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(u===void 0)throw new Error(`The code verifier for session ${s} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${s} is missing from storage.`);const f=await this.clientRegistrar.getClient({sessionId:s},o);let h;const p=Date.now();c?(h=await Wpe(o,f,{grantType:"authorization_code",code:n.searchParams.get("code"),codeVerifier:u,redirectUrl:l}),window.localStorage.removeItem(`oidc.${a}`)):h=await Qpe(n.toString());let g;h.refreshToken!==void 0&&(g={sessionId:s,refreshToken:h.refreshToken,tokenRefresher:this.tokerRefresher});const y=await Npe(u0e,h.accessToken,{dpopKey:h.dpopKey,refreshOptions:g,eventEmitter:r,expiresIn:h.expiresIn});await this.storageUtility.setForUser(s,{webId:h.webId,isLoggedIn:"true"},{secure:!0});const S=await this.sessionInfoManager.get(s);if(!S)throw new Error(`Could not retrieve session: [${s}].`);return Object.assign(S,{fetch:y,getLogoutUrl:bpe({idTokenHint:h.idToken,endSessionEndpoint:o.endSessionEndpoint}),expirationDate:typeof h.expiresIn=="number"?p+h.expiresIn*1e3:void 0})}}class c0e extends cpe{constructor(e){super(e)}}class d0e{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,r){this.storage.setItem(e,r)}async delete(e){this.storage.removeItem(e)}}class f0e{redirect(e,r){r&&r.handleRedirect?r.handleRedirect(e):r&&r.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class h0e{constructor(e){this.storageUtility=e}async getClient(e,r){const[n,a]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1})]);if(n)return{clientId:n,clientSecret:a,clientType:"dynamic"};try{const s=await Mpe(e,r),o={clientId:s.clientId};return s.clientSecret&&(o.clientSecret=s.clientSecret),s.idTokenSignedResponseAlg&&(o.idTokenSignedResponseAlg=s.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,o,{secure:!1}),s}catch(s){throw new Error(`Client registration failed: [${s}]`)}}}class p0e{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(r){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${r}`)}}async handle(e,r){if(r!==void 0){const n=new URL(e),a=n.searchParams.get("error"),s=n.searchParams.get("error_description");r.emit(ti.ERROR,a,s)}return tG()}}class g0e{constructor(e,r,n){this.storageUtility=e,this.issuerConfigFetcher=r,this.clientRegistrar=n}async refresh(e,r,n,a){const s=await nG(e,this.storageUtility,this.issuerConfigFetcher),o=await this.clientRegistrar.getClient({sessionId:e},s.issuerConfig);if(r===void 0)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(s.dpop&&n===void 0)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);const u=await Xpe(r,s.issuerConfig,o,n);return u.refreshToken!==void 0&&(a==null||a.emit(ti.NEW_REFRESH_TOKEN,u.refreshToken),await this.storageUtility.setForUser(e,{refreshToken:u.refreshToken})),u}}function Q9(t){const e=new xpe,r=t.secureStorage||e,n=t.insecureStorage||new d0e,a=new Zpe(r,n),s=new c5(a),o=new h0e(a),u=new s0e(a),l=new g0e(a,s,o),c=new f0e,d=new t0e(a,new r0e(a,c),s,o),f=new c0e([new p0e,new l0e(a,u,s,o,l),new o0e]);return new e0e(d,f,new ype(u,c),u,s)}const GC=`${Zz}currentSession`,b4=`${Zz}currentUrl`;async function y0e(t,e,r){var n;const a=await e.validateCurrentSession(t);return a!==null?(window.localStorage.setItem(b4,window.location.href),await e.login({sessionId:t,prompt:"none",oidcIssuer:a.issuer,redirectUrl:a.redirectUrl,clientId:a.clientAppId,clientSecret:a.clientAppSecret,tokenType:(n=a.tokenType)!==null&&n!==void 0?n:"DPoP"},r.events),!0):!1}function m0e(t){return!!(t!=null&&t.isLoggedIn)}class d5 extends Cl{constructor(e={},r=void 0){super(),this.tokenRequestInProgress=!1,this.login=async n=>{var a;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...n,tokenType:(a=n.tokenType)!==null&&a!==void 0?a:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(n,a)=>this.clientAuthentication.fetch(n,a),this.internalLogout=async(n,a)=>{window.localStorage.removeItem(GC),await this.clientAuthentication.logout(this.info.sessionId,a),this.info.isLoggedIn=!1,n&&this.events.emit(ti.LOGOUT)},this.logout=async n=>this.internalLogout(!0,n),this.handleIncomingRedirect=async(n={})=>{var a;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const s=typeof n=="string"?{url:n}:n,o=(a=s.url)!==null&&a!==void 0?a:window.location.href;this.tokenRequestInProgress=!0;const u=await this.clientAuthentication.handleIncomingRedirect(o,this.events);if(m0e(u)){this.setSessionInfo(u);const l=window.localStorage.getItem(b4);l===null?this.events.emit(ti.LOGIN):(window.localStorage.removeItem(b4),this.events.emit(ti.SESSION_RESTORED,l))}else if(s.restorePreviousSession===!0){const l=window.localStorage.getItem(GC);if(l!==null&&await y0e(l,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,u},this.events=new Proxy(this,lpe(d5.prototype,"events only implements ISessionEventListener")),e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=Q9({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=Q9({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId}:this.info={sessionId:r??D3(),isLoggedIn:!1},this.events.on(ti.LOGIN,()=>window.localStorage.setItem(GC,this.info.sessionId)),this.events.on(ti.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(ti.ERROR,()=>this.internalLogout(!1))}onLogin(e){this.events.on(ti.LOGIN,e)}onLogout(e){this.events.on(ti.LOGOUT,e)}onError(e){this.events.on(ti.ERROR,e)}onSessionRestore(e){this.events.on(ti.SESSION_RESTORED,e)}onSessionExpiration(e){this.events.on(ti.SESSION_EXPIRED,e)}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.expirationDate=e.expirationDate,this.events.on(ti.SESSION_EXTENDED,r=>{this.info.expirationDate=Date.now()+r*1e3})}}const D0=bF("session",{state:()=>({session:new d5,isLoggedIn:!1,webid:""}),actions:{async login(t,e){await this.session.login({oidcIssuer:t,clientName:"Inrupt tutorial client app",redirectUrl:e})},async handleRedirectAfterLogin(t){this.session.onLogin(()=>{this.webid=this.session.info.webId,this.isLoggedIn=!0}),this.session.onLogout(()=>{this.webid="",this.isLoggedIn=!1}),this.session.onSessionRestore(()=>{this.webid=this.session.info.webId,this.isLoggedIn=!0}),this.session.onSessionExpiration(()=>{this.webid="",this.isLoggedIn=!1}),await this.session.handleIncomingRedirect({url:t,restorePreviousSession:!0})},async logout(){this.isLoggedIn&&this.session.logout()}}}),v0e="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",b0e="http://www.w3.org/ns/ldp#contains",_0e="http://www.w3.org/ns/ldp#Container";var Vb=(t=>(t[t.Dir=0]="Dir",t[t.File=1]="File",t))(Vb||{});class zT{constructor(e,r){lt(this,"type");lt(this,"url");this.url=e,this.type=r}static fromThing(e){return e.predicates[v0e].namedNodes.includes(_0e)?new zT(e.url,0):new zT(e.url,1)}}async function oG(t){var a,s;const e=D0(),r=await f_(t,{fetch:e.session.fetch}),n=ho(r,t);if(!n)throw new Error("Unable to retrieve resource");return((s=(a=n.predicates[b0e])==null?void 0:a.namedNodes)==null?void 0:s.map(o=>ho(r,o)).map(zT.fromThing))||[]}function uG(t){return((t==null?void 0:t.length)||0)==0}function w0e(t,e){const r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&[...r,...n].every(a=>t[a]===e[a])}const f5="public";async function lG(t){const e=D0(),r=await VT.getAgentAccessAll(t,{fetch:e.session.fetch}),n=await VT.getPublicAccess(t,{fetch:e.session.fetch});return{...{[f5]:n},...r}}async function W9(t,e,r,n){return e==f5?await VT.setPublicAccess(t,r,n):await VT.setAgentAccess(t,e,r,n)}async function cG(t,e,r,n){const a=n||{fetch:D0().session.fetch};return Array.isArray(t)?Promise.all(t.map(s=>W9(s,e,r,a))):await W9(t,e,r,a)}async function S0e(t,e,r,n){const a=[[t],[]];let s=-1;for(;a[0].length||a[1].length;){s++;for(const o of a[s%2]){const u=await oG(o);r&&(r.total+=u.length);for(const l of u){const c=l.url;l.type==Vb.Dir&&n!=null&&(n==0||s+1<n)&&a[(s+1)%2].push(c);try{const d=await lG(l.url);for(const[f,h]of Object.entries(d))if(h)if(f in e){let p=!1;if(e[f].forEach(g=>{w0e(g.permission,h)&&(p=!0,g.resources=[...g.resources,c])}),!p){const g={permission:h,resources:[c]};e[f].push(g)}}else{const p={permission:h,resources:[c]};e[f]=[p]}}catch(d){if(!(d instanceof Sm))throw d}r&&r.current++}}a[s%2].length=0}}var h5={},H3={},p5={},L1={},dG={},q3={},Ut={},g5={},fG={};Object.defineProperty(fG,"__esModule",{value:!0});var hG={};Object.defineProperty(hG,"__esModule",{value:!0});var pG={};Object.defineProperty(pG,"__esModule",{value:!0});var gG={};Object.defineProperty(gG,"__esModule",{value:!0});var yG={};Object.defineProperty(yG,"__esModule",{value:!0});var mG={};Object.defineProperty(mG,"__esModule",{value:!0});var vG={};Object.defineProperty(vG,"__esModule",{value:!0});var bG={};Object.defineProperty(bG,"__esModule",{value:!0});var _G={};Object.defineProperty(_G,"__esModule",{value:!0});var wG={};Object.defineProperty(wG,"__esModule",{value:!0});var SG={};Object.defineProperty(SG,"__esModule",{value:!0});var TG={};Object.defineProperty(TG,"__esModule",{value:!0});var EG={};Object.defineProperty(EG,"__esModule",{value:!0});var z3={};Object.defineProperty(z3,"__esModule",{value:!0});z3.Logger=void 0;class G3{static getLevelOrdinal(e){return G3.LEVELS[e]}}z3.Logger=G3;G3.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fG,t),r(hG,t),r(pG,t),r(gG,t),r(yG,t),r(mG,t),r(vG,t),r(bG,t),r(_G,t),r(wG,t),r(SG,t),r(TG,t),r(EG,t),r(z3,t)})(g5);var h0={},j1="delete",kn=5,yu=1<<kn,ks=yu-1,qr={};function _4(){return{value:!1}}function mu(t){t&&(t.value=!0)}function y5(){}function Vy(t){return t.size===void 0&&(t.size=t.__iterate(AG)),t.size}function Ph(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?Vy(t)+e:e}function AG(){return!0}function M1(t,e,r){return(t===0&&!OG(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function Tm(t,e){return xG(t,e,0)}function B1(t,e){return xG(t,e,e)}function xG(t,e,r){return t===void 0?r:OG(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function OG(t){return t<0||t===0&&1/t===-1/0}var RG="@@__IMMUTABLE_ITERABLE__@@";function ps(t){return Boolean(t&&t[RG])}var IG="@@__IMMUTABLE_KEYED__@@";function _n(t){return Boolean(t&&t[IG])}var PG="@@__IMMUTABLE_INDEXED__@@";function Ha(t){return Boolean(t&&t[PG])}function Em(t){return _n(t)||Ha(t)}var Vn=function(e){return ps(e)?e:gs(e)},Pu=function(t){function e(r){return _n(r)?r:Uh(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Vn),N0=function(t){function e(r){return Ha(r)?r:Cu(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Vn),Am=function(t){function e(r){return ps(r)&&!Em(r)?r:Rm(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Vn);Vn.Keyed=Pu;Vn.Indexed=N0;Vn.Set=Am;var CG="@@__IMMUTABLE_SEQ__@@";function k1(t){return Boolean(t&&t[CG])}var DG="@@__IMMUTABLE_RECORD__@@";function $h(t){return Boolean(t&&t[DG])}function iu(t){return ps(t)||$h(t)}var xm="@@__IMMUTABLE_ORDERED__@@";function Yo(t){return Boolean(t&&t[xm])}var $1=0,Dl=1,Au=2,w4=typeof Symbol=="function"&&Symbol.iterator,NG="@@iterator",Q3=w4||NG,Jr=function(e){this.next=e};Jr.prototype.toString=function(){return"[Iterator]"};Jr.KEYS=$1;Jr.VALUES=Dl;Jr.ENTRIES=Au;Jr.prototype.inspect=Jr.prototype.toSource=function(){return this.toString()};Jr.prototype[Q3]=function(){return this};function Hn(t,e,r,n){var a=t===0?e:t===1?r:[e,r];return n?n.value=a:n={value:a,done:!1},n}function Vs(){return{value:void 0,done:!0}}function m5(t){return Array.isArray(t)?!0:!!W3(t)}function K9(t){return t&&typeof t.next=="function"}function S4(t){var e=W3(t);return e&&e.call(t)}function W3(t){var e=t&&(w4&&t[w4]||t[NG]);if(typeof e=="function")return e}function T0e(t){var e=W3(t);return e&&e===t.entries}function E0e(t){var e=W3(t);return e&&e===t.keys}var Om=Object.prototype.hasOwnProperty;function v5(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var gs=function(t){function e(r){return r==null?_5():iu(r)?r.toSeq():x0e(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,a){var s=this._cache;if(s){for(var o=s.length,u=0;u!==o;){var l=s[a?o-++u:u++];if(n(l[1],l[0],this)===!1)break}return u}return this.__iterateUncached(n,a)},e.prototype.__iterator=function(n,a){var s=this._cache;if(s){var o=s.length,u=0;return new Jr(function(){if(u===o)return Vs();var l=s[a?o-++u:u++];return Hn(n,l[0],l[1])})}return this.__iteratorUncached(n,a)},e}(Vn),Uh=function(t){function e(r){return r==null?_5().toKeyedSeq():ps(r)?_n(r)?r.toSeq():r.fromEntrySeq():$h(r)?r.toSeq():w5(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(gs),Cu=function(t){function e(r){return r==null?_5():ps(r)?_n(r)?r.entrySeq():r.toIndexedSeq():$h(r)?r.toSeq().entrySeq():FG(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(gs),Rm=function(t){function e(r){return(ps(r)&&!Em(r)?r:Cu(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(gs);gs.isSeq=k1;gs.Keyed=Uh;gs.Set=Rm;gs.Indexed=Cu;gs.prototype[CG]=!0;var p0=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return this.has(n)?this._array[Ph(this,n)]:a},e.prototype.__iterate=function(n,a){for(var s=this._array,o=s.length,u=0;u!==o;){var l=a?o-++u:u++;if(n(s[l],l,this)===!1)break}return u},e.prototype.__iterator=function(n,a){var s=this._array,o=s.length,u=0;return new Jr(function(){if(u===o)return Vs();var l=a?o-++u:u++;return Hn(n,l,s[l])})},e}(Cu),b5=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return a!==void 0&&!this.has(n)?a:this._object[n]},e.prototype.has=function(n){return Om.call(this._object,n)},e.prototype.__iterate=function(n,a){for(var s=this._object,o=this._keys,u=o.length,l=0;l!==u;){var c=o[a?u-++l:l++];if(n(s[c],c,this)===!1)break}return l},e.prototype.__iterator=function(n,a){var s=this._object,o=this._keys,u=o.length,l=0;return new Jr(function(){if(l===u)return Vs();var c=o[a?u-++l:l++];return Hn(n,c,s[c])})},e}(Uh);b5.prototype[xm]=!0;var A0e=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,a){if(a)return this.cacheResult().__iterate(n,a);var s=this._collection,o=S4(s),u=0;if(K9(o))for(var l;!(l=o.next()).done&&n(l.value,u++,this)!==!1;);return u},e.prototype.__iteratorUncached=function(n,a){if(a)return this.cacheResult().__iterator(n,a);var s=this._collection,o=S4(s);if(!K9(o))return new Jr(Vs);var u=0;return new Jr(function(){var l=o.next();return l.done?l:Hn(n,u++,l.value)})},e}(Cu),X9;function _5(){return X9||(X9=new p0([]))}function w5(t){var e=S5(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new b5(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function FG(t){var e=S5(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function x0e(t){var e=S5(t);if(e)return T0e(t)?e.fromEntrySeq():E0e(t)?e.toSetSeq():e;if(typeof t=="object")return new b5(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function S5(t){return v5(t)?new p0(t):m5(t)?new A0e(t):void 0}var LG="@@__IMMUTABLE_MAP__@@";function U1(t){return Boolean(t&&t[LG])}function K3(t){return U1(t)&&Yo(t)}function GT(t){return Boolean(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function sa(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(GT(t)&&GT(e)&&t.equals(e))}var Tv=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,a=r&65535;return n*a+((e>>>16)*a+n*(r>>>16)<<16>>>0)|0};function X3(t){return t>>>1&1073741824|t&3221225471}var O0e=Object.prototype.valueOf;function js(t){if(t==null)return J9(t);if(typeof t.hashCode=="function")return X3(t.hashCode(t));var e=N0e(t);if(e==null)return J9(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return R0e(e);case"string":return e.length>F0e?I0e(e):T4(e);case"object":case"function":return C0e(e);case"symbol":return P0e(e);default:if(typeof e.toString=="function")return T4(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function J9(t){return t===null?1108378658:1108378659}function R0e(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return X3(e)}function I0e(t){var e=KC[t];return e===void 0&&(e=T4(t),WC===L0e&&(WC=0,KC={}),WC++,KC[t]=e),e}function T4(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return X3(e)}function P0e(t){var e=e7[t];return e!==void 0||(e=jG(),e7[t]=e),e}function C0e(t){var e;if(E4&&(e=A4.get(t),e!==void 0)||(e=t[Op],e!==void 0)||!Z9&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Op],e!==void 0||(e=D0e(t),e!==void 0)))return e;if(e=jG(),E4)A4.set(t,e);else{if(Y9!==void 0&&Y9(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Z9)Object.defineProperty(t,Op,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Op]=e;else if(t.nodeType!==void 0)t[Op]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var Y9=Object.isExtensible,Z9=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function D0e(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function N0e(t){return t.valueOf!==O0e&&typeof t.valueOf=="function"?t.valueOf(t):t}function jG(){var t=++QC;return QC&1073741824&&(QC=0),t}var E4=typeof WeakMap=="function",A4;E4&&(A4=new WeakMap);var e7=Object.create(null),QC=0,Op="__immutablehash__";typeof Symbol=="function"&&(Op=Symbol(Op));var F0e=16,L0e=255,WC=0,KC={},J3=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return this._iter.get(n,a)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,a=T5(this,!0);return this._useKeys||(a.valueSeq=function(){return n._iter.toSeq().reverse()}),a},e.prototype.map=function(n,a){var s=this,o=UG(this,n,a);return this._useKeys||(o.valueSeq=function(){return s._iter.toSeq().map(n,a)}),o},e.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o,u){return n(o,u,s)},a)},e.prototype.__iterator=function(n,a){return this._iter.__iterator(n,a)},e}(Uh);J3.prototype[xm]=!0;var MG=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,a){var s=this,o=0;return a&&Vy(this),this._iter.__iterate(function(u){return n(u,a?s.size-++o:o++,s)},a)},e.prototype.__iterator=function(n,a){var s=this,o=this._iter.__iterator(Dl,a),u=0;return a&&Vy(this),new Jr(function(){var l=o.next();return l.done?l:Hn(n,a?s.size-++u:u++,l.value,l)})},e}(Cu),BG=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o){return n(o,o,s)},a)},e.prototype.__iterator=function(n,a){var s=this._iter.__iterator(Dl,a);return new Jr(function(){var o=s.next();return o.done?o:Hn(n,o.value,o.value,o)})},e}(Rm),kG=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o){if(o){r7(o);var u=ps(o);return n(u?o.get(1):o[1],u?o.get(0):o[0],s)}},a)},e.prototype.__iterator=function(n,a){var s=this._iter.__iterator(Dl,a);return new Jr(function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value;if(u){r7(u);var l=ps(u);return Hn(n,l?u.get(0):u[0],l?u.get(1):u[1],o)}}})},e}(Uh);MG.prototype.cacheResult=J3.prototype.cacheResult=BG.prototype.cacheResult=kG.prototype.cacheResult=x5;function $G(t){var e=Zc(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=x5,e.__iterateUncached=function(r,n){var a=this;return t.__iterate(function(s,o){return r(o,s,a)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===Au){var a=t.__iterator(r,n);return new Jr(function(){var s=a.next();if(!s.done){var o=s.value[0];s.value[0]=s.value[1],s.value[1]=o}return s})}return t.__iterator(r===Dl?$1:Dl,n)},e}function UG(t,e,r){var n=Zc(t);return n.size=t.size,n.has=function(a){return t.has(a)},n.get=function(a,s){var o=t.get(a,qr);return o===qr?s:e.call(r,o,a,t)},n.__iterateUncached=function(a,s){var o=this;return t.__iterate(function(u,l,c){return a(e.call(r,u,l,c),l,o)!==!1},s)},n.__iteratorUncached=function(a,s){var o=t.__iterator(Au,s);return new Jr(function(){var u=o.next();if(u.done)return u;var l=u.value,c=l[0];return Hn(a,c,e.call(r,l[1],c,t),u)})},n}function T5(t,e){var r=this,n=Zc(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var a=$G(t);return a.reverse=function(){return t.flip()},a}),n.get=function(a,s){return t.get(e?a:-1-a,s)},n.has=function(a){return t.has(e?a:-1-a)},n.includes=function(a){return t.includes(a)},n.cacheResult=x5,n.__iterate=function(a,s){var o=this,u=0;return s&&Vy(t),t.__iterate(function(l,c){return a(l,e?c:s?o.size-++u:u++,o)},!s)},n.__iterator=function(a,s){var o=0;s&&Vy(t);var u=t.__iterator(Au,!s);return new Jr(function(){var l=u.next();if(l.done)return l;var c=l.value;return Hn(a,e?c[0]:s?r.size-++o:o++,c[1],l)})},n}function VG(t,e,r,n){var a=Zc(t);return n&&(a.has=function(s){var o=t.get(s,qr);return o!==qr&&!!e.call(r,o,s,t)},a.get=function(s,o){var u=t.get(s,qr);return u!==qr&&e.call(r,u,s,t)?u:o}),a.__iterateUncached=function(s,o){var u=this,l=0;return t.__iterate(function(c,d,f){if(e.call(r,c,d,f))return l++,s(c,n?d:l-1,u)},o),l},a.__iteratorUncached=function(s,o){var u=t.__iterator(Au,o),l=0;return new Jr(function(){for(;;){var c=u.next();if(c.done)return c;var d=c.value,f=d[0],h=d[1];if(e.call(r,h,f,t))return Hn(s,n?f:l++,h,c)}})},a}function j0e(t,e,r){var n=Hh().asMutable();return t.__iterate(function(a,s){n.update(e.call(r,a,s,t),0,function(o){return o+1})}),n.asImmutable()}function M0e(t,e,r){var n=_n(t),a=(Yo(t)?Nl():Hh()).asMutable();t.__iterate(function(o,u){a.update(e.call(r,o,u,t),function(l){return l=l||[],l.push(n?[u,o]:o),l})});var s=A5(t);return a.map(function(o){return bn(t,s(o))}).asImmutable()}function B0e(t,e,r){var n=_n(t),a=[[],[]];t.__iterate(function(o,u){a[e.call(r,o,u,t)?1:0].push(n?[u,o]:o)});var s=A5(t);return a.map(function(o){return bn(t,s(o))})}function E5(t,e,r,n){var a=t.size;if(M1(e,r,a))return t;var s=Tm(e,a),o=B1(r,a);if(s!==s||o!==o)return E5(t.toSeq().cacheResult(),e,r,n);var u=o-s,l;u===u&&(l=u<0?0:u);var c=Zc(t);return c.size=l===0?l:t.size&&l||void 0,!n&&k1(t)&&l>=0&&(c.get=function(d,f){return d=Ph(this,d),d>=0&&d<l?t.get(d+s,f):f}),c.__iterateUncached=function(d,f){var h=this;if(l===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var p=0,g=!0,y=0;return t.__iterate(function(S,v){if(!(g&&(g=p++<s)))return y++,d(S,n?v:y-1,h)!==!1&&y!==l}),y},c.__iteratorUncached=function(d,f){if(l!==0&&f)return this.cacheResult().__iterator(d,f);if(l===0)return new Jr(Vs);var h=t.__iterator(d,f),p=0,g=0;return new Jr(function(){for(;p++<s;)h.next();if(++g>l)return Vs();var y=h.next();return n||d===Dl||y.done?y:d===$1?Hn(d,g-1,void 0,y):Hn(d,g-1,y.value[1],y)})},c}function k0e(t,e,r){var n=Zc(t);return n.__iterateUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterate(a,s);var u=0;return t.__iterate(function(l,c,d){return e.call(r,l,c,d)&&++u&&a(l,c,o)}),u},n.__iteratorUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterator(a,s);var u=t.__iterator(Au,s),l=!0;return new Jr(function(){if(!l)return Vs();var c=u.next();if(c.done)return c;var d=c.value,f=d[0],h=d[1];return e.call(r,h,f,o)?a===Au?c:Hn(a,f,h,c):(l=!1,Vs())})},n}function HG(t,e,r,n){var a=Zc(t);return a.__iterateUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterate(s,o);var l=!0,c=0;return t.__iterate(function(d,f,h){if(!(l&&(l=e.call(r,d,f,h))))return c++,s(d,n?f:c-1,u)}),c},a.__iteratorUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterator(s,o);var l=t.__iterator(Au,o),c=!0,d=0;return new Jr(function(){var f,h,p;do{if(f=l.next(),f.done)return n||s===Dl?f:s===$1?Hn(s,d++,void 0,f):Hn(s,d++,f.value[1],f);var g=f.value;h=g[0],p=g[1],c&&(c=e.call(r,p,h,u))}while(c);return s===Au?f:Hn(s,h,p,f)})},a}function $0e(t,e){var r=_n(t),n=[t].concat(e).map(function(o){return ps(o)?r&&(o=Pu(o)):o=r?w5(o):FG(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return t;if(n.length===1){var a=n[0];if(a===t||r&&_n(a)||Ha(t)&&Ha(a))return a}var s=new p0(n);return r?s=s.toKeyedSeq():Ha(t)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=n.reduce(function(o,u){if(o!==void 0){var l=u.size;if(l!==void 0)return o+l}},0),s}function qG(t,e,r){var n=Zc(t);return n.__iterateUncached=function(a,s){if(s)return this.cacheResult().__iterate(a,s);var o=0,u=!1;function l(c,d){c.__iterate(function(f,h){return(!e||d<e)&&ps(f)?l(f,d+1):(o++,a(f,r?h:o-1,n)===!1&&(u=!0)),!u},s)}return l(t,0),o},n.__iteratorUncached=function(a,s){if(s)return this.cacheResult().__iterator(a,s);var o=t.__iterator(a,s),u=[],l=0;return new Jr(function(){for(;o;){var c=o.next();if(c.done!==!1){o=u.pop();continue}var d=c.value;if(a===Au&&(d=d[1]),(!e||u.length<e)&&ps(d))u.push(o),o=d.__iterator(a,s);else return r?c:Hn(a,l++,d,c)}return Vs()})},n}function U0e(t,e,r){var n=A5(t);return t.toSeq().map(function(a,s){return n(e.call(r,a,s,t))}).flatten(!0)}function V0e(t,e){var r=Zc(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,a){var s=this,o=0;return t.__iterate(function(u){return(!o||n(e,o++,s)!==!1)&&n(u,o++,s)!==!1},a),o},r.__iteratorUncached=function(n,a){var s=t.__iterator(Dl,a),o=0,u;return new Jr(function(){return(!u||o%2)&&(u=s.next(),u.done)?u:o%2?Hn(n,o++,e):Hn(n,o++,u.value,u)})},r}function Hy(t,e,r){e||(e=zG);var n=_n(t),a=0,s=t.toSeq().map(function(o,u){return[u,o,a++,r?r(o,u,t):o]}).valueSeq().toArray();return s.sort(function(o,u){return e(o[3],u[3])||o[2]-u[2]}).forEach(n?function(o,u){s[u].length=2}:function(o,u){s[u]=o[1]}),n?Uh(s):Ha(t)?Cu(s):Rm(s)}function MS(t,e,r){if(e||(e=zG),r){var n=t.toSeq().map(function(a,s){return[a,r(a,s,t)]}).reduce(function(a,s){return t7(e,a[1],s[1])?s:a});return n&&n[0]}return t.reduce(function(a,s){return t7(e,a,s)?s:a})}function t7(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function BS(t,e,r,n){var a=Zc(t),s=new p0(r).map(function(o){return o.size});return a.size=n?s.max():s.min(),a.__iterate=function(o,u){for(var l=this.__iterator(Dl,u),c,d=0;!(c=l.next()).done&&o(c.value,d++,this)!==!1;);return d},a.__iteratorUncached=function(o,u){var l=r.map(function(f){return f=Vn(f),S4(u?f.reverse():f)}),c=0,d=!1;return new Jr(function(){var f;return d||(f=l.map(function(h){return h.next()}),d=n?f.every(function(h){return h.done}):f.some(function(h){return h.done})),d?Vs():Hn(o,c++,e.apply(null,f.map(function(h){return h.value})))})},a}function bn(t,e){return t===e?t:k1(t)?e:t.constructor(e)}function r7(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function A5(t){return _n(t)?Pu:Ha(t)?N0:Am}function Zc(t){return Object.create((_n(t)?Uh:Ha(t)?Cu:Rm).prototype)}function x5(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):gs.prototype.cacheResult.call(this)}function zG(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Cc(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),a=0;a<r;a++)n[a]=t[a+e];return n}function O5(t,e){if(!t)throw new Error(e)}function zo(t){O5(t!==1/0,"Cannot perform this action with an infinite size.")}function GG(t){if(v5(t)&&typeof t!="string")return t;if(Yo(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var H0e=Object.prototype.toString;function Y3(t){if(!t||typeof t!="object"||H0e.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function Ch(t){return typeof t=="object"&&(iu(t)||Array.isArray(t)||Y3(t))}function p_(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function R5(t,e){return iu(t)?t.has(e):Ch(t)&&Om.call(t,e)}function Z3(t,e,r){return iu(t)?t.get(e,r):R5(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function QT(t){if(Array.isArray(t))return Cc(t);var e={};for(var r in t)Om.call(t,r)&&(e[r]=t[r]);return e}function I5(t,e){if(!Ch(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(iu(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Om.call(t,e))return t;var r=QT(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function P5(t,e,r){if(!Ch(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(iu(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(Om.call(t,e)&&r===t[e])return t;var n=QT(t);return n[e]=r,n}function Vh(t,e,r,n){n||(n=r,r=void 0);var a=QG(iu(t),t,GG(e),0,r,n);return a===qr?r:a}function QG(t,e,r,n,a,s){var o=e===qr;if(n===r.length){var u=o?a:e,l=s(u);return l===u?e:l}if(!o&&!Ch(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(p_)+"]: "+e);var c=r[n],d=o?qr:Z3(e,c,qr),f=QG(d===qr?t:iu(d),d,r,n+1,a,s);return f===d?e:f===qr?I5(e,c):P5(o?t?Tl():{}:e,c,f)}function C5(t,e,r){return Vh(t,e,qr,function(){return r})}function D5(t,e){return C5(this,t,e)}function N5(t,e){return Vh(t,e,function(){return qr})}function F5(t){return N5(this,t)}function eA(t,e,r,n){return Vh(t,[e],r,n)}function L5(t,e,r){return arguments.length===1?t(this):eA(this,t,e,r)}function j5(t,e,r){return Vh(this,t,e,r)}function WG(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return XG(this,t)}function KG(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return XG(this,e,t)}function XG(t,e,r){for(var n=[],a=0;a<e.length;a++){var s=Pu(e[a]);s.size!==0&&n.push(s)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(o){for(var u=r?function(c,d){eA(o,d,qr,function(f){return f===qr?c:r(f,c,d)})}:function(c,d){o.set(d,c)},l=0;l<n.length;l++)n[l].forEach(u)})}function JG(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return H1(t,e)}function YG(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return H1(e,r,t)}function ZG(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return V1(t,e)}function eQ(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return V1(e,r,t)}function V1(t,e,r){return H1(t,e,q0e(r))}function H1(t,e,r){if(!Ch(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(iu(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),a=t,s=n?N0:Pu,o=n?function(l){a===t&&(a=QT(a)),a.push(l)}:function(l,c){var d=Om.call(a,c),f=d&&r?r(a[c],l,c):l;(!d||f!==a[c])&&(a===t&&(a=QT(a)),a[c]=f)},u=0;u<e.length;u++)s(e[u]).forEach(o);return a}function q0e(t){function e(r,n,a){return Ch(r)&&Ch(n)&&z0e(r,n)?H1(r,[n],e):t?t(r,n,a):n}return e}function z0e(t,e){var r=gs(t),n=gs(e);return Ha(r)===Ha(n)&&_n(r)===_n(n)}function tQ(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return V1(this,t)}function rQ(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return V1(this,e,t)}function M5(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Vh(this,t,Tl(),function(n){return H1(n,e)})}function B5(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Vh(this,t,Tl(),function(n){return V1(n,e)})}function q1(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function z1(){return this.__ownerID?this:this.__ensureOwner(new y5)}function G1(){return this.__ensureOwner()}function k5(){return this.__altered}var Hh=function(t){function e(r){return r==null?Tl():U1(r)&&!Yo(r)?r:Tl().withMutations(function(n){var a=t(r);zo(a.size),a.forEach(function(s,o){return n.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return Tl().withMutations(function(s){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);s.set(n[o],n[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,a){return this._root?this._root.get(0,void 0,n,a):a},e.prototype.set=function(n,a){return a7(this,n,a)},e.prototype.remove=function(n){return a7(this,n,qr)},e.prototype.deleteAll=function(n){var a=Vn(n);return a.size===0?this:this.withMutations(function(s){a.forEach(function(o){return s.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Tl()},e.prototype.sort=function(n){return Nl(Hy(this,n))},e.prototype.sortBy=function(n,a){return Nl(Hy(this,a,n))},e.prototype.map=function(n,a){var s=this;return this.withMutations(function(o){o.forEach(function(u,l){o.set(l,n.call(a,u,l,s))})})},e.prototype.__iterator=function(n,a){return new G0e(this,n,a)},e.prototype.__iterate=function(n,a){var s=this,o=0;return this._root&&this._root.iterate(function(u){return o++,n(u[1],u[0],s)},a),o},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?$5(this.size,this._root,n,this.__hash):this.size===0?Tl():(this.__ownerID=n,this.__altered=!1,this)},e}(Pu);Hh.isMap=U1;var zn=Hh.prototype;zn[LG]=!0;zn[j1]=zn.remove;zn.removeAll=zn.deleteAll;zn.setIn=D5;zn.removeIn=zn.deleteIn=F5;zn.update=L5;zn.updateIn=j5;zn.merge=zn.concat=WG;zn.mergeWith=KG;zn.mergeDeep=tQ;zn.mergeDeepWith=rQ;zn.mergeIn=M5;zn.mergeDeepIn=B5;zn.withMutations=q1;zn.wasAltered=k5;zn.asImmutable=G1;zn["@@transducer/init"]=zn.asMutable=z1;zn["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};zn["@@transducer/result"]=function(t){return t.asImmutable()};var g_=function(e,r){this.ownerID=e,this.entries=r};g_.prototype.get=function(e,r,n,a){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(sa(n,s[o][0]))return s[o][1];return a};g_.prototype.update=function(e,r,n,a,s,o,u){for(var l=s===qr,c=this.entries,d=0,f=c.length;d<f&&!sa(a,c[d][0]);d++);var h=d<f;if(h?c[d][1]===s:l)return this;if(mu(u),(l||!h)&&mu(o),!(l&&c.length===1)){if(!h&&!l&&c.length>=Y0e)return Q0e(e,c,a,s);var p=e&&e===this.ownerID,g=p?c:Cc(c);return h?l?d===f-1?g.pop():g[d]=g.pop():g[d]=[a,s]:g.push([a,s]),p?(this.entries=g,this):new g_(e,g)}};var qy=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};qy.prototype.get=function(e,r,n,a){r===void 0&&(r=js(n));var s=1<<((e===0?r:r>>>e)&ks),o=this.bitmap;return o&s?this.nodes[nQ(o&s-1)].get(e+kn,r,n,a):a};qy.prototype.update=function(e,r,n,a,s,o,u){n===void 0&&(n=js(a));var l=(r===0?n:n>>>r)&ks,c=1<<l,d=this.bitmap,f=(d&c)!==0;if(!f&&s===qr)return this;var h=nQ(d&c-1),p=this.nodes,g=f?p[h]:void 0,y=U5(g,e,r+kn,n,a,s,o,u);if(y===g)return this;if(!f&&y&&p.length>=Z0e)return K0e(e,p,d,l,y);if(f&&!y&&p.length===2&&s7(p[h^1]))return p[h^1];if(f&&y&&p.length===1&&s7(y))return y;var S=e&&e===this.ownerID,v=f?y?d:d^c:d|c,A=f?y?iQ(p,h,y,S):J0e(p,h,S):X0e(p,h,y,S);return S?(this.bitmap=v,this.nodes=A,this):new qy(e,v,A)};var y_=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};y_.prototype.get=function(e,r,n,a){r===void 0&&(r=js(n));var s=(e===0?r:r>>>e)&ks,o=this.nodes[s];return o?o.get(e+kn,r,n,a):a};y_.prototype.update=function(e,r,n,a,s,o,u){n===void 0&&(n=js(a));var l=(r===0?n:n>>>r)&ks,c=s===qr,d=this.nodes,f=d[l];if(c&&!f)return this;var h=U5(f,e,r+kn,n,a,s,o,u);if(h===f)return this;var p=this.count;if(!f)p++;else if(!h&&(p--,p<ege))return W0e(e,d,p,l);var g=e&&e===this.ownerID,y=iQ(d,l,h,g);return g?(this.count=p,this.nodes=y,this):new y_(e,p,y)};var zy=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};zy.prototype.get=function(e,r,n,a){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(sa(n,s[o][0]))return s[o][1];return a};zy.prototype.update=function(e,r,n,a,s,o,u){n===void 0&&(n=js(a));var l=s===qr;if(n!==this.keyHash)return l?this:(mu(u),mu(o),V5(this,e,r,n,[a,s]));for(var c=this.entries,d=0,f=c.length;d<f&&!sa(a,c[d][0]);d++);var h=d<f;if(h?c[d][1]===s:l)return this;if(mu(u),(l||!h)&&mu(o),l&&f===2)return new tf(e,this.keyHash,c[d^1]);var p=e&&e===this.ownerID,g=p?c:Cc(c);return h?l?d===f-1?g.pop():g[d]=g.pop():g[d]=[a,s]:g.push([a,s]),p?(this.entries=g,this):new zy(e,this.keyHash,g)};var tf=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};tf.prototype.get=function(e,r,n,a){return sa(n,this.entry[0])?this.entry[1]:a};tf.prototype.update=function(e,r,n,a,s,o,u){var l=s===qr,c=sa(a,this.entry[0]);if(c?s===this.entry[1]:l)return this;if(mu(u),l){mu(o);return}return c?e&&e===this.ownerID?(this.entry[1]=s,this):new tf(e,this.keyHash,[a,s]):(mu(o),V5(this,e,r,js(a),[a,s]))};g_.prototype.iterate=zy.prototype.iterate=function(t,e){for(var r=this.entries,n=0,a=r.length-1;n<=a;n++)if(t(r[e?a-n:n])===!1)return!1};qy.prototype.iterate=y_.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,a=r.length-1;n<=a;n++){var s=r[e?a-n:n];if(s&&s.iterate(t,e)===!1)return!1}};tf.prototype.iterate=function(t,e){return t(this.entry)};var G0e=function(t){function e(r,n,a){this._type=n,this._reverse=a,this._stack=r._root&&n7(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,a=this._stack;a;){var s=a.node,o=a.index++,u=void 0;if(s.entry){if(o===0)return XC(n,s.entry)}else if(s.entries){if(u=s.entries.length-1,o<=u)return XC(n,s.entries[this._reverse?u-o:o])}else if(u=s.nodes.length-1,o<=u){var l=s.nodes[this._reverse?u-o:o];if(l){if(l.entry)return XC(n,l.entry);a=this._stack=n7(l,a)}continue}a=this._stack=this._stack.__prev}return Vs()},e}(Jr);function XC(t,e){return Hn(t,e[0],e[1])}function n7(t,e){return{node:t,index:0,__prev:e}}function $5(t,e,r,n){var a=Object.create(zn);return a.size=t,a._root=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var i7;function Tl(){return i7||(i7=$5(0))}function a7(t,e,r){var n,a;if(t._root){var s=_4(),o=_4();if(n=U5(t._root,t.__ownerID,0,void 0,e,r,s,o),!o.value)return t;a=t.size+(s.value?r===qr?-1:1:0)}else{if(r===qr)return t;a=1,n=new g_(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=a,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?$5(a,n):Tl()}function U5(t,e,r,n,a,s,o,u){return t?t.update(e,r,n,a,s,o,u):s===qr?t:(mu(u),mu(o),new tf(e,n,[a,s]))}function s7(t){return t.constructor===tf||t.constructor===zy}function V5(t,e,r,n,a){if(t.keyHash===n)return new zy(e,n,[t.entry,a]);var s=(r===0?t.keyHash:t.keyHash>>>r)&ks,o=(r===0?n:n>>>r)&ks,u,l=s===o?[V5(t,e,r+kn,n,a)]:(u=new tf(e,n,a),s<o?[t,u]:[u,t]);return new qy(e,1<<s|1<<o,l)}function Q0e(t,e,r,n){t||(t=new y5);for(var a=new tf(t,js(r),[r,n]),s=0;s<e.length;s++){var o=e[s];a=a.update(t,0,void 0,o[0],o[1])}return a}function W0e(t,e,r,n){for(var a=0,s=0,o=new Array(r),u=0,l=1,c=e.length;u<c;u++,l<<=1){var d=e[u];d!==void 0&&u!==n&&(a|=l,o[s++]=d)}return new qy(t,a,o)}function K0e(t,e,r,n,a){for(var s=0,o=new Array(yu),u=0;r!==0;u++,r>>>=1)o[u]=r&1?e[s++]:void 0;return o[n]=a,new y_(t,s+1,o)}function nQ(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function iQ(t,e,r,n){var a=n?t:Cc(t);return a[e]=r,a}function X0e(t,e,r,n){var a=t.length+1;if(n&&e+1===a)return t[e]=r,t;for(var s=new Array(a),o=0,u=0;u<a;u++)u===e?(s[u]=r,o=-1):s[u]=t[u+o];return s}function J0e(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var a=new Array(n),s=0,o=0;o<n;o++)o===e&&(s=1),a[o]=t[o+s];return a}var Y0e=yu/4,Z0e=yu/2,ege=yu/4,aQ="@@__IMMUTABLE_LIST__@@";function tA(t){return Boolean(t&&t[aQ])}var Im=function(t){function e(r){var n=G2();if(r==null)return n;if(tA(r))return r;var a=t(r),s=a.size;return s===0?n:(zo(s),s>0&&s<yu?m_(0,s,kn,null,new wh(a.toArray())):n.withMutations(function(o){o.setSize(s),a.forEach(function(u,l){return o.set(l,u)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,a){if(n=Ph(this,n),n>=0&&n<this.size){n+=this._origin;var s=sQ(this,n);return s&&s.array[n&ks]}return a},e.prototype.set=function(n,a){return tge(this,n,a)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,a){return this.splice(n,0,a)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=kn,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):G2()},e.prototype.push=function(){var n=arguments,a=this.size;return this.withMutations(function(s){rh(s,0,a+n.length);for(var o=0;o<n.length;o++)s.set(a+o,n[o])})},e.prototype.pop=function(){return rh(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(a){rh(a,-n.length);for(var s=0;s<n.length;s++)a.set(s,n[s])})},e.prototype.shift=function(){return rh(this,1)},e.prototype.concat=function(){for(var n=arguments,a=[],s=0;s<arguments.length;s++){var o=n[s],u=t(typeof o!="string"&&m5(o)?o:[o]);u.size!==0&&a.push(u)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(l){a.forEach(function(c){return c.forEach(function(d){return l.push(d)})})})},e.prototype.setSize=function(n){return rh(this,0,n)},e.prototype.map=function(n,a){var s=this;return this.withMutations(function(o){for(var u=0;u<s.size;u++)o.set(u,n.call(a,o.get(u),u,s))})},e.prototype.slice=function(n,a){var s=this.size;return M1(n,a,s)?this:rh(this,Tm(n,s),B1(a,s))},e.prototype.__iterator=function(n,a){var s=a?this.size:0,o=o7(this,a);return new Jr(function(){var u=o();return u===Hb?Vs():Hn(n,a?--s:s++,u)})},e.prototype.__iterate=function(n,a){for(var s=a?this.size:0,o=o7(this,a),u;(u=o())!==Hb&&n(u,a?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?m_(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?G2():(this.__ownerID=n,this.__altered=!1,this)},e}(N0);Im.isList=tA;var Ui=Im.prototype;Ui[aQ]=!0;Ui[j1]=Ui.remove;Ui.merge=Ui.concat;Ui.setIn=D5;Ui.deleteIn=Ui.removeIn=F5;Ui.update=L5;Ui.updateIn=j5;Ui.mergeIn=M5;Ui.mergeDeepIn=B5;Ui.withMutations=q1;Ui.wasAltered=k5;Ui.asImmutable=G1;Ui["@@transducer/init"]=Ui.asMutable=z1;Ui["@@transducer/step"]=function(t,e){return t.push(e)};Ui["@@transducer/result"]=function(t){return t.asImmutable()};var wh=function(e,r){this.array=e,this.ownerID=r};wh.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var a=n>>>r&ks;if(a>=this.array.length)return new wh([],e);var s=a===0,o;if(r>0){var u=this.array[a];if(o=u&&u.removeBefore(e,r-kn,n),o===u&&s)return this}if(s&&!o)return this;var l=Gy(this,e);if(!s)for(var c=0;c<a;c++)l.array[c]=void 0;return o&&(l.array[a]=o),l};wh.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var a=n-1>>>r&ks;if(a>=this.array.length)return this;var s;if(r>0){var o=this.array[a];if(s=o&&o.removeAfter(e,r-kn,n),s===o&&a===this.array.length-1)return this}var u=Gy(this,e);return u.array.splice(a+1),s&&(u.array[a]=s),u};var Hb={};function o7(t,e){var r=t._origin,n=t._capacity,a=v_(n),s=t._tail;return o(t._root,t._level,0);function o(c,d,f){return d===0?u(c,f):l(c,d,f)}function u(c,d){var f=d===a?s&&s.array:c&&c.array,h=d>r?0:r-d,p=n-d;return p>yu&&(p=yu),function(){if(h===p)return Hb;var g=e?--p:h++;return f&&f[g]}}function l(c,d,f){var h,p=c&&c.array,g=f>r?0:r-f>>d,y=(n-f>>d)+1;return y>yu&&(y=yu),function(){for(;;){if(h){var S=h();if(S!==Hb)return S;h=null}if(g===y)return Hb;var v=e?--y:g++;h=o(p&&p[v],d-kn,f+(v<<d))}}}}function m_(t,e,r,n,a,s,o){var u=Object.create(Ui);return u.size=e-t,u._origin=t,u._capacity=e,u._level=r,u._root=n,u._tail=a,u.__ownerID=s,u.__hash=o,u.__altered=!1,u}var u7;function G2(){return u7||(u7=m_(0,0,kn))}function tge(t,e,r){if(e=Ph(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?rh(o,e).set(0,r):rh(o,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,a=t._root,s=_4();return e>=v_(t._capacity)?n=x4(n,t.__ownerID,0,e,r,s):a=x4(a,t.__ownerID,t._level,e,r,s),s.value?t.__ownerID?(t._root=a,t._tail=n,t.__hash=void 0,t.__altered=!0,t):m_(t._origin,t._capacity,t._level,a,n):t}function x4(t,e,r,n,a,s){var o=n>>>r&ks,u=t&&o<t.array.length;if(!u&&a===void 0)return t;var l;if(r>0){var c=t&&t.array[o],d=x4(c,e,r-kn,n,a,s);return d===c?t:(l=Gy(t,e),l.array[o]=d,l)}return u&&t.array[o]===a?t:(s&&mu(s),l=Gy(t,e),a===void 0&&o===l.array.length-1?l.array.pop():l.array[o]=a,l)}function Gy(t,e){return e&&t&&e===t.ownerID?t:new wh(t?t.array.slice():[],e)}function sQ(t,e){if(e>=v_(t._capacity))return t._tail;if(e<1<<t._level+kn){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&ks],n-=kn;return r}}function rh(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new y5,a=t._origin,s=t._capacity,o=a+e,u=r===void 0?s:r<0?s+r:a+r;if(o===a&&u===s)return t;if(o>=u)return t.clear();for(var l=t._level,c=t._root,d=0;o+d<0;)c=new wh(c&&c.array.length?[void 0,c]:[],n),l+=kn,d+=1<<l;d&&(o+=d,a+=d,u+=d,s+=d);for(var f=v_(s),h=v_(u);h>=1<<l+kn;)c=new wh(c&&c.array.length?[c]:[],n),l+=kn;var p=t._tail,g=h<f?sQ(t,u-1):h>f?new wh([],n):p;if(p&&h>f&&o<s&&p.array.length){c=Gy(c,n);for(var y=c,S=l;S>kn;S-=kn){var v=f>>>S&ks;y=y.array[v]=Gy(y.array[v],n)}y.array[f>>>kn&ks]=p}if(u<s&&(g=g&&g.removeAfter(n,0,u)),o>=h)o-=h,u-=h,l=kn,c=null,g=g&&g.removeBefore(n,0,o);else if(o>a||h<f){for(d=0;c;){var A=o>>>l&ks;if(A!==h>>>l&ks)break;A&&(d+=(1<<l)*A),l-=kn,c=c.array[A]}c&&o>a&&(c=c.removeBefore(n,l,o-d)),c&&h<f&&(c=c.removeAfter(n,l,h-d)),d&&(o-=d,u-=d)}return t.__ownerID?(t.size=u-o,t._origin=o,t._capacity=u,t._level=l,t._root=c,t._tail=g,t.__hash=void 0,t.__altered=!0,t):m_(o,u,l,c,g)}function v_(t){return t<yu?0:t-1>>>kn<<kn}var Nl=function(t){function e(r){return r==null?ab():K3(r)?r:ab().withMutations(function(n){var a=Pu(r);zo(a.size),a.forEach(function(s,o){return n.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,a){var s=this._map.get(n);return s!==void 0?this._list.get(s)[1]:a},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):ab()},e.prototype.set=function(n,a){return c7(this,n,a)},e.prototype.remove=function(n){return c7(this,n,qr)},e.prototype.__iterate=function(n,a){var s=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],s)},a)},e.prototype.__iterator=function(n,a){return this._list.fromEntrySeq().__iterator(n,a)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n),s=this._list.__ensureOwner(n);return n?H5(a,s,n,this.__hash):this.size===0?ab():(this.__ownerID=n,this.__altered=!1,this._map=a,this._list=s,this)},e}(Hh);Nl.isOrderedMap=K3;Nl.prototype[xm]=!0;Nl.prototype[j1]=Nl.prototype.remove;function H5(t,e,r,n){var a=Object.create(Nl.prototype);return a.size=t?t.size:0,a._map=t,a._list=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var l7;function ab(){return l7||(l7=H5(Tl(),G2()))}function c7(t,e,r){var n=t._map,a=t._list,s=n.get(e),o=s!==void 0,u,l;if(r===qr){if(!o)return t;a.size>=yu&&a.size>=n.size*2?(l=a.filter(function(c,d){return c!==void 0&&s!==d}),u=l.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),t.__ownerID&&(u.__ownerID=l.__ownerID=t.__ownerID)):(u=n.remove(e),l=s===a.size-1?a.pop():a.set(s,void 0))}else if(o){if(r===a.get(s)[1])return t;u=n,l=a.set(s,[e,r])}else u=n.set(e,a.size),l=a.set(a.size,[e,r]);return t.__ownerID?(t.size=u.size,t._map=u,t._list=l,t.__hash=void 0,t.__altered=!0,t):H5(u,l)}var oQ="@@__IMMUTABLE_STACK__@@";function b_(t){return Boolean(t&&t[oQ])}var Q1=function(t){function e(r){return r==null?kS():b_(r)?r:kS().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,a){var s=this._head;for(n=Ph(this,n);s&&n--;)s=s.next;return s?s.value:a},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,s=this._head,o=arguments.length-1;o>=0;o--)s={value:n[o],next:s};return this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):sb(a,s)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&b_(n))return n;zo(n.size);var a=this.size,s=this._head;return n.__iterate(function(o){a++,s={value:o,next:s}},!0),this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):sb(a,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):kS()},e.prototype.slice=function(n,a){if(M1(n,a,this.size))return this;var s=Tm(n,this.size),o=B1(a,this.size);if(o!==this.size)return t.prototype.slice.call(this,n,a);for(var u=this.size-s,l=this._head;s--;)l=l.next;return this.__ownerID?(this.size=u,this._head=l,this.__hash=void 0,this.__altered=!0,this):sb(u,l)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?sb(this.size,this._head,n,this.__hash):this.size===0?kS():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,a){var s=this;if(a)return new p0(this.toArray()).__iterate(function(l,c){return n(l,c,s)},a);for(var o=0,u=this._head;u&&n(u.value,o++,this)!==!1;)u=u.next;return o},e.prototype.__iterator=function(n,a){if(a)return new p0(this.toArray()).__iterator(n,a);var s=0,o=this._head;return new Jr(function(){if(o){var u=o.value;return o=o.next,Hn(n,s++,u)}return Vs()})},e}(N0);Q1.isStack=b_;var Hs=Q1.prototype;Hs[oQ]=!0;Hs.shift=Hs.pop;Hs.unshift=Hs.push;Hs.unshiftAll=Hs.pushAll;Hs.withMutations=q1;Hs.wasAltered=k5;Hs.asImmutable=G1;Hs["@@transducer/init"]=Hs.asMutable=z1;Hs["@@transducer/step"]=function(t,e){return t.unshift(e)};Hs["@@transducer/result"]=function(t){return t.asImmutable()};function sb(t,e,r,n){var a=Object.create(Hs);return a.size=t,a._head=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var d7;function kS(){return d7||(d7=sb(0))}var uQ="@@__IMMUTABLE_SET__@@";function W1(t){return Boolean(t&&t[uQ])}function rA(t){return W1(t)&&Yo(t)}function q5(t,e){if(t===e)return!0;if(!ps(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||_n(t)!==_n(e)||Ha(t)!==Ha(e)||Yo(t)!==Yo(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!Em(t);if(Yo(t)){var n=t.entries();return e.every(function(l,c){var d=n.next().value;return d&&sa(d[1],l)&&(r||sa(d[0],c))})&&n.next().done}var a=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{a=!0;var s=t;t=e,e=s}var o=!0,u=e.__iterate(function(l,c){if(r?!t.has(l):a?!sa(l,t.get(c,qr)):!sa(t.get(c,qr),l))return o=!1,!1});return o&&t.size===u}function F0(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function WT(t){if(!t||typeof t!="object")return t;if(!ps(t)){if(!Ch(t))return t;t=gs(t)}if(_n(t)){var e={};return t.__iterate(function(n,a){e[a]=WT(n)}),e}var r=[];return t.__iterate(function(n){r.push(WT(n))}),r}var Pm=function(t){function e(r){return r==null?ob():W1(r)&&!Yo(r)?r:ob().withMutations(function(n){var a=t(r);zo(a.size),a.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Pu(n).keySeq())},e.intersect=function(n){return n=Vn(n).toArray(),n.length?qa.intersect.apply(e(n.pop()),n):ob()},e.union=function(n){return n=Vn(n).toArray(),n.length?qa.union.apply(e(n.pop()),n):ob()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return $S(this,this._map.set(n,n))},e.prototype.remove=function(n){return $S(this,this._map.remove(n))},e.prototype.clear=function(){return $S(this,this._map.clear())},e.prototype.map=function(n,a){var s=this,o=!1,u=$S(this,this._map.mapEntries(function(l){var c=l[1],d=n.call(a,c,c,s);return d!==c&&(o=!0),[d,d]},a));return o?u:this},e.prototype.union=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return n=n.filter(function(s){return s.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(s){for(var o=0;o<n.length;o++)typeof n[o]=="string"?s.add(n[o]):t(n[o]).forEach(function(u){return s.add(u)})})},e.prototype.intersect=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(o){return t(o)});var s=[];return this.forEach(function(o){n.every(function(u){return u.includes(o)})||s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},e.prototype.subtract=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(o){return t(o)});var s=[];return this.forEach(function(o){n.some(function(u){return u.includes(o)})&&s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},e.prototype.sort=function(n){return g0(Hy(this,n))},e.prototype.sortBy=function(n,a){return g0(Hy(this,a,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,a){var s=this;return this._map.__iterate(function(o){return n(o,o,s)},a)},e.prototype.__iterator=function(n,a){return this._map.__iterator(n,a)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n);return n?this.__make(a,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=a,this)},e}(Am);Pm.isSet=W1;var qa=Pm.prototype;qa[uQ]=!0;qa[j1]=qa.remove;qa.merge=qa.concat=qa.union;qa.withMutations=q1;qa.asImmutable=G1;qa["@@transducer/init"]=qa.asMutable=z1;qa["@@transducer/step"]=function(t,e){return t.add(e)};qa["@@transducer/result"]=function(t){return t.asImmutable()};qa.__empty=ob;qa.__make=lQ;function $S(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function lQ(t,e){var r=Object.create(qa);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var f7;function ob(){return f7||(f7=lQ(Tl()))}var z5=function(t){function e(r,n,a){if(!(this instanceof e))return new e(r,n,a);if(O5(a!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),a=a===void 0?1:Math.abs(a),n<r&&(a=-a),this._start=r,this._end=n,this._step=a,this.size=Math.max(0,Math.ceil((n-r)/a-1)+1),this.size===0){if(JC)return JC;JC=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,a){return this.has(n)?this._start+Ph(this,n)*this._step:a},e.prototype.includes=function(n){var a=(n-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},e.prototype.slice=function(n,a){return M1(n,a,this.size)?this:(n=Tm(n,this.size),a=B1(a,this.size),a<=n?new e(0,0):new e(this.get(n,this._end),this.get(a,this._end),this._step))},e.prototype.indexOf=function(n){var a=n-this._start;if(a%this._step===0){var s=a/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,a){for(var s=this.size,o=this._step,u=a?this._start+(s-1)*o:this._start,l=0;l!==s&&n(u,a?s-++l:l++,this)!==!1;)u+=a?-o:o;return l},e.prototype.__iterator=function(n,a){var s=this.size,o=this._step,u=a?this._start+(s-1)*o:this._start,l=0;return new Jr(function(){if(l===s)return Vs();var c=u;return u+=a?-o:o,Hn(n,a?s-++l:l++,c)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:q5(this,n)},e}(Cu),JC;function nA(t,e,r){for(var n=GG(e),a=0;a!==n.length;)if(t=Z3(t,n[a++],qr),t===qr)return r;return t}function cQ(t,e){return nA(this,t,e)}function G5(t,e){return nA(t,e,qr)!==qr}function rge(t){return G5(this,t)}function dQ(){zo(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}Vn.isIterable=ps;Vn.isKeyed=_n;Vn.isIndexed=Ha;Vn.isAssociative=Em;Vn.isOrdered=Yo;Vn.Iterator=Jr;F0(Vn,{toArray:function(){zo(this.size);var e=new Array(this.size||0),r=_n(this),n=0;return this.__iterate(function(a,s){e[n++]=r?[s,a]:a}),e},toIndexedSeq:function(){return new MG(this)},toJS:function(){return WT(this)},toKeyedSeq:function(){return new J3(this,!0)},toMap:function(){return Hh(this.toKeyedSeq())},toObject:dQ,toOrderedMap:function(){return Nl(this.toKeyedSeq())},toOrderedSet:function(){return g0(_n(this)?this.valueSeq():this)},toSet:function(){return Pm(_n(this)?this.valueSeq():this)},toSetSeq:function(){return new BG(this)},toSeq:function(){return Ha(this)?this.toIndexedSeq():_n(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Q1(_n(this)?this.valueSeq():this)},toList:function(){return Im(_n(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return bn(this,$0e(this,e))},includes:function(e){return this.some(function(r){return sa(r,e)})},entries:function(){return this.__iterator(Au)},every:function(e,r){zo(this.size);var n=!0;return this.__iterate(function(a,s,o){if(!e.call(r,a,s,o))return n=!1,!1}),n},filter:function(e,r){return bn(this,VG(this,e,r,!0))},partition:function(e,r){return B0e(this,e,r)},find:function(e,r,n){var a=this.findEntry(e,r);return a?a[1]:n},forEach:function(e,r){return zo(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){zo(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(a){n?n=!1:r+=e,r+=a!=null?a.toString():""}),r},keys:function(){return this.__iterator($1)},map:function(e,r){return bn(this,UG(this,e,r))},reduce:function(e,r,n){return h7(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return h7(this,e,r,n,arguments.length<2,!0)},reverse:function(){return bn(this,T5(this,!0))},slice:function(e,r){return bn(this,E5(this,e,r,!0))},some:function(e,r){zo(this.size);var n=!1;return this.__iterate(function(a,s,o){if(e.call(r,a,s,o))return n=!0,!1}),n},sort:function(e){return bn(this,Hy(this,e))},values:function(){return this.__iterator(Dl)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return Vy(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return j0e(this,e,r)},equals:function(e){return q5(this,e)},entrySeq:function(){var e=this;if(e._cache)return new p0(e._cache);var r=e.toSeq().map(ige).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(YC(e),r)},findEntry:function(e,r,n){var a=n;return this.__iterate(function(s,o,u){if(e.call(r,s,o,u))return a=[o,s],!1}),a},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(AG,null,e)},flatMap:function(e,r){return bn(this,U0e(this,e,r))},flatten:function(e){return bn(this,qG(this,e,!0))},fromEntrySeq:function(){return new kG(this)},get:function(e,r){return this.find(function(n,a){return sa(a,e)},void 0,r)},getIn:cQ,groupBy:function(e,r){return M0e(this,e,r)},has:function(e){return this.get(e,qr)!==qr},hasIn:rge,isSubset:function(e){return e=typeof e.includes=="function"?e:Vn(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Vn(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return sa(r,e)})},keySeq:function(){return this.toSeq().map(nge).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return MS(this,e)},maxBy:function(e,r){return MS(this,r,e)},min:function(e){return MS(this,e?p7(e):y7)},minBy:function(e,r){return MS(this,r?p7(r):y7,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return bn(this,HG(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(YC(e),r)},sortBy:function(e,r){return bn(this,Hy(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return bn(this,k0e(this,e,r))},takeUntil:function(e,r){return this.takeWhile(YC(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=age(this))}});var ys=Vn.prototype;ys[RG]=!0;ys[Q3]=ys.values;ys.toJSON=ys.toArray;ys.__toStringMapper=p_;ys.inspect=ys.toSource=function(){return this.toString()};ys.chain=ys.flatMap;ys.contains=ys.includes;F0(Pu,{flip:function(){return bn(this,$G(this))},mapEntries:function(e,r){var n=this,a=0;return bn(this,this.toSeq().map(function(s,o){return e.call(r,[o,s],a++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return bn(this,this.toSeq().flip().map(function(a,s){return e.call(r,a,s,n)}).flip())}});var K1=Pu.prototype;K1[IG]=!0;K1[Q3]=ys.entries;K1.toJSON=dQ;K1.__toStringMapper=function(t,e){return p_(e)+": "+p_(t)};F0(N0,{toKeyedSeq:function(){return new J3(this,!1)},filter:function(e,r){return bn(this,VG(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return bn(this,T5(this,!1))},slice:function(e,r){return bn(this,E5(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=Tm(e,e<0?this.count():this.size);var a=this.slice(0,e);return bn(this,n===1?a:a.concat(Cc(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return bn(this,qG(this,e,!1))},get:function(e,r){return e=Ph(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,a){return a===e},void 0,r)},has:function(e){return e=Ph(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return bn(this,V0e(this,e))},interleave:function(){var e=[this].concat(Cc(arguments)),r=BS(this.toSeq(),Cu.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),bn(this,n)},keySeq:function(){return z5(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return bn(this,HG(this,e,r,!1))},zip:function(){var e=[this].concat(Cc(arguments));return bn(this,BS(this,g7,e))},zipAll:function(){var e=[this].concat(Cc(arguments));return bn(this,BS(this,g7,e,!0))},zipWith:function(e){var r=Cc(arguments);return r[0]=this,bn(this,BS(this,e,r))}});var Cm=N0.prototype;Cm[PG]=!0;Cm[xm]=!0;F0(Am,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Qy=Am.prototype;Qy.has=ys.includes;Qy.contains=Qy.includes;Qy.keys=Qy.values;F0(Uh,K1);F0(Cu,Cm);F0(Rm,Qy);function h7(t,e,r,n,a,s){return zo(t.size),t.__iterate(function(o,u,l){a?(a=!1,r=o):r=e.call(n,r,o,u,l)},s),r}function nge(t,e){return e}function ige(t,e){return[e,t]}function YC(t){return function(){return!t.apply(this,arguments)}}function p7(t){return function(){return-t.apply(this,arguments)}}function g7(){return Cc(arguments)}function y7(t,e){return t<e?1:t>e?-1:0}function age(t){if(t.size===1/0)return 0;var e=Yo(t),r=_n(t),n=e?1:0,a=t.__iterate(r?e?function(s,o){n=31*n+m7(js(s),js(o))|0}:function(s,o){n=n+m7(js(s),js(o))|0}:e?function(s){n=31*n+js(s)|0}:function(s){n=n+js(s)|0});return sge(a,n)}function sge(t,e){return e=Tv(e,3432918353),e=Tv(e<<15|e>>>-15,461845907),e=Tv(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Tv(e^e>>>16,2246822507),e=Tv(e^e>>>13,3266489909),e=X3(e^e>>>16),e}function m7(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var g0=function(t){function e(r){return r==null?O4():rA(r)?r:O4().withMutations(function(n){var a=Am(r);zo(a.size),a.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Pu(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Pm);g0.isOrderedSet=rA;var L0=g0.prototype;L0[xm]=!0;L0.zip=Cm.zip;L0.zipWith=Cm.zipWith;L0.zipAll=Cm.zipAll;L0.__empty=O4;L0.__make=fQ;function fQ(t,e){var r=Object.create(L0);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var v7;function O4(){return v7||(v7=fQ(ab()))}var hQ={LeftThenRight:-1,RightThenLeft:1};function oge(t){if($h(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(iu(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Hi=function(e,r){var n;oge(e);var a=function(u){var l=this;if(u instanceof a)return u;if(!(this instanceof a))return new a(u);if(!n){n=!0;var c=Object.keys(e),d=s._indices={};s._name=r,s._keys=c,s._defaultValues=e;for(var f=0;f<c.length;f++){var h=c[f];d[h]=f,s[h]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+W5(this)+' with property "'+h+'" since that property name is part of the Record API.'):uge(s,h)}}return this.__ownerID=void 0,this._values=Im().withMutations(function(p){p.setSize(l._keys.length),Pu(u).forEach(function(g,y){p.set(l._indices[y],g===l._defaultValues[y]?void 0:g)})}),this},s=a.prototype=Object.create(In);return s.constructor=a,r&&(a.displayName=r),a};Hi.prototype.toString=function(){for(var e=W5(this)+" { ",r=this._keys,n,a=0,s=r.length;a!==s;a++)n=r[a],e+=(a?", ":"")+n+": "+p_(this.get(n));return e+" }"};Hi.prototype.equals=function(e){return this===e||$h(e)&&Wy(this).equals(Wy(e))};Hi.prototype.hashCode=function(){return Wy(this).hashCode()};Hi.prototype.has=function(e){return this._indices.hasOwnProperty(e)};Hi.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],a=this._values.get(n);return a===void 0?this._defaultValues[e]:a};Hi.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return Q5(this,n)}return this};Hi.prototype.remove=function(e){return this.set(e)};Hi.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Q5(this,e)};Hi.prototype.wasAltered=function(){return this._values.wasAltered()};Hi.prototype.toSeq=function(){return Wy(this)};Hi.prototype.toJS=function(){return WT(this)};Hi.prototype.entries=function(){return this.__iterator(Au)};Hi.prototype.__iterator=function(e,r){return Wy(this).__iterator(e,r)};Hi.prototype.__iterate=function(e,r){return Wy(this).__iterate(e,r)};Hi.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?Q5(this,r,e):(this.__ownerID=e,this._values=r,this)};Hi.isRecord=$h;Hi.getDescriptiveName=W5;var In=Hi.prototype;In[DG]=!0;In[j1]=In.remove;In.deleteIn=In.removeIn=F5;In.getIn=cQ;In.hasIn=ys.hasIn;In.merge=WG;In.mergeWith=KG;In.mergeIn=M5;In.mergeDeep=tQ;In.mergeDeepWith=rQ;In.mergeDeepIn=B5;In.setIn=D5;In.update=L5;In.updateIn=j5;In.withMutations=q1;In.asMutable=z1;In.asImmutable=G1;In[Q3]=In.entries;In.toJSON=In.toObject=ys.toObject;In.inspect=In.toSource=function(){return this.toString()};function Q5(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function W5(t){return t.constructor.displayName||t.constructor.name||"Record"}function Wy(t){return w5(t._keys.map(function(e){return[e,t.get(e)]}))}function uge(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){O5(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}var pQ=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(ZC)return ZC;ZC=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,a){return this.has(n)?this._value:a},e.prototype.includes=function(n){return sa(this._value,n)},e.prototype.slice=function(n,a){var s=this.size;return M1(n,a,s)?this:new e(this._value,B1(a,s)-Tm(n,s))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return sa(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return sa(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,a){for(var s=this.size,o=0;o!==s&&n(this._value,a?s-++o:o++,this)!==!1;);return o},e.prototype.__iterator=function(n,a){var s=this,o=this.size,u=0;return new Jr(function(){return u===o?Vs():Hn(n,a?o-++u:u++,s._value)})},e.prototype.equals=function(n){return n instanceof e?sa(this._value,n._value):q5(n)},e}(Cu),ZC;function gQ(t,e){return yQ([],e||lge,t,"",e&&e.length>2?[]:void 0,{"":t})}function yQ(t,e,r,n,a,s){if(typeof r!="string"&&!iu(r)&&(v5(r)||m5(r)||Y3(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),a&&n!==""&&a.push(n);var o=e.call(s,n,gs(r).map(function(u,l){return yQ(t,e,u,l,a,r)}),a&&a.slice());return t.pop(),a&&a.pop(),o}return r}function lge(t,e){return Ha(e)?e.toList():_n(e)?e.toMap():e.toSet()}var mQ="4.3.1",cge={version:mQ,Collection:Vn,Iterable:Vn,Seq:gs,Map:Hh,OrderedMap:Nl,List:Im,Stack:Q1,Set:Pm,OrderedSet:g0,PairSorting:hQ,Record:Hi,Range:z5,Repeat:pQ,is:sa,fromJS:gQ,hash:js,isImmutable:iu,isCollection:ps,isKeyed:_n,isIndexed:Ha,isAssociative:Em,isOrdered:Yo,isValueObject:GT,isPlainObject:Y3,isSeq:k1,isList:tA,isMap:U1,isOrderedMap:K3,isStack:b_,isSet:W1,isOrderedSet:rA,isRecord:$h,get:Z3,getIn:nA,has:R5,hasIn:G5,merge:JG,mergeDeep:ZG,mergeWith:YG,mergeDeepWith:eQ,remove:I5,removeIn:N5,set:P5,setIn:C5,update:eA,updateIn:Vh},dge=Vn;const fge=Object.freeze(Object.defineProperty({__proto__:null,default:cge,Collection:Vn,Iterable:dge,List:Im,Map:Hh,OrderedMap:Nl,OrderedSet:g0,PairSorting:hQ,Range:z5,Record:Hi,Repeat:pQ,Seq:gs,Set:Pm,Stack:Q1,fromJS:gQ,get:Z3,getIn:nA,has:R5,hasIn:G5,hash:js,is:sa,isAssociative:Em,isCollection:ps,isImmutable:iu,isIndexed:Ha,isKeyed:_n,isList:tA,isMap:U1,isOrdered:Yo,isOrderedMap:K3,isOrderedSet:rA,isPlainObject:Y3,isRecord:$h,isSeq:k1,isSet:W1,isStack:b_,isValueObject:GT,merge:JG,mergeDeep:ZG,mergeDeepWith:eQ,mergeWith:YG,remove:I5,removeIn:N5,set:P5,setIn:C5,update:eA,updateIn:Vh,version:mQ},Symbol.toStringTag,{value:"Module"})),K5=h1(fge);Object.defineProperty(h0,"__esModule",{value:!0});h0.ActionContextKey=h0.ActionContext=void 0;const b7=K5;class $g{constructor(e={}){this.map=(0,b7.Map)(e)}setDefault(e,r){return this.has(e)?this:this.set(e,r)}set(e,r){return this.setRaw(e.name,r)}setRaw(e,r){return new $g(this.map.set(e,r))}delete(e){return new $g(this.map.delete(e.name))}get(e){return this.getRaw(e.name)}getRaw(e){return this.map.get(e)}getSafe(e){if(!this.has(e))throw new Error(`Context entry ${e.name} is required but not available`);return this.get(e)}has(e){return this.hasRaw(e.name)}hasRaw(e){return this.map.has(e)}merge(...e){let r=this;for(const n of e)for(const a of n.keys())r=r.set(a,n.get(a));return r}keys(){return[...this.map.keys()].map(e=>new vQ(e))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(e){return e instanceof $g?e:new $g((0,b7.Map)(e||{}))}}h0.ActionContext=$g;class vQ{constructor(e){this.name=e}}h0.ActionContextKey=vQ;var X1={};Object.defineProperty(X1,"__esModule",{value:!0});X1.Bus=void 0;class hge{constructor(e){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,e)}subscribe(e){this.actors.push(e),this.reorderForDependencies()}subscribeObserver(e){this.observers.push(e)}unsubscribe(e){const r=this.actors.indexOf(e);return r>=0?(this.actors.splice(r,1),!0):!1}unsubscribeObserver(e){const r=this.observers.indexOf(e);return r>=0?(this.observers.splice(r,1),!0):!1}publish(e){return this.actors.map(r=>({actor:r,reply:r.test(e)}))}onRun(e,r,n){for(const a of this.observers)a.onRun(e,r,n)}addDependencies(e,r){for(const n of r){let a=this.dependencyLinks.get(n);a||(a=[],this.dependencyLinks.set(n,a)),a.push(e)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const e=[];for(const r of this.dependencyLinks.keys()){const n=this.actors.indexOf(r);n>=0&&(this.actors.splice(n,1),e.push(r))}for(;e.length>0;){let r=-1;for(let a=0;a<e.length;a++){let s=!0;for(const o of this.dependencyLinks.get(e[a]))if(!this.actors.includes(o)&&e.includes(o)){s=!1;break}if(s){r=a;break}}if(r<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const n=e.splice(r,1)[0];this.actors.push(n)}}}}X1.Bus=hge;var iA={};Object.defineProperty(iA,"__esModule",{value:!0});iA.BusIndexed=void 0;const pge=X1;class gge extends pge.Bus{constructor(e){super(e),this.actorsIndex={}}subscribe(e){const r=this.getActorIdentifier(e)||"_undefined_";let n=this.actorsIndex[r];n||(n=this.actorsIndex[r]=[]),n.push(e),super.subscribe(e)}unsubscribe(e){const r=this.getActorIdentifier(e)||"_undefined_",n=this.actorsIndex[r];if(n){const a=n.indexOf(e);a>=0&&n.splice(a,1),n.length===0&&delete this.actorsIndex[r]}return super.unsubscribe(e)}publish(e){const r=this.getActionIdentifier(e);return r?[...this.actorsIndex[r]||[],...this.actorsIndex._undefined_||[]].map(a=>({actor:a,reply:a.test(e)})):super.publish(e)}getActorIdentifier(e){return this.actorIdentifierFields.reduce((r,n)=>r[n],e)}getActionIdentifier(e){return this.actionIdentifierFields.reduce((r,n)=>r[n],e)}}iA.BusIndexed=gge;var J1={};Object.defineProperty(J1,"__esModule",{value:!0});J1.CONTEXT_KEY_LOGGER=void 0;const yge=h0;J1.CONTEXT_KEY_LOGGER=new yge.ActionContextKey("@comunica/core:log");var aA={};Object.defineProperty(aA,"__esModule",{value:!0});aA.ActionObserver=void 0;class mge{constructor(e){Object.assign(this,e)}}aA.ActionObserver=mge;var sA={};Object.defineProperty(sA,"__esModule",{value:!0});sA.Actor=void 0;const vge=J1;class nh{constructor(e){this.beforeActors=[],Object.assign(this,e),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(e){return e.get(vge.CONTEXT_KEY_LOGGER)}runObservable(e){const r=this.run(e);return this.bus.onRun(this,e,r),r}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(e,r){const n=r?r():{};return n.actor=this.name,n}logTrace(e,r,n){const a=nh.getContextLogger(e);a&&a.trace(r,this.getDefaultLogData(e,n))}logDebug(e,r,n){const a=nh.getContextLogger(e);a&&a.debug(r,this.getDefaultLogData(e,n))}logInfo(e,r,n){const a=nh.getContextLogger(e);a&&a.info(r,this.getDefaultLogData(e,n))}logWarn(e,r,n){const a=nh.getContextLogger(e);a&&a.warn(r,this.getDefaultLogData(e,n))}logError(e,r,n){const a=nh.getContextLogger(e);a&&a.error(r,this.getDefaultLogData(e,n))}logFatal(e,r,n){const a=nh.getContextLogger(e);a&&a.fatal(r,this.getDefaultLogData(e,n))}}sA.Actor=nh;var oA={};Object.defineProperty(oA,"__esModule",{value:!0});oA.Mediator=void 0;class bge{constructor(e){Object.assign(this,e)}publish(e){const r=this.bus.publish(e);if(r.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return r}async mediateActor(e){return await this.mediateWith(e,this.publish(e))}async mediate(e){return(await this.mediateActor(e)).runObservable(e)}}oA.Mediator=bge;(function(t){var e=F&&F.__createBinding||(Object.create?function(s,o,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(o,u);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,l,c)}:function(s,o,u,l){l===void 0&&(l=u),s[l]=o[u]}),r=F&&F.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,s,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const a=g5.Logger;t.Logger=a,r(h0,t),r(X1,t),r(iA,t),r(J1,t),r(aA,t),r(sA,t),r(oA,t)})(Ut);Object.defineProperty(q3,"__esModule",{value:!0});q3.ActorInit=void 0;const _ge=Ut;class wge extends _ge.Actor{constructor(e){super(e)}}q3.ActorInit=wge;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(q3,t)})(dG);Object.defineProperty(L1,"__esModule",{value:!0});L1.ActorInitQueryBase=void 0;const Sge=dG;class Tge extends Sge.ActorInit{constructor(e){var r;(r=e.contextKeyShortcutsExtensions)==null||r.forEach(n=>{if(Object.keys(e.contextKeyShortcuts).some(a=>Object.keys(n).includes(a)))throw new Error("Duplicate keys found while adding `contextKeyShortcutsExtensions`.");e.contextKeyShortcuts={...e.contextKeyShortcuts,...n}}),super(e)}async test(e){return!0}async run(e){throw new Error("ActorInitSparql#run is not supported in the browser.")}}L1.ActorInitQueryBase=Tge;var uA={};Object.defineProperty(uA,"__esModule",{value:!0});uA.ActorInitQuery=void 0;const Ege=L1;typeof process>"u"&&(globalThis.process=ff());class Age extends Ege.ActorInitQueryBase{}uA.ActorInitQuery=Age;var lA={},tr={},Y1={},cn={},ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.KeysRdfUpdateQuads=ri.KeysRdfResolveQuadPattern=ri.KeysRdfParseHtmlScript=ri.KeysRdfParseJsonLd=ri.KeysQueryOperation=ri.KeysInitQuery=ri.KeysHttpProxy=ri.KeysHttpMemento=ri.KeysHttpWayback=ri.KeysHttp=ri.KeysCore=void 0;const ur=Ut;ri.KeysCore={log:ur.CONTEXT_KEY_LOGGER};ri.KeysHttp={includeCredentials:new ur.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new ur.ActionContextKey("@comunica/bus-http:auth"),fetch:new ur.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new ur.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new ur.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new ur.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelay:new ur.ActionContextKey("@comunica/bus-http:http-retry-delay"),httpRetryOnServerError:new ur.ActionContextKey("@comunica/bus-http:http-retry-on-server-error")};ri.KeysHttpWayback={recoverBrokenLinks:new ur.ActionContextKey("@comunica/bus-http:recover-broken-links")};ri.KeysHttpMemento={datetime:new ur.ActionContextKey("@comunica/actor-http-memento:datetime")};ri.KeysHttpProxy={httpProxyHandler:new ur.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")};ri.KeysInitQuery={initialBindings:new ur.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new ur.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new ur.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new ur.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new ur.ActionContextKey("@comunica/actor-init-query:queryString"),query:new ur.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new ur.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new ur.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new ur.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),extensionFunctionCreator:new ur.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new ur.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new ur.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new ur.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new ur.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new ur.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new ur.ActionContextKey("@context")};ri.KeysQueryOperation={operation:new ur.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new ur.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new ur.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new ur.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new ur.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new ur.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new ur.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new ur.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph")};ri.KeysRdfParseJsonLd={documentLoader:new ur.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new ur.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new ur.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")};ri.KeysRdfParseHtmlScript={processingHtmlScript:new ur.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new ur.ActionContextKey("extractAllScripts")};ri.KeysRdfResolveQuadPattern={sources:new ur.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sources"),source:new ur.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:source"),sourceIds:new ur.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sourceIds"),hypermediaSourcesAggregatedStores:new ur.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:hypermediaSourcesAggregatedStores")};ri.KeysRdfUpdateQuads={destination:new ur.ActionContextKey("@comunica/bus-rdf-update-quads:destination")};(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ri,t)})(cn);var cA={},dA={};Object.defineProperty(dA,"__esModule",{value:!0});dA.BlankNodeScoped=void 0;class xge{constructor(e,r){this.termType="BlankNode",this.value=e,this.skolemized=r}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}}dA.BlankNodeScoped=xge;var fA={};Object.defineProperty(fA,"__esModule",{value:!0});fA.BlankNodeBindingsScoped=void 0;class Oge{constructor(e){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=e}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}}fA.BlankNodeBindingsScoped=Oge;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(dA,t),r(fA,t)})(cA);var y0={},Qa={},Z1={},ew={},dn={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.stringQuadToQuad=ls.quadToStringQuad=ls.stringToTerm=ls.getLiteralLanguage=ls.getLiteralType=ls.getLiteralValue=ls.termToString=void 0;const Rge=lr,bQ=new Rge.DataFactory;function $d(t){if(t)switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const e=t;return'"'+e.value+'"'+(e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&e.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+e.datatype.value:"")+(e.language?"@"+e.language:"");case"Quad":return`<<${$d(t.subject)} ${$d(t.predicate)} ${$d(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+$d(t.graph)}>>`;case"Variable":return"?"+t.value;case"DefaultGraph":return t.value}}ls.termToString=$d;function _Q(t){const e=/^"([^]*)"/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]}ls.getLiteralValue=_Q;function wQ(t){const e=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]||(e[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}ls.getLiteralType=wQ;function SQ(t){const e=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]?e[1].toLowerCase():""}ls.getLiteralLanguage=SQ;function Ud(t,e){if(e=e||bQ,!t||!t.length)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.substr(2));case"?":if(!e.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return e.variable(t.substr(1));case'"':const r=SQ(t),n=e.namedNode(wQ(t));return e.literal(_Q(t),r||n);case"<":default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const a=t.slice(2,-2).trim();let s=[],o=0,u=0,l=!1;for(let c=0;c<a.length;c++){const d=a[c];if(d==="<"&&o++,d===">"){if(o===0)throw new Error("Found closing tag without opening tag in "+t);o--}if(d==='"'){let f=!1,h=c;for(;h-- >0&&a[h]==="\\";)f=!f;f||(l=!l)}if(d===" "&&!l&&o===0){for(s.push(a.slice(u,c));a[c+1]===" ";)c+=1;u=c+1}}if(o!==0)throw new Error("Found opening tag without closing tag in "+t);if(s.push(a.slice(u,a.length)),s.length!==3&&s.length!==4)throw new Error("Nested quad syntax error "+t);return s=s.map(c=>c.startsWith("<")&&!c.includes(" ")?c.slice(1,-1):c),e.quad(Ud(s[0]),Ud(s[1]),Ud(s[2]),s[3]?Ud(s[3]):void 0)}return e.namedNode(t)}}ls.stringToTerm=Ud;function Ige(t){return{subject:$d(t.subject),predicate:$d(t.predicate),object:$d(t.object),graph:$d(t.graph)}}ls.quadToStringQuad=Ige;function Pge(t,e){return e=e||bQ,e.quad(Ud(t.subject,e),Ud(t.predicate,e),Ud(t.object,e),Ud(t.graph,e))}ls.stringQuadToQuad=Pge;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=ls;Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(dn);Object.defineProperty(ew,"__esModule",{value:!0});ew.bindingsToString=void 0;const Cge=dn;function Dge(t){const e={};for(const r of t.keys())e[r.value]=(0,Cge.termToString)(t.get(r));return JSON.stringify(e,null,"  ")}ew.bindingsToString=Dge;Object.defineProperty(Z1,"__esModule",{value:!0});Z1.Bindings=void 0;const US=K5,Nge=ew;class ih{constructor(e,r){this.type="bindings",this.dataFactory=e,this.entries=r}has(e){return this.entries.has(typeof e=="string"?e:e.value)}get(e){return this.entries.get(typeof e=="string"?e:e.value)}set(e,r){return new ih(this.dataFactory,this.entries.set(typeof e=="string"?e:e.value,r))}delete(e){return new ih(this.dataFactory,this.entries.delete(typeof e=="string"?e:e.value))}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),e=>this.dataFactory.variable(e))}values(){return this.iteratorToIterable(this.entries.values())}forEach(e){this.entries.forEach((r,n)=>e(r,this.dataFactory.variable(n)))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([e,r])=>[this.dataFactory.variable(e),r])[Symbol.iterator]()}equals(e){var r;if(!e)return!1;if(this===e)return!0;if(this.size!==e.size)return!1;for(const n of this.keys())if(!((r=this.get(n))!=null&&r.equals(e.get(n))))return!1;return!0}filter(e){return new ih(this.dataFactory,(0,US.Map)(this.entries.filter((r,n)=>e(r,this.dataFactory.variable(n)))))}map(e){return new ih(this.dataFactory,(0,US.Map)(this.entries.map((r,n)=>e(r,this.dataFactory.variable(n)))))}merge(e){const r=new Set([...this.iteratorToIterable(this.entries.keys()),...[...e.keys()].map(a=>a.value)]),n=[];for(const a of r){const s=this.entries.get(a),o=e.get(this.dataFactory.variable(a));if(s&&o&&!s.equals(o))return;const u=s||o;n.push([a,u])}return new ih(this.dataFactory,(0,US.Map)(n))}mergeWith(e,r){const n=new Set([...this.iteratorToIterable(this.entries.keys()),...[...r.keys()].map(s=>s.value)]),a=[];for(const s of n){const o=this.dataFactory.variable(s),u=this.entries.get(s),l=r.get(o);let c;u&&l&&!u.equals(l)?c=e(u,l,o):c=u||l,a.push([s,c])}return new ih(this.dataFactory,(0,US.Map)(a))}toString(){return(0,Nge.bindingsToString)(this)}*mapIterable(e,r){for(const n of e)yield r(n)}iteratorToIterable(e){return{[Symbol.iterator]:()=>e}}}Z1.Bindings=ih;var hA={};Object.defineProperty(hA,"__esModule",{value:!0});hA.BindingsFactory=void 0;const Fge=K5,Lge=lr,jge=Z1;class Mge{constructor(e=new Lge.DataFactory){this.dataFactory=e}bindings(e=[]){return new jge.Bindings(this.dataFactory,(0,Fge.Map)(e.map(([r,n])=>[r.value,n])))}fromBindings(e){return this.bindings([...e])}fromRecord(e){return this.bindings(Object.entries(e).map(([r,n])=>[this.dataFactory.variable(r),n]))}}hA.BindingsFactory=Mge;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Z1,t),r(hA,t),r(ew,t)})(Qa);var Oa={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.matchPatternMappings=Yt.matchPatternComplete=Yt.matchPattern=Yt.matchTerm=Yt.getValueNestedPath=Yt.someTermsNested=Yt.someTerms=Yt.everyTermsNested=Yt.everyTerms=Yt.reduceTermsNested=Yt.reduceTerms=Yt.mapTermsNested=Yt.mapTerms=Yt.filterQuadTermNamesNested=Yt.filterQuadTermNames=Yt.filterTermsNested=Yt.filterTerms=Yt.forEachTermsNested=Yt.forEachTerms=Yt.collectNamedTerms=Yt.getNamedTerms=Yt.getTermsNested=Yt.getTerms=Yt.TRIPLE_TERM_NAMES=Yt.QUAD_TERM_NAMES=void 0;const Bge=lr,X5=new Bge.DataFactory;Yt.QUAD_TERM_NAMES=["subject","predicate","object","graph"];Yt.TRIPLE_TERM_NAMES=["subject","predicate","object"];function TQ(t,e){return e&&t.graph.termType==="DefaultGraph"?[t.subject,t.predicate,t.object]:[t.subject,t.predicate,t.object,t.graph]}Yt.getTerms=TQ;function EQ(t,e){const r=[];for(const n of TQ(t,e))n.termType==="Quad"?EQ(n,e).forEach(a=>r.push(a)):r.push(n);return r}Yt.getTermsNested=EQ;function kge(t){return[{key:"subject",value:t.subject},{key:"predicate",value:t.predicate},{key:"object",value:t.object},{key:"graph",value:t.graph}]}Yt.getNamedTerms=kge;function $ge(t,e,r){const n={};return t.forEach(a=>n[a.key]=a.value),e&&(n.subject=n.subject||e("subject"),n.predicate=n.predicate||e("predicate"),n.object=n.object||e("object"),n.graph=n.graph||e("graph")),(r||X5).quad(n.subject,n.predicate,n.object,n.graph)}Yt.collectNamedTerms=$ge;function Uge(t,e){e(t.subject,"subject"),e(t.predicate,"predicate"),e(t.object,"object"),e(t.graph,"graph")}Yt.forEachTerms=Uge;function ub(t,e,r=[]){t.subject.termType==="Quad"?ub(t.subject,e,[...r,"subject"]):e(t.subject,[...r,"subject"]),t.predicate.termType==="Quad"?ub(t.predicate,e,[...r,"predicate"]):e(t.predicate,[...r,"predicate"]),t.object.termType==="Quad"?ub(t.object,e,[...r,"object"]):e(t.object,[...r,"object"]),t.graph.termType==="Quad"?ub(t.graph,e,[...r,"graph"]):e(t.graph,[...r,"graph"])}Yt.forEachTermsNested=ub;function Vge(t,e){const r=[];return e(t.subject,"subject")&&r.push(t.subject),e(t.predicate,"predicate")&&r.push(t.predicate),e(t.object,"object")&&r.push(t.object),e(t.graph,"graph")&&r.push(t.graph),r}Yt.filterTerms=Vge;function lb(t,e,r=[]){let n=[];return t.subject.termType==="Quad"?n=[...n,...lb(t.subject,e,[...r,"subject"])]:e(t.subject,[...r,"subject"])&&n.push(t.subject),t.predicate.termType==="Quad"?n=[...n,...lb(t.predicate,e,[...r,"predicate"])]:e(t.predicate,[...r,"predicate"])&&n.push(t.predicate),t.object.termType==="Quad"?n=[...n,...lb(t.object,e,[...r,"object"])]:e(t.object,[...r,"object"])&&n.push(t.object),t.graph.termType==="Quad"?n=[...n,...lb(t.graph,e,[...r,"graph"])]:e(t.graph,[...r,"graph"])&&n.push(t.graph),n}Yt.filterTermsNested=lb;function Hge(t,e){const r=[];return e(t.subject,"subject")&&r.push("subject"),e(t.predicate,"predicate")&&r.push("predicate"),e(t.object,"object")&&r.push("object"),e(t.graph,"graph")&&r.push("graph"),r}Yt.filterQuadTermNames=Hge;function cb(t,e,r=[]){let n=[];const a=[...r,"subject"];t.subject.termType==="Quad"?n=[...n,...cb(t.subject,e,a)]:e(t.subject,a)&&n.push(a);const s=[...r,"predicate"];t.predicate.termType==="Quad"?n=[...n,...cb(t.predicate,e,s)]:e(t.predicate,s)&&n.push(s);const o=[...r,"object"];t.object.termType==="Quad"?n=[...n,...cb(t.object,e,o)]:e(t.object,o)&&n.push(o);const u=[...r,"graph"];return t.graph.termType==="Quad"?n=[...n,...cb(t.graph,e,u)]:e(t.graph,u)&&n.push(u),n}Yt.filterQuadTermNamesNested=cb;function qge(t,e,r){return(r||X5).quad(e(t.subject,"subject"),e(t.predicate,"predicate"),e(t.object,"object"),e(t.graph,"graph"))}Yt.mapTerms=qge;function db(t,e,r,n=[]){return(r||X5).quad(t.subject.termType==="Quad"?db(t.subject,e,r,[...n,"subject"]):e(t.subject,[...n,"subject"]),t.predicate.termType==="Quad"?db(t.predicate,e,r,[...n,"predicate"]):e(t.predicate,[...n,"predicate"]),t.object.termType==="Quad"?db(t.object,e,r,[...n,"object"]):e(t.object,[...n,"object"]),t.graph.termType==="Quad"?db(t.graph,e,r,[...n,"graph"]):e(t.graph,[...n,"graph"]))}Yt.mapTermsNested=db;function zge(t,e,r){let n=r;return n=e(n,t.subject,"subject"),n=e(n,t.predicate,"predicate"),n=e(n,t.object,"object"),e(n,t.graph,"graph")}Yt.reduceTerms=zge;function fb(t,e,r,n=[]){let a=r;return t.subject.termType==="Quad"?a=fb(t.subject,e,a,[...n,"subject"]):a=e(a,t.subject,[...n,"subject"]),t.predicate.termType==="Quad"?a=fb(t.predicate,e,a,[...n,"predicate"]):a=e(a,t.predicate,[...n,"predicate"]),t.object.termType==="Quad"?a=fb(t.object,e,a,[...n,"object"]):a=e(a,t.object,[...n,"object"]),t.graph.termType==="Quad"?a=fb(t.graph,e,a,[...n,"graph"]):a=e(a,t.graph,[...n,"graph"]),a}Yt.reduceTermsNested=fb;function AQ(t,e){return e(t.subject,"subject")&&e(t.predicate,"predicate")&&e(t.object,"object")&&e(t.graph,"graph")}Yt.everyTerms=AQ;function hb(t,e,r=[]){return(t.subject.termType==="Quad"?hb(t.subject,e,[...r,"subject"]):e(t.subject,[...r,"subject"]))&&(t.predicate.termType==="Quad"?hb(t.predicate,e,[...r,"predicate"]):e(t.predicate,[...r,"predicate"]))&&(t.object.termType==="Quad"?hb(t.object,e,[...r,"object"]):e(t.object,[...r,"object"]))&&(t.graph.termType==="Quad"?hb(t.graph,e,[...r,"graph"]):e(t.graph,[...r,"graph"]))}Yt.everyTermsNested=hb;function Gge(t,e){return e(t.subject,"subject")||e(t.predicate,"predicate")||e(t.object,"object")||e(t.graph,"graph")}Yt.someTerms=Gge;function pb(t,e,r=[]){return(t.subject.termType==="Quad"?pb(t.subject,e,[...r,"subject"]):e(t.subject,[...r,"subject"]))||(t.predicate.termType==="Quad"?pb(t.predicate,e,[...r,"predicate"]):e(t.predicate,[...r,"predicate"]))||(t.object.termType==="Quad"?pb(t.object,e,[...r,"object"]):e(t.object,[...r,"object"]))||(t.graph.termType==="Quad"?pb(t.graph,e,[...r,"graph"]):e(t.graph,[...r,"graph"]))}Yt.someTermsNested=pb;function xQ(t,e){if(e.length===0)return t;if(t.termType==="Quad")return xQ(t[e[0]],e.slice(1));throw new Error(`Tried to get ${e[0]} from term of type ${t.termType}`)}Yt.getValueNestedPath=xQ;function gb(t,e){return!e||e.termType==="Variable"||e.termType==="Quad"&&t.termType==="Quad"&&RQ(t,e)||e.equals(t)}Yt.matchTerm=gb;function OQ(t,e,r,n,a){return gb(t.subject,e)&&gb(t.predicate,r)&&gb(t.object,n)&&gb(t.graph,a)}Yt.matchPattern=OQ;function RQ(t,e){return OQ(t,e.subject,e.predicate,e.object,e.graph)}Yt.matchPatternComplete=RQ;function Qge(t,e,r={}){const n={};function a(s,o){return AQ(s,(u,l)=>{var c,d;const f=o[l];switch(u.termType){case"Variable":return r.skipVarMapping&&f.termType==="Variable"||((d=(c=n[u.value])===null||c===void 0?void 0:c.equals(f))!==null&&d!==void 0?d:(n[u.value]=f,!0));case"Quad":return f.termType==="Quad"&&a(u,f);default:return u.equals(f)}})}return a(e,t)&&(r.returnMappings?n:!0)}Yt.matchPatternMappings=Qge;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.getQuads=Bi.getDefaultGraphs=Bi.getVariables=Bi.getLiterals=Bi.getBlankNodes=Bi.getNamedNodes=Bi.getTermsOfType=Bi.uniqTerms=Bi.TERM_TYPES=void 0;const Wge=dn;Bi.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function Kge(t){const e={};return t.filter(r=>{const n=(0,Wge.termToString)(r);return!(n in e)&&(e[n]=!0)})}Bi.uniqTerms=Kge;function j0(t,e){return t.filter(r=>r.termType===e)}Bi.getTermsOfType=j0;function Xge(t){return j0(t,"NamedNode")}Bi.getNamedNodes=Xge;function Jge(t){return j0(t,"BlankNode")}Bi.getBlankNodes=Jge;function Yge(t){return j0(t,"Literal")}Bi.getLiterals=Yge;function Zge(t){return j0(t,"Variable")}Bi.getVariables=Zge;function eye(t){return j0(t,"DefaultGraph")}Bi.getDefaultGraphs=eye;function tye(t){return j0(t,"Quad")}Bi.getQuads=tye;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Yt,t),r(Bi,t)})(Oa);var Cr={},J5={},rye=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;for(a of e.entries())if(!t(a[1],r.get(a[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(e[a]!==r[a])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var o=s[a];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r},Dm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"}(t.types||(t.types={})),function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"}(t.expressionTypes||(t.expressionTypes={}))})(Dm);var Nm={},Y5={};let pA=class{constructor(){return nye||this}equals(e){return e&&this.termType===e.termType}};Object.defineProperty(pA.prototype,"value",{enumerable:!0,value:"*"});Object.defineProperty(pA.prototype,"termType",{enumerable:!0,value:"Wildcard"});var nye=new pA;Y5.Wildcard=pA;var iye=function(){var t=function(rt,et,ot,gt){for(ot=ot||{},gt=rt.length;gt--;ot[rt[gt]]=et);return ot},e=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],r=[2,247],n=[100,110,113,115,116,123,126,131,329,330,331,332,333],a=[2,409],s=[1,18],o=[1,27],u=[13,16,45,197,224,229,308],l=[28,29,53],c=[28,53],d=[1,42],f=[1,45],h=[1,41],p=[1,44],g=[123,126],y=[1,67],S=[39,45,87],v=[13,16,45,197,224,308],A=[1,87],E=[2,281],T=[1,86],R=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],I=[6,28,29,53,63,70,73,81,83,85],D=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],M=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],N=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],O=[13,16,308],k=[112,132,327,334],Y=[13,16,112,132,308],ne=[1,111],q=[1,117],H=[112,132,327,328,334],J=[13,16,112,132,308,328],se=[28,29,45,53,87],ue=[1,138],Se=[1,151],ve=[1,128],Le=[1,127],Xe=[1,129],Ne=[1,140],ye=[1,141],qe=[1,142],Te=[1,143],Oe=[1,144],Be=[1,145],He=[1,147],ee=[1,148],j=[2,457],b=[1,158],m=[1,159],C=[1,160],B=[1,152],z=[1,153],Q=[1,156],ae=[1,171],ce=[1,172],fe=[1,173],be=[1,174],je=[1,175],$e=[1,176],Ke=[1,167],re=[1,168],le=[1,169],X=[1,170],$=[1,157],U=[1,166],V=[1,161],Ie=[1,162],ke=[1,163],Pe=[1,164],ht=[1,165],_t=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Rt=[1,195],Et=[6,31,73,81,83,85],Jt=[2,285],Cn=[1,199],gr=[1,201],ar=[6,31,70,73,81,83,85],Qr=[2,283],yr=[1,207],Ur=[1,218],Zr=[1,223],fa=[1,219],xr=[1,225],Ae=[1,226],Ve=[1,224],ut=[6,63,70,73,81,83,85],Bt=[1,236],nt=[2,334],Ot=[1,243],at=[1,241],pt=[6,193],Ft=[2,349],Tr=[2,339],qt=[28,128],bt=[47,48,193,272],To=[47,48,193,242,272],St=[47,48,193,242,246,272],Ti=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],nr=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],or=[1,271],Ra=[1,270],hr=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],Ss=[1,281],Wr=[1,280],an=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Mu=[45,89],zl=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],ai=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Ka=[31,89],Ei=[48,87],Ts=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],Ai=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],Eo=[1,313],hi=[6,85],w=[6,31,81,83,85],_=[2,361],P=[2,353],L=[1,343],G=[31,112,335],ie=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],de=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],W=[6,109,193],Z=[31,112],te=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],pe=[1,390],ge=[1,391],we=[13,16,87,197,308,314],De=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Me=[1,417],Qe=[1,418],We=[13,16,48,197,229,308],oe=[6,31,85],Ee=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Re=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],Ce=[29,31,85,112,159,160,161,163,164],Ge=[1,443],Ye=[1,444],At=[1,449],it=[31,112,193,232,318,335],ir=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],xt=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],$t=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Ht=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],mr=[31,45],Vr=[1,507],si=[1,508],xi=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],Fi=[29,31,85,112,159,160,161,163,164,335],un=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],pi=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Li=[2,352],zi=[13,16,197,308,314],Tf=[1,565],Ao=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Ef=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Xa=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],ng=[13,16,87,308],Es=[2,364],ha=[29,31,85,112,159,160,161,163,164,193,232,318,335],Ia=[31,112,193,232,272,318,335],Xs=[2,359],Af=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],id=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],xf=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],ig=[2,347],ad={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(et,ot,gt,Wt,Zt,he,xo){var me=he.length-1;switch(Zt){case 1:if(he[me-1]=he[me-1]||{},Ir.base&&(he[me-1].base=Ir.base),Ir.base="",he[me-1].prefixes=Ir.prefixes,Ir.prefixes=null,Ir.pathOnly){if(he[me-1].type==="path"||"termType"in he[me-1])return he[me-1];throw new Error("Received full SPARQL query in path only mode")}else if(he[me-1].type==="path"||"termType"in he[me-1])throw new Error("Received only path in full SPARQL mode");if(he[me-1].type==="update"){const Or={};for(const sn of he[me-1].updates)if(sn.updateType==="insert"){const Er={};for(const Ca of sn.insert)if(Ca.type==="bgp"||Ca.type==="graph")for(const Da of Ca.triples)Da.subject.termType==="BlankNode"&&(Er[Da.subject.value]=!0),Da.predicate.termType==="BlankNode"&&(Er[Da.predicate.value]=!0),Da.object.termType==="BlankNode"&&(Er[Da.object.value]=!0);for(const Ca of Object.keys(Er)){if(Or[Ca])throw new Error("Detected reuse blank node across different INSERT DATA clauses");Or[Ca]=!0}}}return he[me-1];case 2:this.$={...he[me-1],...he[me],type:"query"};break;case 4:Ir.base=av(he[me]);break;case 5:Ir.prefixes||(Ir.prefixes={}),he[me-1]=he[me-1].substr(0,he[me-1].length-1),he[me]=av(he[me]),Ir.prefixes[he[me-1]]=he[me];break;case 6:this.$={...he[me-3],...ep(he[me-2]),...he[me-1],...he[me]};break;case 7:if(!Ir.skipValidation&&(rC(he[me-3].variables.map(sn=>tC(sn.expression))).some(sn=>sn.aggregation==="count"&&!(sn.expression instanceof Ja))||he[me].group)){for(const sn of he[me-3].variables)if(sn.termType==="Variable"){if(!he[me].group||!he[me].group.map(Er=>cg(Er)).includes(cg(sn)))throw Error("Projection of ungrouped variable (?"+cg(sn)+")")}else if(tC(sn.expression).length===0){const Er=gre(sn.expression);for(const Ca of Er)if(!he[me].group||!he[me].group.map||!he[me].group.map(Da=>cg(Da)).includes(cg(Ca)))throw Error("Use of ungrouped variable in projection of operation (?"+cg(Ca)+")")}}const dg=he[me-1].where.filter(Or=>Or.type==="query");if(dg.length>0){const Or=he[me-3].variables.filter(Er=>Er.variable&&Er.variable.value).map(Er=>Er.variable.value),sn=rC(dg.map(Er=>Er.variables)).map(Er=>Er.value||Er.variable.value);for(const Er of Or)if(sn.indexOf(Er)>=0)throw Error("Target id of 'AS' (?"+Er+") already used in subquery")}this.$=Oi(he[me-3],ep(he[me-2]),he[me-1],he[me]);break;case 8:this.$=Oi({queryType:"CONSTRUCT",template:he[me-3]},ep(he[me-2]),he[me-1],he[me]);break;case 9:this.$=Oi({queryType:"CONSTRUCT",template:he[me-2]=he[me-2]?he[me-2].triples:[]},ep(he[me-5]),{where:[{type:"bgp",triples:sg([],he[me-2])}]},he[me]);break;case 10:this.$=Oi({queryType:"DESCRIBE",variables:he[me-3]==="*"?[new Ja]:he[me-3]},ep(he[me-2]),he[me-1],he[me]);break;case 11:this.$=Oi({queryType:"ASK"},ep(he[me-2]),he[me-1],he[me]);break;case 12:this.$=Oi(he[me-1],{variables:[new Ja]});break;case 13:const sC=he[me].map(Or=>Or.value||Or.variable.value),fS=yre(sC);if(fS.length>0)throw Error("Two or more of the resulting columns have the same name (?"+fS[0]+")");this.$=Oi(he[me-1],{variables:he[me]});break;case 14:this.$=Oi({queryType:"SELECT"},he[me]&&(he[me-1]=As(he[me]),he[me]={},he[me][he[me-1]]=!0,he[me]));break;case 16:case 27:this.$=og(he[me-3],{variable:he[me-1]});break;case 17:case 18:this.$=Oi(he[me-3],he[me-2],he[me-1],he[me],{type:"query"});break;case 19:case 58:this.$={iri:he[me],named:!!he[me-1]};break;case 20:this.$={where:he[me].patterns};break;case 21:this.$=Oi(he[me-1],he[me]);break;case 22:this.$=Oi(he[me-2],he[me-1],he[me]);break;case 23:this.$={group:he[me]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=og(he[me]);break;case 26:this.$=og(he[me-1]);break;case 29:this.$={having:he[me]};break;case 30:this.$={order:he[me]};break;case 32:this.$=og(he[me],{descending:!0});break;case 35:this.$={limit:lg(he[me])};break;case 36:this.$={offset:lg(he[me])};break;case 37:this.$={limit:lg(he[me-2]),offset:lg(he[me])};break;case 38:this.$={limit:lg(he[me]),offset:lg(he[me-2])};break;case 39:case 43:this.$={type:"values",values:he[me]};break;case 40:case 84:this.$=he[me-1].map(Or=>({[he[me-3]]:Or}));break;case 41:case 85:this.$=he[me-1].map(()=>({}));break;case 42:case 86:var Of=he[me-4].length;he[me-4]=he[me-4].map(KP),this.$=he[me-1].map(function(Or){if(Or.length!==Of)throw Error("Inconsistent VALUES length");for(var sn={},Er=0;Er<Of;Er++)sn["?"+he[me-4][Er].value]=Or[Er];return sn});break;case 44:case 65:case 100:case 126:case 175:this.$=he[me-1];break;case 45:this.$={type:"update",updates:Zh(he[me-2],he[me-1])};break;case 46:this.$=Oi({type:"load",silent:!!he[me-2],source:he[me-1]},he[me]&&{destination:he[me]});break;case 47:this.$={type:As(he[me-2]),silent:!!he[me-1],graph:he[me]};break;case 48:this.$={type:As(he[me-4]),silent:!!he[me-3],source:he[me-2],destination:he[me]};break;case 49:this.$={type:"create",silent:!!he[me-2],graph:{type:"graph",name:he[me]}};break;case 50:this.$={updateType:"insert",insert:uj(he[me])};break;case 51:this.$={updateType:"delete",delete:aC(uj(he[me]))};break;case 52:this.$={updateType:"deletewhere",delete:aC(he[me])};break;case 53:this.$={updateType:"insertdelete",...he[me-4],...he[me-3],...ep(he[me-2],"using"),where:he[me].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=he[me];break;case 55:this.$={delete:aC(he[me-1]),insert:he[me]||[]};break;case 56:this.$={delete:[],insert:he[me]};break;case 59:this.$={graph:he[me]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:he[me]};break;case 64:this.$={[As(he[me])]:!0};break;case 66:this.$=he[me-1]?Wl(he[me],[he[me-1]]):Wl(he[me]);break;case 67:var lS=Oi(he[me-3]||{triples:[]},{type:"graph",name:he[me-5]});this.$=he[me]?[lS,he[me]]:[lS];break;case 68:case 73:this.$={type:"bgp",triples:Wl(he[me-2],[he[me-1]])};break;case 69:this.$={type:"group",patterns:[he[me-1]]};break;case 70:for(const Or of he[me-1].filter(sn=>sn.type==="bind")){const sn=he[me-1].indexOf(Or),Er=new Set;for(const Ca of he[me-1].slice(0,sn))(Ca.type==="group"||Ca.type==="bgp")&&sj(Ca).forEach(Da=>Er.add(Da));if(Er.has(Or.variable.value))throw Error("Variable used to bind is already bound (?"+Or.variable.value+")")}this.$={type:"group",patterns:he[me-1]};break;case 71:this.$=he[me-1]?Wl([he[me-1]],he[me]):Wl(he[me]);break;case 72:this.$=he[me]?[he[me-2],he[me]]:he[me-2];break;case 75:this.$=Oi(he[me],{type:"optional"});break;case 76:this.$=Oi(he[me],{type:"minus"});break;case 77:this.$=Oi(he[me],{type:"graph",name:he[me-1]});break;case 78:this.$=Oi(he[me],{type:"service",name:he[me-1],silent:!!he[me-2]});break;case 79:this.$={type:"filter",expression:he[me]};break;case 80:this.$={type:"bind",variable:he[me-1],expression:he[me-3]};break;case 89:this.$=ov(he[me]);break;case 90:this.$=void 0;break;case 91:this.$=he[me-1].length?{type:"union",patterns:Wl(he[me-1].map(JP),[JP(he[me])])}:he[me];break;case 95:this.$={...he[me],function:he[me-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:Zh(he[me-2],he[me-1]),distinct:!!he[me-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=Zh(he[me-2],he[me-1]);break;case 101:this.$=Wl(he[me-2],[he[me-1]]);break;case 102:case 112:this.$=iC(he[me].map(Or=>Oi(ud(he[me-1]),Or)));break;case 103:this.$=iC(sg(he[me].map(Or=>Oi(ud(he[me-1].entity),Or)),he[me-1].triples));break;case 105:this.$=Wl([he[me-1]],he[me]);break;case 106:this.$=Wl(he[me]);break;case 107:this.$=eC(he[me-1],he[me]);break;case 109:case 237:this.$=Ir.factory.namedNode(Bu);break;case 110:case 118:this.$=Zh(he[me-1],he[me]);break;case 111:this.$=he[me]?{annotation:he[me],object:he[me-1]}:he[me-1];break;case 113:this.$=he[me]?iC(sg(he[me].map(Or=>Oi(ud(he[me-1].entity),Or)),he[me-1].triples)):he[me-1].triples;break;case 114:this.$=eC(...he[me-1],he[me]);break;case 116:this.$=eC(...he[me]);break;case 117:case 159:case 163:this.$=[he[me-1],he[me]];break;case 119:this.$=he[me]?{object:he[me-1],annotation:he[me]}:he[me-1];break;case 120:this.$=he[me-1].length?ug("|",Zh(he[me-1],he[me])):he[me];break;case 121:this.$=he[me-1].length?ug("/",Zh(he[me-1],he[me])):he[me];break;case 122:this.$=he[me]?ug(he[me],[he[me-1]]):he[me-1];break;case 123:this.$=he[me-1]?ug(he[me-1],[he[me]]):he[me];break;case 125:case 131:this.$=ug(he[me-1],[he[me]]);break;case 129:this.$=ug("|",Zh(he[me-2],he[me-1]));break;case 132:case 134:this.$=hre(he[me-1]);break;case 133:case 135:this.$=pre(he[me-1]);break;case 140:this.$={entity:he[me],triples:[]};break;case 145:this.$=KP(he[me]);break;case 149:this.$=Ir.factory.namedNode(sd);break;case 151:case 153:case 158:case 162:this.$=XP(he[me-1],he[me]);break;case 152:this.$=["||",he[me]];break;case 154:this.$=["&&",he[me]];break;case 156:this.$=Pa(he[me-1],[he[me-2],he[me]]);break;case 157:this.$=Pa(he[me-2]?"notin":"in",[he[me-3],he[me]]);break;case 160:this.$=["+",XP(he[me-1],he[me])];break;case 161:var cS=Kl(he[me-1].value.replace("-",""),he[me-1].datatype);this.$=["-",XP(cS,he[me])];break;case 164:this.$=Pa("UPLUS",[he[me]]);break;case 165:this.$=Pa(he[me-1],[he[me]]);break;case 166:this.$=Pa("UMINUS",[he[me]]);break;case 177:this.$=Pa(As(he[me-1]));break;case 178:this.$=Pa(As(he[me-3]),[he[me-1]]);break;case 179:this.$=ov(Pa(As(he[me-3]),[he[me-1]]));break;case 180:this.$=Pa(As(he[me-5]),[he[me-3],he[me-1]]);break;case 181:this.$=Pa(As(he[me-7]),[he[me-5],he[me-3],he[me-1]]);break;case 182:this.$=ov(Pa(As(he[me-7]),[he[me-5],he[me-3],he[me-1]]));break;case 183:this.$=Pa(As(he[me-1]),he[me]);break;case 184:this.$=Pa("bound",[KP(he[me-1])]);break;case 185:this.$=Pa(he[me-1],[]);break;case 186:this.$=Pa(he[me-3],[he[me-1]]);break;case 187:this.$=Pa(he[me-2]?"notexists":"exists",[JP(he[me])]);break;case 188:case 189:this.$=og(he[me-1],{type:"aggregate",aggregation:As(he[me-4]),distinct:!!he[me-2]});break;case 190:this.$=og(he[me-2],{type:"aggregate",aggregation:As(he[me-5]),distinct:!!he[me-3],separator:typeof he[me-1]=="string"?he[me-1]:" "});break;case 192:this.$=Kl(he[me]);break;case 193:this.$=lre(he[me-1],As(he[me].substr(1)));break;case 194:this.$=Kl(he[me-2],he[me]);break;case 195:case 204:this.$=Kl(he[me],ag);break;case 196:case 205:this.$=Kl(he[me],Gl);break;case 197:case 206:this.$=Kl(As(he[me]),Ql);break;case 200:this.$=Kl(he[me].toLowerCase(),WP);break;case 201:this.$=Kl(he[me].substr(1),ag);break;case 202:this.$=Kl(he[me].substr(1),Gl);break;case 203:this.$=Kl(he[me].substr(1).toLowerCase(),Ql);break;case 207:case 208:this.$=aj(he[me],1);break;case 209:case 210:this.$=aj(he[me],3);break;case 211:this.$=Ir.factory.namedNode(av(he[me]));break;case 213:var dS=he[me].indexOf(":"),Ri=he[me].substr(0,dS),Xl=Ir.prefixes[Ri];if(!Xl)throw new Error("Unknown prefix: "+Ri);var tp=av(Xl+he[me].substr(dS+1));this.$=Ir.factory.namedNode(tp);break;case 214:if(he[me]=he[me].substr(0,he[me].length-1),!(he[me]in Ir.prefixes))throw new Error("Unknown prefix: "+he[me]);var tp=av(Ir.prefixes[he[me]]);this.$=Ir.factory.namedNode(tp);break;case 215:this.$=sv(he[me].replace(/^(_:)/,""));break;case 216:this.$=sv();break;case 217:case 218:case 232:this.$=ov(YP(he[me-3],he[me-2],he[me-1]));break;case 230:case 231:this.$=ov(he[me-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:he[me-1].push(he[me]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[he[me]];break;case 308:he[me-3].push(he[me-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:he[me-2].push(he[me-1]);break}},table:[t(e,r,{3:1,4:2,10:3}),{1:[3]},t(n,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:a,16:a,45:a,197:a,224:a,229:a,308:a,24:[1,13],32:[1,14],36:[1,15],41:s}),t([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:o},{6:[2,239]},t(u,[2,411],{216:28,217:29}),t(l,[2,249],{18:30}),t(l,[2,251],{22:31}),t(c,[2,255],{25:32,27:33,29:[1,34]}),{13:d,16:f,33:35,39:[1,37],44:39,55:40,87:h,139:38,307:43,308:p,323:36},t(l,[2,267],{37:46}),t(g,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:y,87:h},t(S,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),t(e,[2,248]),t(e,[2,245]),t(e,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),t(v,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:A,29:E,52:84,53:T,56:85},{19:88,28:A,29:E,52:89,53:T,56:85},t(l,[2,253],{26:90}),{28:[1,91],52:92,53:T},t(R,[2,385],{181:93,182:94,183:95,31:[2,383]}),t(I,[2,263],{34:96}),t(I,[2,261],{44:39,55:40,307:43,139:97,13:d,16:f,87:h,308:p}),t(I,[2,262]),t(D,[2,259]),t(M,[2,143]),t(M,[2,144]),t([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),t(N,[2,211]),t(N,[2,212]),t(N,[2,213]),t(N,[2,214]),{19:98,28:A,29:E,52:99,53:T,56:85},{6:[2,309],99:100,193:[1,101]},t(O,[2,311],{101:102,328:[1,103]}),t(k,[2,317],{104:104,328:[1,105]}),t(Y,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:ne,114:110},{29:ne,114:112},{29:ne,114:113},{118:114,123:[1,115],125:116,126:q},t(H,[2,315]),t(H,[2,316]),t(J,[2,319]),t(J,[2,320]),t(J,[2,321]),t(g,[2,327]),{13:d,16:f,55:118,307:43,308:p},t(l,[2,12]),t(l,[2,13],{44:66,43:119,45:y,87:h}),t(se,[2,269]),t(se,[2,15]),{13:d,16:f,44:136,45:ue,46:120,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(S,[2,14]),t(S,[2,274]),t(S,[2,271]),t(S,[2,272]),t(e,[2,4]),{13:[1,177]},t(_t,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},t(u,[2,410]),t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:d,16:f,45:[1,193],55:194,197:Rt,219:189,220:190,223:191,224:[1,192],307:43,308:p},t(v,[2,419]),t(Et,Jt,{20:196,59:197,69:198,70:Cn}),t(l,[2,250]),{29:gr,57:200},t(O,[2,279],{54:202,327:[1,203]}),{29:[2,282]},t(ar,Qr,{23:204,58:205,62:206,63:yr}),t(l,[2,252]),{19:208,28:A,29:E,52:209,53:T,56:85},{29:[1,210]},t(c,[2,256]),{31:[1,211]},{31:[2,384]},{13:d,16:f,44:215,45:Ur,55:220,82:Se,87:h,89:Zr,145:212,172:221,185:213,187:214,231:fa,236:216,237:222,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:217,312:Ve},t(ut,[2,265],{56:85,35:227,52:228,19:229,28:A,29:E,53:T}),t(D,[2,260]),t(ar,Qr,{58:205,62:206,23:230,63:yr}),t(l,[2,268]),{6:[2,45]},t(e,r,{10:3,4:231}),{13:d,16:f,55:232,307:43,308:p},t(O,[2,312]),{105:233,112:Bt,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},t(k,[2,318]),t(O,nt,{108:240,133:242,112:Ot,132:at}),t(Y,[2,323]),{112:[1,244]},{112:[2,325]},t(pt,[2,50]),t(R,Ft,{135:245,136:246,143:247,144:248,31:Tr,112:Tr}),t(pt,[2,51]),t(pt,[2,52]),t(qt,[2,328],{119:249}),{29:ne,114:250},t(qt,[2,56]),{29:ne,114:251},t(g,[2,59]),t(se,[2,270]),{47:[1,252]},t(bt,[2,150]),t(To,[2,428],{240:253}),t(St,[2,430],{244:254}),t(St,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),t(Ti,[2,440],{252:264}),t(nr,[2,448],{260:265}),{13:d,16:f,44:136,45:ue,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,255:154,257:155,264:266,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{13:d,16:f,44:136,45:ue,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,255:154,257:155,264:267,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{13:d,16:f,44:136,45:ue,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,255:154,257:155,264:268,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(nr,[2,167]),t(nr,[2,168]),t(nr,[2,169]),t(nr,[2,170],{176:269,45:or,89:Ra}),t(nr,[2,171]),t(nr,[2,172]),t(nr,[2,173]),t(nr,[2,174]),{13:d,16:f,44:136,45:ue,46:272,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(hr,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:Ss,89:Wr,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},t(an,[2,192],{292:[1,286],293:[1,287]}),t(an,[2,195]),t(an,[2,196]),t(an,[2,197]),t(an,[2,198]),t(an,[2,199]),t(an,[2,200]),{13:d,16:f,44:39,55:40,82:Se,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},t(Mu,[2,452]),t(Mu,[2,453]),t(Mu,[2,454]),t(Mu,[2,455]),t(Mu,[2,456]),{279:[2,458]},t(zl,[2,207]),t(zl,[2,208]),t(zl,[2,209]),t(zl,[2,210]),t(an,[2,201]),t(an,[2,202]),t(an,[2,203]),t(an,[2,204]),t(an,[2,205]),t(an,[2,206]),t(e,[2,5]),t(ai,[2,297],{88:295}),t(Ka,[2,299],{90:296}),{48:[1,297],87:[1,298]},t(Ei,[2,301]),t(_t,[2,43]),t(_t,[2,82]),t(_t,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},t(u,[2,412]),t(Ts,[2,123]),t(Ts,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),t(Ai,[2,124]),{13:d,16:f,45:[1,311],55:194,89:[1,310],197:Rt,223:312,225:308,226:309,229:Eo,307:43,308:p},t(u,a,{215:10,214:314}),t(Ai,[2,236]),t(Ai,[2,237]),t(hi,[2,6]),t(w,[2,287],{60:315,72:316,73:[1,317]}),t(Et,[2,286]),{13:d,16:f,45:ue,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,307:43,308:p,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t([6,31,63,70,73,81,83,85],[2,20]),t(R,_,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:P,31:P,85:P,112:P,159:P,160:P,161:P,163:P,164:P,41:s}),{13:d,16:f,55:331,307:43,308:p},t(O,[2,280]),t(hi,[2,7]),t(Et,Jt,{59:197,69:198,20:332,70:Cn}),t(ar,[2,284]),{64:[1,333]},t(ar,Qr,{58:205,62:206,23:334,63:yr}),t(l,[2,254]),t(R,Ft,{144:248,30:335,143:336,31:[2,257]}),t(l,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:d,16:f,44:39,55:40,87:h,139:342,186:339,190:340,195:341,197:L,307:43,308:p},t(G,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:d,16:f,87:h,197:L,308:p}),t(ie,[2,227]),t(ie,[2,228]),t(ie,[2,229]),{13:d,16:f,44:215,45:Ur,55:220,82:Se,87:h,89:Zr,172:221,185:351,187:350,200:348,230:347,231:fa,234:349,236:216,237:222,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:217,312:Ve},{13:d,16:f,44:39,55:40,87:h,139:342,186:352,190:340,195:341,197:L,307:43,308:p},t(ie,[2,146]),t(ie,[2,147]),t(ie,[2,148]),t(ie,[2,149]),{13:d,16:f,44:354,55:355,82:Se,87:h,172:357,237:356,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:358,312:Ve,313:353},t(de,[2,215]),t(de,[2,216]),t(ar,Qr,{58:205,62:206,23:359,63:yr}),t(I,[2,264]),t(ut,[2,266]),t(hi,[2,11]),t(n,[2,308],{6:[2,310]}),t(pt,[2,313],{102:360,120:361,121:[1,362]}),t(pt,[2,47]),t(pt,[2,63]),t(pt,[2,64]),{13:d,16:f,55:363,307:43,308:p},t(pt,[2,336]),t(pt,[2,337]),t(pt,[2,338]),{109:[1,364]},t(W,[2,60]),{13:d,16:f,55:365,307:43,308:p},t(O,[2,335]),{13:d,16:f,55:366,307:43,308:p},{31:[1,367]},t(Z,[2,341],{137:368}),t(Z,[2,340]),{13:d,16:f,44:215,45:Ur,55:220,82:Se,87:h,89:Zr,145:369,172:221,185:213,187:214,231:fa,236:216,237:222,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:217,312:Ve},{28:[1,370],127:371,128:[1,372]},t(qt,[2,330],{124:373,125:374,126:q}),t(qt,[2,57]),{44:375,87:h},t(bt,[2,151],{241:376,242:[1,377]}),t(To,[2,153],{245:378,246:[1,379]}),{13:d,16:f,44:136,45:ue,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,247:380,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{250:[1,381]},t(te,[2,432]),t(te,[2,433]),t(te,[2,434]),t(te,[2,435]),t(te,[2,436]),t(te,[2,437]),{250:[2,439]},t([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:ae,298:ce,299:fe,300:be,301:je,302:$e}),t(Ti,[2,162],{261:388,262:389,39:pe,338:ge}),t(nr,[2,164]),t(nr,[2,165]),t(nr,[2,166]),t(hr,[2,95]),t(hr,[2,96]),t(te,[2,377],{177:392,325:[1,393]}),{48:[1,394]},t(hr,[2,177]),{13:d,16:f,44:136,45:ue,46:395,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{13:d,16:f,44:136,45:ue,46:396,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{13:d,16:f,44:136,45:ue,46:397,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{13:d,16:f,44:136,45:ue,46:398,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{13:d,16:f,44:136,45:ue,46:399,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(hr,[2,183]),t(hr,[2,98]),t(te,[2,381],{180:400}),{87:[1,401]},t(hr,[2,185]),{13:d,16:f,44:136,45:ue,46:402,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{29:gr,57:403},t(an,[2,193]),{13:d,16:f,55:404,307:43,308:p},{13:d,16:f,44:39,55:40,87:h,139:342,195:405,197:L,307:43,308:p},t(we,[2,233]),t(we,[2,234]),t(we,[2,235]),t(De,[2,459],{281:406,325:[1,407]}),t(te,[2,463],{284:408,325:[1,409]}),t(te,[2,465],{286:410,325:[1,411]}),{13:d,16:f,31:[1,412],55:414,82:Se,171:413,172:415,173:416,174:Me,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:Qe},{31:[1,419],89:[1,420]},{29:[1,421]},t(Ei,[2,302]),t(ai,[2,367],{167:422}),t(Ka,[2,369],{168:423}),{48:[1,424],87:[1,425]},t(Ei,[2,371]),t(Ts,[2,122]),t(Ts,[2,417]),t(Ts,[2,413]),t(Ts,[2,414]),t(Ts,[2,415]),t(Ai,[2,125]),t(Ai,[2,127]),t(Ai,[2,128]),t(We,[2,420],{227:426}),t(Ai,[2,130]),{13:d,16:f,55:194,197:Rt,223:427,307:43,308:p},{48:[1,428]},t(oe,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),t(w,[2,288]),{64:[1,433]},t(Et,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:d,16:f,45:ue,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,276:He,277:ee,279:j,280:b,283:m,285:C,308:p,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht}),t(Ee,[2,293]),t(Re,[2,92]),t(Re,[2,93]),t(Re,[2,94]),{45:or,89:Ra,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:A,29:E,56:85},{19:438,28:A,29:E,56:85},t(Ce,[2,355],{149:439}),t(Ce,[2,354]),{13:d,16:f,44:215,45:Ge,55:220,82:Se,87:h,89:Zr,156:440,172:221,185:441,203:442,231:Ye,236:216,237:222,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:217,312:Ve},t(I,[2,19]),t(oe,[2,21]),{13:d,16:f,44:450,45:At,55:323,65:445,66:446,67:447,68:448,87:h,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,307:43,308:p,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(hi,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},t(R,[2,386],{31:[2,388]}),t(G,[2,102]),t(it,[2,391],{191:452}),t(R,[2,395],{196:453,198:454}),t(R,[2,108]),t(R,[2,109]),t(G,[2,103]),t(G,[2,104]),t(G,[2,390]),{13:d,16:f,44:215,45:Ur,48:[1,455],55:220,82:Se,87:h,89:Zr,172:221,185:351,187:350,200:456,231:fa,234:349,236:216,237:222,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:217,312:Ve},t(ir,[2,424]),t(xt,[2,136]),t(xt,[2,137]),t($t,[2,140]),{232:[1,457]},{13:d,16:f,44:39,55:40,87:h,139:342,195:458,197:L,307:43,308:p},t(we,[2,219]),t(we,[2,220]),t(we,[2,221]),t(we,[2,222]),t(we,[2,223]),t(hi,[2,10]),t(pt,[2,46]),t(pt,[2,314]),{112:Bt,122:459},t(pt,[2,62]),t(O,nt,{133:242,108:460,112:Ot,132:at}),t(W,[2,61]),t(pt,[2,49]),t([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},t(Z,[2,351],{146:463,335:[1,464]}),{29:gr,57:465},t(qt,[2,329]),t(O,[2,332],{129:466,327:[1,467]}),t(qt,[2,55]),t(qt,[2,331]),{48:[1,468]},t(To,[2,429]),{13:d,16:f,44:136,45:ue,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(St,[2,431]),{13:d,16:f,44:136,45:ue,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,243:470,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(St,[2,156]),{45:Ss,89:Wr,179:471},t(Ti,[2,441]),{13:d,16:f,44:136,45:ue,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,251:472,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(nr,[2,444],{256:473}),t(nr,[2,446],{258:474}),t(te,[2,442]),t(te,[2,443]),t(nr,[2,449]),{13:d,16:f,44:136,45:ue,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,255:154,257:155,259:475,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(te,[2,450]),t(te,[2,451]),t(te,[2,379],{178:476}),t(te,[2,378]),t([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:d,16:f,44:136,45:ue,46:482,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{48:[1,483]},{48:[1,484]},t(hr,[2,187]),t(an,[2,194]),{13:d,16:f,44:39,55:40,82:Se,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,320:485},{13:d,16:f,39:[1,487],44:136,45:ue,46:488,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,282:486,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(De,[2,460]),{13:d,16:f,44:136,45:ue,46:489,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(te,[2,464]),{13:d,16:f,44:136,45:ue,46:490,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(te,[2,466]),t(_t,[2,40]),t(ai,[2,298]),t(Ht,[2,87]),t(Ht,[2,88]),t(Ht,[2,89]),t(Ht,[2,90]),{13:d,16:f,55:492,82:Se,172:493,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,311:494,312:Ve,315:491},t(_t,[2,41]),t(Ka,[2,300]),t(mr,[2,303],{92:495}),{13:d,16:f,31:[1,496],55:414,82:Se,171:497,172:415,173:416,174:Me,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:Qe},{31:[1,498],89:[1,499]},{29:[1,500]},t(Ei,[2,372]),{13:d,16:f,48:[2,422],55:194,197:Rt,223:312,226:502,228:501,229:Eo,307:43,308:p},t(Ai,[2,131]),t(Ai,[2,126]),t(oe,[2,22]),t(oe,[2,290]),{82:[1,503]},{82:[1,504]},{13:d,16:f,44:510,45:ue,55:323,67:321,68:322,74:505,75:506,76:Vr,77:320,78:si,79:509,87:h,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,307:43,308:p,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(Ee,[2,294]),t(xi,[2,69]),t(xi,[2,70]),t(Et,Jt,{59:197,69:198,20:511,70:Cn}),t(ar,Qr,{58:205,62:206,23:512,63:yr}),{29:[2,375],31:[2,71],84:522,85:o,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},t(Ce,[2,363],{157:524,335:[1,525]}),t(u,a,{215:10,202:526,205:527,208:528,214:529,44:530,87:h}),t(Fi,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),{13:d,16:f,44:215,45:Ge,55:220,82:Se,87:h,89:Zr,172:221,185:351,203:536,212:534,231:Ye,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:217,312:Ve},t(u,a,{215:10,205:527,208:528,214:529,44:530,202:537,87:h}),t(ar,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:d,16:f,45:At,87:h,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,276:He,277:ee,279:j,280:b,283:m,285:C,308:p,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht}),t(un,[2,291]),t(un,[2,24]),t(un,[2,25]),{13:d,16:f,44:136,45:ue,46:539,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(un,[2,28]),t(ar,Qr,{58:205,62:206,23:540,63:yr}),t([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),t(it,[2,107]),{13:d,16:f,44:215,45:Ur,55:220,82:Se,87:h,89:Zr,172:221,185:351,187:350,199:543,200:544,231:fa,234:349,236:216,237:222,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:217,312:Ve},t(pi,[2,132]),t(ir,[2,425]),t(pi,[2,133]),{13:d,16:f,44:354,55:355,82:Se,87:h,172:357,237:356,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:358,312:Ve,313:545},t(pt,[2,54]),t(pt,[2,48]),t(Z,[2,342]),{13:d,16:f,44:39,55:40,87:h,139:546,307:43,308:p},t(Z,[2,68]),t(R,[2,350],{31:Li,112:Li}),t(pt,[2,53]),{13:d,16:f,55:547,307:43,308:p},t(O,[2,333]),t(se,[2,16]),t(To,[2,152]),t(St,[2,154]),t(St,[2,157]),t(Ti,[2,159]),t(Ti,[2,160],{262:389,261:548,39:pe,338:ge}),t(Ti,[2,161],{262:389,261:549,39:pe,338:ge}),t(nr,[2,163]),{13:d,16:f,44:136,45:ue,46:550,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(hr,[2,178]),t(hr,[2,179]),{13:d,16:f,44:136,45:ue,46:551,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{13:d,16:f,44:136,45:ue,46:552,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{13:d,16:f,44:136,45:ue,46:553,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{48:[1,554],272:[1,555]},t(hr,[2,184]),t(hr,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:d,16:f,55:194,197:Rt,223:562,307:43,308:p},t(zi,[2,224]),t(zi,[2,225]),t(zi,[2,226]),{31:[1,563],45:Tf,94:564},t(_t,[2,84]),t(ai,[2,368]),t(_t,[2,85]),t(Ka,[2,370]),t(mr,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},t(oe,[2,35],{83:[1,569]}),t(oe,[2,36],{81:[1,570]}),t(w,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:d,16:f,45:ue,76:Vr,78:si,87:h,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,276:He,277:ee,279:j,280:b,283:m,285:C,308:p,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht}),t(Ao,[2,295]),{45:ue,77:572},{45:ue,77:573},t(Ao,[2,33]),t(Ao,[2,34]),{31:[2,275],50:574,84:575,85:o},{31:[2,277],51:576,84:577,85:o},t(Ce,[2,356]),t(Ef,[2,357],{152:578,335:[1,579]}),t(Xa,[2,74]),{29:gr,57:580},{29:gr,57:581},{13:d,16:f,44:39,55:40,87:h,139:582,307:43,308:p},t(ng,[2,365],{162:583,328:[1,584]}),{13:d,16:f,45:ue,55:323,67:321,68:322,77:320,79:585,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,307:43,308:p,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{45:[1,586]},t(Xa,[2,81]),{29:gr,57:587},t(Ce,[2,73]),t(R,[2,362],{29:Es,31:Es,85:Es,112:Es,159:Es,160:Es,161:Es,163:Es,164:Es}),t(Fi,[2,112]),t(ha,[2,401],{206:588}),t(R,[2,405],{209:589,210:590}),t(R,[2,403]),t(R,[2,404]),t(Fi,[2,113]),t(Fi,[2,400]),{13:d,16:f,44:215,45:Ge,48:[1,591],55:220,82:Se,87:h,89:Zr,172:221,185:351,203:536,212:592,231:Ye,234:535,236:216,237:222,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:217,312:Ve},t(ir,[2,426]),t($t,[2,138]),t($t,[2,139]),{232:[1,593]},t(un,[2,292]),{47:[1,595],48:[1,594]},t(hi,[2,9]),t(it,[2,392]),t(it,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:d,16:f,87:h,197:L,308:p}),t(it,[2,110],{272:[1,598]}),t(Ia,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},t(qt,[2,58]),t(nr,[2,445]),t(nr,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},t(hr,[2,99]),t(te,[2,382]),t([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),t(hr,[2,188]),t(hr,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:d,16:f,55:492,82:Se,172:493,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,311:494,312:Ve,315:611},t(_t,[2,42]),t(mr,[2,304]),{13:d,16:f,55:414,82:Se,95:612,171:613,172:415,173:416,174:Me,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:Qe},{31:[1,614],45:Tf,94:615},t(Ai,[2,129]),t(We,[2,421]),{82:[1,616]},{82:[1,617]},t(Ao,[2,296]),t(Ao,[2,31]),t(Ao,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},t(R,_,{155:330,153:618,154:619,29:Xs,31:Xs,85:Xs,112:Xs,159:Xs,160:Xs,161:Xs,163:Xs,164:Xs}),t(Ef,[2,358]),t(Xa,[2,75]),t(Xa,[2,76]),{29:gr,57:620},{13:d,16:f,44:39,55:40,87:h,139:621,307:43,308:p},t(ng,[2,366]),t(Xa,[2,79]),{13:d,16:f,44:136,45:ue,46:622,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(Xa,[2,91],{336:[1,623]}),t([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),t(ha,[2,117]),{13:d,16:f,44:215,45:Ge,55:220,82:Se,87:h,89:Zr,172:221,185:351,203:536,211:626,212:627,231:Ye,234:535,236:216,237:222,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,309:xr,310:Ae,311:217,312:Ve},t(ie,[2,134]),t(ir,[2,427]),t(ie,[2,135]),t(un,[2,26]),{44:628,87:h},t(it,[2,106]),t(it,[2,394]),t(R,[2,396]),t(Ia,[2,111]),t(Ia,[2,398]),{13:d,16:f,44:39,55:40,87:h,139:342,186:629,190:340,195:341,197:L,307:43,308:p},t(de,[2,217]),t(R,Ft,{144:248,140:630,143:631,31:[2,343]}),t(hr,[2,97]),t(te,[2,380]),t(hr,[2,180]),{13:d,16:f,44:136,45:ue,46:632,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},{13:d,16:f,44:136,45:ue,46:633,55:133,67:132,68:134,77:131,82:Se,87:h,172:135,224:ve,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Le,264:130,265:Xe,266:137,267:139,268:Ne,269:ye,270:qe,271:Te,273:Oe,274:Be,275:146,276:He,277:ee,278:149,279:j,280:b,283:m,285:C,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:$,346:U,347:V,348:Ie,349:ke,350:Pe,351:ht},t(hr,[2,190]),{290:[1,634]},{314:[1,635]},{13:d,16:f,48:[1,636],55:414,82:Se,171:637,172:415,173:416,174:Me,255:154,257:155,291:150,294:B,295:z,296:Q,297:ae,298:ce,299:fe,300:be,301:je,302:$e,303:Ke,304:re,305:le,306:X,307:43,308:p,312:Qe},t(Af,[2,305]),t(_t,[2,86]),t(mr,[2,374]),t(oe,[2,37]),t(oe,[2,38]),t(Ce,[2,72]),t(Ce,[2,360]),t(Xa,[2,77]),{29:gr,57:638},{47:[1,639]},{29:[2,376]},t(ha,[2,402]),t(ha,[2,115],{215:10,208:528,214:529,44:530,205:640,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),t(ha,[2,118],{272:[1,641]}),t(id,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:Ke,304:re,305:le,306:X},t(Ht,[2,218]),t(mr,[2,44]),t(Af,[2,306]),t(Xa,[2,78]),{44:651,87:h},t(ha,[2,116]),t(R,[2,406]),t(id,[2,119]),t(id,[2,408]),t(u,a,{215:10,205:527,208:528,214:529,44:530,202:652,87:h}),t(un,[2,27]),t(Ia,[2,230]),t(xf,[2,345],{141:653,335:[1,654]}),t(hr,[2,181]),t(hr,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},t(R,Ft,{144:248,142:657,143:658,31:ig,112:ig}),t(xf,[2,346]),t(Xa,[2,80]),t(id,[2,231]),t(Z,[2,67]),t(Z,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(et,ot){if(ot.recoverable)this.trace(et);else{var gt=new Error(et);throw gt.hash=ot,gt}},parse:function(et){var ot=this,gt=[0],Wt=[null],Zt=[],he=this.table,xo="",me=0,Of=0,lS=2,cS=1,dS=Zt.slice.call(arguments,1),Ri=Object.create(this.lexer),Xl={yy:{}};for(var tp in this.yy)Object.prototype.hasOwnProperty.call(this.yy,tp)&&(Xl.yy[tp]=this.yy[tp]);Ri.setInput(et,Xl.yy),Xl.yy.lexer=Ri,Xl.yy.parser=this,typeof Ri.yylloc>"u"&&(Ri.yylloc={});var dg=Ri.yylloc;Zt.push(dg);var sC=Ri.options&&Ri.options.ranges;typeof Xl.yy.parseError=="function"?this.parseError=Xl.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var fS=function(){var fg;return fg=Ri.lex()||cS,typeof fg!="number"&&(fg=ot.symbols_[fg]||fg),fg},Or,sn,Er,Ca,Da={},hS,ld,lj,pS;;){if(sn=gt[gt.length-1],this.defaultActions[sn]?Er=this.defaultActions[sn]:((Or===null||typeof Or>"u")&&(Or=fS()),Er=he[sn]&&he[sn][Or]),typeof Er>"u"||!Er.length||!Er[0]){var oC="";pS=[];for(hS in he[sn])this.terminals_[hS]&&hS>lS&&pS.push("'"+this.terminals_[hS]+"'");Ri.showPosition?oC="Parse error on line "+(me+1)+`:
`+Ri.showPosition()+`
Expecting `+pS.join(", ")+", got '"+(this.terminals_[Or]||Or)+"'":oC="Parse error on line "+(me+1)+": Unexpected "+(Or==cS?"end of input":"'"+(this.terminals_[Or]||Or)+"'"),this.parseError(oC,{text:Ri.match,token:this.terminals_[Or]||Or,line:Ri.yylineno,loc:dg,expected:pS})}if(Er[0]instanceof Array&&Er.length>1)throw new Error("Parse Error: multiple actions possible at state: "+sn+", token: "+Or);switch(Er[0]){case 1:gt.push(Or),Wt.push(Ri.yytext),Zt.push(Ri.yylloc),gt.push(Er[1]),Or=null,Of=Ri.yyleng,xo=Ri.yytext,me=Ri.yylineno,dg=Ri.yylloc;break;case 2:if(ld=this.productions_[Er[1]][1],Da.$=Wt[Wt.length-ld],Da._$={first_line:Zt[Zt.length-(ld||1)].first_line,last_line:Zt[Zt.length-1].last_line,first_column:Zt[Zt.length-(ld||1)].first_column,last_column:Zt[Zt.length-1].last_column},sC&&(Da._$.range=[Zt[Zt.length-(ld||1)].range[0],Zt[Zt.length-1].range[1]]),Ca=this.performAction.apply(Da,[xo,Of,me,Xl.yy,Er[1],Wt,Zt].concat(dS)),typeof Ca<"u")return Ca;ld&&(gt=gt.slice(0,-1*ld*2),Wt=Wt.slice(0,-1*ld),Zt=Zt.slice(0,-1*ld)),gt.push(this.productions_[Er[1]][0]),Wt.push(Da.$),Zt.push(Da._$),lj=he[gt[gt.length-2]][gt[gt.length-1]],gt.push(lj);break;case 3:return!0}}return!0}},Ja=Y5.Wildcard,fu="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Bu=fu+"type",wn=fu+"first",ku=fu+"rest",sd=fu+"nil",Wn="http://www.w3.org/2001/XMLSchema#",ag=Wn+"integer",Gl=Wn+"decimal",Ql=Wn+"double",WP=Wn+"boolean",od="",iv="",nj="";function As(rt){return rt.toLowerCase()}function Zh(rt,et){return rt.push(et),rt}function sg(rt,et){return rt.push.apply(rt,et),rt}function Oi(rt){rt||(rt={});for(var et=1,ot=arguments.length,gt;et<ot&&(gt=arguments[et]||{});et++)for(var Wt in gt)rt[Wt]=gt[Wt];return rt}function Wl(){for(var rt=[],et=0,ot=arguments.length;et<ot;et++)rt=rt.concat.apply(rt,arguments[et]);return rt}function av(rt){if(rt[0]==="<"&&(rt=rt.substring(1,rt.length-1)),/^[a-z]+:/i.test(rt))return rt;if(!Ir.base)throw new Error("Cannot resolve relative IRI "+rt+" because no base IRI was set.");switch(od!==Ir.base&&(od=Ir.base,iv=od.replace(/[^\/:]*$/,""),nj=od.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),rt[0]){case void 0:return od;case"#":return od+rt;case"?":return od.replace(/(?:\?.*)?$/,rt);case"/":return nj+rt;default:return iv+rt}}function KP(rt){if(rt){var et=rt[0];if(et==="?"||et==="$")return Ir.factory.variable(rt.substr(1))}return rt}function Pa(rt,et){return{type:"operation",operator:rt,args:et||[]}}function og(rt,et){var ot={expression:rt==="*"?new Ja:rt};if(et)for(var gt in et)ot[gt]=et[gt];return ot}function ug(rt,et){return{type:"path",pathType:rt,items:et}}function XP(rt,et){for(var ot=0,gt=et.length,Wt;ot<gt&&(Wt=et[ot]);ot++)rt=Pa(Wt[0],[rt,Wt[1]]);return rt}function ep(rt,et){var ot=[],gt=[],Wt=rt.length,Zt,he={};if(!Wt)return null;for(var xo=0;xo<Wt&&(Zt=rt[xo]);xo++)(Zt.named?gt:ot).push(Zt.iri);return he[et||"from"]={default:ot,named:gt},he}function lg(rt){return parseInt(rt,10)}function JP(rt){return rt.type==="group"&&rt.patterns.length===1?rt.patterns[0]:rt}function Kl(rt,et){return et&&et.termType!=="NamedNode"&&(et=Ir.factory.namedNode(et)),Ir.factory.literal(rt,et)}function lre(rt,et){return Ir.factory.literal(rt,et)}function YP(rt,et,ot){if(!("termType"in et))throw new Error("Nested triples cannot contain paths");return Ir.factory.quad(rt,et,ot)}function ud(rt,et,ot,gt){var Wt={};return rt!=null&&(Wt.subject=rt),et!=null&&(Wt.predicate=et),ot!=null&&(Wt.object=ot),gt!=null&&(Wt.annotations=gt),Wt}function sv(rt){return typeof rt=="string"?rt.startsWith("e_")?Ir.factory.blankNode(rt):Ir.factory.blankNode("e_"+rt):Ir.factory.blankNode("g_"+ij++)}var ij=0;Ir._resetBlanks=function(){ij=0};var cre=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,dre={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},fre=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,ZP=String.fromCharCode;function aj(rt,et){rt=rt.substring(et,rt.length-et);try{rt=rt.replace(cre,function(ot,gt,Wt,Zt){var he;if(gt){if(he=parseInt(gt,16),isNaN(he))throw new Error;return ZP(he)}else if(Wt){if(he=parseInt(Wt,16),isNaN(he))throw new Error;return he<65535?ZP(he):ZP(55296+((he-=65536)>>10),56320+(he&1023))}else{var xo=dre[Zt];if(!xo)throw new Error;return xo}})}catch{return""}if(fre.exec(rt))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+rt);return rt}function hre(rt){var et=sv(),ot=et,gt=[],Wt,Zt=[];rt.forEach(function(Of){gt.push(Of.entity),sg(Zt,Of.triples)});for(var he=0,xo=0,me=gt.length,Wt=Array(me*2);he<me;)Wt[xo++]=ud(ot,Ir.factory.namedNode(wn),gt[he]),Wt[xo++]=ud(ot,Ir.factory.namedNode(ku),ot=++he<me?sv():Ir.factory.namedNode(sd));return{entity:et,triples:sg(Wt,Zt)}}function pre(rt){var et=sv();return{entity:et,triples:rt.map(function(ot){return Oi(ud(et),ot)})}}function eC(rt,et,ot){var gt=[],Wt=[];return et.forEach(function(Zt){let he=null;Zt.annotation&&(he=Zt.annotation,Zt=Zt.object),gt.push(ud(null,rt,Zt.entity,he)),sg(Wt,Zt.triples)}),Wl(gt,ot||[],Wt)}function cg(rt){return rt.variable?rt.variable.value:rt.value||rt.expression.value}function tC(rt){if(!rt)return[];if(rt.type==="aggregate")return[rt];if(rt.type==="operation"){const et=[];for(const ot of rt.args)et.push(...tC(ot));return et}return[]}function gre(rt){const et=new Set,ot=function(gt){gt&&(gt.termType==="Variable"?et.add(gt):gt.type==="operation"&&gt.args.forEach(ot))};return ot(rt),et}function rC(rt,et=1,ot=[]){for(const gt of rt)et>0&&gt instanceof Array?rC(gt,et-1,ot):ot.push(gt);return ot}function nC(rt){return rt.termType==="Variable"}function sj(rt){if(rt.triples){const et=[];for(const ot of rt.triples)nC(ot.subject)&&et.push(ot.subject.value),nC(ot.predicate)&&et.push(ot.predicate.value),nC(ot.object)&&et.push(ot.object.value);return et}else if(rt.patterns){const et=[];for(const ot of rt.patterns)et.push(...sj(ot));return et}return[]}function yre(rt){const et=rt.slice().sort(),ot=[];for(let gt=0;gt<et.length-1;gt++)et[gt+1]==et[gt]&&ot.push(et[gt]);return ot}function ov(rt){if(!Ir.sparqlStar)throw new Error("SPARQL-star support is not enabled");return rt}function oj(rt,et,ot){for(const gt of et){const Wt=ud("subject"in gt?gt.subject:rt,gt.predicate,gt.object);ot.push(Wt),gt.annotations&&oj(YP(rt,gt.predicate,gt.object),gt.annotations,ot)}}function iC(rt){if(Ir.sparqlStar){const et=[];return rt.forEach(ot=>{const gt=ud(ot.subject,ot.predicate,ot.object);et.push(gt),ot.annotations&&oj(YP(ot.subject,ot.predicate,ot.object),ot.annotations,et)}),et}return rt}function uj(rt){for(const et of rt){if(et.type==="graph"&&et.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(et.type==="bgp"||et.type==="graph"){for(const ot of et.triples)if(ot.subject.termType==="Variable"||ot.predicate.termType==="Variable"||ot.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return rt}function aC(rt){for(const et of rt)if(et.type==="bgp"){for(const ot of et.triples)if(ot.subject.termType==="BlankNode"||ot.predicate.termType==="BlankNode"||ot.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return rt}var mre=function(){var rt={EOF:1,parseError:function(ot,gt){if(this.yy.parser)this.yy.parser.parseError(ot,gt);else throw new Error(ot)},setInput:function(et,ot){return this.yy=ot||this.yy||{},this._input=et,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var et=this._input[0];this.yytext+=et,this.yyleng++,this.offset++,this.match+=et,this.matched+=et;var ot=et.match(/(?:\r\n?|\n).*/g);return ot?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),et},unput:function(et){var ot=et.length,gt=et.split(/(?:\r\n?|\n)/g);this._input=et+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ot),this.offset-=ot;var Wt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),gt.length-1&&(this.yylineno-=gt.length-1);var Zt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:gt?(gt.length===Wt.length?this.yylloc.first_column:0)+Wt[Wt.length-gt.length].length-gt[0].length:this.yylloc.first_column-ot},this.options.ranges&&(this.yylloc.range=[Zt[0],Zt[0]+this.yyleng-ot]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(et){this.unput(this.match.slice(et))},pastInput:function(){var et=this.matched.substr(0,this.matched.length-this.match.length);return(et.length>20?"...":"")+et.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var et=this.match;return et.length<20&&(et+=this._input.substr(0,20-et.length)),(et.substr(0,20)+(et.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var et=this.pastInput(),ot=new Array(et.length+1).join("-");return et+this.upcomingInput()+`
`+ot+"^"},test_match:function(et,ot){var gt,Wt,Zt;if(this.options.backtrack_lexer&&(Zt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Zt.yylloc.range=this.yylloc.range.slice(0))),Wt=et[0].match(/(?:\r\n?|\n).*/g),Wt&&(this.yylineno+=Wt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Wt?Wt[Wt.length-1].length-Wt[Wt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+et[0].length},this.yytext+=et[0],this.match+=et[0],this.matches=et,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(et[0].length),this.matched+=et[0],gt=this.performAction.call(this,this.yy,this,ot,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),gt)return gt;if(this._backtrack){for(var he in Zt)this[he]=Zt[he];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var et,ot,gt,Wt;this._more||(this.yytext="",this.match="");for(var Zt=this._currentRules(),he=0;he<Zt.length;he++)if(gt=this._input.match(this.rules[Zt[he]]),gt&&(!ot||gt[0].length>ot[0].length)){if(ot=gt,Wt=he,this.options.backtrack_lexer){if(et=this.test_match(gt,Zt[he]),et!==!1)return et;if(this._backtrack){ot=!1;continue}else return!1}else if(!this.options.flex)break}return ot?(et=this.test_match(ot,Zt[Wt]),et!==!1?et:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ot=this.next();return ot||this.lex()},begin:function(ot){this.conditionStack.push(ot)},popState:function(){var ot=this.conditionStack.length-1;return ot>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ot){return ot=this.conditionStack.length-1-Math.abs(ot||0),ot>=0?this.conditionStack[ot]:"INITIAL"},pushState:function(ot){this.begin(ot)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(ot,gt,Wt,Zt){switch(Wt){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(gt.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};return rt}();ad.lexer=mre;function Ir(){this.yy={}}return Ir.prototype=ad,ad.Parser=Ir,new Ir}(),aye=iye,sye="http://www.w3.org/2001/XMLSchema#integer",oye="http://www.w3.org/2001/XMLSchema#string";function Gn(t){this._options=t=t||{};var e=t.prefixes||{};this._prefixByIri={};var r=[];for(var n in e){var a=e[n];qb(a)&&(this._prefixByIri[a]=n,r.push(a))}var s=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=t.sparqlStar,this._indent=qb(t.indent)?t.indent:"  ",this._newline=qb(t.newline)?t.newline:`
`,this._explicitDatatype=Boolean(t.explicitDatatype)}Gn.prototype.toQuery=function(t){var e="";return t.queryType&&(e+=t.queryType.toUpperCase()+" "),t.reduced&&(e+="REDUCED "),t.distinct&&(e+="DISTINCT "),t.variables?e+=Go(t.variables,void 0,function(r){return Sh(r)?this.toEntity(r):"("+this.toExpression(r.expression)+" AS "+KT(r.variable)+")"},this)+" ":t.template&&(e+=this.group(t.template,!0)+this._newline),t.from&&(e+=this.graphs("FROM ",t.from.default)+this.graphs("FROM NAMED ",t.from.named)),t.where&&(e+="WHERE "+this.group(t.where,!0)+this._newline),t.updates&&(e+=Go(t.updates,";"+this._newline,this.toUpdate,this)),t.group&&(e+="GROUP BY "+Go(t.group,void 0,function(r){var n=Sh(r.expression)?this.toEntity(r.expression):"("+this.toExpression(r.expression)+")";return r.variable?"("+n+" AS "+KT(r.variable)+")":n},this)+this._newline),t.having&&(e+="HAVING ("+Go(t.having,void 0,this.toExpression,this)+")"+this._newline),t.order&&(e+="ORDER BY "+Go(t.order,void 0,function(r){var n="("+this.toExpression(r.expression)+")";return r.descending?"DESC "+n:n},this)+this._newline),t.offset&&(e+="OFFSET "+t.offset+this._newline),t.limit&&(e+="LIMIT "+t.limit+this._newline),t.values&&(e+=this.values(t)),e=this.baseAndPrefixes(t)+e,e.trim()};Gn.prototype.baseAndPrefixes=function(t){var e=t.base?"BASE <"+t.base+">"+this._newline:"",r="";for(var n in t.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+t.prefixes[n]+">"+this._newline);return e+r};Gn.prototype.toPattern=function(t){var e=t.type||t instanceof Array&&"array"||(t.subject&&t.predicate&&t.object?"triple":"");if(!(e in this))throw new Error("Unknown entry type: "+e);return this[e](t)};Gn.prototype.triple=function(t){return this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+"."};Gn.prototype.array=function(t){return Go(t,this._newline,this.toPattern,this)};Gn.prototype.bgp=function(t){return this.encodeTriples(t.triples)};Gn.prototype.encodeTriples=function(t){if(!t.length)return"";for(var e=[],r=void 0,n=void 0,a=0;a<t.length;a++){var s=t[a];Rp(s.subject,r)?Rp(s.predicate,n)?e.push(","):(n=s.predicate,e.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&e.push("."+this._newline),r=s.subject,n=s.predicate,e.push(this.toEntity(r)," ",this.toEntity(n))),e.push(" ",this.toEntity(s.object))}return e.push("."),e.join("")};Gn.prototype.graph=function(t){return"GRAPH "+this.toEntity(t.name)+" "+this.group(t)};Gn.prototype.graphs=function(t,e){return!e||e.length===0?"":Go(e,"",function(r){return t+this.toEntity(r)+this._newline},this)};Gn.prototype.group=function(t,e){return t=e!==!0?this.array(t.patterns||t.triples):this.toPattern(t.type!=="group"?t:t.patterns),t.indexOf(this._newline)===-1?"{ "+t+" }":"{"+this._newline+this.indent(t)+this._newline+"}"};Gn.prototype.query=function(t){return this.toQuery(t)};Gn.prototype.filter=function(t){return"FILTER("+this.toExpression(t.expression)+")"};Gn.prototype.bind=function(t){return"BIND("+this.toExpression(t.expression)+" AS "+KT(t.variable)+")"};Gn.prototype.optional=function(t){return"OPTIONAL "+this.group(t)};Gn.prototype.union=function(t){return Go(t.patterns,this._newline+"UNION"+this._newline,function(e){return this.group(e,!0)},this)};Gn.prototype.minus=function(t){return"MINUS "+this.group(t)};Gn.prototype.values=function(t){var e=Object.keys(t.values.reduce(function(a,s){for(var o in s)a[o]=!0;return a},{})),r,n;return e.length===1?r=n="":(r="(",n=")"),"VALUES "+r+e.join(" ")+n+" {"+this._newline+Go(t.values,this._newline,function(a){return"  "+r+Go(e,void 0,function(s){return a[s]?this.toEntity(a[s]):"UNDEF"},this)+n},this)+this._newline+"}"};Gn.prototype.service=function(t){return"SERVICE "+(t.silent?"SILENT ":"")+this.toEntity(t.name)+" "+this.group(t)};Gn.prototype.toExpression=function(t){if(Sh(t))return this.toEntity(t);switch(t.type.toLowerCase()){case"aggregate":return t.aggregation.toUpperCase()+"("+(t.distinct?"DISTINCT ":"")+this.toExpression(t.expression)+(typeof t.separator=="string"?'; SEPARATOR = "'+t.separator.replace(IQ,PQ)+'"':"")+")";case"functioncall":return this.toEntity(t.function)+"("+Go(t.args,", ",this.toExpression,this)+")";case"operation":var e=t.operator.toUpperCase(),r=t.args||[];switch(t.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(Sh(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+e+" "+(Sh(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"uplus":return"+("+this.toExpression(r[0])+")";case"uminus":return"-("+this.toExpression(r[0])+")";case"notin":e="NOT IN";case"in":return this.toExpression(r[0])+" "+e+"("+(qb(r[1])?r[1]:Go(r[1],", ",this.toExpression,this))+")";case"notexists":e="NOT EXISTS";case"exists":return e+" "+this.group(r[0],!0);default:return e+"("+Go(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+t.type)}};Gn.prototype.toEntity=function(t){if(Sh(t))switch(t.termType){case"Wildcard":return"*";case"Variable":return KT(t);case"BlankNode":return"_:"+t.value;case"Literal":var e=t.value||"",r=t.language||"",n=t.datatype;if(t='"'+e.replace(IQ,PQ)+'"',r)t+="@"+r;else if(n){if(!this._explicitDatatype)switch(n.value){case oye:return t;case sye:if(/^\d+$/.test(e))return e+" "}t+="^^"+this.encodeIRI(n.value)}return t;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return t.graph&&t.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(t.graph)+" { "+this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+" }  >>":"<< "+this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+" >>";default:return this.encodeIRI(t.value)}else{var a=t.items.map(this.toEntity,this),s=t.pathType;switch(s){case"^":case"!":return s+a[0];case"*":case"+":case"?":return"("+a[0]+s+")";default:return"("+a.join(s)+")"}}};var IQ=/["\\\t\n\r\b\f]/g,PQ=function(t){return uye[t]},uye={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};Gn.prototype.encodeIRI=function(t){var e=this._prefixRegex.exec(t);if(e){var r=this._prefixByIri[e[1]];return this._usedPrefixes[r]=!0,r+":"+e[2]}return"<"+t+">"};Gn.prototype.toUpdate=function(t){switch(t.type||t.updateType){case"load":return"LOAD"+(t.source?" "+this.toEntity(t.source):"")+(t.destination?" INTO GRAPH "+this.toEntity(t.destination):"");case"insert":return"INSERT DATA "+this.group(t.insert,!0);case"delete":return"DELETE DATA "+this.group(t.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(t.delete,!0);case"insertdelete":return(t.graph?"WITH "+this.toEntity(t.graph)+this._newline:"")+(t.delete.length?"DELETE "+this.group(t.delete,!0)+this._newline:"")+(t.insert.length?"INSERT "+this.group(t.insert,!0)+this._newline:"")+(t.using?this.graphs("USING ",t.using.default):"")+(t.using?this.graphs("USING NAMED ",t.using.named):"")+"WHERE "+this.group(t.where,!0);case"add":case"copy":case"move":return t.type.toUpperCase()+" "+(t.silent?"SILENT ":"")+(t.source.default?"DEFAULT":this.toEntity(t.source.name))+" TO "+this.toEntity(t.destination.name);case"create":case"clear":case"drop":return t.type.toUpperCase()+(t.silent?" SILENT ":" ")+(t.graph.default?"DEFAULT":t.graph.named?"NAMED":t.graph.all?"ALL":"GRAPH "+this.toEntity(t.graph.name));default:throw new Error("Unknown update query type: "+t.type)}};Gn.prototype.indent=function(t){return t.replace(/^/gm,this._indent)};function KT(t){return"?"+t.value}function qb(t){return typeof t=="string"}function Sh(t){return typeof t.termType=="string"}function Rp(t,e){if(!t||!Sh(t)||!e||!Sh(e)||t.termType!==e.termType)return!1;switch(t.termType){case"Literal":return t.value===e.value&&t.language===e.language&&Rp(t.datatype,e.datatype);case"Quad":return Rp(t.subject,e.subject)&&Rp(t.predicate,e.predicate)&&Rp(t.object,e.object)&&Rp(t.graph,e.graph);default:return t.value===e.value}}function Go(t,e,r,n){return t.map(r,n).join(qb(e)?e:" ")}var lye=function(e={}){return{stringify:function(r){var n=Object.create(e);return n.prefixes=r.prefixes,new Gn(n).toQuery(r)},createGenerator:function(){return new Gn(e)}}},fd=aye.Parser,cye=lye,dye=Y5.Wildcard,{DataFactory:fye}=lr,tw={Parser:function({prefixes:t,baseIRI:e,factory:r,sparqlStar:n,skipValidation:a,skipUngroupedVariableCheck:s,pathOnly:o}={}){var u={};for(var l in t||{})u[l]=t[l];var c=new fd;return c.parse=function(){return fd.base=e||"",fd.prefixes=Object.create(u),fd.factory=r||new fye,fd.sparqlStar=Boolean(n),fd.pathOnly=Boolean(o),fd.skipValidation=Boolean(a)||Boolean(s),fd.prototype.parse.apply(c,arguments)},c._resetBlanks=fd._resetBlanks,c},Generator:cye,Wildcard:dye},hye=F&&F.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pye=F&&F.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gye=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hye(e,t,r);return pye(e,t),e};Object.defineProperty(Nm,"__esModule",{value:!0});const zt=gye(Dm),yye=lr,mye=dn,vye=tw;class bye{constructor(e){this.dataFactory=e||new yye.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,r=!0){return this.flattenMulti({type:zt.types.ALT,input:e},r)}createAsk(e){return{type:zt.types.ASK,input:e}}createBoundAggregate(e,r,n,a,s){const o=this.createAggregateExpression(r,n,a,s);return o.variable=e,o}createBgp(e){return{type:zt.types.BGP,patterns:e}}createConstruct(e,r){return{type:zt.types.CONSTRUCT,input:e,template:r}}createDescribe(e,r){return{type:zt.types.DESCRIBE,input:e,terms:r}}createDistinct(e){return{type:zt.types.DISTINCT,input:e}}createExtend(e,r,n){return{type:zt.types.EXTEND,input:e,variable:r,expression:n}}createFrom(e,r,n){return{type:zt.types.FROM,input:e,default:r,named:n}}createFilter(e,r){return{type:zt.types.FILTER,input:e,expression:r}}createGraph(e,r){return{type:zt.types.GRAPH,input:e,name:r}}createGroup(e,r,n){return{type:zt.types.GROUP,input:e,variables:r,aggregates:n}}createInv(e){return{type:zt.types.INV,path:e}}createJoin(e,r=!0){return this.flattenMulti({type:zt.types.JOIN,input:e},r)}createLeftJoin(e,r,n){return n?{type:zt.types.LEFT_JOIN,input:[e,r],expression:n}:{type:zt.types.LEFT_JOIN,input:[e,r]}}createLink(e){return{type:zt.types.LINK,iri:e}}createMinus(e,r){return{type:zt.types.MINUS,input:[e,r]}}createNop(){return{type:zt.types.NOP}}createNps(e){return{type:zt.types.NPS,iris:e}}createOneOrMorePath(e){return{type:zt.types.ONE_OR_MORE_PATH,path:e}}createOrderBy(e,r){return{type:zt.types.ORDER_BY,input:e,expressions:r}}createPath(e,r,n,a){return a?{type:zt.types.PATH,subject:e,predicate:r,object:n,graph:a}:{type:zt.types.PATH,subject:e,predicate:r,object:n,graph:this.dataFactory.defaultGraph()}}createPattern(e,r,n,a){const s=this.dataFactory.quad(e,r,n,a);return s.type=zt.types.PATTERN,s}createProject(e,r){return{type:zt.types.PROJECT,input:e,variables:r}}createReduced(e){return{type:zt.types.REDUCED,input:e}}createSeq(e,r=!0){return this.flattenMulti({type:zt.types.SEQ,input:e},r)}createService(e,r,n){return{type:zt.types.SERVICE,input:e,name:r,silent:Boolean(n)}}createSlice(e,r,n){return r=r||0,n!==void 0?{type:zt.types.SLICE,input:e,start:r,length:n}:{type:zt.types.SLICE,input:e,start:r}}createUnion(e,r=!0){return this.flattenMulti({type:zt.types.UNION,input:e},r)}createValues(e,r){return{type:zt.types.VALUES,variables:e,bindings:r}}createZeroOrMorePath(e){return{type:zt.types.ZERO_OR_MORE_PATH,path:e}}createZeroOrOnePath(e){return{type:zt.types.ZERO_OR_ONE_PATH,path:e}}createAggregateExpression(e,r,n,a){return a?{type:zt.types.EXPRESSION,expressionType:zt.expressionTypes.AGGREGATE,aggregator:e,expression:r,separator:a,distinct:n}:{type:zt.types.EXPRESSION,expressionType:zt.expressionTypes.AGGREGATE,aggregator:e,expression:r,distinct:n}}createExistenceExpression(e,r){return{type:zt.types.EXPRESSION,expressionType:zt.expressionTypes.EXISTENCE,not:e,input:r}}createNamedExpression(e,r){return{type:zt.types.EXPRESSION,expressionType:zt.expressionTypes.NAMED,name:e,args:r}}createOperatorExpression(e,r){return{type:zt.types.EXPRESSION,expressionType:zt.expressionTypes.OPERATOR,operator:e,args:r}}createTermExpression(e){return{type:zt.types.EXPRESSION,expressionType:zt.expressionTypes.TERM,term:e}}createWildcardExpression(){return{type:zt.types.EXPRESSION,expressionType:zt.expressionTypes.WILDCARD,wildcard:new vye.Wildcard}}createTerm(e){return(0,mye.stringToTerm)(e,this.dataFactory)}createCompositeUpdate(e){return{type:zt.types.COMPOSITE_UPDATE,updates:e}}createDeleteInsert(e,r,n){const a={type:zt.types.DELETE_INSERT};return e&&(a.delete=e),r&&(a.insert=r),n&&(a.where=n),a}createLoad(e,r,n){const a={type:zt.types.LOAD,source:e};return r&&(a.destination=r),this.addSilent(a,Boolean(n))}createClear(e,r){return this.addSilent({type:zt.types.CLEAR,source:e},Boolean(r))}createCreate(e,r){return this.addSilent({type:zt.types.CREATE,source:e},Boolean(r))}createDrop(e,r){return this.addSilent({type:zt.types.DROP,source:e},Boolean(r))}createAdd(e,r,n){return this.addSilent({type:zt.types.ADD,source:e,destination:r},Boolean(n))}createMove(e,r,n){return this.addSilent({type:zt.types.MOVE,source:e,destination:r},Boolean(n))}createCopy(e,r,n){return this.addSilent({type:zt.types.COPY,source:e,destination:r},Boolean(n))}addSilent(e,r){return r&&(e.silent=r),e}flattenMulti(e,r){if(!r)return e;const n=e.type,a=e.input;let s=[];for(const o of a)o.type===n?s.push(...o.input):s.push(o);return e.input=s,e}}Nm.default=bye;var rw={},_ye=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rw,"__esModule",{value:!0});const dt=Dm,_7=_ye(Nm),wye=Oa;let Is=class{static flatten(e){return Array.prototype.concat(...e).filter(r=>r)}static objectify(e){if(e.termType){if(e.termType==="Quad")return{type:"pattern",termType:"Quad",subject:Is.objectify(e.subject),predicate:Is.objectify(e.predicate),object:Is.objectify(e.object),graph:Is.objectify(e.graph)};{let r={termType:e.termType,value:e.value};return e.language&&(r.language=e.language),e.datatype&&(r.datatype=Is.objectify(e.datatype)),r}}if(Array.isArray(e))return e.map(r=>Is.objectify(r));if(e===Object(e)){let r={};for(let n of Object.keys(e))r[n]=Is.objectify(e[n]);return r}return e}static inScopeVariables(e){const r=[];function n(s){r.find(o=>s.value===o.value)||r.push(s)}function a(s){s.subject.termType==="Variable"&&n(s.subject),s.predicate.termType==="Variable"&&n(s.predicate),s.object.termType==="Variable"&&n(s.object),s.graph.termType==="Variable"&&n(s.graph),s.subject.termType==="Quad"&&a(s.subject),s.predicate.termType==="Quad"&&a(s.predicate),s.object.termType==="Quad"&&a(s.object),s.graph.termType==="Quad"&&a(s.graph)}return Is.recurseOperation(e,{[dt.types.EXPRESSION]:s=>(s.expressionType===dt.expressionTypes.AGGREGATE&&s.variable&&n(s.variable),!0),[dt.types.EXTEND]:s=>(n(s.variable),!0),[dt.types.GRAPH]:s=>(s.name.termType==="Variable"&&n(s.name),!0),[dt.types.GROUP]:s=>(s.variables.forEach(n),!0),[dt.types.PATH]:s=>(s.subject.termType==="Variable"&&n(s.subject),s.object.termType==="Variable"&&n(s.object),s.graph.termType==="Variable"&&n(s.graph),s.subject.termType==="Quad"&&a(s.subject),s.object.termType==="Quad"&&a(s.object),s.graph.termType==="Quad"&&a(s.graph),!0),[dt.types.PATTERN]:s=>(a(s),!0),[dt.types.PROJECT]:s=>(s.variables.forEach(n),!1),[dt.types.SERVICE]:s=>(s.name.termType==="Variable"&&n(s.name),!0),[dt.types.VALUES]:s=>(s.variables.forEach(n),!0)}),r}static recurseOperation(e,r){let n=e,a=!0;const s=r[e.type];if(s&&(a=s(e)),!a)return;let o=u=>Is.recurseOperation(u,r);switch(n.type){case dt.types.ALT:n.input.map(o);break;case dt.types.ASK:o(n.input);break;case dt.types.BGP:n.patterns.forEach(o);break;case dt.types.CONSTRUCT:o(n.input),n.template.map(o);break;case dt.types.DESCRIBE:o(n.input);break;case dt.types.DISTINCT:o(n.input);break;case dt.types.EXPRESSION:n.expressionType===dt.expressionTypes.EXISTENCE&&o(n.input);break;case dt.types.EXTEND:o(n.input),o(n.expression);break;case dt.types.FILTER:o(n.input),o(n.expression);break;case dt.types.FROM:o(n.input);break;case dt.types.GRAPH:o(n.input);break;case dt.types.GROUP:o(n.input),n.aggregates.forEach(o);break;case dt.types.INV:o(n.path);break;case dt.types.JOIN:n.input.map(o);break;case dt.types.LEFT_JOIN:n.input.map(o),n.expression&&o(n.expression);break;case dt.types.LINK:break;case dt.types.MINUS:n.input.map(o);break;case dt.types.NOP:break;case dt.types.NPS:break;case dt.types.ONE_OR_MORE_PATH:o(n.path);break;case dt.types.ORDER_BY:o(n.input),n.expressions.forEach(o);break;case dt.types.PATH:o(n.predicate);break;case dt.types.PATTERN:break;case dt.types.PROJECT:o(n.input);break;case dt.types.REDUCED:o(n.input);break;case dt.types.SEQ:n.input.map(o);break;case dt.types.SERVICE:o(n.input);break;case dt.types.SLICE:o(n.input);break;case dt.types.UNION:n.input.map(o);break;case dt.types.VALUES:break;case dt.types.ZERO_OR_MORE_PATH:o(n.path);break;case dt.types.ZERO_OR_ONE_PATH:o(n.path);break;case dt.types.COMPOSITE_UPDATE:n.updates.forEach(u=>o(u));break;case dt.types.DELETE_INSERT:n.delete&&n.delete.forEach(u=>o(u)),n.insert&&n.insert.forEach(u=>o(u)),n.where&&o(n.where);break;case dt.types.LOAD:break;case dt.types.CLEAR:break;case dt.types.CREATE:break;case dt.types.DROP:break;case dt.types.ADD:break;case dt.types.MOVE:break;case dt.types.COPY:break;default:throw new Error(`Unknown Operation type ${n.type}`)}}static mapOperation(e,r,n){let a=e,s=!0;n=n||new _7.default;const o=r[e.type];if(o&&({result:a,recurse:s}=o(e,n)),!s)return a;let u=l=>Is.mapOperation(l,r,n);switch(a.type){case dt.types.ALT:return n.createAlt(a.input.map(u));case dt.types.ASK:return n.createAsk(u(a.input));case dt.types.BGP:return n.createBgp(a.patterns.map(u));case dt.types.CONSTRUCT:return n.createConstruct(u(a.input),a.template.map(u));case dt.types.DESCRIBE:return n.createDescribe(u(a.input),a.terms);case dt.types.DISTINCT:return n.createDistinct(u(a.input));case dt.types.EXPRESSION:return Is.mapExpression(a,r,n);case dt.types.EXTEND:return n.createExtend(u(a.input),a.variable,u(a.expression));case dt.types.FILTER:return n.createFilter(u(a.input),u(a.expression));case dt.types.FROM:return n.createFrom(u(a.input),[...a.default],[...a.named]);case dt.types.GRAPH:return n.createGraph(u(a.input),a.name);case dt.types.GROUP:return n.createGroup(u(a.input),[].concat(a.variables),a.aggregates.map(u));case dt.types.INV:return n.createInv(u(a.path));case dt.types.JOIN:return n.createJoin(a.input.map(u));case dt.types.LEFT_JOIN:return n.createLeftJoin(u(a.input[0]),u(a.input[1]),a.expression?u(a.expression):void 0);case dt.types.LINK:return n.createLink(a.iri);case dt.types.MINUS:return n.createMinus(u(a.input[0]),u(a.input[1]));case dt.types.NOP:return n.createNop();case dt.types.NPS:return n.createNps([].concat(a.iris));case dt.types.ONE_OR_MORE_PATH:return n.createOneOrMorePath(u(a.path));case dt.types.ORDER_BY:return n.createOrderBy(u(a.input),a.expressions.map(u));case dt.types.PATH:return n.createPath(a.subject,u(a.predicate),a.object,a.graph);case dt.types.PATTERN:return n.createPattern(a.subject,a.predicate,a.object,a.graph);case dt.types.PROJECT:return n.createProject(u(a.input),[...a.variables]);case dt.types.REDUCED:return n.createReduced(u(a.input));case dt.types.SEQ:return n.createSeq(a.input.map(u));case dt.types.SERVICE:return n.createService(u(a.input),a.name,a.silent);case dt.types.SLICE:return n.createSlice(u(a.input),a.start,a.length);case dt.types.UNION:return n.createUnion(a.input.map(u));case dt.types.VALUES:return n.createValues([].concat(a.variables),a.bindings.map(l=>Object.assign({},l)));case dt.types.ZERO_OR_MORE_PATH:return n.createZeroOrMorePath(u(a.path));case dt.types.ZERO_OR_ONE_PATH:return n.createZeroOrOnePath(u(a.path));case dt.types.COMPOSITE_UPDATE:return n.createCompositeUpdate(a.updates.map(u));case dt.types.DELETE_INSERT:return n.createDeleteInsert(a.delete?a.delete.map(u):void 0,a.insert?a.insert.map(u):void 0,a.where?u(a.where):void 0);case dt.types.LOAD:return n.createLoad(a.source,a.destination,a.silent);case dt.types.CLEAR:return n.createClear(a.source,a.silent);case dt.types.CREATE:return n.createCreate(a.source,a.silent);case dt.types.DROP:return n.createDrop(a.source,a.silent);case dt.types.ADD:return n.createAdd(a.source,a.destination);case dt.types.MOVE:return n.createMove(a.source,a.destination);case dt.types.COPY:return n.createCopy(a.source,a.destination);default:throw new Error(`Unknown Operation type ${a.type}`)}}static mapExpression(e,r,n){let a=e,s=!0;n=n||new _7.default;const o=r[e.expressionType];if(o&&({result:a,recurse:s}=o(e,n)),!s)return a;let u=l=>Is.mapOperation(l,r,n);switch(e.expressionType){case dt.expressionTypes.AGGREGATE:return e.variable?n.createBoundAggregate(e.variable,e.aggregator,u(e.expression),e.distinct,e.separator):n.createAggregateExpression(e.aggregator,u(e.expression),e.distinct,e.separator);case dt.expressionTypes.EXISTENCE:return n.createExistenceExpression(e.not,u(e.input));case dt.expressionTypes.NAMED:return n.createNamedExpression(e.name,e.args.map(u));case dt.expressionTypes.OPERATOR:return n.createOperatorExpression(e.operator,e.args.map(u));case dt.expressionTypes.TERM:return n.createTermExpression(e.term);case dt.expressionTypes.WILDCARD:return n.createWildcardExpression();default:throw new Error(`Unknown Expression type ${e.expressionType}`)}}static cloneOperation(e){return Is.mapOperation(e,{})}static cloneExpression(e){return Is.mapExpression(e,{})}static createUniqueVariable(e,r,n){let a=0,s=e;for(;r[s];)s=`${e}${a++}`;return n.variable(s)}static isSimpleTerm(e){return e.termType!==void 0&&e.termType!=="Quad"&&e.termType!=="Wildcard"}static isQuad(e){return e.termType==="Quad"}static hasQuadVariables(e){return(0,wye.someTermsNested)(e,r=>r.termType==="Variable")}static isWildcard(e){return e.termType==="Wildcard"}};rw.default=Is;var Sye=F&&F.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tye=F&&F.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Eye=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Sye(e,t,r);return Tye(e,t),e},CQ=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J5,"__esModule",{value:!0});const Aye=rye,xye=dn,yb=Eye(Dm),Oye=CQ(Nm),$s=CQ(rw),Rye=tw.Parser,Bs=yb.types;let Ky=new Set,DQ=0,gA=!1,Pt;function Iye(t,e){e=e||{},Pt=new Oye.default(e.dataFactory);let r;if(Pye(t)){let n=new Rye(e);n._resetBlanks(),r=n.parse(t)}else r=t;return NQ(r,e.quads,e.blankToVariable)}J5.default=Iye;function NQ(t,e,r){if(Ky=new Set,DQ=0,gA=Boolean(e),!t.type)return Pt.createNop();if(t.type!=="query"&&t.type!=="update")throw new Error("Translate only works on complete query or update objects.");let n;if(R4(t),t.type==="query"){const a={type:"group",patterns:t.where||[]};n=Vd(a),n=Mye(t,n)}else t.type==="update"&&(n=kye(t));return r&&(n=jQ(n)),n}function Pye(t){return typeof t=="string"}function FQ(t){return Boolean(t==null?void 0:t.termType)}function Cye(t){return t.subject&&t.predicate&&t.object}function __(t){return(t==null?void 0:t.termType)==="Variable"}function R4(t){if(FQ(t))__(t)&&Ky.add(`?${t.value}`);else if(Array.isArray(t))for(const e of t)R4(e);else if(t&&typeof t=="object")for(let e of Object.keys(t))e.startsWith("?")&&Ky.add(e),R4(t[e])}function La(t){let e={};if(Cye(t)){const r=[La(t.subject),La(t.predicate),La(t.object),t.graph?La(t.graph):{}];Object.assign(e,...r)}else if(FQ(t))__(t)&&(e[t.value]=t);else if(t.type==="bgp"){const r=t.triples;Object.assign(e,...r.map(La))}else if(t.type==="path")Object.assign(e,...t.items.map(La));else if(t.type==="group"||t.type==="union"||t.type==="optional")Object.assign(e,...t.patterns.map(La));else if(t.type==="service"||t.type==="graph")Object.assign(e,La(t.name)),Object.assign(e,...t.patterns.map(La));else if(t.type==="bind")Object.assign(e,La(t.variable));else if(t.type==="values"){if(t.values.length>0){const r=Object.keys(t.values[0]).map(n=>Pt.createTerm(n));Object.assign(e,...r.map(La))}}else if(t.type==="query"&&(t.queryType==="SELECT"||t.queryType==="DESCRIBE")){t.where&&t.variables.some($s.default.isWildcard)&&Object.assign(e,...t.where.map(La));for(const r of t.variables)__(r)?Object.assign(e,La(r)):r.variable&&Object.assign(e,La(r.variable));if(t.queryType==="SELECT"){if(t.group)for(const r of t.group)r.variable&&Object.assign(e,La(r.variable));if(t.values){const r={type:"values",values:t.values};Object.assign(e,La(r))}}}return e}function Vd(t){let e=[],r=[];if("patterns"in t)for(let a of t.patterns)(a.type==="filter"?e:r).push(a);if(t.type==="bgp")return Dye(t);let n;if(t.type==="union")n=Pt.createUnion(r.map(a=>(a.type!=="group"&&(a={type:"group",patterns:[a]}),Vd(a))));else{if(t.type==="graph")return Fye(t);if(t.type==="group")n=r.reduce(jye,Pt.createBgp([]));else if(t.type==="values")n=LQ(t);else if(t.type==="query")n=NQ(t,gA,!1);else throw new Error(`Unexpected type: ${t.type}`)}if(e.length>0){let a=e.map(s=>qo(s.expression));a.length>0&&(n=Pt.createFilter(n,a.reduce((s,o)=>Pt.createOperatorExpression("&&",[s,o]))))}return n}function qo(t){if($s.default.isSimpleTerm(t))return Pt.createTermExpression(t);if($s.default.isQuad(t))return $s.default.hasQuadVariables(t)?Pt.createOperatorExpression("triple",[qo(t.subject),qo(t.predicate),qo(t.object)]):Pt.createTermExpression(t);if($s.default.isWildcard(t))return Pt.createWildcardExpression();if("aggregation"in t)return Pt.createAggregateExpression(t.aggregation,qo(t.expression),Boolean(t.distinct),t.separator);if("function"in t)return Pt.createNamedExpression(t.function,t.args.map(qo));if("operator"in t)return t.operator==="exists"||t.operator==="notexists"?Pt.createExistenceExpression(t.operator==="notexists",Vd(t.args[0])):((t.operator==="in"||t.operator==="notin")&&(t.args=[t.args[0]].concat(t.args[1])),Pt.createOperatorExpression(t.operator,t.args.map(qo)));throw new Error(`Unknown expression: ${JSON.stringify(t)}`)}function Dye(t){let e=[],r=[];for(let n of t.triples)if("pathType"in n.predicate){let a=Nye(n);for(let s of a)s.type===Bs.PATH?(e.length>0&&r.push(Pt.createBgp(e)),e=[],r.push(s)):e.push(s)}else e.push(Z5(n));return e.length>0&&r.push(Pt.createBgp(e)),r.length===1?r[0]:Pt.createJoin(r)}function Nye(t){let e=t.subject,r=_p(t.predicate),n=t.object;return I4(e,r,n)}function _p(t){if($s.default.isSimpleTerm(t)){if(t.termType==="NamedNode")return Pt.createLink(t);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(t)}`)}if(t.pathType==="^")return Pt.createInv(_p(t.items[0]));if(t.pathType==="!"){let e=[],r=[],n;"pathType"in t.items[0]&&t.items[0].pathType==="|"?n=t.items[0].items:n=t.items;for(let o of n)if($s.default.isSimpleTerm(o))e.push(o);else if(o.pathType==="^")r.push(o.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(o)}`);let a=Pt.createNps(e),s=Pt.createInv(Pt.createNps(r));return r.length===0?a:e.length===0?s:Pt.createAlt([a,s])}if(t.pathType==="/")return Pt.createSeq(t.items.map(_p));if(t.pathType==="|")return Pt.createAlt(t.items.map(_p));if(t.pathType==="*")return Pt.createZeroOrMorePath(_p(t.items[0]));if(t.pathType==="+")return Pt.createOneOrMorePath(_p(t.items[0]));if(t.pathType==="?")return Pt.createZeroOrOnePath(_p(t.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(t)}`)}function I4(t,e,r){if(e.type===Bs.LINK)return[Pt.createPattern(t,e.iri,r)];if(e.type===Bs.INV)return I4(r,e.path,t);if(e.type===Bs.SEQ){let n=t;return $s.default.flatten(e.input.map((a,s)=>{const o=s===e.input.length-1?r:Xy(),u=I4(n,a,o);return o.termType==="Variable"&&(n=o),u}))}return[Pt.createPath(t,e,r)]}function Xy(){let t=`?var${DQ++}`;return Ky.has(t)?Xy():(Ky.add(t),Pt.createTerm(t))}function Z5(t){if("pathType"in t.predicate)throw new Error("Trying to translate property path to quad.");return Pt.createPattern(t.subject,t.predicate,t.object,t.graph)}function Fye(t){const e={type:"group",patterns:t.patterns};let r=Vd(e);return gA?r=Ip(r,t.name):r=Pt.createGraph(r,t.name),r}let Lye=Object.values(Bs);function Ip(t,e,r){if(t.type===Bs.GRAPH){if(r)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");t=Ip(t.input,t.name)}else if(t.type===Bs.BGP)t.patterns=t.patterns.map(n=>(r&&(n.subject.equals(e)&&(n.subject=r),n.predicate.equals(e)&&(n.predicate=r),n.object.equals(e)&&(n.object=r)),n.graph.termType==="DefaultGraph"&&(n.graph=e),n));else if(t.type===Bs.PATH)r&&(t.subject.equals(e)&&(t.subject=r),t.object.equals(e)&&(t.object=r)),t.graph.termType==="DefaultGraph"&&(t.graph=e);else if(t.type===Bs.PROJECT&&!r)t.variables.some(n=>n.equals(e))||(r=Xy()),t.input=Ip(t.input,e,r);else if(t.type===Bs.EXTEND&&!r)t.variable.equals(e)&&(r=Xy()),t.input=Ip(t.input,e,r);else for(let n of Object.keys(t))Array.isArray(t[n])?t[n]=t[n].map(a=>Ip(a,e,r)):Lye.indexOf(t[n].type)>=0?t[n]=Ip(t[n],e,r):r&&__(t[n])&&t[n].equals(e)&&(t[n]=r);return t}function jye(t,e){if(e.type==="optional"){const r=Vd({type:"group",patterns:e.patterns});r.type===Bs.FILTER?t=Pt.createLeftJoin(t,r.input,r.expression):t=Pt.createLeftJoin(t,r)}else if(e.type==="minus"){const r=Vd({type:"group",patterns:e.patterns});t=Pt.createMinus(t,r)}else if(e.type==="bind")t=Pt.createExtend(t,e.variable,qo(e.expression));else if(e.type==="service"){const r={type:"group",patterns:e.patterns},n=Pt.createService(Vd(r),e.name,e.silent);t=w7(t,n)}else{const r=Vd(e);t=w7(t,r)}return t}function w7(t,e){return t.type===Bs.BGP&&e.type===Bs.BGP?t=Pt.createBgp([...t.patterns,...e.patterns]):t.type===Bs.BGP&&t.patterns.length===0?t=e:e.type===Bs.BGP&&e.patterns.length===0||(t=Pt.createJoin([t,e])),t}function LQ(t){let e=(t.values.length===0?[]:Object.keys(t.values[0])).map(Pt.createTerm.bind(Pt)),r=t.values.map(n=>{let a=Object.keys(n);a=a.filter(o=>n[o]!==void 0);let s={};for(let o of a)s[o]=n[o];return s});return Pt.createValues(e,r)}function Mye(t,e){const r=t,n=[],a={};if(r.variables=r.variables&&r.variables.map(o=>zb(o,a)),r.having=r.having&&r.having.map(o=>zb(o,a)),r.order=r.order&&r.order.map(o=>zb(o,a)),r.group||Object.keys(a).length>0){const o=Object.keys(a).map(l=>Bye(a[l],Pt.createTerm(l))),u=[];if(r.group)for(const l of r.group)if($s.default.isSimpleTerm(l.expression))u.push(l.expression);else{const c="variable"in l?l.variable:Xy();e=Pt.createExtend(e,c,qo(l.expression)),u.push(c)}e=Pt.createGroup(e,u,o)}if(r.having)for(let o of r.having)e=Pt.createFilter(e,qo(o));t.values&&(e=Pt.createJoin([e,LQ(t)]));let s=[];if(t.queryType==="SELECT"||t.queryType==="DESCRIBE")if(t.variables.some(o=>o&&$s.default.isWildcard(o)))s=Object.values(La(t)).sort((o,u)=>o.value.localeCompare(u.value));else for(let o of t.variables)__(o)||!("variable"in o)?s.push(o):o.variable&&(s.push(o.variable),n.push(o));for(let o of n)e=Pt.createExtend(e,o.variable,qo(o.expression));return r.order&&(e=Pt.createOrderBy(e,r.order.map(o=>{let u=qo(o.expression);return o.descending&&(u=Pt.createOperatorExpression("desc",[u])),u}))),t.queryType==="SELECT"&&(e=Pt.createProject(e,s)),r.distinct&&(e=Pt.createDistinct(e)),r.reduced&&(e=Pt.createReduced(e)),t.queryType==="CONSTRUCT"?e=Pt.createConstruct(e,(t.template||[]).map(Z5)):t.queryType==="ASK"?e=Pt.createAsk(e):t.queryType==="DESCRIBE"&&(e=Pt.createDescribe(e,s)),(r.offset||r.limit)&&(e=Pt.createSlice(e,r.offset||0,r.limit)),r.from&&(e=Pt.createFrom(e,r.from.default,r.from.named)),e}function zb(t,e){if("type"in t&&t.type==="aggregate"){let r=!1,n;for(let a of Object.keys(e))if(Aye(e[a],t)){n=Pt.createTerm(a),r=!0;break}return r||(n=Xy(),e[(0,xye.termToString)(n)]=t),n}return"expression"in t&&t.expression?{...t,expression:zb(t.expression,e)}:"args"in t&&t.args?{...t,args:t.args.map(r=>zb(r,e))}:t}function Bye(t,e){if(t.type!=="aggregate"||!t.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(t)}`);const r=qo(t);return r.variable=e,r}function kye(t){return t.updates.length===1?S7(t.updates[0]):Pt.createCompositeUpdate(t.updates.map(S7))}function S7(t){if("type"in t){if(t.type==="load")return Vye(t);if(t.type==="clear"||t.type==="create"||t.type==="drop")return Uye(t);if(t.type==="add"||t.type==="copy"||t.type==="move")return Hye(t)}else if(t.updateType==="insertdelete"||t.updateType==="deletewhere"||t.updateType==="delete"||t.updateType==="insert")return $ye(t);throw new Error(`Unknown update type ${JSON.stringify(t)}`)}function $ye(t){if(!gA)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let e=[],r=[],n;if(t.delete&&(e=$s.default.flatten(t.delete.map(a=>T7(a,t.graph)))),t.insert&&(r=$s.default.flatten(t.insert.map(a=>T7(a,t.graph)))),t.where&&t.where.length>0){n=Vd({type:"group",patterns:t.where});const a=t.using;a?n=Pt.createFrom(n,a.default,a.named):t.graph&&(n=Ip(n,t.graph))}else t.updateType==="deletewhere"&&e.length>0&&(n=Pt.createBgp(e));return Pt.createDeleteInsert(e.length>0?e:void 0,r.length>0?r:void 0,n)}function T7(t,e){let r=e;t.type==="graph"&&(r=t.name);let n=t.triples;return r&&(n=n.map(a=>Object.assign(a,{graph:r}))),n.map(Z5)}function Uye(t){let e;switch($s.default.isSimpleTerm(t.graph)?e=t.graph:t.graph.all?e="ALL":t.graph.default?e="DEFAULT":t.graph.named?e="NAMED":e=t.graph.name,t.type){case"clear":return Pt.createClear(e,t.silent);case"create":return Pt.createCreate(e,t.silent);case"drop":return Pt.createDrop(e,t.silent)}}function Vye(t){return Pt.createLoad(t.source,t.destination,t.silent)}function Hye(t){const e=t.source.default?"DEFAULT":t.source.name,r=t.destination.default?"DEFAULT":t.destination.name;switch(t.type){case"copy":return Pt.createCopy(e,r,t.silent);case"move":return Pt.createMove(e,r,t.silent);case"add":return Pt.createAdd(e,r,t.silent)}}function jQ(t){const e={},r=Array.from(Ky).reduce((a,s)=>(a[s]=!0,a),{});return $s.default.mapOperation(t,{[yb.types.DELETE_INSERT]:a=>({result:a,recurse:!1}),[yb.types.PATH]:(a,s)=>({result:s.createPath(n(a.subject),a.predicate,n(a.object),n(a.graph)),recurse:!1}),[yb.types.PATTERN]:(a,s)=>({result:s.createPattern(n(a.subject),n(a.predicate),n(a.object),n(a.graph)),recurse:!1}),[yb.types.CONSTRUCT]:a=>({result:Pt.createConstruct(jQ(a.input),a.template),recurse:!1})});function n(a){if(a.termType==="BlankNode"){let s=e[a.value];return s||(s=$s.default.createUniqueVariable(a.value,r,Pt.dataFactory),r[s.value]=!0,e[a.value]=s),s}return a}}var Jy={},MQ={},Br={},yA={},$r={},nw=BQ;function BQ(t,e){if(!t)throw new Error(e||"Assertion failed")}BQ.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Dh={},E7={get exports(){return Dh},set exports(t){Dh=t}};typeof Object.create=="function"?E7.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:E7.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var qye=nw,zye=Dh;$r.inherits=zye;function Gye(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Qye(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),a=0;a<t.length;a+=2)r.push(parseInt(t[a]+t[a+1],16))}else for(var n=0,a=0;a<t.length;a++){var s=t.charCodeAt(a);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):Gye(t,a)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++a)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(a=0;a<t.length;a++)r[a]=t[a]|0;return r}$r.toArray=Qye;function Wye(t){for(var e="",r=0;r<t.length;r++)e+=$Q(t[r].toString(16));return e}$r.toHex=Wye;function kQ(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}$r.htonl=kQ;function Kye(t,e){for(var r="",n=0;n<t.length;n++){var a=t[n];e==="little"&&(a=kQ(a)),r+=UQ(a.toString(16))}return r}$r.toHex32=Kye;function $Q(t){return t.length===1?"0"+t:t}$r.zero2=$Q;function UQ(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}$r.zero8=UQ;function Xye(t,e,r,n){var a=r-e;qye(a%4===0);for(var s=new Array(a/4),o=0,u=e;o<s.length;o++,u+=4){var l;n==="big"?l=t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:l=t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[o]=l>>>0}return s}$r.join32=Xye;function Jye(t,e){for(var r=new Array(t.length*4),n=0,a=0;n<t.length;n++,a+=4){var s=t[n];e==="big"?(r[a]=s>>>24,r[a+1]=s>>>16&255,r[a+2]=s>>>8&255,r[a+3]=s&255):(r[a+3]=s>>>24,r[a+2]=s>>>16&255,r[a+1]=s>>>8&255,r[a]=s&255)}return r}$r.split32=Jye;function Yye(t,e){return t>>>e|t<<32-e}$r.rotr32=Yye;function Zye(t,e){return t<<e|t>>>32-e}$r.rotl32=Zye;function eme(t,e){return t+e>>>0}$r.sum32=eme;function tme(t,e,r){return t+e+r>>>0}$r.sum32_3=tme;function rme(t,e,r,n){return t+e+r+n>>>0}$r.sum32_4=rme;function nme(t,e,r,n,a){return t+e+r+n+a>>>0}$r.sum32_5=nme;function ime(t,e,r,n){var a=t[e],s=t[e+1],o=n+s>>>0,u=(o<n?1:0)+r+a;t[e]=u>>>0,t[e+1]=o}$r.sum64=ime;function ame(t,e,r,n){var a=e+n>>>0,s=(a<e?1:0)+t+r;return s>>>0}$r.sum64_hi=ame;function sme(t,e,r,n){var a=e+n;return a>>>0}$r.sum64_lo=sme;function ome(t,e,r,n,a,s,o,u){var l=0,c=e;c=c+n>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+u>>>0,l+=c<u?1:0;var d=t+r+a+o+l;return d>>>0}$r.sum64_4_hi=ome;function ume(t,e,r,n,a,s,o,u){var l=e+n+s+u;return l>>>0}$r.sum64_4_lo=ume;function lme(t,e,r,n,a,s,o,u,l,c){var d=0,f=e;f=f+n>>>0,d+=f<e?1:0,f=f+s>>>0,d+=f<s?1:0,f=f+u>>>0,d+=f<u?1:0,f=f+c>>>0,d+=f<c?1:0;var h=t+r+a+o+l+d;return h>>>0}$r.sum64_5_hi=lme;function cme(t,e,r,n,a,s,o,u,l,c){var d=e+n+s+u+c;return d>>>0}$r.sum64_5_lo=cme;function dme(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}$r.rotr64_hi=dme;function fme(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}$r.rotr64_lo=fme;function hme(t,e,r){return t>>>r}$r.shr64_hi=hme;function pme(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}$r.shr64_lo=pme;var Fm={},A7=$r,gme=nw;function mA(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Fm.BlockHash=mA;mA.prototype.update=function(e,r){if(e=A7.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=A7.join32(e,0,e.length-n,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this};mA.prototype.digest=function(e){return this.update(this._pad()),gme(this.pending===null),this._digest(e)};mA.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,a=new Array(n+this.padLength);a[0]=128;for(var s=1;s<n;s++)a[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)a[s++]=0;a[s++]=0,a[s++]=0,a[s++]=0,a[s++]=0,a[s++]=e>>>24&255,a[s++]=e>>>16&255,a[s++]=e>>>8&255,a[s++]=e&255}else for(a[s++]=e&255,a[s++]=e>>>8&255,a[s++]=e>>>16&255,a[s++]=e>>>24&255,a[s++]=0,a[s++]=0,a[s++]=0,a[s++]=0,o=8;o<this.padLength;o++)a[s++]=0;return a};var Lm={},ed={},yme=$r,Bc=yme.rotr32;function mme(t,e,r,n){if(t===0)return VQ(e,r,n);if(t===1||t===3)return qQ(e,r,n);if(t===2)return HQ(e,r,n)}ed.ft_1=mme;function VQ(t,e,r){return t&e^~t&r}ed.ch32=VQ;function HQ(t,e,r){return t&e^t&r^e&r}ed.maj32=HQ;function qQ(t,e,r){return t^e^r}ed.p32=qQ;function vme(t){return Bc(t,2)^Bc(t,13)^Bc(t,22)}ed.s0_256=vme;function bme(t){return Bc(t,6)^Bc(t,11)^Bc(t,25)}ed.s1_256=bme;function _me(t){return Bc(t,7)^Bc(t,18)^t>>>3}ed.g0_256=_me;function wme(t){return Bc(t,17)^Bc(t,19)^t>>>10}ed.g1_256=wme;var Yy=$r,Sme=Fm,Tme=ed,eD=Yy.rotl32,Ev=Yy.sum32,Eme=Yy.sum32_5,Ame=Tme.ft_1,zQ=Sme.BlockHash,xme=[1518500249,1859775393,2400959708,3395469782];function Wc(){if(!(this instanceof Wc))return new Wc;zQ.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Yy.inherits(Wc,zQ);var Ome=Wc;Wc.blockSize=512;Wc.outSize=160;Wc.hmacStrength=80;Wc.padLength=64;Wc.prototype._update=function(e,r){for(var n=this.W,a=0;a<16;a++)n[a]=e[r+a];for(;a<n.length;a++)n[a]=eD(n[a-3]^n[a-8]^n[a-14]^n[a-16],1);var s=this.h[0],o=this.h[1],u=this.h[2],l=this.h[3],c=this.h[4];for(a=0;a<n.length;a++){var d=~~(a/20),f=Eme(eD(s,5),Ame(d,o,u,l),c,n[a],xme[d]);c=l,l=u,u=eD(o,30),o=s,s=f}this.h[0]=Ev(this.h[0],s),this.h[1]=Ev(this.h[1],o),this.h[2]=Ev(this.h[2],u),this.h[3]=Ev(this.h[3],l),this.h[4]=Ev(this.h[4],c)};Wc.prototype._digest=function(e){return e==="hex"?Yy.toHex32(this.h,"big"):Yy.split32(this.h,"big")};var Zy=$r,Rme=Fm,jm=ed,Ime=nw,Uu=Zy.sum32,Pme=Zy.sum32_4,Cme=Zy.sum32_5,Dme=jm.ch32,Nme=jm.maj32,Fme=jm.s0_256,Lme=jm.s1_256,jme=jm.g0_256,Mme=jm.g1_256,GQ=Rme.BlockHash,Bme=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Kc(){if(!(this instanceof Kc))return new Kc;GQ.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Bme,this.W=new Array(64)}Zy.inherits(Kc,GQ);var QQ=Kc;Kc.blockSize=512;Kc.outSize=256;Kc.hmacStrength=192;Kc.padLength=64;Kc.prototype._update=function(e,r){for(var n=this.W,a=0;a<16;a++)n[a]=e[r+a];for(;a<n.length;a++)n[a]=Pme(Mme(n[a-2]),n[a-7],jme(n[a-15]),n[a-16]);var s=this.h[0],o=this.h[1],u=this.h[2],l=this.h[3],c=this.h[4],d=this.h[5],f=this.h[6],h=this.h[7];for(Ime(this.k.length===n.length),a=0;a<n.length;a++){var p=Cme(h,Lme(c),Dme(c,d,f),this.k[a],n[a]),g=Uu(Fme(s),Nme(s,o,u));h=f,f=d,d=c,c=Uu(l,p),l=u,u=o,o=s,s=Uu(p,g)}this.h[0]=Uu(this.h[0],s),this.h[1]=Uu(this.h[1],o),this.h[2]=Uu(this.h[2],u),this.h[3]=Uu(this.h[3],l),this.h[4]=Uu(this.h[4],c),this.h[5]=Uu(this.h[5],d),this.h[6]=Uu(this.h[6],f),this.h[7]=Uu(this.h[7],h)};Kc.prototype._digest=function(e){return e==="hex"?Zy.toHex32(this.h,"big"):Zy.split32(this.h,"big")};var P4=$r,WQ=QQ;function rf(){if(!(this instanceof rf))return new rf;WQ.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}P4.inherits(rf,WQ);var kme=rf;rf.blockSize=512;rf.outSize=224;rf.hmacStrength=192;rf.padLength=64;rf.prototype._digest=function(e){return e==="hex"?P4.toHex32(this.h.slice(0,7),"big"):P4.split32(this.h.slice(0,7),"big")};var mo=$r,$me=Fm,Ume=nw,kc=mo.rotr64_hi,$c=mo.rotr64_lo,KQ=mo.shr64_hi,XQ=mo.shr64_lo,Pf=mo.sum64,tD=mo.sum64_hi,rD=mo.sum64_lo,Vme=mo.sum64_4_hi,Hme=mo.sum64_4_lo,qme=mo.sum64_5_hi,zme=mo.sum64_5_lo,JQ=$me.BlockHash,Gme=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Fl(){if(!(this instanceof Fl))return new Fl;JQ.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Gme,this.W=new Array(160)}mo.inherits(Fl,JQ);var YQ=Fl;Fl.blockSize=1024;Fl.outSize=512;Fl.hmacStrength=192;Fl.padLength=128;Fl.prototype._prepareBlock=function(e,r){for(var n=this.W,a=0;a<32;a++)n[a]=e[r+a];for(;a<n.length;a+=2){var s=nve(n[a-4],n[a-3]),o=ive(n[a-4],n[a-3]),u=n[a-14],l=n[a-13],c=tve(n[a-30],n[a-29]),d=rve(n[a-30],n[a-29]),f=n[a-32],h=n[a-31];n[a]=Vme(s,o,u,l,c,d,f,h),n[a+1]=Hme(s,o,u,l,c,d,f,h)}};Fl.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,a=this.h[0],s=this.h[1],o=this.h[2],u=this.h[3],l=this.h[4],c=this.h[5],d=this.h[6],f=this.h[7],h=this.h[8],p=this.h[9],g=this.h[10],y=this.h[11],S=this.h[12],v=this.h[13],A=this.h[14],E=this.h[15];Ume(this.k.length===n.length);for(var T=0;T<n.length;T+=2){var R=A,I=E,D=Zme(h,p),M=eve(h,p),N=Qme(h,p,g,y,S),O=Wme(h,p,g,y,S,v),k=this.k[T],Y=this.k[T+1],ne=n[T],q=n[T+1],H=qme(R,I,D,M,N,O,k,Y,ne,q),J=zme(R,I,D,M,N,O,k,Y,ne,q);R=Jme(a,s),I=Yme(a,s),D=Kme(a,s,o,u,l),M=Xme(a,s,o,u,l,c);var se=tD(R,I,D,M),ue=rD(R,I,D,M);A=S,E=v,S=g,v=y,g=h,y=p,h=tD(d,f,H,J),p=rD(f,f,H,J),d=l,f=c,l=o,c=u,o=a,u=s,a=tD(H,J,se,ue),s=rD(H,J,se,ue)}Pf(this.h,0,a,s),Pf(this.h,2,o,u),Pf(this.h,4,l,c),Pf(this.h,6,d,f),Pf(this.h,8,h,p),Pf(this.h,10,g,y),Pf(this.h,12,S,v),Pf(this.h,14,A,E)};Fl.prototype._digest=function(e){return e==="hex"?mo.toHex32(this.h,"big"):mo.split32(this.h,"big")};function Qme(t,e,r,n,a){var s=t&r^~t&a;return s<0&&(s+=4294967296),s}function Wme(t,e,r,n,a,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function Kme(t,e,r,n,a){var s=t&r^t&a^r&a;return s<0&&(s+=4294967296),s}function Xme(t,e,r,n,a,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function Jme(t,e){var r=kc(t,e,28),n=kc(e,t,2),a=kc(e,t,7),s=r^n^a;return s<0&&(s+=4294967296),s}function Yme(t,e){var r=$c(t,e,28),n=$c(e,t,2),a=$c(e,t,7),s=r^n^a;return s<0&&(s+=4294967296),s}function Zme(t,e){var r=kc(t,e,14),n=kc(t,e,18),a=kc(e,t,9),s=r^n^a;return s<0&&(s+=4294967296),s}function eve(t,e){var r=$c(t,e,14),n=$c(t,e,18),a=$c(e,t,9),s=r^n^a;return s<0&&(s+=4294967296),s}function tve(t,e){var r=kc(t,e,1),n=kc(t,e,8),a=KQ(t,e,7),s=r^n^a;return s<0&&(s+=4294967296),s}function rve(t,e){var r=$c(t,e,1),n=$c(t,e,8),a=XQ(t,e,7),s=r^n^a;return s<0&&(s+=4294967296),s}function nve(t,e){var r=kc(t,e,19),n=kc(e,t,29),a=KQ(t,e,6),s=r^n^a;return s<0&&(s+=4294967296),s}function ive(t,e){var r=$c(t,e,19),n=$c(e,t,29),a=XQ(t,e,6),s=r^n^a;return s<0&&(s+=4294967296),s}var C4=$r,ZQ=YQ;function nf(){if(!(this instanceof nf))return new nf;ZQ.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}C4.inherits(nf,ZQ);var ave=nf;nf.blockSize=1024;nf.outSize=384;nf.hmacStrength=192;nf.padLength=128;nf.prototype._digest=function(e){return e==="hex"?C4.toHex32(this.h.slice(0,12),"big"):C4.split32(this.h.slice(0,12),"big")};Lm.sha1=Ome;Lm.sha224=kme;Lm.sha256=QQ;Lm.sha384=ave;Lm.sha512=YQ;var eW={},m0=$r,sve=Fm,VS=m0.rotl32,x7=m0.sum32,Av=m0.sum32_3,O7=m0.sum32_4,tW=sve.BlockHash;function Xc(){if(!(this instanceof Xc))return new Xc;tW.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}m0.inherits(Xc,tW);eW.ripemd160=Xc;Xc.blockSize=512;Xc.outSize=160;Xc.hmacStrength=192;Xc.padLength=64;Xc.prototype._update=function(e,r){for(var n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4],l=n,c=a,d=s,f=o,h=u,p=0;p<80;p++){var g=x7(VS(O7(n,R7(p,a,s,o),e[lve[p]+r],ove(p)),dve[p]),u);n=u,u=o,o=VS(s,10),s=a,a=g,g=x7(VS(O7(l,R7(79-p,c,d,f),e[cve[p]+r],uve(p)),fve[p]),h),l=h,h=f,f=VS(d,10),d=c,c=g}g=Av(this.h[1],s,f),this.h[1]=Av(this.h[2],o,h),this.h[2]=Av(this.h[3],u,l),this.h[3]=Av(this.h[4],n,c),this.h[4]=Av(this.h[0],a,d),this.h[0]=g};Xc.prototype._digest=function(e){return e==="hex"?m0.toHex32(this.h,"little"):m0.split32(this.h,"little")};function R7(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function ove(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function uve(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var lve=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],cve=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],dve=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],fve=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hve=$r,pve=nw;function em(t,e,r){if(!(this instanceof em))return new em(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(hve.toArray(e,r))}var gve=em;em.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),pve(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};em.prototype.update=function(e,r){return this.inner.update(e,r),this};em.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=$r,e.common=Fm,e.sha=Lm,e.ripemd=eW,e.hmac=gve,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(yA);Object.defineProperty(Br,"__esModule",{value:!0});Br.isTermGrounded=Br.termToSignature=Br.quadToSignature=Br.sha1hex=Br.hashTerm=Br.hashTerms=Br.getGraphBlankNodes=Br.uniqGraph=Br.deindexGraph=Br.indexGraph=Br.getQuadsWithoutBlankNodes=Br.getQuadsWithBlankNodes=Br.hasValue=Br.hashValues=Br.getBijectionInner=Br.getBijection=Br.isomorphic=void 0;const yve=yA,El=dn,Uc=Oa;function mve(t,e){return!!rW(t,e)}Br.isomorphic=mve;function rW(t,e){const r=XT(N4(t)),n=XT(N4(e));if(Object.keys(r).length!==Object.keys(n).length)return null;for(const l in r)if(r[l]!==n[l])return null;const a=F4(D4(t)),s=F4(D4(e)),o=L4(t),u=L4(e);return e8(a,s,o,u)}Br.getBijection=rW;function e8(t,e,r,n,a,s){a||(a={}),s||(s={});const[o,u]=j4(t,r,a),[l,c]=j4(e,n,s);if(Object.keys(o).length!==Object.keys(l).length)return null;for(const f in o)if(!iW(l,o[f]))return null;let d={};for(const f of r){const h=El.termToString(f),p=u[h];for(const g in c)if(c[g]===p){d[h]=g,delete c[g];break}}if(!I7(Object.keys(d).sort(),r.map(El.termToString).sort())||!I7(nW(d).sort(),n.map(El.termToString).sort())){d=null;for(const f of r){const h=El.termToString(f);if(!o[h])for(const p of n){const g=El.termToString(p);if(!l[g]&&u[h]===c[g]){const y=t8(h);d=e8(t,e,r,n,Object.assign(Object.assign({},o),{[h]:y}),Object.assign(Object.assign({},l),{[g]:y}))}}}}return d}Br.getBijectionInner=e8;function I7(t,e){if(t.length!==e.length)return!1;for(let r=t.length;r--;)if(t[r]!==e[r])return!1;return!0}function nW(t){const e=[];for(const r in t)e.push(t[r]);return e}Br.hashValues=nW;function iW(t,e){for(const r in t)if(t[r]===e)return!0;return!1}Br.hasValue=iW;function D4(t){return t.filter(e=>Uc.someTerms(e,r=>r.termType==="BlankNode"||r.termType==="Quad"&&Uc.getTermsNested(r).some(n=>n.termType==="BlankNode")))}Br.getQuadsWithBlankNodes=D4;function N4(t){return t.filter(e=>Uc.everyTerms(e,r=>r.termType!=="BlankNode"&&!(r.termType==="Quad"&&Uc.getTermsNested(r).some(n=>n.termType==="BlankNode"))))}Br.getQuadsWithoutBlankNodes=N4;function XT(t){const e={};for(const r of t)e[JSON.stringify(El.quadToStringQuad(r))]=!0;return e}Br.indexGraph=XT;function aW(t){return Object.keys(t).map(e=>El.stringQuadToQuad(JSON.parse(e)))}Br.deindexGraph=aW;function F4(t){return aW(XT(t))}Br.uniqGraph=F4;function L4(t){return Uc.uniqTerms(t.map(e=>Uc.getBlankNodes(Uc.getTermsNested(e))).reduce((e,r)=>e.concat(r),[]))}Br.getGraphBlankNodes=L4;function j4(t,e,r){const n=Object.assign({},r),a={};let s=!0;for(;s;){const o=Object.keys(n).length;for(const l of e){const c=El.termToString(l);if(!n[c]){const[d,f]=sW(l,t,n);d&&(n[c]=f),a[c]=f}}const u={};for(const l in a){const c=a[l];u[c]===void 0?u[c]=l:u[c]=!1}for(const l in u){const c=u[l];c&&(n[c]=l)}s=o!==Object.keys(n).length}return[n,a]}Br.hashTerms=j4;function sW(t,e,r){const n=[];let a=!0;for(const o of e){const u=Uc.getTermsNested(o);if(u.some(l=>l.equals(t))){n.push(r8(o,r,t));for(const l of u)!n8(l,r)&&!l.equals(t)&&(a=!1)}}const s=t8(n.sort().join(""));return[a,s]}Br.hashTerm=sW;function t8(t){return yve.sha1().update(t).digest("hex")}Br.sha1hex=t8;function r8(t,e,r){return Uc.getTerms(t).map(n=>oW(n,e,r)).join("|")}Br.quadToSignature=r8;function oW(t,e,r){return t.equals(r)?"@self":t.termType==="BlankNode"?e[El.termToString(t)]||"@blank":t.termType==="Quad"?`<${r8(t,e,r)}>`:El.termToString(t)}Br.termToSignature=oW;function n8(t,e){return t.termType!=="BlankNode"&&!(t.termType==="Quad"&&Uc.getTermsNested(t).some(r=>!n8(r,e)))||!!e[El.termToString(t)]}Br.isTermGrounded=n8;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Br,t)})(MQ);var vve=F&&F.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bve=F&&F.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_ve=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vve(e,t,r);return bve(e,t),e},uW=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.toSparqlJs=Jy.toSparql=void 0;const wve=MQ,Sve=dn,lW=tw,cW=_ve(Dm),Tve=uW(Nm),qs=uW(rw),Gt=cW.types,vg=cW.expressionTypes;let ui;const JT=new Tve.default;function Eve(t,e={}){return new lW.Generator(e).stringify(dW(t))}Jy.toSparql=Eve;function dW(t){fW(),t=hbe(t);let e=ii(t);return e.type==="group"?e.patterns[0]:e}Jy.toSparqlJs=dW;function fW(){ui={project:!1,extend:[],group:[],aggregates:[],order:[]}}function ii(t){switch(t.type!==Gt.EXTEND&&t.type!==Gt.ORDER_BY&&t.type!==Gt.GRAPH&&(ui.project=!1),t.type){case Gt.EXPRESSION:return Jc(t);case Gt.ASK:return nD(t,Gt.ASK);case Gt.BGP:return Dve(t);case Gt.CONSTRUCT:return Nve(t);case Gt.DESCRIBE:return nD(t,Gt.DESCRIBE);case Gt.DISTINCT:return Fve(t);case Gt.EXTEND:return Lve(t);case Gt.FROM:return jve(t);case Gt.FILTER:return Mve(t);case Gt.GRAPH:return Bve(t);case Gt.GROUP:return kve(t);case Gt.JOIN:return $ve(t);case Gt.LEFT_JOIN:return Uve(t);case Gt.MINUS:return Vve(t);case Gt.NOP:return{};case Gt.ORDER_BY:return Hve(t);case Gt.PATH:return qve(t);case Gt.PATTERN:return w_(t);case Gt.PROJECT:return nD(t,Gt.PROJECT);case Gt.REDUCED:return zve(t);case Gt.SERVICE:return Gve(t);case Gt.SLICE:return Qve(t);case Gt.UNION:return Wve(t);case Gt.VALUES:return Kve(t);case Gt.COMPOSITE_UPDATE:return ibe(t);case Gt.DELETE_INSERT:return abe(t);case Gt.LOAD:return sbe(t);case Gt.CLEAR:return obe(t);case Gt.CREATE:return ube(t);case Gt.DROP:return lbe(t);case Gt.ADD:return cbe(t);case Gt.MOVE:return dbe(t);case Gt.COPY:return fbe(t)}throw new Error(`Unknown Operation type ${t.type}`)}function Jc(t){switch(t.expressionType){case vg.AGGREGATE:return Ave(t);case vg.EXISTENCE:return xve(t);case vg.NAMED:return Ove(t);case vg.OPERATOR:return Rve(t);case vg.TERM:return Ive(t);case vg.WILDCARD:return Pve(t)}throw new Error(`Unknown Expression Operation type ${t.expressionType}`)}function M0(t){switch(t.type){case Gt.ALT:return Xve(t);case Gt.INV:return Jve(t);case Gt.LINK:return Yve(t);case Gt.NPS:return Zve(t);case Gt.ONE_OR_MORE_PATH:return ebe(t);case Gt.SEQ:return tbe(t);case Gt.ZERO_OR_MORE_PATH:return rbe(t);case Gt.ZERO_OR_ONE_PATH:return nbe(t)}throw new Error(`Unknown Path type ${t.type}`)}function Ug(t){return(0,Sve.termToString)(t)}function Ave(t){const e={expression:Jc(t.expression),type:"aggregate",aggregation:t.aggregator,distinct:t.distinct};return t.separator&&(e.separator=t.separator),e}function xve(t){return{type:"operation",operator:t.not?"notexists":"exists",args:qs.default.flatten([ii(t.input)])}}function Ove(t){return{type:"functionCall",function:t.name,args:t.args.map(Jc)}}function Rve(t){if(t.operator==="desc"){const r={expression:Jc(t.args[0])};return r.descending=!0,r}const e={type:"operation",operator:t.operator,args:t.args.map(Jc)};return(e.operator==="in"||e.operator==="notin")&&(e.args=[e.args[0]].concat([e.args.slice(1)])),e}function Ive(t){return t.term}function Pve(t){return t.wildcard}function Cve(t){return t}function Dve(t){let e=t.patterns.map(w_);return e.length===0?null:{type:"bgp",triples:e}}function Nve(t){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:t.template.map(w_),where:qs.default.flatten([ii(t.input)])}}function Fve(t){let e=ii(t.input);return e.patterns[0].distinct=!0,e}function Lve(t){return ui.project?(ui.extend.push(t),ii(t.input)):qs.default.flatten([ii(t.input),{type:"bind",variable:t.variable,expression:Jc(t.expression)}])}function jve(t){const e=ii(t.input),r=e.patterns[0];return r.from={default:t.default,named:t.named},e}function Mve(t){return{type:"group",patterns:qs.default.flatten([ii(t.input),{type:"filter",expression:Jc(t.expression)}])}}function Bve(t){return{type:"graph",patterns:qs.default.flatten([ii(t.input)]),name:t.name}}function kve(t){const e=ii(t.input),r=t.aggregates.map(Cve);return ui.aggregates.push(...r),ui.group.push(...t.variables),e}function $ve(t){return qs.default.flatten(t.input.map(ii)).reduce((r,n)=>(n.type!=="bgp"||r.length==0||r[r.length-1].type!=="bgp"?r.push(n):r[r.length-1].triples.push(...n.triples),r),[])}function Uve(t){const e={type:"optional",patterns:[ii(t.input[1])]};return t.expression&&e.patterns.push({type:"filter",expression:Jc(t.expression)}),e.patterns=qs.default.flatten(e.patterns),qs.default.flatten([ii(t.input[0]),e])}function Vve(t){let e=ii(t.input[1]);return e.type==="group"&&(e=e.patterns),Array.isArray(e)||(e=[e]),qs.default.flatten([ii(t.input[0]),{type:"minus",patterns:e}])}function Hve(t){return ui.order.push(...t.expressions),ii(t.input)}function qve(t){return{type:"bgp",triples:[{subject:t.subject,predicate:M0(t.predicate),object:t.object}]}}function w_(t){return{subject:t.subject,predicate:t.predicate,object:t.object}}function YT(t,e){let r=qs.default.isSimpleTerm(t)?Ug(t):t;if(typeof r=="string"){if(e[r])return e[r]}else if(Array.isArray(t))t=t.map(n=>YT(n,e));else for(let n of Object.keys(t))t[n]=YT(t[n],e);return t}function nD(t,e){const r={type:"query",prefixes:{}},n=r;let a;e===Gt.PROJECT?(r.queryType="SELECT",a=t.variables):e===Gt.ASK?r.queryType="ASK":e===Gt.DESCRIBE&&(r.queryType="DESCRIBE",a=t.terms);const s=ui.extend,o=ui.group,u=ui.aggregates,l=ui.order;fW(),ui.project=!0;let c=qs.default.flatten([ii(t.input)]);c.length===1&&c[0].type==="group"&&(c=c[0].patterns),r.where=c;let d={};for(let h of ui.aggregates)d[Ug(h.variable)]=Jc(h);let f={};for(let h=ui.extend.length-1;h>=0;--h){let p=ui.extend[h];f[Ug(p.variable)]=YT(Jc(p.expression),d)}if(ui.group.length>0&&(n.group=ui.group.map(h=>{let p=Ug(h);if(f[p]){let g=f[p];return delete f[p],{variable:h,expression:g}}return{expression:h}})),ui.order.length>0&&(n.order=ui.order.map(ii).map(h=>h.descending?h:{expression:h})),a&&(n.variables=a.map(h=>{let p=Ug(h);return f[p]?{variable:h,expression:f[p]}:h}),n.variables.length===0&&(n.variables=[new lW.Wildcard])),r.where.length>0&&r.where[r.where.length-1].type==="filter"){const h=r.where[r.where.length-1];M4(h,Object.keys(d))&&(n.having=qs.default.flatten([YT(h.expression,d)]),r.where.splice(-1))}return ui.extend=s,ui.group=o,ui.aggregates=u,ui.order=l,{type:"group",patterns:[n]}}function M4(t,e){return qs.default.isSimpleTerm(t)?e.indexOf(Ug(t))>=0:Array.isArray(t)?t.some(r=>M4(r,e)):t===Object(t)?Object.keys(t).some(r=>M4(t[r],e)):e.indexOf(t)>=0}function zve(t){let e=ii(t.input);return e.patterns[0].reduced=!0,e}function Gve(t){let e=ii(t.input);return e.type==="group"&&(e=e.patterns),Array.isArray(e)||(e=[e]),{type:"service",name:t.name,silent:t.silent,patterns:e}}function Qve(t){let e=ii(t.input),r=e;return e.type&&e.type==="group"&&(r=e.patterns[0]),t.start!==0&&(r.offset=t.start),t.length!==void 0&&(r.limit=t.length),e}function Wve(t){return{type:"union",patterns:qs.default.flatten(t.input.map(ii))}}function Kve(t){return{type:"values",values:t.bindings.map(e=>{let r={};for(let n of t.variables){let a=`?${n.value}`;e[a]?r[a]=e[a]:r[a]=void 0}return r})}}function Xve(t){const e=t.input.map(M0);return e.every(r=>"pathType"in r&&r.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:qs.default.flatten(e.map(r=>r.items))}]}:{type:"path",pathType:"|",items:e}}function Jve(t){if(t.path.type===Gt.NPS){const e=t.path.iris.map(r=>({type:"path",pathType:"^",items:[r]}));return e.length<=1?{type:"path",pathType:"!",items:e}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e}]}}return{type:"path",pathType:"^",items:[M0(t.path)]}}function Yve(t){return t.iri}function Zve(t){return t.iris.length<=1?{type:"path",pathType:"!",items:t.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:t.iris}]}}function ebe(t){return{type:"path",pathType:"+",items:[M0(t.path)]}}function tbe(t){return{type:"path",pathType:"/",items:t.input.map(M0)}}function rbe(t){return{type:"path",pathType:"*",items:[M0(t.path)]}}function nbe(t){return{type:"path",pathType:"?",items:[M0(t.path)]}}function ibe(t){const e=t.updates.map(r=>ii(r).updates[0]);return{prefixes:{},type:"update",updates:e}}function abe(t){var e;let r=t.where,n;if(r&&r.type===Gt.FROM){let s=r;r=s.input,n={default:s.default,named:s.named}}const a=[{updateType:"insertdelete",delete:P7(t.delete||[]),insert:P7(t.insert||[])}];if(n&&(a[0].using=n),!r||r.type===Gt.BGP&&r.patterns.length===0)a[0].where=[];else{const s={};let o=ii(ZT(r,s));o.type==="group"?a[0].where=o.patterns:a[0].where=[o];const u=Object.keys(s);if(u.length>0){if(u.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");const l=(e=s[u[0]])===null||e===void 0?void 0:e.graph;l&&l.value!==""&&(a[0].where=[{type:"graph",patterns:a[0].where,name:l}])}}return!t.delete&&!t.where?(a[0].updateType="insert",delete a[0].delete,delete a[0].where):!t.insert&&!t.where?(delete a[0].insert,delete a[0].where,t.delete.some(s=>s.subject.termType==="Variable"||s.predicate.termType==="Variable"||s.object.termType==="Variable")?a[0].updateType="deletewhere":a[0].updateType="delete"):!t.insert&&t.where&&t.where.type==="bgp"&&(0,wve.isomorphic)(t.delete,t.where.patterns)&&(delete a[0].where,a[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:a}}function sbe(t){const e=[{type:"load",silent:Boolean(t.silent),source:t.source}];return t.destination&&(e[0].destination=t.destination),{prefixes:{},type:"update",updates:e}}function obe(t){return i8(t,"clear")}function ube(t){return i8(t,"create")}function lbe(t){return i8(t,"drop")}function i8(t,e){const r=[{type:e,silent:Boolean(t.silent)}];return t.source==="DEFAULT"?r[0].graph={default:!0}:t.source==="NAMED"?r[0].graph={named:!0}:t.source==="ALL"?r[0].graph={all:!0}:r[0].graph={type:"graph",name:t.source},{prefixes:{},type:"update",updates:r}}function cbe(t){return a8(t,"add")}function dbe(t){return a8(t,"move")}function fbe(t){return a8(t,"copy")}function a8(t,e){const r=[{type:e,silent:Boolean(t.silent)}];return r[0].source=t.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:t.source},r[0].destination=t.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:t.destination},{prefixes:{},type:"update",updates:r}}function P7(t){if(!t)return[];const e={};return t.forEach(r=>{const n=r.graph.value;e[n]||(e[n]=[]),e[n].push(r)}),Object.keys(e).map(r=>r===""?{type:"bgp",triples:e[r].map(w_)}:{type:"graph",triples:e[r].map(w_),name:e[r][0].graph})}function hbe(t){return ZT(t,{})}function ZT(t,e){if(Array.isArray(t))return t.map(o=>ZT(o,e));if(!t.type||t.type===Gt.DELETE_INSERT)return t;if((t.type===Gt.PATTERN||t.type===Gt.PATH)&&t.graph)return e[t.graph.value]||(e[t.graph.value]={graph:t.graph,values:[]}),e[t.graph.value].values.push(t),t;const r={},n={},a={};for(let o of Object.keys(t)){const u={};r[o]=ZT(t[o],u);const l=Object.keys(u);if(l.length>1){let c=C7(u[l[0]].values);for(let d=1;d<l.length;++d){const f=C7(u[l[d]].values);c=JT.createJoin([c,f])}return l.map(d=>delete u[d]),c}else if(l.length===1){const c=u[l[0]].graph;n[o]=c,a[c.value]=c}}const s=Object.keys(a);if(s.length>0)if(s.length===1&&t.type!==Gt.PROJECT)e[s[0]]={graph:a[s[0]],values:[r]};else for(let o of Object.keys(n))n[o].value.length>0&&(r[o]=JT.createGraph(r[o],n[o]));return r}function C7(t){const e=JT.createBgp(t),r=t[0].graph;return r.value.length===0?e:JT.createGraph(e,r)}(function(t){var e=F&&F.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var g=Object.getOwnPropertyDescriptor(f,h);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,g)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),r=F&&F.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),n=F&&F.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var h in d)h!=="default"&&Object.prototype.hasOwnProperty.call(d,h)&&e(f,d,h);return r(f,d),f},a=F&&F.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const s=a(J5);t.translate=s.default;const o=n(Dm);t.Algebra=o;const u=a(Nm);t.Factory=u.default;const l=Jy;Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return l.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return l.toSparqlJs}});const c=a(rw);t.Util=c.default})(Cr);Object.defineProperty(y0,"__esModule",{value:!0});y0.materializeOperation=y0.materializeTerm=void 0;const pbe=Qa,bg=dn,D7=Oa,gbe=Cr,ybe=new pbe.BindingsFactory;function nc(t,e){if(t.termType==="Variable"){const r=e.get(t);if(r)return r}return t.termType==="Quad"&&(0,D7.someTermsNested)(t,r=>r.termType==="Variable")?(0,D7.mapTermsNested)(t,r=>nc(r,e)):t}y0.materializeTerm=nc;function B4(t,e,r={}){return r={strictTargetVariables:"strictTargetVariables"in r?r.strictTargetVariables:!1,bindFilter:"bindFilter"in r?r.bindFilter:!0},gbe.Util.mapOperation(t,{path(n,a){return{recurse:!1,result:a.createPath(nc(n.subject,e),n.predicate,nc(n.object,e),nc(n.graph,e))}},pattern(n,a){return{recurse:!1,result:a.createPattern(nc(n.subject,e),nc(n.predicate,e),nc(n.object,e),nc(n.graph,e))}},extend(n){if(e.has(n.variable)){if(r.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,bg.termToString)(n.variable)} in a BIND operator.`);return{recurse:!0,result:B4(n.input,e,r)}}return{recurse:!0,result:n}},group(n,a){if(r.strictTargetVariables){for(const o of n.variables)if(e.has(o))throw new Error(`Tried to bind variable ${(0,bg.termToString)(o)} in a GROUP BY operator.`);return{recurse:!0,result:n}}const s=n.variables.filter(o=>!e.has(o));return{recurse:!0,result:a.createGroup(n.input,s,n.aggregates)}},project(n,a){if(r.strictTargetVariables){for(const u of n.variables)if(e.has(u))throw new Error(`Tried to bind variable ${(0,bg.termToString)(u)} in a SELECT operator.`);return{recurse:!0,result:n}}const s=n.variables.filter(u=>!e.has(u)),o=ybe.bindings(n.variables.map(u=>{const l=e.get(u);if(l)return[u,l]}).filter(u=>Boolean(u)));return{recurse:!1,result:a.createProject(B4(n.input,o,r),s)}},values(n,a){if(r.strictTargetVariables){for(const s of n.variables)if(e.has(s))throw new Error(`Tried to bind variable ${(0,bg.termToString)(s)} in a VALUES operator.`)}else{const s=n.variables.filter(u=>!e.has(u)),o=n.bindings.map(u=>{const l={...u};let c=!0;return e.forEach((d,f)=>{const h=(0,bg.termToString)(f);h in l&&(d.equals(l[h])||(c=!1),delete l[h])}),c?l:void 0}).filter(Boolean);return{recurse:!0,result:a.createValues(s,o)}}return{recurse:!1,result:n}},expression(n,a){if(!r.bindFilter)return{recurse:!1,result:n};if(n.expressionType==="term")return{recurse:!1,result:a.createTermExpression(nc(n.term,e))};if(n.expressionType==="aggregate"&&"variable"in n&&e.has(n.variable)){if(r.strictTargetVariables)throw new Error(`Tried to bind ${(0,bg.termToString)(n.variable)} in a ${n.aggregator} aggregate.`);return{recurse:!0,result:n}}return{recurse:!0,result:n}}})}y0.materializeOperation=B4;Object.defineProperty(Y1,"__esModule",{value:!0});Y1.ActorQueryOperation=void 0;const Cf=cn,mbe=Ut,N7=cA,vbe=y0;let F7=0;class ah extends mbe.Actor{constructor(e){super(e)}static getSafeBindings(e){return ah.validateQueryOutput(e,"bindings"),e}static getSafeQuads(e){return ah.validateQueryOutput(e,"quads"),e}static getSafeBoolean(e){return ah.validateQueryOutput(e,"boolean"),e}static getSafeVoid(e){return ah.validateQueryOutput(e,"void"),e}static cachifyMetadata(e){let r;return()=>(r||(r=e(),r.then(n=>n.state.addInvalidateListener(()=>{r=void 0})).catch(()=>{})),r)}static validateQueryOutput(e,r){if(e.type!==r)throw new Error(`Invalid query output type: Expected '${r}' but got '${e.type}'`)}static getBaseExpressionContext(e){const r=e.get(Cf.KeysInitQuery.queryTimestamp),n=e.get(Cf.KeysInitQuery.baseIRI),a=e.get(Cf.KeysInitQuery.functionArgumentsCache)||{};if(e.has(Cf.KeysInitQuery.extensionFunctionCreator)&&e.has(Cf.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");let s=e.get(Cf.KeysInitQuery.extensionFunctionCreator);const o=e.get(Cf.KeysInitQuery.extensionFunctions);return o&&(s=u=>o[u.value]),{now:r,baseIRI:n,extensionFunctionCreator:s,functionArgumentsCache:a}}static getExpressionContext(e,r){return{...this.getBaseExpressionContext(e),bnode:n=>new N7.BlankNodeBindingsScoped(n||`BNODE_${F7++}`)}}static getAsyncExpressionContext(e,r){return{...this.getBaseExpressionContext(e),bnode:n=>Promise.resolve(new N7.BlankNodeBindingsScoped(n||`BNODE_${F7++}`)),exists:ah.createExistenceResolver(e,r)}}static createExistenceResolver(e,r){return async(n,a)=>{const s=(0,vbe.materializeOperation)(n.input,a),o=await r.mediate({operation:s,context:e}),u=ah.getSafeBindings(o);return new Promise((l,c)=>{u.bindingsStream.on("end",()=>{l(!1)}),u.bindingsStream.on("error",c),u.bindingsStream.on("data",()=>{u.bindingsStream.close(),l(!0)})}).then(l=>n.not?!l:l)}}static throwOnReadOnly(e){if(e.get(Cf.KeysQueryOperation.readOnly))throw new Error("Attempted a write operation in read-only mode")}}Y1.ActorQueryOperation=ah;var iw={};Object.defineProperty(iw,"__esModule",{value:!0});iw.ActorQueryOperationTyped=void 0;const HS=cn,L7=Y1;class bbe extends L7.ActorQueryOperation{constructor(e,r){if(super({...e,operationName:r}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in a query operation action.");if(e.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${e.operation.type}`);const r=e.operation;return this.testOperation(r,e.context)}async run(e){const r=e.context.get(HS.KeysInitQuery.physicalQueryPlanLogger);r&&(r.logOperation(e.operation.type,void 0,e.operation,e.context.get(HS.KeysInitQuery.physicalQueryPlanNode),this.name,{}),e.context=e.context.set(HS.KeysInitQuery.physicalQueryPlanNode,e.operation));const n=e.operation,a=e.context.set(HS.KeysQueryOperation.operation,n),s=await this.runOperation(n,a);return"metadata"in s&&(s.metadata=L7.ActorQueryOperation.cachifyMetadata(s.metadata)),s}}iw.ActorQueryOperationTyped=bbe;var vA={};Object.defineProperty(vA,"__esModule",{value:!0});vA.ActorQueryOperationTypedMediated=void 0;const _be=iw;class wbe extends _be.ActorQueryOperationTyped{constructor(e,r){super(e,r)}}vA.ActorQueryOperationTypedMediated=wbe;var bA={};Object.defineProperty(bA,"__esModule",{value:!0});bA.BusQueryOperation=void 0;const Sbe=Ut;class Tbe extends Sbe.BusIndexed{constructor(e){super({...e,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}}bA.BusQueryOperation=Tbe;var _A={},Gr={},wA={};Object.defineProperty(wA,"__esModule",{value:!0});wA.LinkedList=void 0;class Ebe{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}get empty(){return this._head===null}push(e){const r={value:e,next:null};this._tail===null?this._head=this._tail=r:this._tail.next=this._tail=r,this._length++}shift(){if(this._head===null)return;const{value:e,next:r}=this._head;return this._head=r,r===null&&(this._tail=null),this._length--,e}clear(){this._length=0,this._head=this._tail=null}}wA.LinkedList=Ebe;var SA={};Object.defineProperty(SA,"__esModule",{value:!0});SA.createTaskScheduler=void 0;const Abe=Promise.resolve(void 0);function xbe(){const t=typeof queueMicrotask=="function"?queueMicrotask:a=>Abe.then(a),e=typeof setImmediate=="function"?setImmediate:a=>setTimeout(a,0);let r=0,n=null;return a=>{n!==null?n.push(a):++r<100?t(a):(n=[a],e(()=>{for(const s of n)t(s);n=null,r=0}))}}SA.createTaskScheduler=xbe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isIterator=t.isIterable=t.isSourceExpression=t.isPromise=t.isEventEmitter=t.isFunction=t.range=t.union=t.fromIterable=t.fromIterator=t.fromArray=t.single=t.empty=t.wrap=t.WrappingIterator=t.ClonedIterator=t.UnionIterator=t.MultiTransformIterator=t.SimpleTransformIterator=t.TransformIterator=t.BufferedIterator=t.MappingIterator=t.DESTINATION=t.identity=t.IntegerIterator=t.ArrayIterator=t.SingletonIterator=t.EmptyIterator=t.AsyncIterator=t.DESTROYED=t.ENDED=t.CLOSED=t.CLOSING=t.OPEN=t.INIT=t.setTaskScheduler=t.getTaskScheduler=t.scheduleTask=t.LinkedList=void 0;const e=Cl,r=wA;Object.defineProperty(t,"LinkedList",{enumerable:!0,get:function(){return r.LinkedList}});let a=SA.createTaskScheduler();function s(b){a(b)}t.scheduleTask=s;function o(){return a}t.getTaskScheduler=o;function u(b){a=b}t.setTaskScheduler=u,t.INIT=1<<0,t.OPEN=1<<1,t.CLOSING=1<<2,t.CLOSED=1<<3,t.ENDED=1<<4,t.DESTROYED=1<<5;class l extends e.EventEmitter{constructor(m=t.OPEN){super(),this._readable=!1,this._state=m,this.on("newListener",c)}_changeState(m,C=!1){const B=m>this._state&&this._state<t.ENDED;return B&&(this._state=m,m===t.ENDED&&(C?a(()=>this.emit("end")):this.emit("end"))),B}read(){return null}forEach(m,C){this.on("data",qe(m,C))}close(){this._changeState(t.CLOSED)&&this._endAsync()}destroy(m){this.done||this._destroy(m,C=>{m=m||C,m&&this.emit("error",m),this._end(!0)})}_destroy(m,C){C()}_end(m=!1){this._changeState(m?t.DESTROYED:t.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){a(()=>this._end())}get readable(){return this._readable}set readable(m){m=Boolean(m)&&!this.done,this._readable!==m&&(this._readable=m,m&&a(()=>this.emit("readable")))}get closed(){return this._state>=t.CLOSING}get ended(){return this._state===t.ENDED}get destroyed(){return this._state===t.DESTROYED}get done(){return this._state>=t.ENDED}toString(){const m=this._toStringDetails();return`[${this.constructor.name}${m?` ${m}`:""}]`}_toStringDetails(){return""}toArray(m){const C=[],B=typeof(m==null?void 0:m.limit)=="number"?m.limit:1/0;return this.ended||B<=0?Promise.resolve(C):new Promise((z,Q)=>{const ae=()=>z(C),ce=fe=>{C.push(fe),C.length>=B&&(this.removeListener("error",Q),this.removeListener("data",ce),this.removeListener("end",ae),z(C))};this.on("error",Q),this.on("data",ce),this.on("end",ae)})}getProperty(m,C){const B=this._properties;if(!C)return B&&B[m];if(B&&m in B)a(()=>C(B[m]));else{let z;(z=this._propertyCallbacks)||(this._propertyCallbacks=z=Object.create(null)),m in z?z[m].push(C):z[m]=[C]}}setProperty(m,C){const B=this._properties||(this._properties=Object.create(null));B[m]=C;const z=this._propertyCallbacks||{},Q=z[m];if(Q){delete z[m],a(()=>{for(const ae of Q)ae(C)});for(m in z)return;delete this._propertyCallbacks}}getProperties(){const m=this._properties,C={};for(const B in m)C[B]=m[B];return C}setProperties(m){for(const C in m)this.setProperty(C,m[C])}copyProperties(m,C){for(const B of C)m.getProperty(B,z=>this.setProperty(B,z))}transform(m){return new O(this,m)}map(m,C){return new v(this,qe(m,C))}filter(m,C){return this.map(function(B){return m.call(C||this,B)?B:null})}uniq(m=S){const C=new Set;return this.filter(function(B){const z=m.call(this,B);return C.has(z)?!1:(C.add(z),!0)})}prepend(m){return this.transform({prepend:m})}append(m){return this.transform({append:m})}surround(m,C){return this.transform({prepend:m,append:C})}skip(m){return this.map(C=>m-- >0?null:C)}take(m){return this.transform({limit:m})}range(m,C){return this.transform({offset:m,limit:Math.max(C-m+1,0)})}clone(){return new q(this)}}t.AsyncIterator=l;function c(b){b==="data"&&(this.removeListener("newListener",c),f(this,"readable",d),this.readable&&a(()=>d.call(this)))}function d(){let b;for(;this.listenerCount("data")!==0&&(b=this.read())!==null;)this.emit("data",b);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",d),f(this,"newListener",c))}function f(b,m,C){b.listeners(m).includes(C)||b.on(m,C)}class h extends l{constructor(){super(),this._changeState(t.ENDED,!0)}}t.EmptyIterator=h;class p extends l{constructor(m){super(),this._item=m,m===null?this.close():this.readable=!0}read(){const m=this._item;return this._item=null,this.close(),m}_toStringDetails(){return this._item===null?"":`(${this._item})`}}t.SingletonIterator=p;class g extends l{constructor(m=[],{autoStart:C=!0,preserve:B=!0}={}){super();const z=B||!Array.isArray(m)?[...m]:m;this._index=0,this._sourceStarted=C!==!1,this._truncateThreshold=B?-1:64,this._sourceStarted&&z.length===0?this.close():this._buffer=z,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let m=null;return this._buffer&&(this._index<this._buffer.length&&(m=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),m}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(m,C){delete this._buffer,C()}toArray(m={}){if(!this._buffer)return Promise.resolve([]);const{length:C}=this._buffer,B=this._index,z=typeof m.limit!="number"?C:B+m.limit,Q=this._buffer.slice(B,z);return this._index=z,z>=C&&this.close(),Promise.resolve(Q)}}t.ArrayIterator=g;class y extends l{constructor({start:m=0,step:C=1,end:B}={}){super(),Number.isFinite(m)&&(m=Math.trunc(m)),this._next=m,Number.isFinite(C)&&(C=Math.trunc(C)),this._step=C;const z=C>=0,Q=z?1/0:-1/0;Number.isFinite(B)?B=Math.trunc(B):B!==-Q&&(B=Q),this._last=B,!Number.isFinite(m)||(z?m>B:m<B)?this.close():this.readable=!0}read(){if(this.closed)return null;const m=this._next,C=this._step,B=this._last,z=this._next+=C;return(C>=0?z>B:z<B)&&this.close(),m}_toStringDetails(){return`(${this._next}...${this._last})`}}t.IntegerIterator=y;function S(b){return b}t.identity=S,t.DESTINATION=Symbol("destination");class v extends l{constructor(m,C=S,B={}){super(),this._map=C,this._source=A(m),this._destroySource=B.destroySource!==!1,m.done?this.close():(this._source[t.DESTINATION]=this,this._source.on("end",D),this._source.on("error",I),this._source.on("readable",R),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let m,C;for(;(m=this._source.read())!==null;)if((C=this._map(m))!==null)return C}this.readable=!1,this._source.done&&this.close()}return null}_end(m){this._source.removeListener("end",D),this._source.removeListener("error",I),this._source.removeListener("readable",R),delete this._source[t.DESTINATION],this._destroySource&&this._source.destroy(),super._end(m)}}t.MappingIterator=v;function A(b,m=!1){if(!b||!Te(b.read)||!Te(b.on))throw new TypeError(`Invalid source: ${b}`);if(!m&&b[t.DESTINATION])throw new Error("The source already has a destination");return b}class E extends l{constructor({maxBufferSize:m=4,autoStart:C=!0}={}){super(t.INIT),this._buffer=new r.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=m,a(()=>this._init(C)),this._sourceStarted=C!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(m){m!==1/0&&(m=Number.isFinite(m)?Math.max(Math.trunc(m),1):4),this._maxBufferSize!==m&&(this._maxBufferSize=m,this._state===t.OPEN&&this._fillBuffer())}_init(m){let C=!1;this._reading=!0,this._begin(()=>{if(C)throw new Error("done callback called multiple times");C=!0,this._reading=!1,this._changeState(t.OPEN),m?this._fillBufferAsync():this.readable=!0})}_begin(m){m()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const m=this._buffer;let C;return m.empty?(C=null,this.readable=!1):C=m.shift(),!this._reading&&m.length<this._maxBufferSize&&(this.closed?m.empty&&this._endAsync():this._fillBufferAsync()),C}_read(m,C){C()}_push(m){this.done||(this._pushedCount++,this._buffer.push(m),this.readable=!0)}_fillBuffer(){let m;this._reading||(this.closed?this._completeClose():(m=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(m,()=>{if(!m)throw new Error("done callback called multiple times");m=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,a(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(t.CLOSING):this._completeClose()}_completeClose(){this._changeState(t.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(m,C){this._buffer.clear(),C()}_flush(m){m()}_toStringDetails(){const m=this._buffer;return`{${m.empty?"":`next: ${m.first}, `}buffer: ${m.length}}`}}t.BufferedIterator=E;class T extends E{constructor(m,C=m||{}){super(C),this._boundPush=B=>this._push(B),He(m)||(m=C.source),Oe(m)?this.source=m:m&&(this._createSource=Be(m)?()=>m:m,this._sourceStarted&&this._loadSourceAsync()),this._optional=Boolean(C.optional),this._destroySource=C.destroySource!==!1}get source(){return Te(this._createSource)&&this._loadSourceAsync(),this._source}set source(m){const C=this._source=this._validateSource(m);C[t.DESTINATION]=this,this.done?this._destroySource&&C.destroy():C.done?this.close():(C.on("end",M),C.on("readable",N),C.on("error",I))}_loadSourceAsync(){Te(this._createSource)&&(Promise.resolve(this._createSource()).then(m=>{delete this._createSource,this.source=m,this._fillBuffer()},m=>this.emit("error",m)),this._createSource=null)}_validateSource(m,C=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return A(m,C)}_read(m,C){const B=()=>{this._pushedCount<m&&!this.closed?a(()=>this._readAndTransform(B,C)):C()};this._readAndTransform(B,C)}_readAndTransform(m,C){let B;const z=this.source;!z||z.done||(B=z.read())===null?C():this._optional?this._optionalTransform(B,m):this._transform(B,m,this._boundPush)}_optionalTransform(m,C){const B=this._pushedCount;this._transform(m,()=>{B===this._pushedCount&&this._push(m),C()},this._boundPush)}_transform(m,C,B){B(m),C()}_closeWhenDone(){this.close()}_end(m){const C=this._source;C&&(C.removeListener("end",M),C.removeListener("error",I),C.removeListener("readable",N),delete C[t.DESTINATION],this._destroySource&&C.destroy()),super._end(m)}}t.TransformIterator=T;function R(){this[t.DESTINATION].readable=!0}function I(b){this[t.DESTINATION].emit("error",b)}function D(){this[t.DESTINATION].close()}function M(){this[t.DESTINATION]._closeWhenDone()}function N(){this[t.DESTINATION]._sourceStarted!==!1&&this[t.DESTINATION]._fillBuffer()}class O extends T{constructor(m,C){if(super(m,C),this._offset=0,this._limit=1/0,this._filter=B=>!0,C=C||(He(m)?null:m),C){const B=Te(C)?C:C.transform,{limit:z,offset:Q,filter:ae,map:ce,prepend:fe,append:be}=C;Q===1/0||z===-1/0?this._limit=0:(Number.isFinite(Q)&&(this._offset=Math.max(Math.trunc(Q),0)),Number.isFinite(z)&&(this._limit=Math.max(Math.trunc(z),0)),Te(ae)&&(this._filter=ae),Te(ce)&&(this._map=ce),this._transform=Te(B)?B:null),fe&&(this._prepender=Oe(fe)?fe:ve(fe)),be&&(this._appender=Oe(be)?be:ve(be))}}_read(m,C){const B=()=>this._readAndTransformSimple(m,z,C);this._readAndTransformSimple(m,z,C);function z(){a(B)}}_readAndTransformSimple(m,C,B){let z;const{source:Q}=this;if(!Q||Q.done){B();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<m&&(z=Q.read())!==null;){if(!this._filter(z)||this._offset!==0&&this._offset--)continue;const ae=typeof this._map>"u"?z:this._map(z);if(ae===null)this._optional&&this._push(z);else if(!Te(this._transform))this._push(ae);else{this._optional?this._optionalTransform(ae,C):this._transform(ae,C,this._boundPush);return}--this._limit===0&&this.close()}B()}_begin(m){this._insert(this._prepender,m),delete this._prepender}_flush(m){this._insert(this._appender,m),delete this._appender}_insert(m,C){const B=Q=>this._push(Q);!m||m.done?C():(m.on("data",B),m.on("end",z));function z(){m.removeListener("data",B),m.removeListener("end",z),C()}}}t.SimpleTransformIterator=O;class k extends T{constructor(m,C){if(super(m,C),this._transformerQueue=[],C){const B=Te(C)?C:C.multiTransform;B&&(this._createTransformer=B)}}_read(m,C){const B=this._transformerQueue,z=this._optional;let Q,ae;for(;(Q=B[0])&&Q.transformer.done;){z&&Q.item!==null&&(m--,this._push(Q.item)),B.shift();const{transformer:fe}=Q;fe.removeListener("end",N),fe.removeListener("readable",N),fe.removeListener("error",I)}const{source:ce}=this;for(;ce&&!ce.done&&B.length<this.maxBufferSize&&(ae=ce.read(),ae!==null);){const fe=this._createTransformer(ae)||new h;fe[t.DESTINATION]=this,fe.on("end",N),fe.on("readable",N),fe.on("error",I),B.push({transformer:fe,item:ae})}if(Q=B[0],Q){const{transformer:fe}=Q;for(;m-- >0&&(ae=fe.read())!==null;)this._push(ae),z&&(Q.item=null)}else ce&&ce.done&&this.close();C()}_createTransformer(m){return new p(m)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(m){if(super._end(m),this._destroySource)for(const C of this._transformerQueue)C.transformer.destroy()}}t.MultiTransformIterator=k;class Y extends E{constructor(m,C={}){super(C),this._sources=[],this._currentSource=-1;const B=C.autoStart!==!1;if(Oe(m))m.on("error",z=>this.emit("error",z)),this._pending={loading:!1,sources:m},B&&this._loadSources();else if(Array.isArray(m)&&m.length>0)for(const z of m)this._addSource(z);else B&&this.close();this._destroySources=C.destroySources!==!1}_loadSources(){const m=this._pending.sources;this._pending.loading=!0,m.done?(delete this._pending,this.close()):(m.on("data",C=>{this._addSource(C),this._fillBufferAsync()}),m.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(m){Be(m)&&(m=se(m)),m.done||(this._sources.push(m),m[t.DESTINATION]=this,m.on("error",I),m.on("readable",N),m.on("end",ne))}_removeEmptySources(){this._sources=this._sources.filter((m,C)=>(m.done&&C<=this._currentSource&&this._currentSource--,!m.done)),this._fillBuffer()}_read(m,C){var B;((B=this._pending)===null||B===void 0?void 0:B.loading)===!1&&this._loadSources();let z=0,Q;for(;z!==(z=m);)for(let ae=0;ae<this._sources.length&&m>0;ae++)this._currentSource=(this._currentSource+1)%this._sources.length,(Q=this._sources[this._currentSource].read())!==null&&(m--,this._push(Q));!this._pending&&this._sources.length===0&&this.close(),C()}_end(m=!1){if(super._end(m),this._destroySources){for(const C of this._sources)C.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}t.UnionIterator=Y;function ne(){this[t.DESTINATION]._removeEmptySources()}class q extends T{constructor(m){super(m,{autoStart:!1}),this._readPosition=0,this._reading=!1,m&&(this.readable=!0)}_init(){}close(){l.prototype.close.call(this)}get source(){return super.source}set source(m){const C=this._source=this._validateSource(m),B=C&&C[t.DESTINATION]||(C[t.DESTINATION]=new H(C));this.done?this._destroySource&&C.destroy():B.endsAt(0)?this.close():(B.register(this),(C._sourceStarted===!1||B.readAt(0)!==null)&&(this.readable=!0));const z=this._propertyCallbacks;for(const Q in z){const ae=z[Q];for(const ce of ae)this._getSourceProperty(Q,ce)}}_validateSource(m,C=!1){const B=m&&m[t.DESTINATION];return super._validateSource(m,!B||B instanceof H)}getProperty(m,C){const{source:B}=this,z=this._properties,Q=z&&m in z;if(!C)return Q?z&&z[m]:B&&B.getProperty(m);super.getProperty(m,C),B&&!Q&&this._getSourceProperty(m,C)}_getSourceProperty(m,C){this.source.getProperty(m,B=>{(!this._properties||!(m in this._properties))&&C(B)})}getProperties(){const m=this.source?this.source.getProperties():{},C=this._properties;for(const B in C)m[B]=C[B];return m}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const m=this.source;let C=null;if(!this.done&&m){const B=m[t.DESTINATION];(C=B.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,B.endsAt(this._readPosition)&&this.close()}return C}_end(m){const C=this.source,B=C==null?void 0:C[t.DESTINATION];B&&B.unregister(this),E.prototype._end.call(this,m)}}t.ClonedIterator=q;class H{constructor(m){if(this._history=[],this._trackers=new Set,this._source=m,!m.done){const C=()=>{for(const Q of this._trackers)Q.readable=!0},B=Q=>{for(const ae of this._trackers)ae.emit("error",Q)},z=()=>{for(const Q of this._trackers)Q._sourceStarted!==!1&&Q._readPosition===this._history.length&&Q.close();this._trackers.clear(),m.removeListener("end",z),m.removeListener("error",B),m.removeListener("readable",C)};m.on("end",z),m.on("error",B),m.on("readable",C)}}register(m){this._source.done||this._trackers.add(m)}unregister(m){this._trackers.delete(m)}readAt(m){let C=null;return m<this._history.length?C=this._history[m]:!this._source.done&&(C=this._source.read())!==null&&(this._history[m]=C),C}endsAt(m){return this._source.done&&this._history.length===m}}class J extends l{constructor(m,C){super(),this._source=null,this._destroySource=(C==null?void 0:C.destroySource)!==!1,Be(m)?(this._source=new l,m.then(B=>{this._source=null,this.source=B}).catch(B=>this.emit("error",B))):m&&(this.source=m)}set source(m){let C=m;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(ee(C)&&(C=C[Symbol.iterator]()),j(C)){let B=C;C=new e.EventEmitter,C.read=()=>{if(B!==null){let z;for(;!(z=B.next()).done;)if(z.value!==null)return z.value;B=null,this.close()}return null}}else C=A(C);if(this.done){this._destroySource&&Te(C.destroy)&&C.destroy();return}C[t.DESTINATION]=this,C.on("end",D),C.on("error",I),C.on("readable",R),this._source=C,this.readable=C.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const m=this._source.read();if(m!==null)return m;this.readable=!1}return null}_end(m=!1){this._source!==null&&(this._source.removeListener("end",D),this._source.removeListener("error",I),this._source.removeListener("readable",R),delete this._source[t.DESTINATION],this._destroySource&&Te(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(m)}}t.WrappingIterator=J;function se(b,m){if(m&&("autoStart"in m||"optional"in m||"source"in m||"maxBufferSize"in m))return b&&!Oe(b)&&(b=new J(b)),new T(b,m);if(!b)return ue();if(Be(b))return new J(b,m);if(b instanceof l)return b;if(Array.isArray(b))return ve(b);if(ee(b)||j(b)||Oe(b))return new J(b,m);throw new TypeError(`Invalid source: ${b}`)}t.wrap=se;function ue(){return new h}t.empty=ue;function Se(b){return new p(b)}t.single=Se;function ve(b){return new g(b)}t.fromArray=ve;function Le(b){return new J(b)}t.fromIterator=Le;function Xe(b){return new J(b)}t.fromIterable=Xe;function Ne(b){return new Y(b)}t.union=Ne;function ye(b,m,C){return new y({start:b,end:m,step:C})}t.range=ye;function qe(b,m){return m?b.bind(m):b}function Te(b){return typeof b=="function"}t.isFunction=Te;function Oe(b){return Te(b==null?void 0:b.on)}t.isEventEmitter=Oe;function Be(b){return Te(b==null?void 0:b.then)}t.isPromise=Be;function He(b){return b&&(Oe(b)||Be(b)||Te(b))}t.isSourceExpression=He;function ee(b){return b&&Symbol.iterator in b}t.isIterable=ee;function j(b){return Te(b==null?void 0:b.next)}t.isIterator=j})(Gr);Object.defineProperty(_A,"__esModule",{value:!0});_A.ClosableTransformIterator=void 0;const Obe=Gr;class Rbe extends Obe.TransformIterator{constructor(e,r){super(e,r),this.onClose=r.onClose}_end(e){this.onClose(),super._end(e)}}_A.ClosableTransformIterator=Rbe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Y1,t),r(iw,t),r(vA,t),r(y0,t),r(bA,t),r(_A,t)})(tr);var TA={};Object.defineProperty(TA,"__esModule",{value:!0});TA.MemoryPhysicalQueryPlanLogger=void 0;const qS=dn;class Ibe{constructor(){this.children=new Map}logOperation(e,r,n,a,s,o){const u={actor:s,logicalOperator:e,physicalOperator:r,rawNode:n,children:[],metadata:o};if(this.children.set(n,u.children),this.rootNode){if(!a)throw new Error("Detected more than one parent-less node");const l=this.children.get(a);if(!l)throw new Error("Could not find parent node");l.push(u)}else{if(a)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=u}}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(e){return{logical:e.logicalOperator,physical:e.physicalOperator,...this.getLogicalMetadata(e.rawNode),...e.metadata,...e.children.length>0?{children:e.children.map(r=>this.planNodeToJson(r))}:{}}}getLogicalMetadata(e){if("type"in e){const r=e;switch(r.type){case"pattern":return{pattern:this.quadToString(r)};case"project":return{variables:r.variables.map(n=>n.value)}}}return{}}quadToString(e){return`${(0,qS.termToString)(e.subject)} ${(0,qS.termToString)(e.predicate)} ${(0,qS.termToString)(e.object)}${e.graph.termType==="DefaultGraph"?"":` ${(0,qS.termToString)(e.graph)}`}`}}TA.MemoryPhysicalQueryPlanLogger=Ibe;Object.defineProperty(lA,"__esModule",{value:!0});lA.QueryEngineBase=void 0;const Pbe=tr,pa=cn,xv=Ut,Cbe=TA;class eE{constructor(e){this.actorInitQuery=e,this.defaultFunctionArgumentsCache={}}async queryBindings(e,r){return this.queryOfType(e,r,"bindings")}async queryQuads(e,r){return this.queryOfType(e,r,"quads")}async queryBoolean(e,r){return this.queryOfType(e,r,"boolean")}async queryVoid(e,r){return this.queryOfType(e,r,"void")}async queryOfType(e,r,n){const a=await this.query(e,r);if(a.resultType===n)return await a.execute();throw new Error(`Query result type '${n}' was expected, while '${a.resultType}' was found.`)}async query(e,r){const n=await this.queryOrExplain(e,r);if("explain"in n)throw new Error("Tried to explain a query when in query-only mode");return n}async explain(e,r,n){return r.explain=n,await this.queryOrExplain(e,r)}async queryOrExplain(e,r){r=r||{};for(const h in r)this.actorInitQuery.contextKeyShortcuts[h]&&(r[this.actorInitQuery.contextKeyShortcuts[h]]=r[h],delete r[h]);let n=new xv.ActionContext(r),a={language:"sparql",version:"1.1"};n.has(pa.KeysInitQuery.queryFormat)&&(a=n.get(pa.KeysInitQuery.queryFormat),n=n.delete(pa.KeysInitQuery.queryFormat),a.language==="graphql"&&(n=n.setDefault(pa.KeysInitQuery.graphqlSingularizeVariables,{})));const s=n.get(pa.KeysInitQuery.baseIRI);n=n.setDefault(pa.KeysInitQuery.queryTimestamp,new Date).setDefault(pa.KeysRdfResolveQuadPattern.sourceIds,new Map).setDefault(pa.KeysCore.log,this.actorInitQuery.logger).setDefault(pa.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(pa.KeysRdfResolveQuadPattern.hypermediaSourcesAggregatedStores,new Map),n=(await this.actorInitQuery.mediatorContextPreprocess.mediate({context:n})).context;const o=n.get(pa.KeysInitQuery.explain);let u;if(typeof e=="string"){n=n.set(pa.KeysInitQuery.queryString,e);const h=await this.actorInitQuery.mediatorQueryParse.mediate({context:n,query:e,queryFormat:a,baseIRI:s});u=h.operation,h.baseIRI&&(n=n.set(pa.KeysInitQuery.baseIRI,h.baseIRI))}else u=e;if(o==="parsed")return{explain:!0,type:o,data:u};n.has(pa.KeysInitQuery.initialBindings)&&(u=(0,Pbe.materializeOperation)(u,n.get(pa.KeysInitQuery.initialBindings)),n=n.delete(pa.KeysInitQuery.queryString));const l=await this.actorInitQuery.mediatorOptimizeQueryOperation.mediate({context:n,operation:u});if(u=l.operation,n=l.context||n,o==="logical")return{explain:!0,type:o,data:u};n=n.set(pa.KeysInitQuery.query,u);let c;o==="physical"&&(c=new Cbe.MemoryPhysicalQueryPlanLogger,n=n.set(pa.KeysInitQuery.physicalQueryPlanLogger,c));const d=await this.actorInitQuery.mediatorQueryOperation.mediate({context:n,operation:u});d.context=n;const f=eE.internalToFinalResult(d);if(c){switch(f.resultType){case"bindings":await(await f.execute()).toArray();break;case"quads":await(await f.execute()).toArray();break;case"boolean":await f.execute();break;case"void":await f.execute();break}return{explain:!0,type:o,data:c.toJson()}}return f}async getResultMediaTypes(e){return e=xv.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(e){return e=xv.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(e,r,n){if(n=xv.ActionContext.ensureActionContext(n),!r)switch(e.resultType){case"bindings":r="application/json";break;case"quads":r="application/trig";break;default:r="simple";break}const a={...await eE.finalToInternalResult(e),context:n};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:n,handle:a,handleMediaType:r})).handle}invalidateHttpCache(e,r){return r=xv.ActionContext.ensureActionContext(r),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:e,context:r})}static internalToFinalResult(e){switch(e.type){case"bindings":return{resultType:"bindings",execute:async()=>e.bindingsStream,metadata:async()=>await e.metadata(),context:e.context};case"quads":return{resultType:"quads",execute:async()=>e.quadStream,metadata:async()=>await e.metadata(),context:e.context};case"boolean":return{resultType:"boolean",execute:async()=>e.execute(),context:e.context};case"void":return{resultType:"void",execute:async()=>e.execute(),context:e.context}}}static async finalToInternalResult(e){switch(e.resultType){case"bindings":return{type:"bindings",bindingsStream:await e.execute(),metadata:async()=>await e.metadata()};case"quads":return{type:"quads",quadStream:await e.execute(),metadata:async()=>await e.metadata()};case"boolean":return{type:"boolean",execute:()=>e.execute()};case"void":return{type:"void",execute:()=>e.execute()}}}}lA.QueryEngineBase=eE;(function(t){var e=F&&F.__createBinding||(Object.create?function(a,s,o,u){u===void 0&&(u=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,u,l)}:function(a,s,o,u){u===void 0&&(u=o),a[u]=s[o]}),r=F&&F.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,a,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryEngineBase=void 0,r(L1,t),r(uA,t);var n=lA;Object.defineProperty(t,"QueryEngineBase",{enumerable:!0,get:function(){return n.QueryEngineBase}})})(p5);var hW={},EA={};Object.defineProperty(EA,"__esModule",{value:!0});EA.LoggerVoid=void 0;const Dbe=g5;class Nbe extends Dbe.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}EA.LoggerVoid=Nbe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(EA,t)})(hW);var pW={},AA={},gW={},xA={};Object.defineProperty(xA,"__esModule",{value:!0});xA.ActorContextPreprocess=void 0;const Fbe=Ut;class Lbe extends Fbe.Actor{constructor(e){super(e)}}xA.ActorContextPreprocess=Lbe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xA,t)})(gW);Object.defineProperty(AA,"__esModule",{value:!0});AA.ActorContextPreprocessSourceToDestination=void 0;const jbe=gW,zS=cn;class Mbe extends jbe.ActorContextPreprocess{constructor(e){super(e)}async test(e){return!0}async run(e){if(e.context.get(zS.KeysRdfResolveQuadPattern.sources)&&!e.context.get(zS.KeysRdfUpdateQuads.destination)){const r=e.context.get(zS.KeysRdfResolveQuadPattern.sources);if(r.length===1)return{context:e.context.set(zS.KeysRdfUpdateQuads.destination,r[0])}}return e}}AA.ActorContextPreprocessSourceToDestination=Mbe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(AA,t)})(pW);var s8={},OA={};Object.defineProperty(OA,"__esModule",{value:!0});OA.MediatorCombinePipeline=void 0;const Bbe=Ut;class kbe extends Bbe.Mediator{constructor(e){super(e)}async mediate(e){let r;try{r=this.publish(e)}catch{return e}if(this.filterErrors){const a=[];for(const s of r)try{await s.reply,a.push(s)}catch{}r=a}if(r=await Promise.all(r.map(async({actor:a,reply:s})=>({actor:a,reply:await s}))),this.order){const a=s=>{const o=this.field?s[this.field]:s;if(typeof o!="number")throw new Error("Cannot order elements that are not numbers.");return o};r=r.sort((s,o)=>(this.order==="increasing"?1:-1)*(a(s.reply)-a(o.reply)))}let n=e;for(const{actor:a}of r)n={...n,...await a.runObservable(n)};return n}mediateWith(){throw new Error("Method not supported.")}}OA.MediatorCombinePipeline=kbe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(OA,t)})(s8);var yW={},RA={},mW={},IA={};Object.defineProperty(IA,"__esModule",{value:!0});IA.ActorHashBindings=void 0;const $be=Ut;class Ube extends $be.Actor{constructor(e){super(e)}}IA.ActorHashBindings=Ube;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(IA,t)})(mW);var Vbe=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((a,s,o)=>`${a}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((n,a)=>{if(e[a]===void 0||typeof e[a]=="symbol")return n;const s=n.length===0?"":",";return`${n}${s}${t(a)}:${t(e[a])}`},"")}}`};Object.defineProperty(RA,"__esModule",{value:!0});RA.ActorHashBindingsSha1=void 0;const Hbe=mW,qbe=yA,j7=dn,zbe=Vbe;class Gbe extends Hbe.ActorHashBindings{async test(e){if(!e.allowHashCollisions)throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(e){return{hashFunction:r=>(0,qbe.sha1)().update(zbe(Object.fromEntries([...r].map(([n,a])=>[(0,j7.termToString)(n),(0,j7.termToString)(a)])))).digest("hex"),hashCollisions:!0}}}RA.ActorHashBindingsSha1=Gbe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(RA,t)})(yW);var Ws={},PA={};Object.defineProperty(PA,"__esModule",{value:!0});PA.MediatorRace=void 0;const Qbe=Ut;class Wbe extends Qbe.Mediator{constructor(e){super(e)}mediateWith(e,r){return new Promise((n,a)=>{const s=[];for(const o of r)o.reply.then(()=>{n(o.actor)}).catch(u=>{s.push(u),s.length===r.length&&a(new Error(`${this.name} mediated over all rejecting actors:
${s.map(l=>l.message).join(`
`)}`))})})}}PA.MediatorRace=Wbe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(PA,t)})(Ws);var vW={},CA={},DA={},NA={};Object.defineProperty(NA,"__esModule",{value:!0});NA.ActorOptimizeQueryOperation=void 0;const Kbe=Ut;class Xbe extends Kbe.Actor{constructor(e){super(e)}}NA.ActorOptimizeQueryOperation=Xbe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(NA,t)})(DA);Object.defineProperty(CA,"__esModule",{value:!0});CA.ActorOptimizeQueryOperationJoinBgp=void 0;const Jbe=DA,Ybe=Cr;class Zbe extends Jbe.ActorOptimizeQueryOperation{async test(e){return!0}async run(e){return{operation:Ybe.Util.mapOperation(e.operation,{join(n,a){return n.input.every(s=>s.type==="bgp")?{recurse:!1,result:a.createBgp(n.input.flatMap(s=>s.patterns))}:{recurse:!1,result:n}}}),context:e.context}}}CA.ActorOptimizeQueryOperationJoinBgp=Zbe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(CA,t)})(vW);var bW={},FA={};Object.defineProperty(FA,"__esModule",{value:!0});FA.ActorOptimizeQueryOperationBgpToJoin=void 0;const e_e=DA,t_e=Cr;class r_e extends e_e.ActorOptimizeQueryOperation{async test(e){return!0}async run(e){return{operation:t_e.Util.mapOperation(e.operation,{bgp(n,a){return{recurse:!1,result:a.createJoin(n.patterns)}}}),context:e.context}}}FA.ActorOptimizeQueryOperationBgpToJoin=r_e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(FA,t)})(bW);var _W={},LA={};Object.defineProperty(LA,"__esModule",{value:!0});LA.ActorOptimizeQueryOperationJoinConnected=void 0;const n_e=DA,M7=Cr;class Gb extends n_e.ActorOptimizeQueryOperation{async test(e){return!0}async run(e){return{operation:M7.Util.mapOperation(e.operation,{join(n,a){return{recurse:!1,result:Gb.cluster(n,a)}}}),context:e.context}}static cluster(e,r){const n=e.input.map(u=>({inScopeVariables:Object.fromEntries(M7.Util.inScopeVariables(u).map(l=>[l.value,!0])),entries:[u]}));let a,s=n;do a=s,s=Gb.clusterIteration(a);while(a.length!==s.length);const o=s.map(u=>r.createJoin(u.entries));return o.length===1?o[0]:r.createJoin(o,!1)}static clusterIteration(e){const r=[];for(const n of e){let a=!1;for(const s of r)if(Gb.haveOverlappingVariables(n.inScopeVariables,s.inScopeVariables)){s.entries=[...s.entries,...n.entries],s.inScopeVariables={...s.inScopeVariables,...n.inScopeVariables},a=!0;break}a||r.push({inScopeVariables:n.inScopeVariables,entries:n.entries})}return r}static haveOverlappingVariables(e,r){for(const n of Object.keys(e))if(r[n])return!0;return!1}}LA.ActorOptimizeQueryOperationJoinConnected=Gb;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(LA,t)})(_W);var wW={},jA={},o8={},MA={};Object.defineProperty(MA,"__esModule",{value:!0});MA.ActorQueryParse=void 0;const i_e=Ut;class a_e extends i_e.Actor{constructor(e){super(e)}}MA.ActorQueryParse=a_e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(MA,t)})(o8);Object.defineProperty(jA,"__esModule",{value:!0});jA.ActorQueryParseSparql=void 0;const s_e=o8,o_e=Cr,u_e=tw;class l_e extends s_e.ActorQueryParse{constructor(e){super(e),this.prefixes=Object.freeze(this.prefixes)}async test(e){if(e.queryFormat&&e.queryFormat.language!=="sparql")throw new Error("This actor can only parse SPARQL queries");return!0}async run(e){const n=new u_e.Parser({prefixes:this.prefixes,baseIRI:e.baseIRI,sparqlStar:!0}).parse(e.query);return{baseIRI:n.type==="query"?n.base:void 0,operation:(0,o_e.translate)(n,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:e.baseIRI})}}}jA.ActorQueryParseSparql=l_e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(jA,t)})(wW);var SW={},BA={},TW={},u8={},l8={},pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.DirectiveNodeHandlerAdapter=void 0;class c_e{constructor(e,r,n){this.targetKind=e,this.util=r,this.settings=n}getDirectiveConditionalValue(e,r){const n=this.util.getArgument(e.arguments,"if");if(!n)throw new Error(`The directive ${e.name.value} is missing an if-argument.`);const a=this.util.handleNodeValue(n.value,n.name.value,r);if(a.terms.length!==1)throw new Error(`Can not apply the directive ${e.name.value} with a list.`);return a.terms[0]}isDirectiveScopeAll(e){const r=this.util.getArgument(e.arguments,"scope");return r&&r.value.kind==="EnumValue"&&r.value.value==="all"}}pf.DirectiveNodeHandlerAdapter=c_e;var kA={};Object.defineProperty(kA,"__esModule",{value:!0});kA.DirectiveNodeHandlerInclude=void 0;const d_e=pf;class f_e extends d_e.DirectiveNodeHandlerAdapter{constructor(e,r){super("include",e,r)}handle(e,r){const n=this.getDirectiveConditionalValue(e.directive,r);return n.termType==="Literal"&&n.value==="false"?{ignore:!0}:{}}}kA.DirectiveNodeHandlerInclude=f_e;var $A={};Object.defineProperty($A,"__esModule",{value:!0});$A.DirectiveNodeHandlerOptional=void 0;const h_e=pf;class p_e extends h_e.DirectiveNodeHandlerAdapter{constructor(e,r){super("optional",e,r)}handle(e,r){return{operationOverrider:n=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),n)}}}$A.DirectiveNodeHandlerOptional=p_e;var UA={},Mm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SingularizeState=void 0,function(e){e[e.SINGLE=0]="SINGLE",e[e.PLURAL=1]="PLURAL"}(t.SingularizeState||(t.SingularizeState={}))})(Mm);Object.defineProperty(UA,"__esModule",{value:!0});UA.DirectiveNodeHandlerPlural=void 0;const g_e=Mm,y_e=pf;class m_e extends y_e.DirectiveNodeHandlerAdapter{constructor(e,r){super("plural",e,r)}handle(e,r){return this.isDirectiveScopeAll(e.directive)&&(r.singularizeState=g_e.SingularizeState.PLURAL),delete r.singularizeVariables[this.util.nameToVariable(e.fieldLabel,r).value],{}}}UA.DirectiveNodeHandlerPlural=m_e;var VA={};Object.defineProperty(VA,"__esModule",{value:!0});VA.DirectiveNodeHandlerSingle=void 0;const v_e=Mm,b_e=pf;class __e extends b_e.DirectiveNodeHandlerAdapter{constructor(e,r){super("single",e,r)}handle(e,r){return this.isDirectiveScopeAll(e.directive)&&(r.singularizeState=v_e.SingularizeState.SINGLE),r.singularizeVariables[this.util.nameToVariable(e.fieldLabel,r).value]=!0,{}}}VA.DirectiveNodeHandlerSingle=__e;var HA={};Object.defineProperty(HA,"__esModule",{value:!0});HA.DirectiveNodeHandlerSkip=void 0;const w_e=pf;class S_e extends w_e.DirectiveNodeHandlerAdapter{constructor(e,r){super("skip",e,r)}handle(e,r){const n=this.getDirectiveConditionalValue(e.directive,r);return n.termType==="Literal"&&n.value==="true"?{ignore:!0}:{}}}HA.DirectiveNodeHandlerSkip=S_e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pf,t),r(kA,t),r($A,t),r(UA,t),r(VA,t),r(HA,t)})(l8);var EW={},au={};Object.defineProperty(au,"__esModule",{value:!0});au.NodeValueHandlerAdapter=void 0;class T_e{constructor(e,r,n){this.targetKind=e,this.util=r,this.settings=n}}au.NodeValueHandlerAdapter=T_e;var qA={};Object.defineProperty(qA,"__esModule",{value:!0});qA.NodeValueHandlerBoolean=void 0;const E_e=au;class A_e extends E_e.NodeValueHandlerAdapter{constructor(e,r){super("BooleanValue",e,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(e,r,n){return{terms:[this.util.dataFactory.literal(e.value?"true":"false",this.datatype)]}}}qA.NodeValueHandlerBoolean=A_e;var zA={};Object.defineProperty(zA,"__esModule",{value:!0});zA.NodeValueHandlerEnum=void 0;const x_e=au;class O_e extends x_e.NodeValueHandlerAdapter{constructor(e,r){super("EnumValue",e,r)}handle(e,r,n){return{terms:[this.util.valueToNamedNode(e.value,n.context)]}}}zA.NodeValueHandlerEnum=O_e;var GA={};Object.defineProperty(GA,"__esModule",{value:!0});GA.NodeValueHandlerFloat=void 0;const R_e=au;class I_e extends R_e.NodeValueHandlerAdapter{constructor(e,r){super("FloatValue",e,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(e,r,n){return{terms:[this.util.dataFactory.literal(e.value,this.datatype)]}}}GA.NodeValueHandlerFloat=I_e;var QA={};Object.defineProperty(QA,"__esModule",{value:!0});QA.NodeValueHandlerInt=void 0;const P_e=au;class C_e extends P_e.NodeValueHandlerAdapter{constructor(e,r){super("IntValue",e,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(e,r,n){return{terms:[this.util.dataFactory.literal(e.value,this.datatype)]}}}QA.NodeValueHandlerInt=C_e;var WA={};Object.defineProperty(WA,"__esModule",{value:!0});WA.NodeValueHandlerList=void 0;const D_e=au;class N_e extends D_e.NodeValueHandlerAdapter{constructor(e,r){super("ListValue",e,r),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(e,r,n){const a=[];let s=[];for(const o of e.values){const u=this.util.handleNodeValue(o,r,n);for(const l of u.terms)a.push(l);u.auxiliaryPatterns&&(s=s.concat(u.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const o=this.util.dataFactory.blankNode();let u=o,l=a.length;for(const c of a){s.push(this.util.operationFactory.createPattern(u,this.nodeFirst,c,n.graph));const d=--l===0?this.nodeNil:this.util.dataFactory.blankNode();s.push(this.util.operationFactory.createPattern(u,this.nodeRest,d,n.graph)),u=d}return{terms:[o],auxiliaryPatterns:s}}else return{terms:a,auxiliaryPatterns:s}}}WA.NodeValueHandlerList=N_e;var KA={};Object.defineProperty(KA,"__esModule",{value:!0});KA.NodeValueHandlerNull=void 0;const F_e=au;class L_e extends F_e.NodeValueHandlerAdapter{constructor(e,r){super("NullValue",e,r),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(e,r,n){return{terms:[this.nil]}}}KA.NodeValueHandlerNull=L_e;var XA={};Object.defineProperty(XA,"__esModule",{value:!0});XA.NodeValueHandlerObject=void 0;const j_e=au;class M_e extends j_e.NodeValueHandlerAdapter{constructor(e,r){super("ObjectValue",e,r)}handle(e,r,n){const a=this.util.dataFactory.blankNode();let s=[];for(const o of e.fields){const u=this.util.handleNodeValue(o.value,r,n);for(const l of u.terms)s.push(this.util.createQuadPattern(a,o.name,l,n.graph,n.context));u.auxiliaryPatterns&&(s=s.concat(u.auxiliaryPatterns))}return{terms:[a],auxiliaryPatterns:s}}}XA.NodeValueHandlerObject=M_e;var JA={};Object.defineProperty(JA,"__esModule",{value:!0});JA.NodeValueHandlerString=void 0;const B_e=au;class k_e extends B_e.NodeValueHandlerAdapter{constructor(e,r){super("StringValue",e,r)}handle(e,r,n){const a=n.context.getContextRaw()[r];let s,o;return a&&typeof a!="string"&&(a["@language"]?s=a["@language"]:a["@type"]&&(o=this.util.dataFactory.namedNode(a["@type"]))),{terms:[this.util.dataFactory.literal(e.value,s||o)]}}}JA.NodeValueHandlerString=k_e;var YA={};Object.defineProperty(YA,"__esModule",{value:!0});YA.NodeValueHandlerVariable=void 0;const $_e=au;class U_e extends $_e.NodeValueHandlerAdapter{constructor(e,r){super("Variable",e,r)}handle(e,r,n){const a=e.name.value,s=n.variablesDict[a],o=n.variablesMetaDict[a];if(!s){if(!n.ignoreUnknownVariables&&(!o||o.mandatory))throw new Error(`Undefined variable: ${a}`);{const u=this.util.dataFactory.variable(a);return n.terminalVariables.map(l=>l.value).indexOf(a)<0&&n.terminalVariables.push(u),{terms:[u]}}}if(s.kind==="Variable")throw new Error(`Variable refers to another variable: ${a}`);if(o)if(o.list){if(s.kind!=="ListValue")throw new Error(`Expected a list, but got ${s.kind} for ${a}`);if(o.type){const u=s;for(const l of u.values)if(l.kind!==o.type)throw new Error(`Expected ${o.type}, but got ${l.kind} for ${a}`)}}else o.type;return this.util.handleNodeValue(s,r,n)}}YA.NodeValueHandlerVariable=U_e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(au,t),r(qA,t),r(zA,t),r(GA,t),r(QA,t),r(WA,t),r(KA,t),r(XA,t),r(JA,t),r(YA,t)})(EW);var B0={};Object.defineProperty(B0,"__esModule",{value:!0});B0.NodeHandlerAdapter=void 0;class V_e{constructor(e,r,n){this.targetKind=e,this.util=r,this.settings=n}getNodeQuadContextSelectionSet(e,r,n){const a={};if(e){for(const s of e.selections)if(s.kind==="Field"){const o=s;this.handleNodeQuadContextField(o,n,a,"id","subject"),this.handleNodeQuadContextField(o,n,a,"graph","graph")}}return a}handleNodeQuadContextField(e,r,n,a,s){if(!n[s]&&e.name.value===a){if(!n[s]){const o=this.util.getArgument(e.arguments,"_");if(o){const u=this.util.handleNodeValue(o.value,e.name.value,r);if(u.terms.length!==1)throw new Error(`Only single values can be set as ${a}, but got ${u.terms.length} at ${e.name.value}`);n[s]=u.terms[0],u.auxiliaryPatterns&&(n.auxiliaryPatterns||(n.auxiliaryPatterns=[]),n.auxiliaryPatterns.concat(u.auxiliaryPatterns))}}if(!n[s]){const o=this.util.nameToVariable(this.util.getFieldLabel(e),r);r.terminalVariables.push(o),n[s]=o}}}getDirectiveOutputs(e,r,n){const a=[];if(e)for(const s of e){const o=this.util.handleDirectiveNode({directive:s,fieldLabel:r},n);if(o){if(o.ignore)return null;a.push(o)}}return a}handleDirectiveOutputs(e,r){for(const n of e){if(n.ignore)return this.util.operationFactory.createBgp([]);n.operationOverrider&&(r=n.operationOverrider(r))}return r}}B0.NodeHandlerAdapter=V_e;var Bm={};Object.defineProperty(Bm,"__esModule",{value:!0});Bm.NodeHandlerDefinitionAdapter=void 0;const H_e=B0;class q_e extends H_e.NodeHandlerAdapter{constructor(e,r,n){super(e,r,n)}}Bm.NodeHandlerDefinitionAdapter=q_e;var ZA={};Object.defineProperty(ZA,"__esModule",{value:!0});ZA.NodeHandlerDefinitionFragment=void 0;const z_e=Bm;class G_e extends z_e.NodeHandlerDefinitionAdapter{constructor(e,r){super("FragmentDefinition",e,r)}handle(e,r){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}}ZA.NodeHandlerDefinitionFragment=G_e;var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.NodeHandlerDefinitionOperation=void 0;const Q_e=Bm;class W_e extends Q_e.NodeHandlerDefinitionAdapter{constructor(e,r){super("OperationDefinition",e,r)}handle(e,r){if(e.operation!=="query")throw new Error("Unsupported definition operation: "+e.operation);if(e.variableDefinitions)for(const s of e.variableDefinitions){const o=s.variable.name.value;s.defaultValue&&(r.variablesDict[o]||(r.variablesDict[o]=s.defaultValue));let u=s.type;const l=u.kind==="NonNullType";l&&(u=u.type);const c=u.kind==="ListType";c&&(u=u.type);const d=u.name.value;r.variablesMetaDict[o]={mandatory:l,list:c,type:d}}const n=this.getDirectiveOutputs(e.directives,e.name?e.name.value:"",r);if(!n)return this.util.operationFactory.createBgp([]);const a=this.util.joinOperations(e.selectionSet.selections.map(s=>this.util.handleNode(s,r)));return this.handleDirectiveOutputs(n,a)}}ex.NodeHandlerDefinitionOperation=W_e;var tx={};Object.defineProperty(tx,"__esModule",{value:!0});tx.NodeHandlerDocument=void 0;const B7=Cr,K_e=B0;class X_e extends K_e.NodeHandlerAdapter{constructor(e,r){super("Document",e,r)}handle(e,r){const n=e.definitions.map(s=>{const o=this.getNodeQuadContextDefinitionNode(s,Object.assign(Object.assign({},r),{ignoreUnknownVariables:!0})),u=Object.assign(Object.assign({},r),{graph:o.graph||r.graph,subject:o.subject||this.util.dataFactory.blankNode()});let l=this.util.handleNode(s,u);return o&&o.auxiliaryPatterns&&(l=this.util.joinOperations([l,this.util.operationFactory.createBgp(o.auxiliaryPatterns)])),l}),a=this.util.operationFactory.createProject(n.length===1?n[0]:this.util.operationFactory.createUnion(n),r.terminalVariables);return this.translateBlankNodesToVariables(a)}getNodeQuadContextDefinitionNode(e,r){if(e.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(e.selectionSet,e.name?e.name.value:"",r);throw new Error(`Unsupported definition: ${e.kind}`)}translateBlankNodesToVariables(e){const r=this,n={},a=Array.from(e.variables).reduce((o,u)=>(o[u.value]=!0,o),{});return B7.Util.mapOperation(e,{path:(o,u)=>({recurse:!1,result:u.createPath(s(o.subject),o.predicate,s(o.object),s(o.graph))}),pattern:(o,u)=>({recurse:!1,result:u.createPattern(s(o.subject),s(o.predicate),s(o.object),s(o.graph))})});function s(o){if(o.termType==="BlankNode"){let u=n[o.value];return u||(u=B7.Util.createUniqueVariable(o.value,a,r.util.dataFactory),a[u.value]=!0,n[o.value]=u),u}return o}}}tx.NodeHandlerDocument=X_e;var k0={};Object.defineProperty(k0,"__esModule",{value:!0});k0.NodeHandlerSelectionAdapter=void 0;const J_e=Cr,Y_e=Mm,Z_e=B0;class e1e extends Z_e.NodeHandlerAdapter{constructor(e,r,n){super(e,r,n)}getNodeQuadContextFieldNode(e,r,n){return this.getNodeQuadContextSelectionSet(e.selectionSet,r,Object.assign(Object.assign({},n),{path:this.util.appendFieldToPath(n.path,r)}))}fieldToOperation(e,r,n,a){const s=n;let o=0,u;if((r.name.value==="id"||r.name.value==="graph")&&(n=!1,r.arguments))for(const v of r.arguments)v.name.value==="_"&&this.util.handleNodeValue(v.value,r.name.value,e);const l=this.util.getFieldLabel(r);if(e.singularizeState===Y_e.SingularizeState.SINGLE&&(e.singularizeVariables[this.util.nameToVariable(l,e).value]=!0),n){const v=this.handleMetaField(e,l,a);if(v)return v}const c=a?[this.util.operationFactory.createBgp(a)]:[],d=this.getNodeQuadContextFieldNode(r,l,e);let f=d.subject||this.util.nameToVariable(l,e),h=d.graph||e.graph;d.auxiliaryPatterns&&c.push(this.util.operationFactory.createBgp(d.auxiliaryPatterns));let p=!0,g=null;if(n&&r.arguments&&r.arguments.length){for(const v of r.arguments)if(v.name.value==="_"){const A=this.util.handleNodeValue(v.value,r.name.value,e);g=A.terms,c.push(this.util.operationFactory.createBgp(A.terms.map(E=>this.util.createQuadPattern(e.subject,r.name,E,e.graph,e.context)))),A.auxiliaryPatterns&&c.push(this.util.operationFactory.createBgp(A.auxiliaryPatterns)),n=!1;break}else if(v.name.value==="graph"){const A=this.util.handleNodeValue(v.value,r.name.value,e);if(A.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${A.terms.length} at ${r.name.value}`);h=A.terms[0],e=Object.assign(Object.assign({},e),{graph:h}),A.auxiliaryPatterns&&c.push(this.util.operationFactory.createBgp(A.auxiliaryPatterns));break}else if(v.name.value==="alt"){let A=v.value;A.kind!=="ListValue"&&(A={kind:"ListValue",values:[A]}),c.push(this.util.createQuadPath(e.subject,r.name,A,f,e.graph,e.context)),p=!1;break}}if(n&&p&&c.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(e.subject,r.name,f,e.graph,e.context)])),r.arguments&&r.arguments.length){for(const v of r.arguments)if(!(v.name.value==="_"||v.name.value==="graph"||v.name.value==="alt"))if(v.name.value==="first"){if(v.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+v.value.kind);u=parseInt(v.value.value,10)}else if(v.name.value==="offset"){if(v.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+v.value.kind);o=parseInt(v.value.value,10)}else{const A=this.util.handleNodeValue(v.value,v.name.value,e);c.push(this.util.operationFactory.createBgp(A.terms.map(E=>this.util.createQuadPattern(f,v.name,E,e.graph,e.context)))),A.auxiliaryPatterns&&c.push(this.util.operationFactory.createBgp(A.auxiliaryPatterns))}}const y=this.getDirectiveOutputs(r.directives,l,e);if(!y)return this.util.operationFactory.createBgp([]);let S=this.util.joinOperations(c);if(r.selectionSet&&r.selectionSet.selections.length){if(g){if(g.length!==1)throw new Error(`Only single values can be set as id, but got ${g.length} at ${r.name.value}`);f=g[0]}const v=Object.assign(Object.assign(Object.assign({},e),s?{path:this.util.appendFieldToPath(e.path,l)}:{}),{graph:h,subject:s?f:e.subject});let A=!1;const E=r.selectionSet.selections.filter(R=>R.kind==="Field"&&R.name.value==="totalCount"?(A=!0,!1):!0);let T=this.util.joinOperations(c.concat(E.map(R=>this.util.handleNode(R,v))));if(A){const R=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),I=this.util.dataFactory.variable(f.value+this.settings.variableDelimiter+"totalCount"),D=this.util.operationFactory.createBoundAggregate(R,"count",this.util.operationFactory.createTermExpression(f),!1),M=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(S,[],[D]),I,this.util.operationFactory.createTermExpression(R)),[I]);e.terminalVariables.push(I),E.length?T=this.util.operationFactory.createJoin([this.util.operationFactory.createProject(T,[]),M]):T=M}S=T}else n&&f.termType==="Variable"&&e.terminalVariables.push(f);return(o||u)&&(S=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(S,J_e.Util.inScopeVariables(S)),o,u)),this.handleDirectiveOutputs(y,S)}handleMetaField(e,r,n){if(r==="__typename"){const a=this.util.nameToVariable(r,e);return e.terminalVariables.push(a),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(e.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(r,e),e.graph)].concat(n||[]))}}}k0.NodeHandlerSelectionAdapter=e1e;var rx={};Object.defineProperty(rx,"__esModule",{value:!0});rx.NodeHandlerSelectionField=void 0;const t1e=k0;class r1e extends t1e.NodeHandlerSelectionAdapter{constructor(e,r){super("Field",e,r)}handle(e,r){return this.fieldToOperation(r,e,!0)}}rx.NodeHandlerSelectionField=r1e;var nx={};Object.defineProperty(nx,"__esModule",{value:!0});nx.NodeHandlerSelectionFragmentSpread=void 0;const n1e=k0;class i1e extends n1e.NodeHandlerSelectionAdapter{constructor(e,r){super("FragmentSpread",e,r)}handle(e,r){const n=r.fragmentDefinitions[e.name.value];if(!n)throw new Error("Undefined fragment definition: "+e.name.value);const a={alias:void 0,arguments:void 0,directives:n.directives,kind:"Field",name:e.name,selectionSet:n.selectionSet},s=[this.util.newTypePattern(r.subject,n.typeCondition,r)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,a,!1,s))}}nx.NodeHandlerSelectionFragmentSpread=i1e;var ix={};Object.defineProperty(ix,"__esModule",{value:!0});ix.NodeHandlerSelectionInlineFragment=void 0;const a1e=k0;class s1e extends a1e.NodeHandlerSelectionAdapter{constructor(e,r){super("InlineFragment",e,r)}handle(e,r){const n={alias:void 0,arguments:void 0,directives:e.directives,kind:"Field",name:{kind:"Name",value:r.subject.value},selectionSet:e.selectionSet},a=e.typeCondition?[this.util.newTypePattern(r.subject,e.typeCondition,r)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,n,!1,a))}}ix.NodeHandlerSelectionInlineFragment=s1e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(l8,t),r(EW,t),r(B0,t),r(Bm,t),r(ZA,t),r(ex,t),r(tx,t),r(k0,t),r(rx,t),r(nx,t),r(ix,t)})(u8);var ax={},AW=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag",o1e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;const k4=o1e;function Q2(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Q2=function(r){return typeof r}:Q2=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Q2(t)}var u1e=10,xW=2;function OW(t){return sx(t,[])}function sx(t,e){switch(Q2(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":l1e(t,e);default:return String(t)}}function l1e(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var r=[].concat(e,[t]),n=f1e(t);if(n!==void 0){var a=n.call(t);if(a!==t)return typeof a=="string"?a:sx(a,r)}else if(Array.isArray(t))return d1e(t,r);return c1e(t,r)}function c1e(t,e){var r=Object.keys(t);if(r.length===0)return"{}";if(e.length>xW)return"["+h1e(t)+"]";var n=r.map(function(a){var s=sx(t[a],e);return a+": "+s});return"{ "+n.join(", ")+" }"}function d1e(t,e){if(t.length===0)return"[]";if(e.length>xW)return"[Array]";for(var r=Math.min(u1e,t.length),n=t.length-r,a=[],s=0;s<r;++s)a.push(sx(t[s],e));return n===1?a.push("... 1 more item"):n>1&&a.push("... ".concat(n," more items")),"["+a.join(", ")+"]"}function f1e(t){var e=t[String(k4)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function h1e(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}function iD(t,e){var r=Boolean(t);if(!r)throw new Error(e)}const p1e=function(e,r){return e instanceof r};function k7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g1e(t,e,r){return e&&k7(t.prototype,e),r&&k7(t,r),t}var c8=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||iD(0,"Body must be a string. Received: ".concat(OW(e),".")),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||iD(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||iD(0,"column in locationOffset is 1-indexed and must be positive.")}return g1e(t,[{key:AW,get:function(){return"Source"}}]),t}();function y1e(t){return p1e(t,c8)}function tE(t,e){for(var r=/\r\n|[\n\r]/g,n=1,a=e+1,s;(s=r.exec(t.body))&&s.index<e;)n+=1,a=e+1-(s.index+s[0].length);return{line:n,column:a}}function RW(t){return d8(t.source,tE(t.source,t.start))}function d8(t,e){var r=t.locationOffset.column-1,n=W2(r)+t.body,a=e.line-1,s=t.locationOffset.line-1,o=e.line+s,u=e.line===1?r:0,l=e.column+u,c="".concat(t.name,":").concat(o,":").concat(l,`
`),d=n.split(/\r\n|[\n\r]/g),f=d[a];if(f.length>120){for(var h=Math.floor(l/80),p=l%80,g=[],y=0;y<f.length;y+=80)g.push(f.slice(y,y+80));return c+$7([["".concat(o),g[0]]].concat(g.slice(1,h+1).map(function(S){return["",S]}),[[" ",W2(p-1)+"^"],["",g[h+1]]]))}return c+$7([["".concat(o-1),d[a-1]],["".concat(o),f],["",W2(l-1)+"^"],["".concat(o+1),d[a+1]]])}function $7(t){var e=t.filter(function(n){n[0];var a=n[1];return a!==void 0}),r=Math.max.apply(Math,e.map(function(n){var a=n[0];return a.length}));return e.map(function(n){var a=n[0],s=n[1];return m1e(r,a)+(s?" | "+s:" |")}).join(`
`)}function W2(t){return Array(t+1).join(" ")}function m1e(t,e){return W2(t-e.length)+e}var Tt=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),st=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function K2(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K2=function(r){return typeof r}:K2=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},K2(t)}function v1e(t){return K2(t)=="object"&&t!==null}function X2(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?X2=function(r){return typeof r}:X2=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},X2(t)}function U7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function b1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(r),!0).forEach(function(n){_1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _1e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S1e(t,e,r){return e&&V7(t.prototype,e),r&&V7(t,r),t}function T1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S_(t,e)}function E1e(t){var e=PW();return function(){var n=T_(t),a;if(e){var s=T_(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return IW(this,a)}}function IW(t,e){return e&&(X2(e)==="object"||typeof e=="function")?e:mb(t)}function mb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(t){var e=typeof Map=="function"?new Map:void 0;return $4=function(n){if(n===null||!A1e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return J2(n,arguments,T_(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),S_(a,n)},$4(t)}function J2(t,e,r){return PW()?J2=Reflect.construct:J2=function(a,s,o){var u=[null];u.push.apply(u,s);var l=Function.bind.apply(a,u),c=new l;return o&&S_(c,o.prototype),c},J2.apply(null,arguments)}function PW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A1e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function S_(t,e){return S_=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},S_(t,e)}function T_(t){return T_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},T_(t)}var x1e=function(t){T1e(r,t);var e=E1e(r);function r(n,a,s,o,u,l,c){var d,f,h,p;w1e(this,r),p=e.call(this,n),p.name="GraphQLError",p.originalError=l??void 0,p.nodes=H7(Array.isArray(a)?a:a?[a]:void 0);for(var g=[],y=0,S=(v=p.nodes)!==null&&v!==void 0?v:[];y<S.length;y++){var v,A=S[y],E=A.loc;E!=null&&g.push(E)}g=H7(g),p.source=s??((d=g)===null||d===void 0?void 0:d[0].source),p.positions=o??((f=g)===null||f===void 0?void 0:f.map(function(R){return R.start})),p.locations=o&&s?o.map(function(R){return tE(s,R)}):(h=g)===null||h===void 0?void 0:h.map(function(R){return tE(R.source,R.start)}),p.path=u??void 0;var T=l==null?void 0:l.extensions;return c==null&&v1e(T)?p.extensions=b1e({},T):p.extensions=c??{},Object.defineProperties(mb(p),{message:{enumerable:!0},locations:{enumerable:p.locations!=null},path:{enumerable:p.path!=null},extensions:{enumerable:p.extensions!=null&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?(Object.defineProperty(mb(p),"stack",{value:l.stack,writable:!0,configurable:!0}),IW(p)):(Error.captureStackTrace?Error.captureStackTrace(mb(p),r):Object.defineProperty(mb(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return S1e(r,[{key:"toString",value:function(){return O1e(this)}},{key:AW,get:function(){return"Object"}}]),r}($4(Error));function H7(t){return t===void 0||t.length===0?void 0:t}function O1e(t){var e=t.message;if(t.nodes)for(var r=0,n=t.nodes;r<n.length;r++){var a=n[r];a.loc&&(e+=`

`+RW(a.loc))}else if(t.source&&t.locations)for(var s=0,o=t.locations;s<o.length;s++){var u=o[s];e+=`

`+d8(t.source,u)}return e}function Xo(t,e,r){return new x1e("Syntax Error: ".concat(r),void 0,t,[e])}function R1e(t,e){var r=Boolean(t);if(!r)throw new Error(e??"Unexpected invariant triggered.")}function CW(t){var e=t.prototype.toJSON;typeof e=="function"||R1e(0),t.prototype.inspect=e,k4&&(t.prototype[k4]=e)}var f8=function(){function t(r,n,a){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=a}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();CW(f8);var li=function(){function t(r,n,a,s,o,u,l){this.kind=r,this.start=n,this.end=a,this.line=s,this.column=o,this.value=l,this.prev=u,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();CW(li);function q7(t){return t!=null&&typeof t.kind=="string"}function I1e(t){var e=t.split(/\r\n|[\n\r]/g),r=P1e(t);if(r!==0)for(var n=1;n<e.length;n++)e[n]=e[n].slice(r);for(var a=0;a<e.length&&z7(e[a]);)++a;for(var s=e.length;s>a&&z7(e[s-1]);)--s;return e.slice(a,s).join(`
`)}function z7(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function P1e(t){for(var e,r=!0,n=!0,a=0,s=null,o=0;o<t.length;++o)switch(t.charCodeAt(o)){case 13:t.charCodeAt(o+1)===10&&++o;case 10:r=!1,n=!0,a=0;break;case 9:case 32:++a;break;default:n&&!r&&(s===null||a<s)&&(s=a),n=!1}return(e=s)!==null&&e!==void 0?e:0}function C1e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t.indexOf(`
`)===-1,a=t[0]===" "||t[0]==="	",s=t[t.length-1]==='"',o=t[t.length-1]==="\\",u=!n||s||o||r,l="";return u&&!(n&&a)&&(l+=`
`+e),l+=e?t.replace(/\n/g,`
`+e):t,u&&(l+=`
`),'"""'+l.replace(/"""/g,'\\"""')+'"""'}var DW=function(){function t(r){var n=new li(st.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},e.lookahead=function(){var n=this.token;if(n.kind!==st.EOF)do{var a;n=(a=n.next)!==null&&a!==void 0?a:n.next=N1e(this,n)}while(n.kind===st.COMMENT);return n},t}();function D1e(t){return t===st.BANG||t===st.DOLLAR||t===st.AMP||t===st.PAREN_L||t===st.PAREN_R||t===st.SPREAD||t===st.COLON||t===st.EQUALS||t===st.AT||t===st.BRACKET_L||t===st.BRACKET_R||t===st.BRACE_L||t===st.PIPE||t===st.BRACE_R}function v0(t){return isNaN(t)?st.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function N1e(t,e){for(var r=t.source,n=r.body,a=n.length,s=e.end;s<a;){var o=n.charCodeAt(s),u=t.line,l=1+s-t.lineStart;switch(o){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:n.charCodeAt(s+1)===10?s+=2:++s,++t.line,t.lineStart=s;continue;case 33:return new li(st.BANG,s,s+1,u,l,e);case 35:return L1e(r,s,u,l,e);case 36:return new li(st.DOLLAR,s,s+1,u,l,e);case 38:return new li(st.AMP,s,s+1,u,l,e);case 40:return new li(st.PAREN_L,s,s+1,u,l,e);case 41:return new li(st.PAREN_R,s,s+1,u,l,e);case 46:if(n.charCodeAt(s+1)===46&&n.charCodeAt(s+2)===46)return new li(st.SPREAD,s,s+3,u,l,e);break;case 58:return new li(st.COLON,s,s+1,u,l,e);case 61:return new li(st.EQUALS,s,s+1,u,l,e);case 64:return new li(st.AT,s,s+1,u,l,e);case 91:return new li(st.BRACKET_L,s,s+1,u,l,e);case 93:return new li(st.BRACKET_R,s,s+1,u,l,e);case 123:return new li(st.BRACE_L,s,s+1,u,l,e);case 124:return new li(st.PIPE,s,s+1,u,l,e);case 125:return new li(st.BRACE_R,s,s+1,u,l,e);case 34:return n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34?B1e(r,s,u,l,e,t):M1e(r,s,u,l,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return j1e(r,s,o,u,l,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return $1e(r,s,u,l,e)}throw Xo(r,s,F1e(o))}var c=t.line,d=1+s-t.lineStart;return new li(st.EOF,a,a,c,d,e)}function F1e(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(v0(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(v0(t),".")}function L1e(t,e,r,n,a){var s=t.body,o,u=e;do o=s.charCodeAt(++u);while(!isNaN(o)&&(o>31||o===9));return new li(st.COMMENT,e,u,r,n,a,s.slice(e+1,u))}function j1e(t,e,r,n,a,s){var o=t.body,u=r,l=e,c=!1;if(u===45&&(u=o.charCodeAt(++l)),u===48){if(u=o.charCodeAt(++l),u>=48&&u<=57)throw Xo(t,l,"Invalid number, unexpected digit after 0: ".concat(v0(u),"."))}else l=aD(t,l,u),u=o.charCodeAt(l);if(u===46&&(c=!0,u=o.charCodeAt(++l),l=aD(t,l,u),u=o.charCodeAt(l)),(u===69||u===101)&&(c=!0,u=o.charCodeAt(++l),(u===43||u===45)&&(u=o.charCodeAt(++l)),l=aD(t,l,u),u=o.charCodeAt(l)),u===46||U1e(u))throw Xo(t,l,"Invalid number, expected digit but got: ".concat(v0(u),"."));return new li(c?st.FLOAT:st.INT,e,l,n,a,s,o.slice(e,l))}function aD(t,e,r){var n=t.body,a=e,s=r;if(s>=48&&s<=57){do s=n.charCodeAt(++a);while(s>=48&&s<=57);return a}throw Xo(t,a,"Invalid number, expected digit but got: ".concat(v0(s),"."))}function M1e(t,e,r,n,a){for(var s=t.body,o=e+1,u=o,l=0,c="";o<s.length&&!isNaN(l=s.charCodeAt(o))&&l!==10&&l!==13;){if(l===34)return c+=s.slice(u,o),new li(st.STRING,e,o+1,r,n,a,c);if(l<32&&l!==9)throw Xo(t,o,"Invalid character within String: ".concat(v0(l),"."));if(++o,l===92){switch(c+=s.slice(u,o-1),l=s.charCodeAt(o),l){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+=`
`;break;case 114:c+="\r";break;case 116:c+="	";break;case 117:{var d=k1e(s.charCodeAt(o+1),s.charCodeAt(o+2),s.charCodeAt(o+3),s.charCodeAt(o+4));if(d<0){var f=s.slice(o+1,o+5);throw Xo(t,o,"Invalid character escape sequence: \\u".concat(f,"."))}c+=String.fromCharCode(d),o+=4;break}default:throw Xo(t,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(l),"."))}++o,u=o}}throw Xo(t,o,"Unterminated string.")}function B1e(t,e,r,n,a,s){for(var o=t.body,u=e+3,l=u,c=0,d="";u<o.length&&!isNaN(c=o.charCodeAt(u));){if(c===34&&o.charCodeAt(u+1)===34&&o.charCodeAt(u+2)===34)return d+=o.slice(l,u),new li(st.BLOCK_STRING,e,u+3,r,n,a,I1e(d));if(c<32&&c!==9&&c!==10&&c!==13)throw Xo(t,u,"Invalid character within String: ".concat(v0(c),"."));c===10?(++u,++s.line,s.lineStart=u):c===13?(o.charCodeAt(u+1)===10?u+=2:++u,++s.line,s.lineStart=u):c===92&&o.charCodeAt(u+1)===34&&o.charCodeAt(u+2)===34&&o.charCodeAt(u+3)===34?(d+=o.slice(l,u)+'"""',u+=4,l=u):++u}throw Xo(t,u,"Unterminated string.")}function k1e(t,e,r,n){return GS(t)<<12|GS(e)<<8|GS(r)<<4|GS(n)}function GS(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function $1e(t,e,r,n,a){for(var s=t.body,o=s.length,u=e+1,l=0;u!==o&&!isNaN(l=s.charCodeAt(u))&&(l===95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++u;return new li(st.NAME,e,u,r,n,a,s.slice(e,u))}function U1e(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}var NW=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function V1e(t,e){var r=new h8(t,e);return r.parseDocument()}function H1e(t,e){var r=new h8(t,e);r.expectToken(st.SOF);var n=r.parseValueLiteral(!1);return r.expectToken(st.EOF),n}function q1e(t,e){var r=new h8(t,e);r.expectToken(st.SOF);var n=r.parseTypeReference();return r.expectToken(st.EOF),n}var h8=function(){function t(r,n){var a=y1e(r)?r:new c8(r);this._lexer=new DW(a),this._options=n}var e=t.prototype;return e.parseName=function(){var n=this.expectToken(st.NAME);return{kind:Tt.NAME,value:n.value,loc:this.loc(n)}},e.parseDocument=function(){var n=this._lexer.token;return{kind:Tt.DOCUMENT,definitions:this.many(st.SOF,this.parseDefinition,st.EOF),loc:this.loc(n)}},e.parseDefinition=function(){if(this.peek(st.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(st.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(st.BRACE_L))return{kind:Tt.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var a=this.parseOperationType(),s;return this.peek(st.NAME)&&(s=this.parseName()),{kind:Tt.OPERATION_DEFINITION,operation:a,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseOperationType=function(){var n=this.expectToken(st.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},e.parseVariableDefinitions=function(){return this.optionalMany(st.PAREN_L,this.parseVariableDefinition,st.PAREN_R)},e.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:Tt.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(st.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(st.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},e.parseVariable=function(){var n=this._lexer.token;return this.expectToken(st.DOLLAR),{kind:Tt.VARIABLE,name:this.parseName(),loc:this.loc(n)}},e.parseSelectionSet=function(){var n=this._lexer.token;return{kind:Tt.SELECTION_SET,selections:this.many(st.BRACE_L,this.parseSelection,st.BRACE_R),loc:this.loc(n)}},e.parseSelection=function(){return this.peek(st.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var n=this._lexer.token,a=this.parseName(),s,o;return this.expectOptionalToken(st.COLON)?(s=a,o=this.parseName()):o=a,{kind:Tt.FIELD,alias:s,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(st.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(n){var a=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(st.PAREN_L,a,st.PAREN_R)},e.parseArgument=function(){var n=this._lexer.token,a=this.parseName();return this.expectToken(st.COLON),{kind:Tt.ARGUMENT,name:a,value:this.parseValueLiteral(!1),loc:this.loc(n)}},e.parseConstArgument=function(){var n=this._lexer.token;return{kind:Tt.ARGUMENT,name:this.parseName(),value:(this.expectToken(st.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},e.parseFragment=function(){var n=this._lexer.token;this.expectToken(st.SPREAD);var a=this.expectOptionalKeyword("on");return!a&&this.peek(st.NAME)?{kind:Tt.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:Tt.INLINE_FRAGMENT,typeCondition:a?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseFragmentDefinition=function(){var n,a=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:Tt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}:{kind:Tt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(n){var a=this._lexer.token;switch(a.kind){case st.BRACKET_L:return this.parseList(n);case st.BRACE_L:return this.parseObject(n);case st.INT:return this._lexer.advance(),{kind:Tt.INT,value:a.value,loc:this.loc(a)};case st.FLOAT:return this._lexer.advance(),{kind:Tt.FLOAT,value:a.value,loc:this.loc(a)};case st.STRING:case st.BLOCK_STRING:return this.parseStringLiteral();case st.NAME:switch(this._lexer.advance(),a.value){case"true":return{kind:Tt.BOOLEAN,value:!0,loc:this.loc(a)};case"false":return{kind:Tt.BOOLEAN,value:!1,loc:this.loc(a)};case"null":return{kind:Tt.NULL,loc:this.loc(a)};default:return{kind:Tt.ENUM,value:a.value,loc:this.loc(a)}}case st.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:Tt.STRING,value:n.value,block:n.kind===st.BLOCK_STRING,loc:this.loc(n)}},e.parseList=function(n){var a=this,s=this._lexer.token,o=function(){return a.parseValueLiteral(n)};return{kind:Tt.LIST,values:this.any(st.BRACKET_L,o,st.BRACKET_R),loc:this.loc(s)}},e.parseObject=function(n){var a=this,s=this._lexer.token,o=function(){return a.parseObjectField(n)};return{kind:Tt.OBJECT,fields:this.any(st.BRACE_L,o,st.BRACE_R),loc:this.loc(s)}},e.parseObjectField=function(n){var a=this._lexer.token,s=this.parseName();return this.expectToken(st.COLON),{kind:Tt.OBJECT_FIELD,name:s,value:this.parseValueLiteral(n),loc:this.loc(a)}},e.parseDirectives=function(n){for(var a=[];this.peek(st.AT);)a.push(this.parseDirective(n));return a},e.parseDirective=function(n){var a=this._lexer.token;return this.expectToken(st.AT),{kind:Tt.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(a)}},e.parseTypeReference=function(){var n=this._lexer.token,a;return this.expectOptionalToken(st.BRACKET_L)?(a=this.parseTypeReference(),this.expectToken(st.BRACKET_R),a={kind:Tt.LIST_TYPE,type:a,loc:this.loc(n)}):a=this.parseNamedType(),this.expectOptionalToken(st.BANG)?{kind:Tt.NON_NULL_TYPE,type:a,loc:this.loc(n)}:a},e.parseNamedType=function(){var n=this._lexer.token;return{kind:Tt.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},e.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===st.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},e.peekDescription=function(){return this.peek(st.STRING)||this.peek(st.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("schema");var s=this.parseDirectives(!0),o=this.many(st.BRACE_L,this.parseOperationTypeDefinition,st.BRACE_R);return{kind:Tt.SCHEMA_DEFINITION,description:a,directives:s,operationTypes:o,loc:this.loc(n)}},e.parseOperationTypeDefinition=function(){var n=this._lexer.token,a=this.parseOperationType();this.expectToken(st.COLON);var s=this.parseNamedType();return{kind:Tt.OPERATION_TYPE_DEFINITION,operation:a,type:s,loc:this.loc(n)}},e.parseScalarTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("scalar");var s=this.parseName(),o=this.parseDirectives(!0);return{kind:Tt.SCALAR_TYPE_DEFINITION,description:a,name:s,directives:o,loc:this.loc(n)}},e.parseObjectTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("type");var s=this.parseName(),o=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:Tt.OBJECT_TYPE_DEFINITION,description:a,name:s,interfaces:o,directives:u,fields:l,loc:this.loc(n)}},e.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var a=[];this.expectOptionalToken(st.AMP);do a.push(this.parseNamedType());while(this.expectOptionalToken(st.AMP)||this.peek(st.NAME));return a}return this.delimitedMany(st.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(st.BRACE_L)&&this._lexer.lookahead().kind===st.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(st.BRACE_L,this.parseFieldDefinition,st.BRACE_R)},e.parseFieldDefinition=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName(),o=this.parseArgumentDefs();this.expectToken(st.COLON);var u=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:Tt.FIELD_DEFINITION,description:a,name:s,arguments:o,type:u,directives:l,loc:this.loc(n)}},e.parseArgumentDefs=function(){return this.optionalMany(st.PAREN_L,this.parseInputValueDef,st.PAREN_R)},e.parseInputValueDef=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName();this.expectToken(st.COLON);var o=this.parseTypeReference(),u;this.expectOptionalToken(st.EQUALS)&&(u=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:Tt.INPUT_VALUE_DEFINITION,description:a,name:s,type:o,defaultValue:u,directives:l,loc:this.loc(n)}},e.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("interface");var s=this.parseName(),o=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:Tt.INTERFACE_TYPE_DEFINITION,description:a,name:s,interfaces:o,directives:u,fields:l,loc:this.loc(n)}},e.parseUnionTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("union");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseUnionMemberTypes();return{kind:Tt.UNION_TYPE_DEFINITION,description:a,name:s,directives:o,types:u,loc:this.loc(n)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(st.EQUALS)?this.delimitedMany(st.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("enum");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseEnumValuesDefinition();return{kind:Tt.ENUM_TYPE_DEFINITION,description:a,name:s,directives:o,values:u,loc:this.loc(n)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(st.BRACE_L,this.parseEnumValueDefinition,st.BRACE_R)},e.parseEnumValueDefinition=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName(),o=this.parseDirectives(!0);return{kind:Tt.ENUM_VALUE_DEFINITION,description:a,name:s,directives:o,loc:this.loc(n)}},e.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("input");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseInputFieldsDefinition();return{kind:Tt.INPUT_OBJECT_TYPE_DEFINITION,description:a,name:s,directives:o,fields:u,loc:this.loc(n)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(st.BRACE_L,this.parseInputValueDef,st.BRACE_R)},e.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===st.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},e.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var a=this.parseDirectives(!0),s=this.optionalMany(st.BRACE_L,this.parseOperationTypeDefinition,st.BRACE_R);if(a.length===0&&s.length===0)throw this.unexpected();return{kind:Tt.SCHEMA_EXTENSION,directives:a,operationTypes:s,loc:this.loc(n)}},e.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var a=this.parseName(),s=this.parseDirectives(!0);if(s.length===0)throw this.unexpected();return{kind:Tt.SCALAR_TYPE_EXTENSION,name:a,directives:s,loc:this.loc(n)}},e.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&u.length===0)throw this.unexpected();return{kind:Tt.OBJECT_TYPE_EXTENSION,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(n)}},e.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&u.length===0)throw this.unexpected();return{kind:Tt.INTERFACE_TYPE_EXTENSION,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(n)}},e.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Tt.UNION_TYPE_EXTENSION,name:a,directives:s,types:o,loc:this.loc(n)}},e.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Tt.ENUM_TYPE_EXTENSION,name:a,directives:s,values:o,loc:this.loc(n)}},e.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Tt.INPUT_OBJECT_TYPE_EXTENSION,name:a,directives:s,fields:o,loc:this.loc(n)}},e.parseDirectiveDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("directive"),this.expectToken(st.AT);var s=this.parseName(),o=this.parseArgumentDefs(),u=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:Tt.DIRECTIVE_DEFINITION,description:a,name:s,arguments:o,repeatable:u,locations:l,loc:this.loc(n)}},e.parseDirectiveLocations=function(){return this.delimitedMany(st.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var n=this._lexer.token,a=this.parseName();if(NW[a.value]!==void 0)return a;throw this.unexpected(n)},e.loc=function(n){var a;if(((a=this._options)===null||a===void 0?void 0:a.noLocation)!==!0)return new f8(n,this._lexer.lastToken,this._lexer.source)},e.peek=function(n){return this._lexer.token.kind===n},e.expectToken=function(n){var a=this._lexer.token;if(a.kind===n)return this._lexer.advance(),a;throw Xo(this._lexer.source,a.start,"Expected ".concat(FW(n),", found ").concat(sD(a),"."))},e.expectOptionalToken=function(n){var a=this._lexer.token;if(a.kind===n)return this._lexer.advance(),a},e.expectKeyword=function(n){var a=this._lexer.token;if(a.kind===st.NAME&&a.value===n)this._lexer.advance();else throw Xo(this._lexer.source,a.start,'Expected "'.concat(n,'", found ').concat(sD(a),"."))},e.expectOptionalKeyword=function(n){var a=this._lexer.token;return a.kind===st.NAME&&a.value===n?(this._lexer.advance(),!0):!1},e.unexpected=function(n){var a=n??this._lexer.token;return Xo(this._lexer.source,a.start,"Unexpected ".concat(sD(a),"."))},e.any=function(n,a,s){this.expectToken(n);for(var o=[];!this.expectOptionalToken(s);)o.push(a.call(this));return o},e.optionalMany=function(n,a,s){if(this.expectOptionalToken(n)){var o=[];do o.push(a.call(this));while(!this.expectOptionalToken(s));return o}return[]},e.many=function(n,a,s){this.expectToken(n);var o=[];do o.push(a.call(this));while(!this.expectOptionalToken(s));return o},e.delimitedMany=function(n,a){this.expectOptionalToken(n);var s=[];do s.push(a.call(this));while(this.expectOptionalToken(n));return s},t}();function sD(t){var e=t.value;return FW(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function FW(t){return D1e(t)?'"'.concat(t,'"'):t}var z1e={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Vg=Object.freeze({});function LW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:z1e,n=void 0,a=Array.isArray(t),s=[t],o=-1,u=[],l=void 0,c=void 0,d=void 0,f=[],h=[],p=t;do{o++;var g=o===s.length,y=g&&u.length!==0;if(g){if(c=h.length===0?void 0:f[f.length-1],l=d,d=h.pop(),y){if(a)l=l.slice();else{for(var S={},v=0,A=Object.keys(l);v<A.length;v++){var E=A[v];S[E]=l[E]}l=S}for(var T=0,R=0;R<u.length;R++){var I=u[R][0],D=u[R][1];a&&(I-=T),a&&D===null?(l.splice(I,1),T++):l[I]=D}}o=n.index,s=n.keys,u=n.edits,a=n.inArray,n=n.prev}else{if(c=d?a?o:s[o]:void 0,l=d?d[c]:p,l==null)continue;d&&f.push(c)}var M=void 0;if(!Array.isArray(l)){if(!q7(l))throw new Error("Invalid AST Node: ".concat(OW(l),"."));var N=rE(e,l.kind,g);if(N){if(M=N.call(e,l,c,d,f,h),M===Vg)break;if(M===!1){if(!g){f.pop();continue}}else if(M!==void 0&&(u.push([c,M]),!g))if(q7(M))l=M;else{f.pop();continue}}}if(M===void 0&&y&&u.push([c,l]),g)f.pop();else{var O;n={inArray:a,index:o,keys:s,edits:u,prev:n},a=Array.isArray(l),s=a?l:(O=r[l.kind])!==null&&O!==void 0?O:[],o=-1,u=[],d&&h.push(d),d=l}}while(n!==void 0);return u.length!==0&&(p=u[u.length-1][1]),p}function G1e(t){var e=new Array(t.length);return{enter:function(n){for(var a=0;a<t.length;a++)if(e[a]==null){var s=rE(t[a],n.kind,!1);if(s){var o=s.apply(t[a],arguments);if(o===!1)e[a]=n;else if(o===Vg)e[a]=Vg;else if(o!==void 0)return o}}},leave:function(n){for(var a=0;a<t.length;a++)if(e[a]==null){var s=rE(t[a],n.kind,!0);if(s){var o=s.apply(t[a],arguments);if(o===Vg)e[a]=Vg;else if(o!==void 0&&o!==!1)return o}}else e[a]===n&&(e[a]=null)}}}function rE(t,e,r){var n=t[e];if(n){if(!r&&typeof n=="function")return n;var a=r?n.leave:n.enter;if(typeof a=="function")return a}else{var s=r?t.leave:t.enter;if(s){if(typeof s=="function")return s;var o=s[e];if(typeof o=="function")return o}}}function Q1e(t){return LW(t,{leave:K1e})}var W1e=80,K1e={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return kt(e.definitions,`

`)+`
`},OperationDefinition:function(e){var r=e.operation,n=e.name,a=oi("(",kt(e.variableDefinitions,", "),")"),s=kt(e.directives," "),o=e.selectionSet;return!n&&!s&&!a&&r==="query"?o:kt([r,kt([n,a]),s,o]," ")},VariableDefinition:function(e){var r=e.variable,n=e.type,a=e.defaultValue,s=e.directives;return r+": "+n+oi(" = ",a)+oi(" ",kt(s," "))},SelectionSet:function(e){var r=e.selections;return Hu(r)},Field:function(e){var r=e.alias,n=e.name,a=e.arguments,s=e.directives,o=e.selectionSet,u=oi("",r,": ")+n,l=u+oi("(",kt(a,", "),")");return l.length>W1e&&(l=u+oi(`(
`,Y2(kt(a,`
`)),`
)`)),kt([l,kt(s," "),o]," ")},Argument:function(e){var r=e.name,n=e.value;return r+": "+n},FragmentSpread:function(e){var r=e.name,n=e.directives;return"..."+r+oi(" ",kt(n," "))},InlineFragment:function(e){var r=e.typeCondition,n=e.directives,a=e.selectionSet;return kt(["...",oi("on ",r),kt(n," "),a]," ")},FragmentDefinition:function(e){var r=e.name,n=e.typeCondition,a=e.variableDefinitions,s=e.directives,o=e.selectionSet;return"fragment ".concat(r).concat(oi("(",kt(a,", "),")")," ")+"on ".concat(n," ").concat(oi("",kt(s," ")," "))+o},IntValue:function(e){var r=e.value;return r},FloatValue:function(e){var r=e.value;return r},StringValue:function(e,r){var n=e.value,a=e.block;return a?C1e(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(e){var r=e.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var r=e.value;return r},ListValue:function(e){var r=e.values;return"["+kt(r,", ")+"]"},ObjectValue:function(e){var r=e.fields;return"{"+kt(r,", ")+"}"},ObjectField:function(e){var r=e.name,n=e.value;return r+": "+n},Directive:function(e){var r=e.name,n=e.arguments;return"@"+r+oi("(",kt(n,", "),")")},NamedType:function(e){var r=e.name;return r},ListType:function(e){var r=e.type;return"["+r+"]"},NonNullType:function(e){var r=e.type;return r+"!"},SchemaDefinition:Vu(function(t){var e=t.directives,r=t.operationTypes;return kt(["schema",kt(e," "),Hu(r)]," ")}),OperationTypeDefinition:function(e){var r=e.operation,n=e.type;return r+": "+n},ScalarTypeDefinition:Vu(function(t){var e=t.name,r=t.directives;return kt(["scalar",e,kt(r," ")]," ")}),ObjectTypeDefinition:Vu(function(t){var e=t.name,r=t.interfaces,n=t.directives,a=t.fields;return kt(["type",e,oi("implements ",kt(r," & ")),kt(n," "),Hu(a)]," ")}),FieldDefinition:Vu(function(t){var e=t.name,r=t.arguments,n=t.type,a=t.directives;return e+(G7(r)?oi(`(
`,Y2(kt(r,`
`)),`
)`):oi("(",kt(r,", "),")"))+": "+n+oi(" ",kt(a," "))}),InputValueDefinition:Vu(function(t){var e=t.name,r=t.type,n=t.defaultValue,a=t.directives;return kt([e+": "+r,oi("= ",n),kt(a," ")]," ")}),InterfaceTypeDefinition:Vu(function(t){var e=t.name,r=t.interfaces,n=t.directives,a=t.fields;return kt(["interface",e,oi("implements ",kt(r," & ")),kt(n," "),Hu(a)]," ")}),UnionTypeDefinition:Vu(function(t){var e=t.name,r=t.directives,n=t.types;return kt(["union",e,kt(r," "),n&&n.length!==0?"= "+kt(n," | "):""]," ")}),EnumTypeDefinition:Vu(function(t){var e=t.name,r=t.directives,n=t.values;return kt(["enum",e,kt(r," "),Hu(n)]," ")}),EnumValueDefinition:Vu(function(t){var e=t.name,r=t.directives;return kt([e,kt(r," ")]," ")}),InputObjectTypeDefinition:Vu(function(t){var e=t.name,r=t.directives,n=t.fields;return kt(["input",e,kt(r," "),Hu(n)]," ")}),DirectiveDefinition:Vu(function(t){var e=t.name,r=t.arguments,n=t.repeatable,a=t.locations;return"directive @"+e+(G7(r)?oi(`(
`,Y2(kt(r,`
`)),`
)`):oi("(",kt(r,", "),")"))+(n?" repeatable":"")+" on "+kt(a," | ")}),SchemaExtension:function(e){var r=e.directives,n=e.operationTypes;return kt(["extend schema",kt(r," "),Hu(n)]," ")},ScalarTypeExtension:function(e){var r=e.name,n=e.directives;return kt(["extend scalar",r,kt(n," ")]," ")},ObjectTypeExtension:function(e){var r=e.name,n=e.interfaces,a=e.directives,s=e.fields;return kt(["extend type",r,oi("implements ",kt(n," & ")),kt(a," "),Hu(s)]," ")},InterfaceTypeExtension:function(e){var r=e.name,n=e.interfaces,a=e.directives,s=e.fields;return kt(["extend interface",r,oi("implements ",kt(n," & ")),kt(a," "),Hu(s)]," ")},UnionTypeExtension:function(e){var r=e.name,n=e.directives,a=e.types;return kt(["extend union",r,kt(n," "),a&&a.length!==0?"= "+kt(a," | "):""]," ")},EnumTypeExtension:function(e){var r=e.name,n=e.directives,a=e.values;return kt(["extend enum",r,kt(n," "),Hu(a)]," ")},InputObjectTypeExtension:function(e){var r=e.name,n=e.directives,a=e.fields;return kt(["extend input",r,kt(n," "),Hu(a)]," ")}};function Vu(t){return function(e){return kt([e.description,t(e)],`
`)}}function kt(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t==null?void 0:t.filter(function(n){return n}).join(r))!==null&&e!==void 0?e:""}function Hu(t){return oi(`{
`,Y2(kt(t,`
`)),`
}`)}function oi(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+r:""}function Y2(t){return oi("  ",t.replace(/\n/g,`
  `))}function X1e(t){return t.indexOf(`
`)!==-1}function G7(t){return t!=null&&t.some(X1e)}function J1e(t){return jW(t)||MW(t)||kW(t)}function jW(t){return t.kind===Tt.OPERATION_DEFINITION||t.kind===Tt.FRAGMENT_DEFINITION}function Y1e(t){return t.kind===Tt.FIELD||t.kind===Tt.FRAGMENT_SPREAD||t.kind===Tt.INLINE_FRAGMENT}function Z1e(t){return t.kind===Tt.VARIABLE||t.kind===Tt.INT||t.kind===Tt.FLOAT||t.kind===Tt.STRING||t.kind===Tt.BOOLEAN||t.kind===Tt.NULL||t.kind===Tt.ENUM||t.kind===Tt.LIST||t.kind===Tt.OBJECT}function ewe(t){return t.kind===Tt.NAMED_TYPE||t.kind===Tt.LIST_TYPE||t.kind===Tt.NON_NULL_TYPE}function MW(t){return t.kind===Tt.SCHEMA_DEFINITION||BW(t)||t.kind===Tt.DIRECTIVE_DEFINITION}function BW(t){return t.kind===Tt.SCALAR_TYPE_DEFINITION||t.kind===Tt.OBJECT_TYPE_DEFINITION||t.kind===Tt.INTERFACE_TYPE_DEFINITION||t.kind===Tt.UNION_TYPE_DEFINITION||t.kind===Tt.ENUM_TYPE_DEFINITION||t.kind===Tt.INPUT_OBJECT_TYPE_DEFINITION}function kW(t){return t.kind===Tt.SCHEMA_EXTENSION||$W(t)}function $W(t){return t.kind===Tt.SCALAR_TYPE_EXTENSION||t.kind===Tt.OBJECT_TYPE_EXTENSION||t.kind===Tt.INTERFACE_TYPE_EXTENSION||t.kind===Tt.UNION_TYPE_EXTENSION||t.kind===Tt.ENUM_TYPE_EXTENSION||t.kind===Tt.INPUT_OBJECT_TYPE_EXTENSION}const twe=Object.freeze(Object.defineProperty({__proto__:null,Source:c8,getLocation:tE,printLocation:RW,printSourceLocation:d8,Kind:Tt,TokenKind:st,Lexer:DW,parse:V1e,parseValue:H1e,parseType:q1e,print:Q1e,visit:LW,visitInParallel:G1e,getVisitFn:rE,BREAK:Vg,Location:f8,Token:li,isDefinitionNode:J1e,isExecutableDefinitionNode:jW,isSelectionNode:Y1e,isValueNode:Z1e,isTypeNode:ewe,isTypeSystemDefinitionNode:MW,isTypeDefinitionNode:BW,isTypeSystemExtensionNode:kW,isTypeExtensionNode:$W,DirectiveLocation:NW},Symbol.toStringTag,{value:"Module"})),rwe=h1(twe);var aw={};Object.defineProperty(aw,"__esModule",{value:!0});aw.Util=void 0;const nwe=lr,iwe=la,awe=Cr;let swe=class{constructor(e){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=e,this.dataFactory=e.dataFactory||new nwe.DataFactory,this.operationFactory=new awe.Factory(this.dataFactory),this.contextParser=new iwe.ContextParser}registerNodeHandler(e){this.nodeHandlers[e.targetKind]=e}registerNodeValueHandler(e){this.nodeValueHandlers[e.targetKind]=e}registerDirectiveNodeHandler(e){this.directiveNodeHandlers[e.targetKind]=e}handleNode(e,r){const n=this.nodeHandlers[e.kind];if(!n)throw new Error(`Unsupported GraphQL node '${e.kind}'`);return n.handle(e,r)}handleNodeValue(e,r,n){const a=this.nodeValueHandlers[e.kind];if(!a)throw new Error(`Unsupported GraphQL value node '${e.kind}'`);return a.handle(e,r,n)}handleDirectiveNode(e,r){const n=this.directiveNodeHandlers[e.directive.name.value];return n?n.handle(e,r):null}joinOperations(e){if(e.length===1)return e[0];const r=[],n=[];for(const a of e)a.type==="bgp"?r.push(a):n.push(a);if(r.length===e.length)return this.joinOperationsAsBgp(r);if(r.length===e.length-1&&n[0].type==="leftjoin"&&n[0].input[0].type==="bgp"){const a=n[0];return r.push(a.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(r),a.input[1])}else return n.length===e.length?this.joinOperationsAsNestedJoin(n):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(r),this.joinOperationsAsNestedJoin(n)])}joinOperationsAsBgp(e){return this.operationFactory.createBgp([].concat.apply([],e.map(r=>r.patterns)))}joinOperationsAsNestedJoin(e){return this.operationFactory.createJoin(e)}appendFieldToPath(e,r){return e.concat([r])}getFieldLabel(e){return(e.alias?e.alias:e.name).value}nameToVariable(e,r){return this.dataFactory.variable((r.path.length?r.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+e)}valueToNamedNode(e,r){const n=r.expandTerm(e,!0);if(this.settings.requireContext&&!n)throw new Error("No context entry was found for "+e);return this.dataFactory.namedNode(n||e)}getArgument(e,r){if(e){for(const n of e)if(n.name.value===r)return n}}newTypePattern(e,r,n){return this.operationFactory.createPattern(e,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(r.name.value,n.context),n.graph)}createQuadPattern(e,r,n,a,s){const o=this.valueToNamedNode(r.value,s);return s&&s.getContextRaw()[r.value]&&s.getContextRaw()[r.value]["@reverse"]?this.operationFactory.createPattern(n,o,e,a):this.operationFactory.createPattern(e,o,n,a)}createQuadPath(e,r,n,a,s,o){const u=this.valueToNamedNode(r.value,o);let l=this.operationFactory.createLink(u);for(const c of n.values){if(c.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+c.kind);l=this.operationFactory.createAlt([l,this.operationFactory.createLink(this.valueToNamedNode(c.value,o))])}return o&&o.getContextRaw()[r.value]&&o.getContextRaw()[r.value]["@reverse"]?this.operationFactory.createPath(a,l,e,s):this.operationFactory.createPath(e,l,a,s)}};aw.Util=swe;var owe=F&&F.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):a(d.value).then(u,l)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(ax,"__esModule",{value:!0});ax.Converter=void 0;const uwe=rwe,xs=u8,Ov=l8,lwe=Mm,cwe=aw;let Z2=class{constructor(e){e=e||{},e.variableDelimiter=e.variableDelimiter||"_",e.expressionVariableCounter=e.expressionVariableCounter||0,this.util=new cwe.Util(e),this.initializeNodeHandlers(e)}static registerNodeHandlers(e,r){e.registerNodeHandler(new xs.NodeHandlerDocument(e,r)),e.registerNodeHandler(new xs.NodeHandlerDefinitionOperation(e,r)),e.registerNodeHandler(new xs.NodeHandlerDefinitionFragment(e,r)),e.registerNodeHandler(new xs.NodeHandlerSelectionFragmentSpread(e,r)),e.registerNodeHandler(new xs.NodeHandlerSelectionInlineFragment(e,r)),e.registerNodeHandler(new xs.NodeHandlerSelectionField(e,r))}static registerNodeValueHandlers(e,r){e.registerNodeValueHandler(new xs.NodeValueHandlerVariable(e,r)),e.registerNodeValueHandler(new xs.NodeValueHandlerInt(e,r)),e.registerNodeValueHandler(new xs.NodeValueHandlerFloat(e,r)),e.registerNodeValueHandler(new xs.NodeValueHandlerString(e,r)),e.registerNodeValueHandler(new xs.NodeValueHandlerBoolean(e,r)),e.registerNodeValueHandler(new xs.NodeValueHandlerNull(e,r)),e.registerNodeValueHandler(new xs.NodeValueHandlerEnum(e,r)),e.registerNodeValueHandler(new xs.NodeValueHandlerList(e,r)),e.registerNodeValueHandler(new xs.NodeValueHandlerObject(e,r))}static registerDirectiveNodeHandlers(e,r){e.registerDirectiveNodeHandler(new Ov.DirectiveNodeHandlerInclude(e,r)),e.registerDirectiveNodeHandler(new Ov.DirectiveNodeHandlerOptional(e,r)),e.registerDirectiveNodeHandler(new Ov.DirectiveNodeHandlerPlural(e,r)),e.registerDirectiveNodeHandler(new Ov.DirectiveNodeHandlerSingle(e,r)),e.registerDirectiveNodeHandler(new Ov.DirectiveNodeHandlerSkip(e,r))}graphqlToSparqlAlgebra(e,r,n){return owe(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(e,yield this.util.contextParser.parse(r),n)})}graphqlToSparqlAlgebraRawContext(e,r,n){n=n||{};const a=typeof e=="string"?(0,uwe.parse)(e):e,s=this.indexFragments(a),o={context:r,fragmentDefinitions:s,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:lwe.SingularizeState.PLURAL,singularizeVariables:n.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:n.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(a,o)}indexFragments(e){const r={},n=[];for(const a of e.definitions)a.kind==="FragmentDefinition"?r[a.name.value]=a:n.push(a);return e.definitions=n,r}initializeNodeHandlers(e){Z2.registerNodeHandlers(this.util,e),Z2.registerNodeValueHandlers(this.util,e),Z2.registerDirectiveNodeHandlers(this.util,e)}};ax.Converter=Z2;var UW={};Object.defineProperty(UW,"__esModule",{value:!0});(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(u8,t),r(ax,t),r(Mm,t),r(UW,t),r(aw,t)})(TW);Object.defineProperty(BA,"__esModule",{value:!0});BA.ActorQueryParseGraphql=void 0;const dwe=o8,Q7=cn,fwe=TW;class hwe extends dwe.ActorQueryParse{constructor(e){super(e),this.graphqlToSparql=new fwe.Converter({requireContext:!0})}async test(e){var r;if(((r=e.queryFormat)==null?void 0:r.language)!=="graphql")throw new Error("This actor can only parse GraphQL queries");return!0}async run(e){const r=e.context.get(Q7.KeysInitQuery.jsonLdContext)||{},n={singularizeVariables:e.context.get(Q7.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(e.query,r,n)}}}BA.ActorQueryParseGraphql=hwe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(BA,t)})(SW);var VW={},ox={},Bl={},ux={},$0={},sw={};Object.defineProperty(sw,"__esModule",{value:!0});sw.ActorAbstractMediaTyped=void 0;const pwe=Ut;class gwe extends pwe.Actor{constructor(e){super(e)}async run(e){if("handle"in e){const r=e;return{handle:await this.runHandle(r.handle,r.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.getMediaTypes(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.getMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(e){if("handle"in e){const r=e;return{handle:await this.testHandle(r.handle,r.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.testMediaType(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.testMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}}sw.ActorAbstractMediaTyped=gwe;var lx={};Object.defineProperty(lx,"__esModule",{value:!0});lx.ActorAbstractMediaTypedFixed=void 0;const ywe=sw;class mwe extends ywe.ActorAbstractMediaTyped{constructor(e){super(e);const r=this.priorityScale||this.priorityScale===0?this.priorityScale:1;this.mediaTypePriorities&&Object.entries(this.mediaTypePriorities).forEach(([n,a],s)=>{this.mediaTypePriorities[n]=r*a}),this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(e,r,n){if(!(r in this.mediaTypePriorities))throw new Error(`Unrecognized media type: ${r}`);return await this.testHandleChecked(e,n)}async testMediaType(e){return!0}async getMediaTypes(e){return this.mediaTypePriorities}async testMediaTypeFormats(e){return!0}async getMediaTypeFormats(e){return this.mediaTypeFormats}}lx.ActorAbstractMediaTypedFixed=mwe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sw,t),r(lx,t)})($0);Object.defineProperty(ux,"__esModule",{value:!0});ux.ActorQueryResultSerialize=void 0;const vwe=$0;class bwe extends vwe.ActorAbstractMediaTyped{constructor(e){super(e)}}ux.ActorQueryResultSerialize=bwe;var cx={};Object.defineProperty(cx,"__esModule",{value:!0});cx.ActorQueryResultSerializeFixedMediaTypes=void 0;const _we=$0;class wwe extends _we.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e,r){return!0}}cx.ActorQueryResultSerializeFixedMediaTypes=wwe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ux,t),r(cx,t)})(Bl);Object.defineProperty(ox,"__esModule",{value:!0});ox.ActorQueryResultSerializeJson=void 0;const Swe=Bl,W7=dn,Twe=zr;class Ewe extends Swe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,r){if(!["bindings","quads","boolean"].includes(e.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}async runHandle(e,r,n){const a=new Twe.Readable;a._read=()=>{};let s=!0;if(e.type==="bindings"){const o=e.bindingsStream;a.push("["),o.on("error",u=>a.emit("error",u)),o.on("data",u=>{a.push(s?`
`:`,
`),a.push(JSON.stringify(Object.fromEntries([...u].map(([l,c])=>[l.value,W7.termToString(c)])))),s=!1}),o.on("end",()=>{a.push(s?`]
`:`
]
`),a.push(null)})}else if(e.type==="quads"){const o=e.quadStream;a.push("["),o.on("error",u=>a.emit("error",u)),o.on("data",u=>{a.push(s?`
`:`,
`),a.push(JSON.stringify(W7.quadToStringQuad(u))),s=!1}),o.on("end",()=>{a.push(s?`]
`:`
]
`),a.push(null)})}else try{a.push(`${JSON.stringify(await e.execute())}
`),a.push(null)}catch(o){setTimeout(()=>a.emit("error",o))}return{data:a}}}ox.ActorQueryResultSerializeJson=Ewe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ox,t)})(VW);var HW={},dx={};Object.defineProperty(dx,"__esModule",{value:!0});dx.ActorQueryResultSerializeSimple=void 0;const Awe=Bl,xwe=dn,Owe=zr;class Pp extends Awe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,r){if(!["bindings","quads","boolean","void"].includes(e.type))throw new Error("This actor can only handle bindings streams, quad streams, booleans, or updates.");return!0}static termToString(e){return e.termType==="Quad"?(0,xwe.termToString)(e):e.value}async runHandle(e,r,n){const a=new Owe.Readable;a._read=()=>{};let s;if(e.type==="bindings")s=e.bindingsStream,s.on("error",o=>a.emit("error",o)),s.on("data",o=>a.push(`${[...o].map(([u,l])=>`?${u.value}: ${Pp.termToString(l)}`).join(`
`)}

`)),s.on("end",()=>a.push(null));else if(e.type==="quads")s=e.quadStream,s.on("error",o=>a.emit("error",o)),s.on("data",o=>a.push(`subject: ${Pp.termToString(o.subject)}
predicate: ${Pp.termToString(o.predicate)}
object: ${Pp.termToString(o.object)}
graph: ${Pp.termToString(o.graph)}

`)),s.on("end",()=>a.push(null));else if(e.type==="boolean")try{a.push(`${JSON.stringify(await e.execute())}
`),a.push(null)}catch(o){setTimeout(()=>a.emit("error",o))}else e.execute().then(()=>{a.push(`ok
`),a.push(null)}).catch(o=>setTimeout(()=>a.emit("error",o)));return{data:a}}}dx.ActorQueryResultSerializeSimple=Pp;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(dx,t)})(HW);var qW={},fx={};Object.defineProperty(fx,"__esModule",{value:!0});fx.ActorQueryResultSerializeSparqlCsv=void 0;const Rwe=Bl,Iwe=zr;class Hg extends Rwe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToCsvBindings(e){if(!e)return"";let r=e.value;if(e.termType==="Literal")r=`${r}`;else if(e.termType==="BlankNode")r=`_:${r}`;else if(e.termType==="Quad"){let n=Hg.bindingToCsvBindings(e.object);e.object.termType==="Literal"&&(n=`"${n.replace(/"/ug,'""')}"`),r=`<< ${Hg.bindingToCsvBindings(e.subject)} ${Hg.bindingToCsvBindings(e.predicate)} ${n} >>`}else r=`<${r}>`;return/[",\n\r]/u.test(r)&&(r=`"${r.replace(/"/ug,'""')}"`),r}async testHandleChecked(e,r){if(e.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,r,n){const a=e,s=new Iwe.Readable;s._read=()=>{};const o=await a.metadata();return s.push(`${o.variables.map(u=>u.value).join(",")}\r
`),a.bindingsStream.on("error",u=>{s.emit("error",u)}),a.bindingsStream.on("data",u=>{s.push(`${o.variables.map(l=>Hg.bindingToCsvBindings(u.get(l))).join(",")}\r
`)}),a.bindingsStream.on("end",()=>{s.push(null)}),{data:s}}}fx.ActorQueryResultSerializeSparqlCsv=Hg;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fx,t)})(qW);var zW={},hx={},ow={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.stringQuadToQuad=cs.quadToStringQuad=cs.stringToTerm=cs.getLiteralLanguage=cs.getLiteralType=cs.getLiteralValue=cs.termToString=void 0;const Pwe=lr,GW=new Pwe.DataFactory;function Hd(t){if(t)switch(t.termType){case"NamedNode":return`<${Nwe(t.value)}>`;case"BlankNode":return`_:${t.value}`;case"Literal":{const e=t;return`"${Fwe(e.value)}"${e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&e.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${e.datatype.value}>`:""}${e.language?`@${e.language}`:""}`}case"Quad":return`<<${Hd(t.subject)} ${Hd(t.predicate)} ${Hd(t.object)}${t.graph.termType==="DefaultGraph"?"":` ${Hd(t.graph)}`}>>`;case"Variable":return`?${t.value}`;case"DefaultGraph":return t.value}}cs.termToString=Hd;function QW(t){const e=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(t);if(!e)throw new Error(`${t} is not a literal`);return e[1].replace(/\\"/ug,'"')}cs.getLiteralValue=QW;function WW(t){const e=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(t);if(!e)throw new Error(`${t} is not a literal`);return e[1]||(e[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}cs.getLiteralType=WW;function KW(t){const e=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(t);if(!e)throw new Error(`${t} is not a literal`);return e[1]?e[1].toLowerCase():""}cs.getLiteralLanguage=KW;function qd(t,e){if(e=e||GW,!t||t.length===0)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.slice(2));case"?":if(!e.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return e.variable(t.slice(1));case'"':{const r=KW(t),n=e.namedNode(WW(t));return e.literal(QW(t),r||n)}case"<":default:if(t.startsWith("<<")&&t.endsWith(">>")){const r=t.slice(2,-2),n=[];let a=0,s=0;for(let o=0;o<r.length;o++){const u=r[o];if(u==="<"&&a++,u===">"){if(a===0)throw new Error(`Found closing tag without opening tag in ${t}`);a--}u===" "&&a===0&&(n.push(r.slice(s,o)),s=o+1)}if(a!==0)throw new Error(`Found opening tag without closing tag in ${t}`);if(n.push(r.slice(s,r.length)),n.length!==3&&n.length!==4)throw new Error(`Nested quad syntax error ${t}`);return e.quad(qd(n[0]),qd(n[1]),qd(n[2]),n[3]?qd(n[3]):void 0)}if(!t.startsWith("<")||!t.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${t}`);return e.namedNode(t.slice(1,-1))}}cs.stringToTerm=qd;function Cwe(t){return{subject:Hd(t.subject),predicate:Hd(t.predicate),object:Hd(t.object),graph:Hd(t.graph)}}cs.quadToStringQuad=Cwe;function Dwe(t,e){return e=e||GW,e.quad(qd(t.subject,e),qd(t.predicate,e),qd(t.object,e),qd(t.graph,e))}cs.stringQuadToQuad=Dwe;function Nwe(t){return t.replace(U4,XW)}function Fwe(t){return U4.test(t)&&(t=t.replace(U4,XW)),t}const U4=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lwe=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function XW(t){const e=Lwe.get(t);if(!e){if(t.length===1){const n=t.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-n.length)}${n}`}const r=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-r.length)}${r}`}return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=cs;Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(ow);Object.defineProperty(hx,"__esModule",{value:!0});hx.ActorQueryResultSerializeSparqlTsv=void 0;const jwe=Bl,Mwe=ow,Bwe=zr;class p8 extends jwe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToTsvBindings(e){return e?(0,Mwe.termToString)(e).replace(/\t/gu,"\\t").replace(/\n/gu,"\\n").replace(/\r/gu,"\\r"):""}async testHandleChecked(e,r){if(e.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,r,n){const a=e,s=new Bwe.Readable;s._read=()=>{};const o=await a.metadata();return s.push(`${o.variables.map(u=>u.value).join("	")}
`),a.bindingsStream.on("error",u=>{s.emit("error",u)}),a.bindingsStream.on("data",u=>{s.push(`${o.variables.map(l=>p8.bindingToTsvBindings(u.get(l))).join("	")}
`)}),a.bindingsStream.on("end",()=>{s.push(null)}),{data:s}}}hx.ActorQueryResultSerializeSparqlTsv=p8;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hx,t)})(zW);var JW={},px={},gx={};Object.defineProperty(gx,"__esModule",{value:!0});gx.XmlSerializer=void 0;class kwe{constructor(e){this.stack=[],this.push=e,this.push(`<?xml version="1.0" encoding="UTF-8"?>
`)}open(e,r){this.push(`${this.identation()+this.formatTag(e,r,"open")}
`),this.stack.push(e)}close(){const e=this.stack.pop();if(e===void 0)throw new Error("There is no tag left to close");this.push(`${this.identation()+this.formatTag(e,{},"close")}
`)}add(e){this.push(this.serializeNode(e))}serializeNode(e){if(e.children===void 0)return`${this.identation()+this.formatTag(e.name,e.attributes,"self-closing")}
`;if(typeof e.children=="string")return`${this.identation()+this.formatTag(e.name,e.attributes,"open")+this.escape(e.children)+this.formatTag(e.name,{},"close")}
`;const r=[];r.push(`${this.identation()+this.formatTag(e.name,e.attributes,"open")}
`),this.stack.push(e.name);for(const n of e.children)r.push(this.serializeNode(n));return this.stack.pop(),r.push(`${this.identation()+this.formatTag(e.name,{},"close")}
`),r.join("")}identation(){return this.stack.map(e=>"  ").join("")}formatTag(e,r,n){return`<${n==="close"?"/":""}${e}${Object.entries(r||{}).map(a=>` ${a[0]}="${this.escape(a[1])}"`)}${n==="self-closing"?"/":""}>`}escape(e){return e.replace(/["&'<>]/gu,r=>{switch(r){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}}gx.XmlSerializer=kwe;Object.defineProperty(px,"__esModule",{value:!0});px.ActorQueryResultSerializeSparqlXml=void 0;const $we=Bl,Uwe=zr,Vwe=gx;class g8 extends $we.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToXmlBindings(e,r){return{name:"binding",attributes:{name:r.value},children:[this.valueToXmlValue(e)]}}static valueToXmlValue(e){let r;switch(e.termType){case"Literal":return e.language?r={"xml:lang":e.language}:e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?r={datatype:e.datatype.value}:r={},{name:"literal",attributes:r,children:e.value};case"BlankNode":return{name:"bnode",children:e.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(e.subject)]},{name:"predicate",children:[this.valueToXmlValue(e.predicate)]},{name:"object",children:[this.valueToXmlValue(e.object)]}]};default:return{name:"uri",children:e.value}}}async testHandleChecked(e,r){if(!["bindings","boolean"].includes(e.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(e,r,n){const a=new Uwe.Readable;a._read=()=>{};const s=new Vwe.XmlSerializer(u=>a.push(u));s.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"});const o=await e.metadata();if(s.add({name:"head",children:o.variables.map(u=>({name:"variable",attributes:{name:u.value}}))}),e.type==="bindings"){s.open("results");const u=e.bindingsStream;u.on("error",l=>{a.emit("error",l)}),u.on("data",l=>{s.add({name:"result",children:[...l].map(([c,d])=>g8.bindingToXmlBindings(d,c))})}),u.on("end",()=>{s.close(),s.close(),setTimeout(()=>a.push(null))})}else try{const u=await e.execute();s.add({name:"boolean",children:u.toString()}),s.close(),setTimeout(()=>a.push(null))}catch(u){setTimeout(()=>a.emit("error",u))}return{data:a}}}px.ActorQueryResultSerializeSparqlXml=g8;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(px,t)})(JW);var YW={},yx={};Object.defineProperty(yx,"__esModule",{value:!0});yx.ActorQueryResultSerializeTable=void 0;const Hwe=Bl,qwe=lr,zwe=dn,ZW=Oa,Gwe=zr,Qwe=new qwe.DataFactory,Wwe=ZW.QUAD_TERM_NAMES.map(t=>Qwe.variable(t));class nE extends Hwe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e),this.padding=nE.repeat(" ",this.columnWidth)}static repeat(e,r){return new Array(r+1).join(e)}async testHandleChecked(e,r){if(!["bindings","quads"].includes(e.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}termToString(e){return e.termType==="Quad"?(0,zwe.termToString)(e):e.value}pad(e){return e.length<=this.columnWidth?e+this.padding.slice(e.length):`${e.slice(0,this.columnWidth-1)}`}pushHeader(e,r){const n=r.map(a=>this.pad(a.value)).join(" ");e.push(`${n}
${nE.repeat("-",n.length)}
`)}pushRow(e,r,n){e.push(`${r.map(a=>n.has(a)?this.termToString(n.get(a)):"").map(a=>this.pad(a)).join(" ")}
`)}async runHandle(e,r,n){const a=new Gwe.Readable;a._read=()=>{};let s;if(e.type==="bindings"){s=e.bindingsStream;const o=(await e.metadata()).variables;this.pushHeader(a,o),s.on("error",u=>a.emit("error",u)),s.on("data",u=>this.pushRow(a,o,u))}else s=e.quadStream,this.pushHeader(a,Wwe),s.on("error",o=>a.emit("error",o)),s.on("data",o=>a.push(`${(0,ZW.getTerms)(o).map(u=>this.pad(this.termToString(u))).join(" ")}
`));return s.on("end",()=>a.push(null)),{data:a}}}yx.ActorQueryResultSerializeTable=nE;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(yx,t)})(YW);var eK={},E_={},tK={},mx={},rK={},V4={},vx={},af={};Object.defineProperty(af,"__esModule",{value:!0});af.Translator=void 0;class Kwe{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(e){throw new Error(`Invalid RDF ${e.datatype.value} value: '${e.value}'`)}registerHandler(e,r,n){for(const a of r)this.supportedRdfDatatypes.push(a),this.fromRdfHandlers[a.value]=e;for(const a of n){let s=this.toRdfHandlers[a];s||(this.toRdfHandlers[a]=s=[]),s.push(e)}}fromRdf(e,r){const n=this.fromRdfHandlers[e.datatype.value];return n?n.fromRdf(e,r):e.value}toRdf(e,r){const n=this.toRdfHandlers[typeof e];if(n)for(const a of n){const s=a.toRdf(e,r);if(s)return s}throw new Error(`Invalid JavaScript value: '${e}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}af.Translator=Kwe;Object.defineProperty(vx,"__esModule",{value:!0});vx.TypeHandlerBoolean=void 0;const Xwe=af;class bx{fromRdf(e,r){switch(e.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return r&&Xwe.Translator.incorrectRdfDataType(e),!1}toRdf(e,{datatype:r,dataFactory:n}){return n.literal(e?"true":"false",r||n.namedNode(bx.TYPE))}}vx.TypeHandlerBoolean=bx;bx.TYPE="http://www.w3.org/2001/XMLSchema#boolean";var _x={};Object.defineProperty(_x,"__esModule",{value:!0});_x.TypeHandlerDate=void 0;const Jwe=af;class tm{fromRdf(e,r){switch(r&&!e.value.match(tm.VALIDATORS[e.datatype.value.substr(33,e.datatype.value.length)])&&Jwe.Translator.incorrectRdfDataType(e),e.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(e.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const n=e.value.split("-");return new Date(0,parseInt(n[0],10)-1,parseInt(n[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(e.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(e.value+"-01");default:return new Date(e.value)}}toRdf(e,{datatype:r,dataFactory:n}){if(r=r||n.namedNode(tm.TYPES[0]),!(e instanceof Date))return null;const a=e;let s;switch(r.value){case"http://www.w3.org/2001/XMLSchema#gDay":s=String(a.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":s=a.getUTCMonth()+1+"-"+a.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":s=String(a.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":s=a.getUTCFullYear()+"-"+(a.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":s=a.toISOString().replace(/T.*$/,"");break;default:s=a.toISOString()}return n.literal(s,r)}}_x.TypeHandlerDate=tm;tm.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"];tm.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/};var wx={};Object.defineProperty(wx,"__esModule",{value:!0});wx.TypeHandlerNumberDouble=void 0;const Ywe=af;class Sx{fromRdf(e,r){const n=parseFloat(e.value);return r&&isNaN(n)&&Ywe.Translator.incorrectRdfDataType(e),n}toRdf(e,{datatype:r,dataFactory:n}){return r=r||n.namedNode(Sx.TYPES[0]),isNaN(e)?n.literal("NaN",r):isFinite(e)?e%1===0?null:n.literal(e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),r):n.literal(e>0?"INF":"-INF",r)}}wx.TypeHandlerNumberDouble=Sx;Sx.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"];var Tx={};Object.defineProperty(Tx,"__esModule",{value:!0});Tx.TypeHandlerNumberInteger=void 0;const Zwe=af;class zd{fromRdf(e,r){const n=parseInt(e.value,10);return r&&(isNaN(n)||e.value.indexOf(".")>=0)&&Zwe.Translator.incorrectRdfDataType(e),n}toRdf(e,{datatype:r,dataFactory:n}){return n.literal(String(e),r||(e<=zd.MAX_INT&&e>=zd.MIN_INT?n.namedNode(zd.TYPES[0]):n.namedNode(zd.TYPES[1])))}}Tx.TypeHandlerNumberInteger=zd;zd.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"];zd.MAX_INT=2147483647;zd.MIN_INT=-2147483648;var Ex={};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.TypeHandlerString=void 0;class nK{fromRdf(e){return e.value}toRdf(e,{datatype:r,dataFactory:n}){return n.literal(e,r)}}Ex.TypeHandlerString=nK;nK.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"];(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vx,t),r(_x,t),r(wx,t),r(Tx,t),r(Ex,t)})(V4);var iK={};Object.defineProperty(iK,"__esModule",{value:!0});(function(t){var e=F&&F.__createBinding||(Object.create?function(p,g,y,S){S===void 0&&(S=y),Object.defineProperty(p,S,{enumerable:!0,get:function(){return g[y]}})}:function(p,g,y,S){S===void 0&&(S=y),p[S]=g[y]}),r=F&&F.__exportStar||function(p,g){for(var y in p)y!=="default"&&!Object.prototype.hasOwnProperty.call(g,y)&&e(g,p,y)};Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportedJavaScriptPrimitives=t.getSupportedRdfDatatypes=t.getTermRaw=t.toRdf=t.fromRdf=void 0;const n=lr,a=V4,s=af;r(V4,t),r(iK,t),r(af,t);const o=new n.DataFactory,u=new s.Translator;u.registerHandler(new a.TypeHandlerString,a.TypeHandlerString.TYPES.map(p=>o.namedNode(p)),["string"]),u.registerHandler(new a.TypeHandlerBoolean,[a.TypeHandlerBoolean.TYPE].map(p=>o.namedNode(p)),["boolean"]),u.registerHandler(new a.TypeHandlerNumberDouble,a.TypeHandlerNumberDouble.TYPES.map(p=>o.namedNode(p)),["number"]),u.registerHandler(new a.TypeHandlerNumberInteger,a.TypeHandlerNumberInteger.TYPES.map(p=>o.namedNode(p)),["number"]),u.registerHandler(new a.TypeHandlerDate,a.TypeHandlerDate.TYPES.map(p=>o.namedNode(p)),["object"]);function l(p,g){return u.fromRdf(p,g)}t.fromRdf=l;function c(p,g){return g&&"namedNode"in g&&(g={dataFactory:g}),g=g||{},g&&!g.dataFactory&&(g.dataFactory=o),u.toRdf(p,g)}t.toRdf=c;function d(p,g){return p.termType==="Literal"?l(p,g):p.value}t.getTermRaw=d;function f(){return u.getSupportedRdfDatatypes()}t.getSupportedRdfDatatypes=f;function h(){return u.getSupportedJavaScriptPrimitives()}t.getSupportedJavaScriptPrimitives=h})(rK);var y8={},Ax={};Object.defineProperty(Ax,"__esModule",{value:!0});Ax.SparqlJsonParser=void 0;const eSe=lr,tSe=zr,K7=TH;class rSe{constructor(e){var r;e=e||{},this.dataFactory=e.dataFactory||new eSe.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(r=e.suppressMissingStreamResultsError)!==null&&r!==void 0?r:!0}parseJsonResults(e){return e.results.bindings.map(r=>this.parseJsonBindings(r))}parseJsonResultsStream(e){const r=u=>o.emit("error",u);e.on("error",r);const n=new K7;n.onError=r;let a=!1,s=!1;n.onValue=u=>{if(n.key==="vars"&&n.stack.length===2&&n.stack[1].key==="head")o.emit("variables",u.map(l=>this.dataFactory.variable(l))),a=!0;else if(n.key==="results"&&n.stack.length===1)s=!0;else if(typeof n.key=="number"&&n.stack.length===3&&n.stack[1].key==="results"&&n.stack[2].key==="bindings")try{o.push(this.parseJsonBindings(u))}catch(l){o.emit("error",l)}else n.key==="metadata"&&n.stack.length===1&&o.emit("metadata",u)};const o=e.on("end",u=>{!s&&!this.suppressMissingStreamResultsError?o.emit("error",new Error("No valid SPARQL query results were found.")):a||o.emit("variables",[])}).pipe(new tSe.Transform({objectMode:!0,transform(u,l,c){n.write(u),c()}}));return o}parseJsonBindings(e){const r={};for(const n in e){const a=e[n];r[this.prefixVariableQuestionMark?"?"+n:n]=this.parseJsonValue(a)}return r}parseJsonValue(e){let r;switch(e.type){case"bnode":r=this.dataFactory.blankNode(e.value);break;case"literal":e["xml:lang"]?r=this.dataFactory.literal(e.value,e["xml:lang"]):e.datatype?r=this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype)):r=this.dataFactory.literal(e.value);break;case"typed-literal":r=this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype));break;case"triple":const n=e.value;if(!n||!n.subject||!n.predicate||!n.object)throw new Error("Invalid quoted triple: "+JSON.stringify(e));r=this.dataFactory.quad(this.parseJsonValue(n.subject),this.parseJsonValue(n.predicate),this.parseJsonValue(n.object));break;default:r=this.dataFactory.namedNode(e.value);break}return r}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise((r,n)=>{const a=new K7;a.onError=n,a.onValue=s=>{a.key==="boolean"&&typeof s=="boolean"&&a.stack.length===1&&r(s)},e.on("error",n).on("data",s=>a.write(s)).on("end",()=>n(new Error("No valid ASK response was found.")))})}}Ax.SparqlJsonParser=rSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ax,t)})(y8);Object.defineProperty(mx,"__esModule",{value:!0});mx.Converter=void 0;const nSe=rK,iSe=y8;class ic{constructor(e){e=e||{delimiter:"_"},e.prefixVariableQuestionMark=!1,this.delimiter=e.delimiter||"_",this.parser=new iSe.SparqlJsonParser(e),this.materializeRdfJsTerms=e.materializeRdfJsTerms}static addValueToTree(e,r,n,a,s,o){const u=r[0],l=a?a+o+u:u,c=s.singularizeVariables[l];if(r.length===1)c?e[u]||(e[u]=n):(e[u]||(e[u]=[]),e[u].push(n));else{let d;c?(e[u]||(e[u]={}),d=e[u]):(e[u]||(e[u]=[{}]),d=e[u][0]),ic.addValueToTree(d,r.slice(1),n,l,s,o)}}static mergeTrees(e,r){if(typeof e!=typeof r)throw new Error(`Two incompatible tree nodes were found: ${typeof e} and ${typeof r}`);if(Array.isArray(e)!==Array.isArray(r))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(e)} and Array?${Array.isArray(r)}`);if(typeof e=="object"&&typeof r=="object"){if(e.termType&&r.termType)return e.equals(r)?{valid:!0,result:e}:{valid:!1,result:e};if(Array.isArray(e)&&Array.isArray(r)){if(e.length>0){const n=[];let a=!1;for(const s of e){const o=ic.mergeTrees(s,r[0]);o.valid?(a=!0,n.push(o.result)):n.push(s)}if(a)return{valid:!0,result:n}}return{valid:!0,result:e.concat(r)}}else{const n={};for(const a in r)n[a]=r[a];for(const a in e)if(n[a]){const s=ic.mergeTrees(e[a],n[a]);if(s.valid)n[a]=s.result;else return{valid:!1,result:e}}else n[a]=e[a];return{valid:!0,result:n}}}else throw new Error(`Unmergable tree types: ${typeof e} and ${typeof r}`)}static materializeTree(e){if(e.termType)return(0,nSe.getTermRaw)(e);if(Array.isArray(e))return e.map(ic.materializeTree);{const r={};for(const n in e)r[n]=ic.materializeTree(e[n]);return r}}sparqlJsonResultsToTree(e,r){return this.bindingsToTree(this.parser.parseJsonResults(e),r||{singularizeVariables:{}})}bindingsToTree(e,r){const n=r&&r.singularizeVariables[""];let a=n?{}:[];for(const s of e){const o=n?{}:[{}];for(const u in s){const l=u.split(this.delimiter),c=s[u];ic.addValueToTree(n?o:o[0],l,c,"",r,this.delimiter)}a=ic.mergeTrees(a,o).result}return this.materializeRdfJsTerms&&(a=ic.materializeTree(a)),a}}mx.Converter=ic;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mx,t)})(tK);Object.defineProperty(E_,"__esModule",{value:!0});E_.ActorQueryResultSerializeTree=void 0;const aSe=Bl,sSe=cn,oSe=Ut,uSe=zr,lSe=tK;class m8 extends aSe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingsStreamToGraphQl(e,r,n){const a=oSe.ActionContext.ensureActionContext(r);return new Promise((s,o)=>{const u=[],l=new lSe.Converter(n),c={singularizeVariables:a.get(sSe.KeysInitQuery.graphqlSingularizeVariables)||{}};e.on("error",o),e.on("data",d=>{u.push(Object.fromEntries([...d].map(([f,h])=>[f.value,h])))}),e.on("end",()=>{s(l.bindingsToTree(u,c))})})}async testHandleChecked(e){if(e.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,r){const n=new uSe.Readable;n._read=()=>{};const a=e.bindingsStream;return a.on("error",s=>n.emit("error",s)),m8.bindingsStreamToGraphQl(a,e.context,{materializeRdfJsTerms:!0}).then(s=>{n.push(JSON.stringify(s,null,"  ")),n.push(null)}).catch(s=>n.emit("error",s)),{data:n}}}E_.ActorQueryResultSerializeTree=m8;(function(t){var e=F&&F.__createBinding||(Object.create?function(s,o,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(o,u);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,l,c)}:function(s,o,u,l){l===void 0&&(l=u),s[l]=o[u]}),r=F&&F.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,s,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.bindingsStreamToGraphQl=void 0;const n=E_,{bindingsStreamToGraphQl:a}=n.ActorQueryResultSerializeTree;t.bindingsStreamToGraphQl=a,r(E_,t)})(eK);var qh={},xx={};Object.defineProperty(xx,"__esModule",{value:!0});xx.MediatorCombineUnion=void 0;const cSe=Ut;class dSe extends cSe.Mediator{constructor(e){super(e),this.combiner=this.createCombiner()}async mediate(e){let r;try{r=this.publish(e)}catch{r=[]}await Promise.all(r.map(({reply:a})=>a));const n=await Promise.all(r.map(a=>a.actor.runObservable(e)));return this.combiner(n)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return e=>{const r={};return r[this.field]={},[{}].concat(e.map(n=>n[this.field])).forEach((n,a,s)=>{r[this.field]={...n,...r[this.field]}}),r}}}xx.MediatorCombineUnion=dSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xx,t)})(qh);var aK={},Ox={},Rx={},Ix={},Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.ActorDereferenceBase=Vc.isHardError=Vc.emptyReadable=void 0;const fSe=cn,hSe=Ut,pSe=zr;function sK(){const t=new pSe.Readable;return t.push(null),t}Vc.emptyReadable=sK;function oK(t){return!t.get(fSe.KeysInitQuery.lenient)}Vc.isHardError=oK;class gSe extends hSe.Actor{constructor(e){super(e)}async dereferenceErrorHandler(e,r,n){if(oK(e.context))throw r;return this.logError(e.context,r.message),{...n,data:sK()}}}Vc.ActorDereferenceBase=gSe;Object.defineProperty(Ix,"__esModule",{value:!0});Ix.ActorDereference=void 0;const ySe=Vc;class mSe extends ySe.ActorDereferenceBase{constructor(e){super(e)}async handleDereferenceErrors(e,r,n,a=0){return this.dereferenceErrorHandler(e,r,{url:e.url,exists:!1,headers:n,requestTime:a})}}Ix.ActorDereference=mSe;var rm={};Object.defineProperty(rm,"__esModule",{value:!0});rm.ActorDereferenceParse=rm.getMediaTypeFromExtension=void 0;const vSe=zr,X7=Vc;function uK(t,e){const r=t.lastIndexOf(".");return r>=0&&(e==null?void 0:e[t.slice(r+1)])||""}rm.getMediaTypeFromExtension=uK;class bSe extends X7.ActorDereferenceBase{constructor(e){super(e)}async test(e){return!0}handleDereferenceStreamErrors(e,r){return(0,X7.isHardError)(e.context)||(r.on("error",n=>{this.logError(e.context,n.message,()=>({url:e.url})),r.push(null)}),r=r.pipe(new vSe.PassThrough({objectMode:!0}))),r}async run(e){var s,o;const{context:r}=e,n=await this.mediatorDereference.mediate({...e,mediaTypes:async()=>{var u,l;return(l=await((u=this.mediatorParseMediatypes)==null?void 0:u.mediate({context:r,mediaTypes:!0})))==null?void 0:l.mediaTypes}});let a;try{a=(await this.mediatorParse.mediate({context:r,handle:{context:r,...n,metadata:await this.getMetadata(n)},handleMediaType:n.mediaType||uK(n.url,this.mediaMappings)||e.mediaType})).handle,a.data=this.handleDereferenceStreamErrors(e,a.data)}catch(u){await((o=(s=n.data).close)==null?void 0:o.call(s)),a=await this.dereferenceErrorHandler(e,u,{})}return{...n,...a}}}rm.ActorDereferenceParse=bSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ix,t),r(rm,t),r(Vc,t)})(Rx);Object.defineProperty(Ox,"__esModule",{value:!0});Ox.ActorDereferenceFallback=void 0;const _Se=Rx;class wSe extends _Se.ActorDereference{constructor(e){super(e)}async test(e){return!0}async run(e){return this.handleDereferenceErrors(e,new Error(`Could not dereference '${e.url}'`))}}Ox.ActorDereferenceFallback=wSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ox,t)})(aK);var lK={},Px={},cK={},Cx={};Object.defineProperty(Cx,"__esModule",{value:!0});Cx.ActorRdfJoinEntriesSort=void 0;const SSe=Ut;class TSe extends SSe.Actor{constructor(e){super(e)}}Cx.ActorRdfJoinEntriesSort=TSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Cx,t)})(cK);Object.defineProperty(Px,"__esModule",{value:!0});Px.ActorRdfJoinEntriesSortCardinality=void 0;const ESe=cK;class ASe extends ESe.ActorRdfJoinEntriesSort{constructor(e){super(e)}async test(e){return!0}async run(e){return{entries:[...e.entries].sort((n,a)=>n.metadata.cardinality.value-a.metadata.cardinality.value)}}}Px.ActorRdfJoinEntriesSortCardinality=ASe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Px,t)})(lK);var dK={},nm={},fK={},Dx={};Object.defineProperty(Dx,"__esModule",{value:!0});Dx.ActorRdfJoinSelectivity=void 0;const xSe=Ut;class OSe extends xSe.Actor{constructor(e){super(e)}}Dx.ActorRdfJoinSelectivity=OSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Dx,t)})(fK);Object.defineProperty(nm,"__esModule",{value:!0});nm.JoinTypes=nm.ActorRdfJoinSelectivityVariableCounting=void 0;const RSe=fK,QS=Cr;class wd extends RSe.ActorRdfJoinSelectivity{constructor(e){super(e)}async test(e){return{accuracy:.5}}static getPatternCost(e){let r=1;return e.subject.termType==="Variable"&&(r+=4),(e.predicate.termType==="Variable"||e.type===QS.Algebra.types.PATH)&&(r+=1),e.object.termType==="Variable"&&(r+=2),e.graph.termType==="Variable"&&(r+=1),r/9}static getJoinTypes(e,r){const n=[];return e.subject.termType==="Variable"?(e.subject.equals(r.subject)&&n.push(jt.unboundSS),r.type==="pattern"&&e.subject.equals(r.predicate)&&n.push(jt.unboundSP),e.subject.equals(r.object)&&n.push(jt.unboundSO),e.subject.equals(r.graph)&&n.push(jt.unboundSG)):(e.subject.equals(r.subject)&&n.push(jt.boundSS),r.type==="pattern"&&e.subject.equals(r.predicate)&&n.push(jt.boundSP),e.subject.equals(r.object)&&n.push(jt.boundSO),e.subject.equals(r.graph)&&n.push(jt.boundSG)),e.type==="pattern"&&(e.predicate.termType==="Variable"?(e.predicate.equals(r.subject)&&n.push(jt.unboundPS),r.type==="pattern"&&e.predicate.equals(r.predicate)&&n.push(jt.unboundPP),e.predicate.equals(r.object)&&n.push(jt.unboundPO),e.predicate.equals(r.graph)&&n.push(jt.unboundPG)):(e.predicate.equals(r.subject)&&n.push(jt.boundPS),r.type==="pattern"&&e.predicate.equals(r.predicate)&&n.push(jt.boundPP),e.predicate.equals(r.object)&&n.push(jt.boundPO),e.predicate.equals(r.graph)&&n.push(jt.boundPG))),e.object.termType==="Variable"?(e.object.equals(r.subject)&&n.push(jt.unboundOS),r.type==="pattern"&&e.object.equals(r.predicate)&&n.push(jt.unboundOP),e.object.equals(r.object)&&n.push(jt.unboundOO),e.object.equals(r.graph)&&n.push(jt.unboundOG)):(e.object.equals(r.subject)&&n.push(jt.boundOS),r.type==="pattern"&&e.object.equals(r.predicate)&&n.push(jt.boundOP),e.object.equals(r.object)&&n.push(jt.boundOO),e.object.equals(r.graph)&&n.push(jt.boundOG)),e.graph.termType==="Variable"?(e.graph.equals(r.subject)&&n.push(jt.unboundGS),r.type==="pattern"&&e.graph.equals(r.predicate)&&n.push(jt.unboundGP),e.graph.equals(r.object)&&n.push(jt.unboundGO),e.graph.equals(r.graph)&&n.push(jt.unboundGG)):(e.graph.equals(r.subject)&&n.push(jt.boundGS),r.type==="pattern"&&e.graph.equals(r.predicate)&&n.push(jt.boundGP),e.graph.equals(r.object)&&n.push(jt.boundGO),e.graph.equals(r.graph)&&n.push(jt.boundGG)),n}static getOperationsPairwiseJoinCost(e,r){let n=wd.MAX_PAIRWISE_COST;for(const a of wd.getJoinTypes(e,r))switch(a){case jt.boundSS:n-=2*2;break;case jt.boundSP:n-=3*2;break;case jt.boundSO:n-=1*2;break;case jt.boundSG:n-=3*2;break;case jt.boundPS:n-=3*2;break;case jt.boundPP:return 1;case jt.boundPO:n-=3*2;break;case jt.boundPG:n-=3*2;break;case jt.boundOS:n-=1*2;break;case jt.boundOP:n-=3*2;break;case jt.boundOO:n-=1*2;break;case jt.boundOG:n-=3*2;break;case jt.boundGS:n-=3*2;break;case jt.boundGP:n-=3*2;break;case jt.boundGO:n-=3*2;break;case jt.boundGG:n-=3*2;break;case jt.unboundSS:n-=2;break;case jt.unboundSP:n-=3;break;case jt.unboundSO:n-=1;break;case jt.unboundSG:n-=3;break;case jt.unboundPS:n-=3;break;case jt.unboundPP:n-=3;break;case jt.unboundPO:n-=3;break;case jt.unboundPG:n-=3;break;case jt.unboundOS:n-=1;break;case jt.unboundOP:n-=3;break;case jt.unboundOO:n-=1;break;case jt.unboundOG:n-=3;break;case jt.unboundGS:n-=3;break;case jt.unboundGP:n-=3;break;case jt.unboundGO:n-=3;break;case jt.unboundGG:n-=3;break}return n/wd.MAX_PAIRWISE_COST}static getOperationsJoinCost(e){const r=[];for(const s of e)QS.Util.recurseOperation(s,{[QS.Algebra.types.PATTERN](o){return r.push(o),!1},[QS.Algebra.types.PATH](o){return r.push(o),!1}});let n=0,a=0;for(const s of r)for(const o of r)s!==o&&(n+=wd.getOperationsPairwiseJoinCost(s,o),a++);return a===0?1:n/a*r.reduce((s,o)=>s*wd.getPatternCost(o),1)}async run(e){return e.entries.length<=1?{selectivity:1}:{selectivity:wd.getOperationsJoinCost(e.entries.map(r=>r.operation))}}}nm.ActorRdfJoinSelectivityVariableCounting=wd;wd.MAX_PAIRWISE_COST=41*2;var jt;(function(t){t[t.boundSS=0]="boundSS",t[t.boundSP=1]="boundSP",t[t.boundSO=2]="boundSO",t[t.boundSG=3]="boundSG",t[t.boundPS=4]="boundPS",t[t.boundPP=5]="boundPP",t[t.boundPO=6]="boundPO",t[t.boundPG=7]="boundPG",t[t.boundOS=8]="boundOS",t[t.boundOP=9]="boundOP",t[t.boundOO=10]="boundOO",t[t.boundOG=11]="boundOG",t[t.boundGS=12]="boundGS",t[t.boundGP=13]="boundGP",t[t.boundGO=14]="boundGO",t[t.boundGG=15]="boundGG",t[t.unboundSS=16]="unboundSS",t[t.unboundSP=17]="unboundSP",t[t.unboundSO=18]="unboundSO",t[t.unboundSG=19]="unboundSG",t[t.unboundPS=20]="unboundPS",t[t.unboundPP=21]="unboundPP",t[t.unboundPO=22]="unboundPO",t[t.unboundPG=23]="unboundPG",t[t.unboundOS=24]="unboundOS",t[t.unboundOP=25]="unboundOP",t[t.unboundOO=26]="unboundOO",t[t.unboundOG=27]="unboundOG",t[t.unboundGS=28]="unboundGS",t[t.unboundGP=29]="unboundGP",t[t.unboundGO=30]="unboundGO",t[t.unboundGG=31]="unboundGG"})(jt||(nm.JoinTypes=jt={}));(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(nm,t)})(dK);var km={},Nx={};Object.defineProperty(Nx,"__esModule",{value:!0});Nx.MediatorNumber=void 0;const ISe=Ut;class PSe extends ISe.Mediator{constructor(e){super(e),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return e=>e.reduce((r,n,a)=>{const s=this.getOrDefault(n[this.field],Number.POSITIVE_INFINITY);return s!==null&&(Number.isNaN(r[0])||r[0]>s)?[s,a]:r},[Number.NaN,-1])[1];case"max":return e=>e.reduce((r,n,a)=>{const s=this.getOrDefault(n[this.field],Number.NEGATIVE_INFINITY);return s!==null&&(Number.isNaN(r[0])||r[0]<s)?[s,a]:r},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(e,r){return e===void 0?r:e}async mediateWith(e,r){let n=r.map(({reply:u})=>u);const a=[];if(this.ignoreErrors){const u={};u[this.field]=null,n=n.map(l=>l.catch(c=>(a.push(c),u)))}const s=await Promise.all(n),o=this.indexPicker(s);if(o<0)throw new Error(`All actors rejected their test in ${this.name}
${a.map(u=>u.message).join(`
`)}`);return r[o].actor}}Nx.MediatorNumber=PSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Nx,t)})(km);var hK={},Fx={},v8={},Lx={};Object.defineProperty(Lx,"__esModule",{value:!0});Lx.ActorRdfMetadata=void 0;const CSe=Ut;class DSe extends CSe.Actor{constructor(e){super(e)}}Lx.ActorRdfMetadata=DSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Lx,t)})(v8);Object.defineProperty(Fx,"__esModule",{value:!0});Fx.ActorRdfMetadataPrimaryTopic=void 0;const NSe=v8,J7=zr;class FSe extends NSe.ActorRdfMetadata{constructor(e){super(e)}async test(e){if(e.triples)throw new Error("This actor only supports non-triple quad streams.");return!0}async run(e){const r=new J7.Readable({objectMode:!0}),n=new J7.Readable({objectMode:!0}),a=()=>{r._read=n._read=()=>{},e.quads.on("error",l=>{r.emit("error",l),n.emit("error",l)});const s={};let o;const u={};e.quads.on("data",l=>{l.predicate.value==="http://rdfs.org/ns/void#subset"&&l.object.value===e.url?o=l.subject.value:l.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(u[l.object.value]=l.subject.value);let c=s[l.graph.value];c||(c=s[l.graph.value]=[]),c.push(l)}),e.quads.on("end",()=>{const l=o?u[o]:void 0;for(const c in s)if(c===l){for(const d of s[c])n.push(d);if(this.metadataToData)for(const d of s[c])r.push(d)}else{for(const d of s[c])r.push(d);if(!l&&this.dataToMetadataOnInvalidMetadataGraph)for(const d of s[c])n.push(d)}r.push(null),n.push(null)})};return r._read=n._read=()=>{a()},{data:r,metadata:n}}}Fx.ActorRdfMetadataPrimaryTopic=FSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Fx,t)})(hK);var pK={},jx={};Object.defineProperty(jx,"__esModule",{value:!0});jx.ActorRdfMetadataAll=void 0;const LSe=v8,Y7=zr;class jSe extends LSe.ActorRdfMetadata{constructor(e){super(e)}async test(e){return!0}async run(e){const r=new Y7.Readable({objectMode:!0}),n=new Y7.Readable({objectMode:!0});e.quads.on("error",s=>{r.emit("error",s),n.emit("error",s)});const a=()=>{r._read=n._read=()=>{},e.quads.on("data",s=>{r.push(s),n.push(s)}),e.quads.on("end",()=>{r.push(null),n.push(null)})};return r._read=n._read=()=>{a()},{data:r,metadata:n}}}jx.ActorRdfMetadataAll=jSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(jx,t)})(pK);var gK={},Mx={},gf={},Bx={};Object.defineProperty(Bx,"__esModule",{value:!0});Bx.ActorRdfMetadataExtract=void 0;const MSe=Ut;class BSe extends MSe.Actor{constructor(e){super(e)}}Bx.ActorRdfMetadataExtract=BSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Bx,t)})(gf);var H4={},kSe={get exports(){return H4},set exports(t){H4=t}};(function(t){(function(e){var r=function(){function g(y){this.options=y}return g.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},g}(),n=function(){function g(D){return Object.prototype.toString.apply(D)==="[object Array]"}function y(D){return Object.prototype.toString.apply(D)==="[object String]"}function S(D){return Object.prototype.toString.apply(D)==="[object Number]"}function v(D){return Object.prototype.toString.apply(D)==="[object Boolean]"}function A(D,M){var N="",O=!0,k;for(k=0;k<D.length;k+=1)O?O=!1:N+=M,N+=D[k];return N}function E(D,M){for(var N=[],O=0;O<D.length;O+=1)N.push(M(D[O]));return N}function T(D,M){for(var N=[],O=0;O<D.length;O+=1)M(D[O])&&N.push(D[O]);return N}function R(D){if(typeof D!="object"||D===null)return D;Object.freeze(D);var M,N;for(N in D)D.hasOwnProperty(N)&&(M=D[N],typeof M=="object"&&I(M));return D}function I(D){return typeof Object.freeze=="function"?R(D):D}return{isArray:g,isString:y,isNumber:S,isBoolean:v,join:A,map:E,filter:T,deepFreeze:I}}(),a=function(){function g(v){return v>="a"&&v<="z"||v>="A"&&v<="Z"}function y(v){return v>="0"&&v<="9"}function S(v){return y(v)||v>="a"&&v<="f"||v>="A"&&v<="F"}return{isAlpha:g,isDigit:y,isHexDigit:S}}(),s=function(){var g={encode:function(T){return unescape(encodeURIComponent(T))},numBytes:function(T){return T<=127?1:194<=T&&T<=223?2:224<=T&&T<=239?3:240<=T&&T<=244?4:0},isValidFollowingCharCode:function(T){return 128<=T&&T<=191}};function y(T){var R="",I=g.encode(T),D,M;for(M=0;M<I.length;M+=1)D=I.charCodeAt(M),R+="%"+(D<16?"0":"")+D.toString(16).toUpperCase();return R}function S(T,R){return T.charAt(R)==="%"&&a.isHexDigit(T.charAt(R+1))&&a.isHexDigit(T.charAt(R+2))}function v(T,R){return parseInt(T.substr(R,2),16)}function A(T){if(!S(T,0))return!1;var R=v(T,1),I=g.numBytes(R);if(I===0)return!1;for(var D=1;D<I;D+=1)if(!S(T,3*D)||!g.isValidFollowingCharCode(v(T,3*D+1)))return!1;return!0}function E(T,R){var I=T.charAt(R);if(!S(T,R))return I;var D=v(T,R+1),M=g.numBytes(D);if(M===0)return I;for(var N=1;N<M;N+=1)if(!S(T,R+3*N)||!g.isValidFollowingCharCode(v(T,R+3*N+1)))return I;return T.substr(R,3*M)}return{encodeCharacter:y,isPctEncoded:A,pctCharAt:E}}(),o=function(){function g(v){return a.isAlpha(v)||a.isDigit(v)||v==="_"||s.isPctEncoded(v)}function y(v){return a.isAlpha(v)||a.isDigit(v)||v==="-"||v==="."||v==="_"||v==="~"}function S(v){return v===":"||v==="/"||v==="?"||v==="#"||v==="["||v==="]"||v==="@"||v==="!"||v==="$"||v==="&"||v==="("||v===")"||v==="*"||v==="+"||v===","||v===";"||v==="="||v==="'"}return{isVarchar:g,isUnreserved:y,isReserved:S}}(),u=function(){function g(A,E){var T="",R,I="";for((typeof A=="number"||typeof A=="boolean")&&(A=A.toString()),R=0;R<A.length;R+=I.length)I=A.charAt(R),T+=o.isUnreserved(I)||E&&o.isReserved(I)?I:s.encodeCharacter(I);return T}function y(A){return g(A,!0)}function S(A,E){var T=s.pctCharAt(A,E);return T.length>1||o.isReserved(T)||o.isUnreserved(T)?T:s.encodeCharacter(T)}function v(A){var E="",T,R="";for(T=0;T<A.length;T+=R.length)R=s.pctCharAt(A,T),R.length>1?E+=R:E+=o.isReserved(R)||o.isUnreserved(R)?R:s.encodeCharacter(R);return E}return{encode:g,encodePassReserved:y,encodeLiteral:v,encodeLiteralCharacter:S}}(),l=function(){var g={};function y(S){g[S]={symbol:S,separator:S==="?"?"&":S===""||S==="+"||S==="#"?",":S,named:S===";"||S==="&"||S==="?",ifEmpty:S==="&"||S==="?"?"=":"",first:S==="+"?"":S,encode:S==="+"||S==="#"?u.encodePassReserved:u.encode,toString:function(){return this.symbol}}}return y(""),y("+"),y("#"),y("."),y("/"),y(";"),y("?"),y("&"),{valueOf:function(S){return g[S]?g[S]:"=,!@|".indexOf(S)>=0?null:g[""]}}}();function c(g){var y;if(g==null)return!1;if(n.isArray(g))return g.length>0;if(typeof g=="string"||typeof g=="number"||typeof g=="boolean")return!0;for(y in g)if(g.hasOwnProperty(y)&&c(g[y]))return!0;return!1}var d=function(){function g(y){this.literal=u.encodeLiteral(y)}return g.prototype.expand=function(){return this.literal},g.prototype.toString=g.prototype.expand,g}(),f=function(){function g(S){var v,A=[],E=null,T=null,R=null,I,D="";function M(){var O=S.substring(T,I);if(O.length===0)throw new r({expressionText:S,message:"a varname must be specified",position:I});E={varname:O,exploded:!1,maxLength:null},T=null}function N(){if(R===I)throw new r({expressionText:S,message:"after a ':' you have to specify the length",position:I});E.maxLength=parseInt(S.substring(R,I),10),R=null}for(v=function(O){var k=l.valueOf(O);if(k===null)throw new r({expressionText:S,message:"illegal use of reserved operator",position:I,operator:O});return k}(S.charAt(0)),I=v.symbol.length,T=I;I<S.length;I+=D.length){if(D=s.pctCharAt(S,I),T!==null){if(D==="."){if(T===I)throw new r({expressionText:S,message:"a varname MUST NOT start with a dot",position:I});continue}if(o.isVarchar(D))continue;M()}if(R!==null){if(I===R&&D==="0")throw new r({expressionText:S,message:"A :prefix must not start with digit 0",position:I});if(a.isDigit(D)){if(I-R>=4)throw new r({expressionText:S,message:"A :prefix must have max 4 digits",position:I});continue}N()}if(D===":"){if(E.maxLength!==null)throw new r({expressionText:S,message:"only one :maxLength is allowed per varspec",position:I});if(E.exploded)throw new r({expressionText:S,message:"an exploeded varspec MUST NOT be varspeced",position:I});R=I+1;continue}if(D==="*"){if(E===null)throw new r({expressionText:S,message:"exploded without varspec",position:I});if(E.exploded)throw new r({expressionText:S,message:"exploded twice",position:I});if(E.maxLength)throw new r({expressionText:S,message:"an explode (*) MUST NOT follow to a prefix",position:I});E.exploded=!0;continue}if(D===","){A.push(E),E=null,T=I+1;continue}throw new r({expressionText:S,message:"illegal character",character:D,position:I})}return T!==null&&M(),R!==null&&N(),A.push(E),new h(S,v,A)}function y(S){var v,A,E=[],T=null,R=0;for(v=0;v<S.length;v+=1){if(A=S.charAt(v),R!==null){if(A==="}")throw new r({templateText:S,message:"unopened brace closed",position:v});A==="{"&&(R<v&&E.push(new d(S.substring(R,v))),R=null,T=v);continue}if(T!==null){if(A==="{")throw new r({templateText:S,message:"brace already opened",position:v});if(A==="}"){if(T+1===v)throw new r({templateText:S,message:"empty braces",position:T});try{E.push(g(S.substring(T+1,v)))}catch(I){throw I.prototype===r.prototype?new r({templateText:S,message:I.options.message,position:T+I.options.position,details:I.options}):I}T=null,R=v+1}continue}throw new Error("reached unreachable code")}if(T!==null)throw new r({templateText:S,message:"unclosed brace",position:T});return R<S.length&&E.push(new d(S.substr(R))),new p(S,E)}return y}(),h=function(){function g(D){return JSON&&JSON.stringify?JSON.stringify(D):D}function y(D){if(!c(D))return!0;if(n.isString(D))return D==="";if(n.isNumber(D)||n.isBoolean(D))return!1;if(n.isArray(D))return D.length===0;for(var M in D)if(D.hasOwnProperty(M))return!1;return!0}function S(D){var M=[],N;for(N in D)D.hasOwnProperty(N)&&M.push({name:N,value:D[N]});return M}function v(D,M,N){this.templateText=D,this.operator=M,this.varspecs=N}v.prototype.toString=function(){return this.templateText};function A(D,M,N){var O="";if(N=N.toString(),M.named){if(O+=u.encodeLiteral(D.varname),N==="")return O+=M.ifEmpty,O;O+="="}return D.maxLength!==null&&(N=N.substr(0,D.maxLength)),O+=M.encode(N),O}function E(D){return c(D.value)}function T(D,M,N){var O=[],k="";if(M.named){if(k+=u.encodeLiteral(D.varname),y(N))return k+=M.ifEmpty,k;k+="="}return n.isArray(N)?(O=N,O=n.filter(O,c),O=n.map(O,M.encode),k+=n.join(O,",")):(O=S(N),O=n.filter(O,E),O=n.map(O,function(Y){return M.encode(Y.name)+","+M.encode(Y.value)}),k+=n.join(O,",")),k}function R(D,M,N){var O=n.isArray(N),k=[];return O?(k=N,k=n.filter(k,c),k=n.map(k,function(Y){var ne=u.encodeLiteral(D.varname);return y(Y)?ne+=M.ifEmpty:ne+="="+M.encode(Y),ne})):(k=S(N),k=n.filter(k,E),k=n.map(k,function(Y){var ne=u.encodeLiteral(Y.name);return y(Y.value)?ne+=M.ifEmpty:ne+="="+M.encode(Y.value),ne})),n.join(k,M.separator)}function I(D,M){var N=[],O="";return n.isArray(M)?(N=M,N=n.filter(N,c),N=n.map(N,D.encode),O+=n.join(N,D.separator)):(N=S(M),N=n.filter(N,function(k){return c(k.value)}),N=n.map(N,function(k){return D.encode(k.name)+"="+D.encode(k.value)}),O+=n.join(N,D.separator)),O}return v.prototype.expand=function(D){var M=[],N,O,k,Y=this.operator;for(N=0;N<this.varspecs.length;N+=1)if(O=this.varspecs[N],k=D[O.varname],k!=null)if(O.exploded,n.isArray(k),typeof k=="string"||typeof k=="number"||typeof k=="boolean")M.push(A(O,Y,k));else{if(O.maxLength&&c(k))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+g(k));O.exploded?c(k)&&(Y.named?M.push(R(O,Y,k)):M.push(I(Y,k))):(Y.named||!y(k))&&M.push(T(O,Y,k))}return M.length===0?"":Y.first+n.join(M,Y.separator)},v}(),p=function(){function g(y,S){this.templateText=y,this.expressions=S,n.deepFreeze(this)}return g.prototype.toString=function(){return this.templateText},g.prototype.expand=function(y){var S,v="";for(S=0;S<this.expressions.length;S+=1)v+=this.expressions[S].expand(y);return v},g.parse=f,g.UriTemplateError=r,g}();e(p)})(function(e){t.exports=e})})(kSe);Object.defineProperty(Mx,"__esModule",{value:!0});Mx.ActorRdfMetadataExtractHydraControls=void 0;const $Se=gf,USe=H4;class u0 extends $Se.ActorRdfMetadataExtract{constructor(e){super(e),this.parsedUriTemplateCache={}}async test(e){return!0}getLinks(e,r){return Object.fromEntries(u0.LINK_TYPES.map(n=>{const a=r[n]||r[`${n}Page`],s=a&&a[e];return[n,s&&s.length>0?s[0]:null]}))}parseUriTemplateCached(e){const r=this.parsedUriTemplateCache[e];return r||(this.parsedUriTemplateCache[e]=(0,USe.parse)(e))}getSearchForms(e){const r=e.search,n=[];if(r)for(const a in r)for(const s of r[a]){const o=(e.template||{})[s]||[];if(o.length!==1)throw new Error(`Expected 1 hydra:template for ${s}`);const u=o[0],l=this.parseUriTemplateCached(u),c=Object.fromEntries(((e.mapping||{})[s]||[]).map(f=>{const h=((e.variable||{})[f]||[])[0],p=((e.property||{})[f]||[])[0];if(!h)throw new Error(`Expected a hydra:variable for ${f}`);if(!p)throw new Error(`Expected a hydra:property for ${f}`);return[p,h]})),d=f=>l.expand(Object.fromEntries(Object.keys(f).map(h=>[c[h],f[h]])));n.push({dataset:a,template:u,mappings:c,getUri:d})}return{values:n}}getHydraProperties(e){return new Promise((r,n)=>{e.on("error",n);const a={};e.on("data",s=>{if(s.predicate.value.startsWith(u0.HYDRA)){const o=s.predicate.value.slice(u0.HYDRA.length),u=a[o]||(a[o]={});(u[s.subject.value]||(u[s.subject.value]=[])).push(s.object.value)}}),e.on("end",()=>r(a))})}async run(e){const r={},n=await this.getHydraProperties(e.metadata);return Object.assign(r,this.getLinks(e.url,n)),r.searchForms=this.getSearchForms(n),{metadata:r}}}Mx.ActorRdfMetadataExtractHydraControls=u0;u0.HYDRA="http://www.w3.org/ns/hydra/core#";u0.LINK_TYPES=["first","next","previous","last"];(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Mx,t)})(gK);var yK={},kx={};Object.defineProperty(kx,"__esModule",{value:!0});kx.ActorRdfMetadataExtractHydraCount=void 0;const VSe=gf;class HSe extends VSe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}run(e){return new Promise((r,n)=>{e.metadata.on("error",n),e.metadata.on("data",a=>{this.predicates.includes(a.predicate.value)&&r({metadata:{cardinality:{type:"estimate",value:Number.parseInt(a.object.value,10),dataset:a.subject.value}}})}),e.metadata.on("end",()=>{r({metadata:{cardinality:{type:"estimate",value:0}}})})})}}kx.ActorRdfMetadataExtractHydraCount=HSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kx,t)})(yK);var mK={},$x={};Object.defineProperty($x,"__esModule",{value:!0});$x.ActorRdfMetadataExtractHydraPagesize=void 0;const qSe=gf;class zSe extends qSe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){return new Promise((r,n)=>{e.metadata.on("error",n),e.metadata.on("data",a=>{this.predicates.includes(a.predicate.value)&&r({metadata:{pageSize:Number.parseInt(a.object.value,10)}})}),e.metadata.on("end",()=>{r({metadata:{}})})})}}$x.ActorRdfMetadataExtractHydraPagesize=zSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($x,t)})(mK);var vK={},Ux={};Object.defineProperty(Ux,"__esModule",{value:!0});Ux.ActorRdfMetadataExtractRequestTime=void 0;const GSe=gf;class QSe extends GSe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){return{metadata:{requestTime:e.requestTime}}}}Ux.ActorRdfMetadataExtractRequestTime=QSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ux,t)})(vK);var bK={},Vx={};Object.defineProperty(Vx,"__esModule",{value:!0});Vx.ActorRdfMetadataExtractAllowHttpMethods=void 0;const WSe=gf;class KSe extends WSe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){var n,a;const r={};return(n=e.headers)!=null&&n.get("allow")&&(r.allowHttpMethods=(a=e.headers.get("allow"))==null?void 0:a.split(/, */u)),{metadata:r}}}Vx.ActorRdfMetadataExtractAllowHttpMethods=KSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Vx,t)})(bK);var _K={},Hx={};Object.defineProperty(Hx,"__esModule",{value:!0});Hx.ActorRdfMetadataExtractPutAccepted=void 0;const XSe=gf;class JSe extends XSe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){var n,a;const r={};return(n=e.headers)!=null&&n.get("accept-put")&&(r.putAccepted=(a=e.headers.get("accept-put"))==null?void 0:a.split(/, */u)),{metadata:r}}}Hx.ActorRdfMetadataExtractPutAccepted=JSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Hx,t)})(_K);var wK={},qx={};Object.defineProperty(qx,"__esModule",{value:!0});qx.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const YSe=gf;class ZSe extends YSe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){var n,a,s,o;const r={};return((a=(n=e.headers)==null?void 0:n.get("accept-patch"))!=null&&a.includes("application/sparql-update")||(o=(s=e.headers)==null?void 0:s.get("ms-author-via"))!=null&&o.includes("SPARQL"))&&(r.patchSparqlUpdate=!0),{metadata:r}}}qx.ActorRdfMetadataExtractPatchSparqlUpdate=ZSe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(qx,t)})(wK);var SK={},zx={};Object.defineProperty(zx,"__esModule",{value:!0});zx.ActorRdfMetadataExtractSparqlService=void 0;const e2e=gf,t2e=Ru;class r2e extends e2e.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){return new Promise((r,n)=>{e.metadata.on("error",n);const a={};e.metadata.on("data",s=>{s.predicate.value==="http://www.w3.org/ns/sparql-service-description#endpoint"&&(s.subject.termType==="BlankNode"||s.subject.value===e.url)?(a.sparqlService=s.object.termType==="Literal"?(0,t2e.resolve)(s.object.value,e.url):s.object.value,this.inferHttpsEndpoint&&e.url.startsWith("https")&&!a.sparqlService.startsWith("https")&&(a.sparqlService=a.sparqlService.replace("http:","https:"))):s.predicate.value==="http://www.w3.org/ns/sparql-service-description#defaultGraph"&&(a.defaultGraph=s.object.value)}),e.metadata.on("end",()=>{r({metadata:a})})})}}zx.ActorRdfMetadataExtractSparqlService=r2e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(zx,t)})(SK);var TK={},Gx={},uw={},Qx={};Object.defineProperty(Qx,"__esModule",{value:!0});Qx.ActorRdfMetadataAccumulate=void 0;const n2e=Ut;class i2e extends n2e.Actor{constructor(e){super(e)}}Qx.ActorRdfMetadataAccumulate=i2e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Qx,t)})(uw);Object.defineProperty(Gx,"__esModule",{value:!0});Gx.ActorRdfMetadataAccumulateCanContainUndefs=void 0;const a2e=uw;class s2e extends a2e.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return!0}async run(e){if(e.mode==="initialize")return{metadata:{canContainUndefs:!1}};let r=e.accumulatedMetadata.canContainUndefs;return e.appendingMetadata.canContainUndefs&&(r=!0),{metadata:{canContainUndefs:r}}}}Gx.ActorRdfMetadataAccumulateCanContainUndefs=s2e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Gx,t)})(TK);var EK={},Wx={};Object.defineProperty(Wx,"__esModule",{value:!0});Wx.ActorRdfMetadataAccumulateCardinality=void 0;const o2e=uw;class u2e extends o2e.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return!0}async run(e){if(e.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const r={...e.accumulatedMetadata.cardinality};if(r.dataset)if(e.appendingMetadata.cardinality.dataset){if(r.dataset!==e.appendingMetadata.cardinality.dataset&&e.appendingMetadata.subsetOf===r.dataset)return{metadata:{cardinality:e.appendingMetadata.cardinality}};if(r.dataset!==e.appendingMetadata.cardinality.dataset)delete r.dataset;else return{metadata:{cardinality:r}}}else return{metadata:{cardinality:r}};return!e.appendingMetadata.cardinality||!Number.isFinite(e.appendingMetadata.cardinality.value)?(r.type="estimate",r.value=Number.POSITIVE_INFINITY):(e.appendingMetadata.cardinality.type==="estimate"&&(r.type="estimate"),r.value+=e.appendingMetadata.cardinality.value),{metadata:{cardinality:r}}}}Wx.ActorRdfMetadataAccumulateCardinality=u2e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Wx,t)})(EK);var AK={},Kx={};Object.defineProperty(Kx,"__esModule",{value:!0});Kx.ActorRdfMetadataAccumulatePageSize=void 0;const l2e=uw;class c2e extends l2e.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return!0}async run(e){return e.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in e.accumulatedMetadata||"pageSize"in e.appendingMetadata?{pageSize:(e.accumulatedMetadata.pageSize||0)+(e.appendingMetadata.pageSize||0)}:{}}}}}Kx.ActorRdfMetadataAccumulatePageSize=c2e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Kx,t)})(AK);var xK={},Xx={};Object.defineProperty(Xx,"__esModule",{value:!0});Xx.ActorRdfMetadataAccumulateRequestTime=void 0;const d2e=uw;class f2e extends d2e.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return!0}async run(e){return e.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in e.accumulatedMetadata||"requestTime"in e.appendingMetadata?{requestTime:(e.accumulatedMetadata.requestTime||0)+(e.appendingMetadata.requestTime||0)}:{}}}}}Xx.ActorRdfMetadataAccumulateRequestTime=f2e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Xx,t)})(xK);var OK={},Jx={},U0={},Yx={};Object.defineProperty(Yx,"__esModule",{value:!0});Yx.ActorRdfParse=void 0;const h2e=$0;class p2e extends h2e.ActorAbstractMediaTyped{constructor(e){super(e)}}Yx.ActorRdfParse=p2e;var Zx={};Object.defineProperty(Zx,"__esModule",{value:!0});Zx.ActorRdfParseFixedMediaTypes=void 0;const g2e=$0;class y2e extends g2e.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}}Zx.ActorRdfParseFixedMediaTypes=y2e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Yx,t),r(Zx,t)})(U0);const zh=h1(Tce);Object.defineProperty(Jx,"__esModule",{value:!0});Jx.ActorRdfParseN3=void 0;const m2e=U0,v2e=zh;class b2e extends m2e.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){var s;e.data.on("error",o=>a.emit("error",o));const a=e.data.pipe(new v2e.StreamParser({baseIRI:(s=e.metadata)==null?void 0:s.baseIRI,format:r.endsWith("n3")?r:`${r}*`}));return{data:a,metadata:{triples:r==="text/turtle"||r==="application/n-triples"||r==="text/n3"}}}}Jx.ActorRdfParseN3=b2e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Jx,t)})(OK);var RK={},eO={},IK={},im={},b0={},PK={};(function(t){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR=`	
\r ---`,t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z-----------",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9--",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var e=9,r=10,n=13,a=32;t.S_LIST=[a,r,n,e];function s(c){return c>=a&&c<=55295||c===r||c===n||c===e||c>=57344&&c<=65533||c>=65536&&c<=1114111}t.isChar=s;function o(c){return c===a||c===r||c===n||c===e}t.isS=o;function u(c){return c>=65&&c<=90||c>=97&&c<=122||c===58||c===95||c===8204||c===8205||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}t.isNameStartChar=u;function l(c){return u(c)||c>=48&&c<=57||c===45||c===46||c===183||c>=768&&c<=879||c>=8255&&c<=8256}t.isNameChar=l})(PK);var CK={};(function(t){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR="---",t.RESTRICTED_CHAR="-\b\v\f---",t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z-----------",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9--",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var e=9,r=10,n=13,a=32;t.S_LIST=[a,r,n,e];function s(f){return f>=1&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}t.isChar=s;function o(f){return f>=1&&f<=8||f===11||f===12||f>=14&&f<=31||f>=127&&f<=132||f>=134&&f<=159}t.isRestrictedChar=o;function u(f){return f===9||f===10||f===13||f>31&&f<127||f===133||f>159&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}t.isCharAndNotRestricted=u;function l(f){return f===a||f===r||f===n||f===e}t.isS=l;function c(f){return f>=65&&f<=90||f>=97&&f<=122||f===58||f===95||f===8204||f===8205||f>=192&&f<=214||f>=216&&f<=246||f>=248&&f<=767||f>=880&&f<=893||f>=895&&f<=8191||f>=8304&&f<=8591||f>=11264&&f<=12271||f>=12289&&f<=55295||f>=63744&&f<=64975||f>=65008&&f<=65533||f>=65536&&f<=983039}t.isNameStartChar=c;function d(f){return c(f)||f>=48&&f<=57||f===45||f===46||f===183||f>=768&&f<=879||f>=8255&&f<=8256}t.isNameChar=d})(CK);var DK={};(function(t){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z------------",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9--",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u");function e(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}t.isNCNameStartChar=e;function r(n){return e(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}t.isNCNameChar=r})(DK);Object.defineProperty(b0,"__esModule",{value:!0});b0.SaxesParser=b0.EVENTS=void 0;const $m=PK,_2e=CK,b8=DK;var Js=$m.isS,w2e=$m.isChar,Rv=$m.isNameStartChar,Z7=$m.isNameChar,NK=$m.S_LIST,S2e=$m.NAME_RE,T2e=_2e.isChar,E2e=b8.isNCNameStartChar,A2e=b8.isNCNameChar,x2e=b8.NC_NAME_RE;const eT="http://www.w3.org/XML/1998/namespace",qg="http://www.w3.org/2000/xmlns/",O2e={__proto__:null,xml:eT,xmlns:qg},R2e={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},Kn=-1,ec=-2,eB=0,I2e=1,oD=2,P2e=3,_g=4,C2e=5,D2e=6,N2e=7,uD=8,F2e=9,L2e=10,j2e=11,M2e=12,Os=13,WS=14,lD=15,B2e=16,cD=17,k2e=18,$2e=19,dD=20,U2e=21,V2e=22,H2e=23,tB=24,fD=25,KS=26,rB=27,q2e=28,z2e=29,nB=30,G2e=31,Q2e=32,op=33,W2e=34,hD=35,Iv=36,pD=37,K2e=38,iB=39,aB=40,X2e=41,sB=42,J2e=43,Y2e=44,gD=9,qu=10,yD=13,oB=32,uB=33,FK=34,vb=38,LK=39,XS=45,JS=47,Z2e=59,sh=60,Mg=61,Qi=62,ja=63,jK=91,Bg=93,lB=133,cB=8232,YS=t=>t===FK||t===LK,MK=[FK,LK],eTe=[...MK,jK,Qi],tTe=[...MK,sh,Bg],rTe=[Mg,ja,...NK],nTe=[...NK,Qi,vb,sh];function q4(t,e,r){switch(e){case"xml":r!==eT&&t.fail(`xml prefix must be bound to ${eT}.`);break;case"xmlns":r!==qg&&t.fail(`xmlns prefix must be bound to ${qg}.`);break}switch(r){case qg:t.fail(e===""?`the default namespace may not be set to ${r}.`:`may not assign a prefix (even "xmlns") to the URI ${qg}.`);break;case eT:switch(e){case"xml":break;case"":t.fail(`the default namespace may not be set to ${r}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}break}}function iTe(t,e){for(const r of Object.keys(e))q4(t,r,e[r])}const aTe=t=>x2e.test(t),sTe=t=>S2e.test(t),up=0,dB=1,mD=2;b0.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const fB={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class oTe{get closed(){return this._closed}constructor(e){this.opt=e??{},this.fragmentOpt=!!this.opt.fragment;const r=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,r){this.nameStartCheck=E2e,this.nameCheck=A2e,this.isName=aTe,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},O2e);const n=this.opt.additionalNamespaces;n!=null&&(iTe(this,n),Object.assign(this.ns,n))}else this.nameStartCheck=Rv,this.nameCheck=Z7,this.isName=sTe,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var e;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=up,this.attribList=[];const{fragmentOpt:r}=this;this.state=r?Os:eB,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=r,this.xmlDeclPossible=!r,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:n}=this.opt;if(n===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");n="1.0"}this.setXMLVersion(n),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(R2e),(e=this.readyHandler)===null||e===void 0||e.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(e,r){this[fB[e]]=r}off(e){this[fB[e]]=void 0}makeError(e){var r;let n=(r=this.fileName)!==null&&r!==void 0?r:"";return this.trackPosition&&(n.length>0&&(n+=":"),n+=`${this.line}:${this.column}`),n.length>0&&(n+=": "),new Error(n+e)}fail(e){const r=this.makeError(e),n=this.errorHandler;if(n===void 0)throw r;return n(r),this}write(e){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let r=!1;e===null?(r=!0,e=""):typeof e=="object"&&(e=e.toString()),this.carriedFromPrevious!==void 0&&(e=`${this.carriedFromPrevious}${e}`,this.carriedFromPrevious=void 0);let n=e.length;const a=e.charCodeAt(n-1);!r&&(a===yD||a>=55296&&a<=56319)&&(this.carriedFromPrevious=e[n-1],n--,e=e.slice(0,n));const{stateTable:s}=this;for(this.chunk=e,this.i=0;this.i<n;)s[this.state].call(this);return this.chunkPosition+=n,r?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:e,i:r}=this;if(this.prevI=r,this.i=r+1,r>=e.length)return Kn;const n=e.charCodeAt(r);if(this.column++,n<55296){if(n>=oB||n===gD)return n;switch(n){case qu:return this.line++,this.column=0,this.positionAtNewLine=this.position,qu;case yD:return e.charCodeAt(r+1)===qu&&(this.i=r+2),this.line++,this.column=0,this.positionAtNewLine=this.position,ec;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;const a=65536+(n-55296)*1024+(e.charCodeAt(r+1)-56320);return this.i=r+2,a>1114111&&this.fail("disallowed character."),a}getCode11(){const{chunk:e,i:r}=this;if(this.prevI=r,this.i=r+1,r>=e.length)return Kn;const n=e.charCodeAt(r);if(this.column++,n<55296){if(n>31&&n<127||n>159&&n!==cB||n===gD)return n;switch(n){case qu:return this.line++,this.column=0,this.positionAtNewLine=this.position,qu;case yD:{const s=e.charCodeAt(r+1);(s===qu||s===lB)&&(this.i=r+2)}case lB:case cB:return this.line++,this.column=0,this.positionAtNewLine=this.position,ec;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;const a=65536+(n-55296)*1024+(e.charCodeAt(r+1)-56320);return this.i=r+2,a>1114111&&this.fail("disallowed character."),a}getCodeNorm(){const e=this.getCode();return e===ec?qu:e}unget(){this.i=this.prevI,this.column--}captureTo(e){let{i:r}=this;const{chunk:n}=this;for(;;){const a=this.getCode(),s=a===ec,o=s?qu:a;if(o===Kn||e.includes(o))return this.text+=n.slice(r,this.prevI),o;s&&(this.text+=`${n.slice(r,this.prevI)}
`,r=this.i)}}captureToChar(e){let{i:r}=this;const{chunk:n}=this;for(;;){let a=this.getCode();switch(a){case ec:this.text+=`${n.slice(r,this.prevI)}
`,r=this.i,a=qu;break;case Kn:return this.text+=n.slice(r),!1}if(a===e)return this.text+=n.slice(r,this.prevI),!0}}captureNameChars(){const{chunk:e,i:r}=this;for(;;){const n=this.getCode();if(n===Kn)return this.name+=e.slice(r),Kn;if(!Z7(n))return this.name+=e.slice(r,this.prevI),n===ec?qu:n}}skipSpaces(){for(;;){const e=this.getCodeNorm();if(e===Kn||!Js(e))return e}}setXMLVersion(e){this.currentXMLVersion=e,e==="1.0"?(this.isChar=w2e,this.getCode=this.getCode10):(this.isChar=T2e,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=I2e}sBeginWhitespace(){const e=this.i,r=this.skipSpaces();switch(this.prevI!==e&&(this.xmlDeclPossible=!1),r){case sh:if(this.state=lD,this.text.length!==0)throw new Error("no-empty text at start");break;case Kn:break;default:this.unget(),this.state=Os,this.xmlDeclPossible=!1}}sDoctype(){var e;const r=this.captureTo(eTe);switch(r){case Qi:{(e=this.doctypeHandler)===null||e===void 0||e.call(this,this.text),this.text="",this.state=Os,this.doctype=!0;break}case Kn:break;default:this.text+=String.fromCodePoint(r),r===jK?this.state=_g:YS(r)&&(this.state=P2e,this.q=r)}}sDoctypeQuote(){const e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.q=null,this.state=oD)}sDTD(){const e=this.captureTo(tTe);e!==Kn&&(this.text+=String.fromCodePoint(e),e===Bg?this.state=oD:e===sh?this.state=D2e:YS(e)&&(this.state=C2e,this.q=e))}sDTDQuoted(){const e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.state=_g,this.q=null)}sDTDOpenWaka(){const e=this.getCodeNorm();switch(this.text+=String.fromCodePoint(e),e){case uB:this.state=N2e,this.openWakaBang="";break;case ja:this.state=j2e;break;default:this.state=_g}}sDTDOpenWakaBang(){const e=String.fromCodePoint(this.getCodeNorm()),r=this.openWakaBang+=e;this.text+=e,r!=="-"&&(this.state=r==="--"?uD:_g,this.openWakaBang="")}sDTDComment(){this.captureToChar(XS)&&(this.text+="-",this.state=F2e)}sDTDCommentEnding(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),this.state=e===XS?L2e:uD}sDTDCommentEnded(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===Qi?this.state=_g:(this.fail("malformed comment."),this.state=uD)}sDTDPI(){this.captureToChar(ja)&&(this.text+="?",this.state=M2e)}sDTDPIEnding(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===Qi&&(this.state=_g)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:e}=this;const{chunk:r}=this;e:for(;;)switch(this.getCode()){case ec:this.entity+=`${r.slice(e,this.prevI)}
`,e=this.i;break;case Z2e:{const{entityReturnState:n}=this,a=this.entity+r.slice(e,this.prevI);this.state=n;let s;a===""?(this.fail("empty entity name."),s="&;"):(s=this.parseEntity(a),this.entity=""),(n!==Os||this.textHandler!==void 0)&&(this.text+=s);break e}case Kn:this.entity+=r.slice(e);break e}}sOpenWaka(){const e=this.getCode();if(Rv(e))this.state=W2e,this.unget(),this.xmlDeclPossible=!1;else switch(e){case JS:this.state=J2e,this.xmlDeclPossible=!1;break;case uB:this.state=B2e,this.openWakaBang="",this.xmlDeclPossible=!1;break;case ja:this.state=H2e;break;default:this.fail("disallowed character in tag name"),this.state=Os,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=dD,this.openWakaBang="";break;case"--":this.state=cD,this.openWakaBang="";break;case"DOCTYPE":this.state=oD,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(XS)&&(this.state=k2e)}sCommentEnding(){var e;const r=this.getCodeNorm();r===XS?(this.state=$2e,(e=this.commentHandler)===null||e===void 0||e.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(r)}`,this.state=cD)}sCommentEnded(){const e=this.getCodeNorm();e!==Qi?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(e)}`,this.state=cD):this.state=Os}sCData(){this.captureToChar(Bg)&&(this.state=U2e)}sCDataEnding(){const e=this.getCodeNorm();e===Bg?this.state=V2e:(this.text+=`]${String.fromCodePoint(e)}`,this.state=dD)}sCDataEnding2(){var e;const r=this.getCodeNorm();switch(r){case Qi:{(e=this.cdataHandler)===null||e===void 0||e.call(this,this.text),this.text="",this.state=Os;break}case Bg:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(r)}`,this.state=dD}}sPIFirstChar(){const e=this.getCodeNorm();this.nameStartCheck(e)?(this.piTarget+=String.fromCodePoint(e),this.state=tB):e===ja||Js(e)?(this.fail("processing instruction without a target."),this.state=e===ja?KS:fD):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e),this.state=tB)}sPIRest(){const{chunk:e,i:r}=this;for(;;){const n=this.getCodeNorm();if(n===Kn){this.piTarget+=e.slice(r);return}if(!this.nameCheck(n)){this.piTarget+=e.slice(r,this.prevI);const a=n===ja;a||Js(n)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=a?op:rB):this.state=a?KS:fD:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(n));break}}}sPIBody(){if(this.text.length===0){const e=this.getCodeNorm();e===ja?this.state=KS:Js(e)||(this.text=String.fromCodePoint(e))}else this.captureToChar(ja)&&(this.state=KS)}sPIEnding(){var e;const r=this.getCodeNorm();if(r===Qi){const{piTarget:n}=this;n.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(e=this.piHandler)===null||e===void 0||e.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=Os}else r===ja?this.text+="?":(this.text+=`?${String.fromCodePoint(r)}`,this.state=fD);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const e=this.skipSpaces();if(e===ja){this.state=op;return}e!==Kn&&(this.state=q2e,this.name=String.fromCodePoint(e))}sXMLDeclName(){const e=this.captureTo(rTe);if(e===ja){this.state=op,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(Js(e)||e===Mg){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=e===Mg?nB:z2e}}sXMLDeclEq(){const e=this.getCodeNorm();if(e===ja){this.state=op,this.fail("XML declaration is incomplete.");return}Js(e)||(e!==Mg&&this.fail("value required."),this.state=nB)}sXMLDeclValueStart(){const e=this.getCodeNorm();if(e===ja){this.state=op,this.fail("XML declaration is incomplete.");return}Js(e)||(YS(e)?this.q=e:(this.fail("value must be quoted."),this.q=oB),this.state=G2e)}sXMLDeclValue(){const e=this.captureTo([this.q,ja]);if(e===ja){this.state=op,this.text="",this.fail("XML declaration is incomplete.");return}if(e===Kn)return;const r=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const n=r;this.xmlDecl.version=n,/^1\.[0-9]+$/.test(n)?this.opt.forceXMLVersion||this.setXMLVersion(n):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(r)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=r;break;case"standalone":r!=="yes"&&r!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=r;break}this.name="",this.state=Q2e}sXMLDeclSeparator(){const e=this.getCodeNorm();if(e===ja){this.state=op;return}Js(e)||(this.fail("whitespace required."),this.unget()),this.state=rB}sXMLDeclEnding(){var e;this.getCodeNorm()===Qi?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(e=this.xmldeclHandler)===null||e===void 0||e.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=Os):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var e;const r=this.captureNameChars();if(r===Kn)return;const n=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=n.ns=Object.create(null)),(e=this.openTagStartHandler)===null||e===void 0||e.call(this,n),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),r){case Qi:this.openTag();break;case JS:this.state=hD;break;default:Js(r)||this.fail("disallowed character in tag name."),this.state=Iv}}sOpenTagSlash(){this.getCode()===Qi?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=Iv)}sAttrib(){const e=this.skipSpaces();e!==Kn&&(Rv(e)?(this.unget(),this.state=pD):e===Qi?this.openTag():e===JS?this.state=hD:this.fail("disallowed character in attribute name."))}sAttribName(){const e=this.captureNameChars();e===Mg?this.state=iB:Js(e)?this.state=K2e:e===Qi?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):e!==Kn&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const e=this.skipSpaces();switch(e){case Kn:return;case Mg:this.state=iB;break;default:this.fail("attribute without value."),this.text="",this.name="",e===Qi?this.openTag():Rv(e)?(this.unget(),this.state=pD):(this.fail("disallowed character in attribute name."),this.state=Iv)}}sAttribValue(){const e=this.getCodeNorm();YS(e)?(this.q=e,this.state=aB):Js(e)||(this.fail("unquoted attribute value."),this.state=sB,this.unget())}sAttribValueQuoted(){const{q:e,chunk:r}=this;let{i:n}=this;for(;;)switch(this.getCode()){case e:this.pushAttrib(this.name,this.text+r.slice(n,this.prevI)),this.name=this.text="",this.q=null,this.state=X2e;return;case vb:this.text+=r.slice(n,this.prevI),this.state=WS,this.entityReturnState=aB;return;case qu:case ec:case gD:this.text+=`${r.slice(n,this.prevI)} `,n=this.i;break;case sh:this.text+=r.slice(n,this.prevI),this.fail("disallowed character.");return;case Kn:this.text+=r.slice(n);return}}sAttribValueClosed(){const e=this.getCodeNorm();Js(e)?this.state=Iv:e===Qi?this.openTag():e===JS?this.state=hD:Rv(e)?(this.fail("no whitespace between attributes."),this.unget(),this.state=pD):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const e=this.captureTo(nTe);switch(e){case vb:this.state=WS,this.entityReturnState=sB;break;case sh:this.fail("disallowed character.");break;case Kn:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",e===Qi?this.openTag():this.state=Iv}}sCloseTag(){const e=this.captureNameChars();e===Qi?this.closeTag():Js(e)?this.state=Y2e:e!==Kn&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Qi:this.closeTag();break;case Kn:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:e,forbiddenState:r}=this;const{chunk:n,textHandler:a}=this;e:for(;;)switch(this.getCode()){case sh:{if(this.state=lD,a!==void 0){const{text:s}=this,o=n.slice(e,this.prevI);s.length!==0?(a(s+o),this.text=""):o.length!==0&&a(o)}r=up;break e}case vb:this.state=WS,this.entityReturnState=Os,a!==void 0&&(this.text+=n.slice(e,this.prevI)),r=up;break e;case Bg:switch(r){case up:r=dB;break;case dB:r=mD;break;case mD:break;default:throw new Error("impossible state")}break;case Qi:r===mD&&this.fail('the string "]]>" is disallowed in char data.'),r=up;break;case ec:a!==void 0&&(this.text+=`${n.slice(e,this.prevI)}
`),e=this.i,r=up;break;case Kn:a!==void 0&&(this.text+=n.slice(e));break e;default:r=up}this.forbiddenState=r}handleTextOutsideRoot(){let{i:e}=this;const{chunk:r,textHandler:n}=this;let a=!1;e:for(;;){const s=this.getCode();switch(s){case sh:{if(this.state=lD,n!==void 0){const{text:o}=this,u=r.slice(e,this.prevI);o.length!==0?(n(o+u),this.text=""):u.length!==0&&n(u)}break e}case vb:this.state=WS,this.entityReturnState=Os,n!==void 0&&(this.text+=r.slice(e,this.prevI)),a=!0;break e;case ec:n!==void 0&&(this.text+=`${r.slice(e,this.prevI)}
`),e=this.i;break;case Kn:n!==void 0&&(this.text+=r.slice(e));break e;default:Js(s)||(a=!0)}}a&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(e,r){var n;const{prefix:a,local:s}=this.qname(e),o={name:e,prefix:a,local:s,value:r};if(this.attribList.push(o),(n=this.attributeHandler)===null||n===void 0||n.call(this,o),a==="xmlns"){const u=r.trim();this.currentXMLVersion==="1.0"&&u===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[s]=u,q4(this,s,u)}else if(e==="xmlns"){const u=r.trim();this.topNS[""]=u,q4(this,"",u)}}pushAttribPlain(e,r){var n;const a={name:e,value:r};this.attribList.push(a),(n=this.attributeHandler)===null||n===void 0||n.call(this,a)}end(){var e,r;this.sawRoot||this.fail("document must contain a root element.");const{tags:n}=this;for(;n.length>0;){const s=n.pop();this.fail(`unclosed tag: ${s.name}`)}this.state!==eB&&this.state!==Os&&this.fail("unexpected end.");const{text:a}=this;return a.length!==0&&((e=this.textHandler)===null||e===void 0||e.call(this,a),this.text=""),this._closed=!0,(r=this.endHandler)===null||r===void 0||r.call(this),this._init(),this}resolve(e){var r,n;let a=this.topNS[e];if(a!==void 0)return a;const{tags:s}=this;for(let o=s.length-1;o>=0;o--)if(a=s[o].ns[e],a!==void 0)return a;return a=this.ns[e],a!==void 0?a:(n=(r=this.opt).resolvePrefix)===null||n===void 0?void 0:n.call(r,e)}qname(e){const r=e.indexOf(":");if(r===-1)return{prefix:"",local:e};const n=e.slice(r+1),a=e.slice(0,r);return(a===""||n===""||n.includes(":"))&&this.fail(`malformed name: ${e}.`),{prefix:a,local:n}}processAttribsNS(){var e;const{attribList:r}=this,n=this.tag;{const{prefix:o,local:u}=this.qname(n.name);n.prefix=o,n.local=u;const l=n.uri=(e=this.resolve(o))!==null&&e!==void 0?e:"";o!==""&&(o==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),l===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(o)}.`),n.uri=o))}if(r.length===0)return;const{attributes:a}=n,s=new Set;for(const o of r){const{name:u,prefix:l,local:c}=o;let d,f;l===""?(d=u==="xmlns"?qg:"",f=u):(d=this.resolve(l),d===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(l)}.`),d=l),f=`{${d}}${c}`),s.has(f)&&this.fail(`duplicate attribute: ${f}.`),s.add(f),o.uri=d,a[u]=o}this.attribList=[]}processAttribsPlain(){const{attribList:e}=this,r=this.tag.attributes;for(const{name:n,value:a}of e)r[n]!==void 0&&this.fail(`duplicate attribute: ${n}.`),r[n]=a;this.attribList=[]}openTag(){var e;this.processAttribs();const{tags:r}=this,n=this.tag;n.isSelfClosing=!1,(e=this.openTagHandler)===null||e===void 0||e.call(this,n),r.push(n),this.state=Os,this.name=""}openSelfClosingTag(){var e,r,n;this.processAttribs();const{tags:a}=this,s=this.tag;s.isSelfClosing=!0,(e=this.openTagHandler)===null||e===void 0||e.call(this,s),(r=this.closeTagHandler)===null||r===void 0||r.call(this,s),(this.tag=(n=a[a.length-1])!==null&&n!==void 0?n:null)===null&&(this.closedRoot=!0),this.state=Os,this.name=""}closeTag(){const{tags:e,name:r}=this;if(this.state=Os,this.name="",r===""){this.fail("weird empty close tag."),this.text+="</>";return}const n=this.closeTagHandler;let a=e.length;for(;a-- >0;){const s=this.tag=e.pop();if(this.topNS=s.ns,n==null||n(s),s.name===r)break;this.fail("unexpected close tag.")}a===0?this.closedRoot=!0:a<0&&(this.fail(`unmatched closing tag: ${r}.`),this.text+=`</${r}>`)}parseEntity(e){if(e[0]!=="#"){const n=this.ENTITIES[e];return n!==void 0?n:(this.fail(this.isName(e)?"undefined entity.":"disallowed character in entity name."),`&${e};`)}let r=NaN;return e[1]==="x"&&/^#x[0-9a-f]+$/i.test(e)?r=parseInt(e.slice(2),16):/^#[0-9]+$/.test(e)&&(r=parseInt(e.slice(1),10)),this.isChar(r)?String.fromCodePoint(r):(this.fail("malformed character entity."),`&${e};`)}}b0.SaxesParser=oTe;var tO={};Object.defineProperty(tO,"__esModule",{value:!0});tO.ParseError=void 0;let uTe=class extends Error{constructor(e,r){const n=e.saxParser;super(e.trackPosition?`Line ${n.line} column ${n.column+1}: ${r}`:r)}};tO.ParseError=uTe;var BK={},kK={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateIri=t.IriValidationStrategy=void 0;function e(){const u="[!$&'()*+,;=]",l="%[a-fA-F0-9]{2}",c="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",d=`${c}\\.${c}\\.${c}\\.${c}`,f="[a-fA-F0-9]{1,4}",h=`(${f}:${f}|${d})`,p=`((${f}:){6}${h}|::(${f}:){5}${h}|(${f})?::(${f}:){4}${h}|((${f}:){0,1}${f})?::(${f}:){3}${h}|((${f}:){0,2}${f})?::(${f}:){2}${h}|((${f}:){0,3}${f})?::${f}:${h}|((${f}:){0,4}${f})?::${h}|((${f}:){0,5}${f})?::${f}|((${f}:){0,6}${f})?::)`,g=`v[a-fA-F0-9]+\\.(${u}|${u}|":)+`,y=`\\[(${p}|${g})\\]`,S="[0-9]*",v="[a-zA-Z][a-zA-Z0-9+\\-.]*",E="[---]",I="[a-zA-Z0-9\\-._~-----------------]",D=`(${I}|${l}|${u}|[:@])*`,M=`(${D}|[\\/?])*`,N=`(${D}|${E}|[\\/?])*`,O=`(${D})+`,k=`(${D})*`,Y="",ne=`${O}(\\/${k})*`,q=`\\/(${O}(\\/${k})*)?`,H=`(\\/${k})*`,J=`(${I}|${l}|${u})*`,se=`(${y}|${d}|${J})`,ve=`(\\/\\/${`(${`(${I}|${l}|${u}|:)*`}@)?${se}(:${S})?`}${H}|${q}|${ne}|${Y})`,Le=`^${v}:${ve}(\\?${N})?(#${M})?$`;return new RegExp(Le,"u")}const r=e(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var a;(function(o){o.Strict="strict",o.Pragmatic="pragmatic",o.None="none"})(a=t.IriValidationStrategy||(t.IriValidationStrategy={}));function s(o,u=a.Strict){switch(u){case a.Strict:return r.test(o)?void 0:new Error(`Invalid IRI according to RFC 3987: '${o}'`);case a.Pragmatic:return n.test(o)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${o}'`);case a.None:return;default:return new Error(`Not supported validation strategy "${u}"`)}}t.validateIri=s})(kK);(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kK,t)})(BK);Object.defineProperty(im,"__esModule",{value:!0});im.ParseType=im.RdfXmlParser=void 0;const hB=Ru,lTe=b0,pB=zr,cTe=tO,dTe=lr,vD=BK;class on extends pB.Transform{constructor(e){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},e&&(Object.assign(this,e),this.options=e),this.dataFactory||(this.dataFactory=new dTe.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?vD.IriValidationStrategy.Pragmatic:vD.IriValidationStrategy.None),this.saxParser=new lTe.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(e){const r=new pB.PassThrough({readableObjectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new on(this.options));return n}_transform(e,r,n){try{this.saxParser.write(e)}catch(a){return n(a)}n()}newParseError(e){return new cTe.ParseError(this,e)}valueToUri(e,r){return this.uriToNamedNode((0,hB.resolve)(e,r.baseIRI))}uriToNamedNode(e){const r=(0,vD.validateIri)(e,this.iriValidationStrategy);if(r instanceof Error)throw this.newParseError(r.message);return this.dataFactory.namedNode(e)}validateNcname(e){if(!on.NCNAME_MATCHER.test(e))throw this.newParseError(`Not a valid NCName: ${e}`)}attachSaxListeners(){this.saxParser.on("error",e=>this.emit("error",e)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(e){const r=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let n=bd.RESOURCE;if(r&&(r.hadChildren=!0,n=r.childrenParseType),r&&r.childrenStringTags){const s=e.name;let o="";for(const d in e.attributes)o+=` ${d}="${e.attributes[d].value}"`;const l=`<${`${s}${o}`}>`;r.childrenStringTags.push(l);const c={childrenStringTags:r.childrenStringTags};c.childrenStringEmitClosingTag=`</${s}>`,this.activeTagStack.push(c);return}const a={};r?(a.language=r.language,a.baseIRI=r.baseIRI):a.baseIRI=this.baseIRI,this.activeTagStack.push(a),n===bd.RESOURCE?this.onTagResource(e,a,r,!r):this.onTagProperty(e,a,r)}onTagResource(e,r,n,a){r.childrenParseType=bd.PROPERTY;let s=!0;if(e.uri===on.RDF){if(!a&&on.FORBIDDEN_NODE_ELEMENTS.indexOf(e.local)>=0)throw this.newParseError(`Illegal node element name: ${e.local}`);switch(e.local){case"RDF":r.childrenParseType=bd.RESOURCE;case"Description":s=!1}}const o=[],u=[];let l=null,c=!1,d=!1,f=null;for(const h in e.attributes){const p=e.attributes[h];if(n&&p.uri===on.RDF)switch(p.local){case"about":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${l} where found.`);l=p.value;continue;case"ID":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${l} where found.`);this.validateNcname(p.value),l="#"+p.value,c=!0;continue;case"nodeID":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${l} where found.`);this.validateNcname(p.value),l=p.value,d=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":f=p.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(p.uri===on.XML){if(p.local==="lang"){r.language=p.value===""?null:p.value.toLowerCase();continue}else if(p.local==="base"){r.baseIRI=(0,hB.resolve)(p.value,r.baseIRI);continue}}p.prefix!=="xml"&&p.uri&&(o.push(this.uriToNamedNode(p.uri+p.local)),u.push(p.value))}if(l!==null&&(r.subject=d?this.dataFactory.blankNode(l):this.valueToUri(l,r),c&&this.claimNodeId(r.subject)),r.subject||(r.subject=this.dataFactory.blankNode()),s){const h=this.uriToNamedNode(e.uri+e.local);this.emitTriple(r.subject,this.dataFactory.namedNode(on.RDF+"type"),h,n?n.reifiedStatementId:null)}if(n){if(n.predicate)if(n.childrenCollectionSubject){const h=this.dataFactory.blankNode();this.emitTriple(n.childrenCollectionSubject,n.childrenCollectionPredicate,h,n.reifiedStatementId),this.emitTriple(h,this.dataFactory.namedNode(on.RDF+"first"),r.subject,r.reifiedStatementId),n.childrenCollectionSubject=h,n.childrenCollectionPredicate=this.dataFactory.namedNode(on.RDF+"rest")}else{this.emitTriple(n.subject,n.predicate,r.subject,n.reifiedStatementId);for(let h=0;h<n.predicateSubPredicates.length;h++)this.emitTriple(r.subject,n.predicateSubPredicates[h],n.predicateSubObjects[h],null);n.predicateSubPredicates=[],n.predicateSubObjects=[],n.predicateEmitted=!0}for(let h=0;h<o.length;h++){const p=this.dataFactory.literal(u[h],r.datatype||r.language);this.emitTriple(r.subject,o[h],p,n.reifiedStatementId)}f&&this.emitTriple(r.subject,this.dataFactory.namedNode(on.RDF+"type"),this.uriToNamedNode(f),null)}}onTagProperty(e,r,n){if(r.childrenParseType=bd.RESOURCE,r.subject=n.subject,e.uri===on.RDF&&e.local==="li"?(n.listItemCounter||(n.listItemCounter=1),r.predicate=this.uriToNamedNode(e.uri+"_"+n.listItemCounter++)):r.predicate=this.uriToNamedNode(e.uri+e.local),e.uri===on.RDF&&on.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(e.local)>=0)throw this.newParseError(`Illegal property element name: ${e.local}`);r.predicateSubPredicates=[],r.predicateSubObjects=[];let a=!1,s=!1,o=null,u=!0;const l=[],c=[];for(const d in e.attributes){const f=e.attributes[d];if(f.uri===on.RDF)switch(f.local){case"resource":if(o)throw this.newParseError(`Found both rdf:resource (${f.value}) and rdf:nodeID (${o}).`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${f.value})`);r.hadChildren=!0,o=f.value,u=!1;continue;case"datatype":if(s)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${f.value}).`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${f.value})`);r.datatype=this.valueToUri(f.value,r);continue;case"nodeID":if(s)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${f.value}).`);if(r.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${f.value}).`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${f.value})`);this.validateNcname(f.value),r.hadChildren=!0,o=f.value,u=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(s)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(r.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${r.datatype.value})`);if(o)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${o})`);if(f.value==="Resource"){a=!0,r.childrenParseType=bd.PROPERTY;const h=this.dataFactory.blankNode();this.emitTriple(r.subject,r.predicate,h,r.reifiedStatementId),r.subject=h,r.predicate=null}else f.value==="Collection"?(a=!0,r.hadChildren=!0,r.childrenCollectionSubject=r.subject,r.childrenCollectionPredicate=r.predicate,u=!1):f.value==="Literal"&&(a=!0,r.childrenTagsToString=!0,r.childrenStringTags=[]);continue;case"ID":this.validateNcname(f.value),r.reifiedStatementId=this.valueToUri("#"+f.value,r),this.claimNodeId(r.reifiedStatementId);continue}else if(f.uri===on.XML&&f.local==="lang"){r.language=f.value===""?null:f.value.toLowerCase();continue}if(f.prefix!=="xml"&&f.prefix!=="xmlns"&&(f.prefix!==""||f.local!=="xmlns")&&f.uri){if(a||r.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${f.value}`);r.hadChildren=!0,s=!0,l.push(this.uriToNamedNode(f.uri+f.local)),c.push(this.dataFactory.literal(f.value,r.datatype||r.language))}}if(o!==null){const d=r.subject;r.subject=u?this.dataFactory.blankNode(o):this.valueToUri(o,r),this.emitTriple(d,r.predicate,r.subject,r.reifiedStatementId);for(let f=0;f<l.length;f++)this.emitTriple(r.subject,l[f],c[f],null);r.predicateEmitted=!0}else u&&(r.predicateSubPredicates=l,r.predicateSubObjects=c,r.predicateEmitted=!1)}emitTriple(e,r,n,a){this.push(this.dataFactory.quad(e,r,n,this.defaultGraph)),a&&(this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(on.RDF+"type"),this.dataFactory.namedNode(on.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(on.RDF+"subject"),e,this.defaultGraph)),this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(on.RDF+"predicate"),r,this.defaultGraph)),this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(on.RDF+"object"),n,this.defaultGraph)))}claimNodeId(e){if(!this.allowDuplicateRdfIds){if(this.nodeIds[e.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${e.value}'.`);this.nodeIds[e.value]=!0}}onText(e){const r=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;r&&(r.childrenStringTags?r.childrenStringTags.push(e):r.predicate&&(r.text=e))}onCloseTag(){const e=this.activeTagStack.pop();if(e.childrenStringEmitClosingTag&&e.childrenStringTags.push(e.childrenStringEmitClosingTag),e.childrenTagsToString&&(e.datatype=this.dataFactory.namedNode(on.RDF+"XMLLiteral"),e.text=e.childrenStringTags.join(""),e.hadChildren=!1),e.childrenCollectionSubject)this.emitTriple(e.childrenCollectionSubject,e.childrenCollectionPredicate,this.dataFactory.namedNode(on.RDF+"nil"),e.reifiedStatementId);else if(e.predicate){if(!e.hadChildren&&e.childrenParseType!==bd.PROPERTY)this.emitTriple(e.subject,e.predicate,this.dataFactory.literal(e.text||"",e.datatype||e.language),e.reifiedStatementId);else if(!e.predicateEmitted){const r=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,r,e.reifiedStatementId);for(let n=0;n<e.predicateSubPredicates.length;n++)this.emitTriple(r,e.predicateSubPredicates[n],e.predicateSubObjects[n],null)}}}onDoctype(e){e.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(r,n,a)=>(this.saxParser.ENTITIES[n]=a,""))}}im.RdfXmlParser=on;on.MIME_TYPE="application/rdf+xml";on.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";on.XML="http://www.w3.org/XML/1998/namespace";on.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"];on.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"];on.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var bd;(function(t){t[t.RESOURCE=0]="RESOURCE",t[t.PROPERTY=1]="PROPERTY"})(bd||(im.ParseType=bd={}));(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(im,t)})(IK);Object.defineProperty(eO,"__esModule",{value:!0});eO.ActorRdfParseRdfXml=void 0;const fTe=U0,hTe=IK;class pTe extends fTe.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){var s;e.data.on("error",o=>a.emit("error",o));const a=e.data.pipe(new hTe.RdfXmlParser({baseIRI:(s=e.metadata)==null?void 0:s.baseIRI}));return{data:a,metadata:{triples:!0}}}}eO.ActorRdfParseRdfXml=pTe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(eO,t)})(RK);var $K={},rO={},_8={},UK={};Object.defineProperty(UK,"__esModule",{value:!0});var VK={};Object.defineProperty(VK,"__esModule",{value:!0});var HK={};Object.defineProperty(HK,"__esModule",{value:!0});var nO={},qK={},A_={},w8={},sf={},S8={};Object.defineProperty(S8,"__esModule",{value:!0});S8.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(t){return t.charCodeAt(0)}));var T8={};Object.defineProperty(T8,"__esModule",{value:!0});T8.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(t){return t.charCodeAt(0)}));var z4={};(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(s){var o="";return s>65535&&(s-=65536,o+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),o+=String.fromCharCode(s),o};function n(s){var o;return s>=55296&&s<=57343||s>1114111?65533:(o=r.get(s))!==null&&o!==void 0?o:s}t.replaceCodePoint=n;function a(s){return(0,t.fromCodePoint)(n(s))}t.default=a})(z4);(function(t){var e=F&&F.__createBinding||(Object.create?function(k,Y,ne,q){q===void 0&&(q=ne);var H=Object.getOwnPropertyDescriptor(Y,ne);(!H||("get"in H?!Y.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return Y[ne]}}),Object.defineProperty(k,q,H)}:function(k,Y,ne,q){q===void 0&&(q=ne),k[q]=Y[ne]}),r=F&&F.__setModuleDefault||(Object.create?function(k,Y){Object.defineProperty(k,"default",{enumerable:!0,value:Y})}:function(k,Y){k.default=Y}),n=F&&F.__importStar||function(k){if(k&&k.__esModule)return k;var Y={};if(k!=null)for(var ne in k)ne!=="default"&&Object.prototype.hasOwnProperty.call(k,ne)&&e(Y,k,ne);return r(Y,k),Y},a=F&&F.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var s=a(S8);t.htmlDecodeTree=s.default;var o=a(T8);t.xmlDecodeTree=o.default;var u=n(z4);t.decodeCodePoint=u.default;var l=z4;Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}});var c;(function(k){k[k.NUM=35]="NUM",k[k.SEMI=59]="SEMI",k[k.EQUALS=61]="EQUALS",k[k.ZERO=48]="ZERO",k[k.NINE=57]="NINE",k[k.LOWER_A=97]="LOWER_A",k[k.LOWER_F=102]="LOWER_F",k[k.LOWER_X=120]="LOWER_X",k[k.LOWER_Z=122]="LOWER_Z",k[k.UPPER_A=65]="UPPER_A",k[k.UPPER_F=70]="UPPER_F",k[k.UPPER_Z=90]="UPPER_Z"})(c||(c={}));var d=32,f;(function(k){k[k.VALUE_LENGTH=49152]="VALUE_LENGTH",k[k.BRANCH_LENGTH=16256]="BRANCH_LENGTH",k[k.JUMP_TABLE=127]="JUMP_TABLE"})(f=t.BinTrieFlags||(t.BinTrieFlags={}));function h(k){return k>=c.ZERO&&k<=c.NINE}function p(k){return k>=c.UPPER_A&&k<=c.UPPER_F||k>=c.LOWER_A&&k<=c.LOWER_F}function g(k){return k>=c.UPPER_A&&k<=c.UPPER_Z||k>=c.LOWER_A&&k<=c.LOWER_Z||h(k)}function y(k){return k===c.EQUALS||g(k)}var S;(function(k){k[k.EntityStart=0]="EntityStart",k[k.NumericStart=1]="NumericStart",k[k.NumericDecimal=2]="NumericDecimal",k[k.NumericHex=3]="NumericHex",k[k.NamedEntity=4]="NamedEntity"})(S||(S={}));var v;(function(k){k[k.Legacy=0]="Legacy",k[k.Strict=1]="Strict",k[k.Attribute=2]="Attribute"})(v=t.DecodingMode||(t.DecodingMode={}));var A=function(){function k(Y,ne,q){this.decodeTree=Y,this.emitCodePoint=ne,this.errors=q,this.state=S.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=v.Strict}return k.prototype.startEntity=function(Y){this.decodeMode=Y,this.state=S.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},k.prototype.write=function(Y,ne){switch(this.state){case S.EntityStart:return Y.charCodeAt(ne)===c.NUM?(this.state=S.NumericStart,this.consumed+=1,this.stateNumericStart(Y,ne+1)):(this.state=S.NamedEntity,this.stateNamedEntity(Y,ne));case S.NumericStart:return this.stateNumericStart(Y,ne);case S.NumericDecimal:return this.stateNumericDecimal(Y,ne);case S.NumericHex:return this.stateNumericHex(Y,ne);case S.NamedEntity:return this.stateNamedEntity(Y,ne)}},k.prototype.stateNumericStart=function(Y,ne){return ne>=Y.length?-1:(Y.charCodeAt(ne)|d)===c.LOWER_X?(this.state=S.NumericHex,this.consumed+=1,this.stateNumericHex(Y,ne+1)):(this.state=S.NumericDecimal,this.stateNumericDecimal(Y,ne))},k.prototype.addToNumericResult=function(Y,ne,q,H){if(ne!==q){var J=q-ne;this.result=this.result*Math.pow(H,J)+parseInt(Y.substr(ne,J),H),this.consumed+=J}},k.prototype.stateNumericHex=function(Y,ne){for(var q=ne;ne<Y.length;){var H=Y.charCodeAt(ne);if(h(H)||p(H))ne+=1;else return this.addToNumericResult(Y,q,ne,16),this.emitNumericEntity(H,3)}return this.addToNumericResult(Y,q,ne,16),-1},k.prototype.stateNumericDecimal=function(Y,ne){for(var q=ne;ne<Y.length;){var H=Y.charCodeAt(ne);if(h(H))ne+=1;else return this.addToNumericResult(Y,q,ne,10),this.emitNumericEntity(H,2)}return this.addToNumericResult(Y,q,ne,10),-1},k.prototype.emitNumericEntity=function(Y,ne){var q;if(this.consumed<=ne)return(q=this.errors)===null||q===void 0||q.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(Y===c.SEMI)this.consumed+=1;else if(this.decodeMode===v.Strict)return 0;return this.emitCodePoint((0,u.replaceCodePoint)(this.result),this.consumed),this.errors&&(Y!==c.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},k.prototype.stateNamedEntity=function(Y,ne){for(var q=this.decodeTree,H=q[this.treeIndex],J=(H&f.VALUE_LENGTH)>>14;ne<Y.length;ne++,this.excess++){var se=Y.charCodeAt(ne);if(this.treeIndex=T(q,H,this.treeIndex+Math.max(1,J),se),this.treeIndex<0)return this.result===0||this.decodeMode===v.Attribute&&(J===0||y(se))?0:this.emitNotTerminatedNamedEntity();if(H=q[this.treeIndex],J=(H&f.VALUE_LENGTH)>>14,J!==0){if(se===c.SEMI)return this.emitNamedEntityData(this.treeIndex,J,this.consumed+this.excess);this.decodeMode!==v.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},k.prototype.emitNotTerminatedNamedEntity=function(){var Y,ne=this,q=ne.result,H=ne.decodeTree,J=(H[q]&f.VALUE_LENGTH)>>14;return this.emitNamedEntityData(q,J,this.consumed),(Y=this.errors)===null||Y===void 0||Y.missingSemicolonAfterCharacterReference(),this.consumed},k.prototype.emitNamedEntityData=function(Y,ne,q){var H=this.decodeTree;return this.emitCodePoint(ne===1?H[Y]&~f.VALUE_LENGTH:H[Y+1],q),ne===3&&this.emitCodePoint(H[Y+2],q),q},k.prototype.end=function(){var Y;switch(this.state){case S.NamedEntity:return this.result!==0&&(this.decodeMode!==v.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case S.NumericDecimal:return this.emitNumericEntity(0,2);case S.NumericHex:return this.emitNumericEntity(0,3);case S.NumericStart:return(Y=this.errors)===null||Y===void 0||Y.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case S.EntityStart:return 0}},k}();t.EntityDecoder=A;function E(k){var Y="",ne=new A(k,function(q){return Y+=(0,u.fromCodePoint)(q)});return function(H,J){for(var se=0,ue=0;(ue=H.indexOf("&",ue))>=0;){Y+=H.slice(se,ue),ne.startEntity(J);var Se=ne.write(H,ue+1);if(Se<0){se=ue+ne.end();break}se=ue+Se,ue=Se===0?se+1:se}var ve=Y+H.slice(se);return Y="",ve}}function T(k,Y,ne,q){var H=(Y&f.BRANCH_LENGTH)>>7,J=Y&f.JUMP_TABLE;if(H===0)return J!==0&&q===J?ne:-1;if(J){var se=q-J;return se<0||se>=H?-1:k[ne+se]-1}for(var ue=ne,Se=ue+H-1;ue<=Se;){var ve=ue+Se>>>1,Le=k[ve];if(Le<q)ue=ve+1;else if(Le>q)Se=ve-1;else return k[ve+H]}return-1}t.determineBranch=T;var R=E(s.default),I=E(o.default);function D(k,Y){return Y===void 0&&(Y=v.Legacy),R(k,Y)}t.decodeHTML=D;function M(k){return R(k,v.Attribute)}t.decodeHTMLAttribute=M;function N(k){return R(k,v.Strict)}t.decodeHTMLStrict=N;function O(k){return I(k,v.Strict)}t.decodeXML=O})(sf);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=sf,r;(function(h){h[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Number=35]="Number",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(h){h[h.Text=1]="Text",h[h.BeforeTagName=2]="BeforeTagName",h[h.InTagName=3]="InTagName",h[h.InSelfClosingTag=4]="InSelfClosingTag",h[h.BeforeClosingTagName=5]="BeforeClosingTagName",h[h.InClosingTagName=6]="InClosingTagName",h[h.AfterClosingTagName=7]="AfterClosingTagName",h[h.BeforeAttributeName=8]="BeforeAttributeName",h[h.InAttributeName=9]="InAttributeName",h[h.AfterAttributeName=10]="AfterAttributeName",h[h.BeforeAttributeValue=11]="BeforeAttributeValue",h[h.InAttributeValueDq=12]="InAttributeValueDq",h[h.InAttributeValueSq=13]="InAttributeValueSq",h[h.InAttributeValueNq=14]="InAttributeValueNq",h[h.BeforeDeclaration=15]="BeforeDeclaration",h[h.InDeclaration=16]="InDeclaration",h[h.InProcessingInstruction=17]="InProcessingInstruction",h[h.BeforeComment=18]="BeforeComment",h[h.CDATASequence=19]="CDATASequence",h[h.InSpecialComment=20]="InSpecialComment",h[h.InCommentLike=21]="InCommentLike",h[h.BeforeSpecialS=22]="BeforeSpecialS",h[h.SpecialStartSequence=23]="SpecialStartSequence",h[h.InSpecialTag=24]="InSpecialTag",h[h.BeforeEntity=25]="BeforeEntity",h[h.BeforeNumericEntity=26]="BeforeNumericEntity",h[h.InNamedEntity=27]="InNamedEntity",h[h.InNumericEntity=28]="InNumericEntity",h[h.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(h){return h===r.Space||h===r.NewLine||h===r.Tab||h===r.FormFeed||h===r.CarriageReturn}function s(h){return h===r.Slash||h===r.Gt||a(h)}function o(h){return h>=r.Zero&&h<=r.Nine}function u(h){return h>=r.LowerA&&h<=r.LowerZ||h>=r.UpperA&&h<=r.UpperZ}function l(h){return h>=r.UpperA&&h<=r.UpperF||h>=r.LowerA&&h<=r.LowerF}var c;(function(h){h[h.NoValue=0]="NoValue",h[h.Unquoted=1]="Unquoted",h[h.Single=2]="Single",h[h.Double=3]="Double"})(c=t.QuoteType||(t.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function h(p,g){var y=p.xmlMode,S=y===void 0?!1:y,v=p.decodeEntities,A=v===void 0?!0:v;this.cbs=g,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=S,this.decodeEntities=A,this.entityTrie=S?e.xmlDecodeTree:e.htmlDecodeTree}return h.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},h.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},h.prototype.end=function(){this.running&&this.finish()},h.prototype.pause=function(){this.running=!1},h.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},h.prototype.getIndex=function(){return this.index},h.prototype.getSectionStart=function(){return this.sectionStart},h.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},h.prototype.stateSpecialStartSequence=function(p){var g=this.sequenceIndex===this.currentSequence.length,y=g?s(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!y)this.isSpecial=!1;else if(!g){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},h.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||a(p)){var g=this.index-this.currentSequence.length;if(this.sectionStart<g){var y=this.index;this.index=g,this.cbs.ontext(this.sectionStart,g),this.index=y}this.isSpecial=!1,this.sectionStart=g+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(p===r.Lt)},h.prototype.stateCDATASequence=function(p){p===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},h.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},h.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},h.prototype.isTagStartChar=function(p){return this.xmlMode?!s(p):u(p)},h.prototype.startSpecial=function(p,g){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=g,this.state=n.SpecialStartSequence},h.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var g=p|32;this.sectionStart=this.index,!this.xmlMode&&g===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&g===d.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},h.prototype.stateInTagName=function(p){s(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateBeforeClosingTagName=function(p){a(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},h.prototype.stateInClosingTagName=function(p){(p===r.Gt||a(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},h.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:a(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateInAttributeName=function(p){(p===r.Eq||s(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},h.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(c.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):a(p)||(this.cbs.onattribend(c.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},h.prototype.handleInAttributeValue=function(p,g){p===g||!this.decodeEntities&&this.fastForwardTo(g)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(g===r.DoubleQuote?c.Double:c.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},h.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},h.prototype.stateInAttributeValueNoQuotes=function(p){a(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(c.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},h.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},h.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeSpecialS=function(p){var g=p|32;g===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):g===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},h.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},h.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var g=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(g){var y=(g>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=y;else{var S=this.index-this.entityExcess+1;S>this.sectionStart&&this.emitPartial(this.sectionStart,S),this.entityResult=this.trieIndex,this.trieIndex+=y,this.entityExcess=0,this.sectionStart=this.index+1,y===0&&this.emitNamedEntity()}}},h.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},h.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},h.prototype.emitNumericEntity=function(p){var g=this.index-this.entityExcess-1,y=g+2+Number(this.state===n.InHexEntity);y!==this.index&&(g>this.sectionStart&&this.emitPartial(this.sectionStart,g),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},h.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):l(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},h.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},h.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},h.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},h.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},h.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},h.prototype.emitPartial=function(p,g){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,g):this.cbs.ontext(p,g)},h.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},h}();t.default=f})(w8);var gTe=F&&F.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yTe=F&&F.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mTe=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gTe(e,t,r);return yTe(e,t),e};Object.defineProperty(A_,"__esModule",{value:!0});A_.Parser=void 0;var ZS=mTe(w8),gB=sf,wg=new Set(["input","option","optgroup","select","button","datalist","textarea"]),fn=new Set(["p"]),yB=new Set(["thead","tbody"]),mB=new Set(["dd","dt"]),vB=new Set(["rt","rp"]),vTe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",fn],["h1",fn],["h2",fn],["h3",fn],["h4",fn],["h5",fn],["h6",fn],["select",wg],["input",wg],["output",wg],["button",wg],["datalist",wg],["textarea",wg],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",mB],["dt",mB],["address",fn],["article",fn],["aside",fn],["blockquote",fn],["details",fn],["div",fn],["dl",fn],["fieldset",fn],["figcaption",fn],["figure",fn],["footer",fn],["form",fn],["header",fn],["hr",fn],["main",fn],["nav",fn],["ol",fn],["pre",fn],["section",fn],["table",fn],["ul",fn],["rt",vB],["rp",vB],["tbody",yB],["tfoot",yB]]),bTe=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),bB=new Set(["math","svg"]),_B=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),_Te=/\s|\//,wTe=function(){function t(e,r){r===void 0&&(r={});var n,a,s,o,u;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:!r.xmlMode,this.tokenizer=new((s=r.Tokenizer)!==null&&s!==void 0?s:ZS.default)(this.options,this),(u=(o=this.cbs).onparserinit)===null||u===void 0||u.call(o,this)}return t.prototype.ontext=function(e,r){var n,a,s=this.getSlice(e,r);this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,s),this.startIndex=r},t.prototype.ontextentity=function(e){var r,n,a=this.tokenizer.getSectionStart();this.endIndex=a-1,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,(0,gB.fromCodePoint)(e)),this.startIndex=a},t.prototype.isVoidElement=function(e){return!this.options.xmlMode&&bTe.has(e)},t.prototype.onopentagname=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},t.prototype.emitOpenTag=function(e){var r,n,a,s;this.openTagStart=this.startIndex,this.tagname=e;var o=!this.options.xmlMode&&vTe.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){var u=this.stack.pop();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,u,!0)}this.isVoidElement(e)||(this.stack.push(e),bB.has(e)?this.foreignContext.push(!0):_B.has(e)&&this.foreignContext.push(!1)),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,e),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(e){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},t.prototype.onclosetag=function(e,r){var n,a,s,o,u,l;this.endIndex=r;var c=this.getSlice(e,r);if(this.lowerCaseTagNames&&(c=c.toLowerCase()),(bB.has(c)||_B.has(c))&&this.foreignContext.pop(),this.isVoidElement(c))!this.options.xmlMode&&c==="br"&&((a=(n=this.cbs).onopentagname)===null||a===void 0||a.call(n,"br"),(o=(s=this.cbs).onopentag)===null||o===void 0||o.call(s,"br",{},!0),(l=(u=this.cbs).onclosetag)===null||l===void 0||l.call(u,"br",!1));else{var d=this.stack.lastIndexOf(c);if(d!==-1)if(this.cbs.onclosetag)for(var f=this.stack.length-d;f--;)this.cbs.onclosetag(this.stack.pop(),f!==0);else this.stack.length=d;else!this.options.xmlMode&&c==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},t.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},t.prototype.closeCurrentTag=function(e){var r,n,a=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===a&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,a,!e),this.stack.pop())},t.prototype.onattribname=function(e,r){this.startIndex=e;var n=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},t.prototype.onattribdata=function(e,r){this.attribvalue+=this.getSlice(e,r)},t.prototype.onattribentity=function(e){this.attribvalue+=(0,gB.fromCodePoint)(e)},t.prototype.onattribend=function(e,r){var n,a;this.endIndex=r,(a=(n=this.cbs).onattribute)===null||a===void 0||a.call(n,this.attribname,this.attribvalue,e===ZS.QuoteType.Double?'"':e===ZS.QuoteType.Single?"'":e===ZS.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(e){var r=e.search(_Te),n=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(a),"!".concat(n))}this.startIndex=r+1},t.prototype.onprocessinginstruction=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(a),"?".concat(n))}this.startIndex=r+1},t.prototype.oncomment=function(e,r,n){var a,s,o,u;this.endIndex=r,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(e,r-n)),(u=(o=this.cbs).oncommentend)===null||u===void 0||u.call(o),this.startIndex=r+1},t.prototype.oncdata=function(e,r,n){var a,s,o,u,l,c,d,f,h,p;this.endIndex=r;var g=this.getSlice(e,r-n);this.options.xmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(u=(o=this.cbs).ontext)===null||u===void 0||u.call(o,g),(c=(l=this.cbs).oncdataend)===null||c===void 0||c.call(l)):((f=(d=this.cbs).oncomment)===null||f===void 0||f.call(d,"[CDATA[".concat(g,"]]")),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=r+1},t.prototype.onend=function(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)},t.prototype.reset=function(){var e,r,n,a;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(n=this.cbs).onparserinit)===null||a===void 0||a.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.getSlice=function(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},t.prototype.end=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(e){this.write(e)},t.prototype.done=function(e){this.end(e)},t}();A_.Parser=wTe;var Zo={},Gh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function r(n){return n.type===e.Tag||n.type===e.Script||n.type===e.Style}t.isTag=r,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(Gh);var Lr={},Qh=F&&F.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qb=F&&F.__assign||function(){return Qb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Qb.apply(this,arguments)};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.cloneNode=Lr.hasChildren=Lr.isDocument=Lr.isDirective=Lr.isComment=Lr.isText=Lr.isCDATA=Lr.isTag=Lr.Element=Lr.Document=Lr.CDATA=Lr.NodeWithChildren=Lr.ProcessingInstruction=Lr.Comment=Lr.Text=Lr.DataNode=Lr.Node=void 0;var go=Gh,E8=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),A8(this,e)},t}();Lr.Node=E8;var iO=function(t){Qh(e,t);function e(r){var n=t.call(this)||this;return n.data=r,n}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),e}(E8);Lr.DataNode=iO;var zK=function(t){Qh(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=go.ElementType.Text,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(iO);Lr.Text=zK;var GK=function(t){Qh(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=go.ElementType.Comment,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(iO);Lr.Comment=GK;var QK=function(t){Qh(e,t);function e(r,n){var a=t.call(this,n)||this;return a.name=r,a.type=go.ElementType.Directive,a}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(iO);Lr.ProcessingInstruction=QK;var aO=function(t){Qh(e,t);function e(r){var n=t.call(this)||this;return n.children=r,n}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),e}(E8);Lr.NodeWithChildren=aO;var WK=function(t){Qh(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=go.ElementType.CDATA,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(aO);Lr.CDATA=WK;var KK=function(t){Qh(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=go.ElementType.Root,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(aO);Lr.Document=KK;var XK=function(t){Qh(e,t);function e(r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=r==="script"?go.ElementType.Script:r==="style"?go.ElementType.Style:go.ElementType.Tag);var o=t.call(this,a)||this;return o.name=r,o.attribs=n,o.type=s,o}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var a,s;return{name:n,value:r.attribs[n],namespace:(a=r["x-attribsNamespace"])===null||a===void 0?void 0:a[n],prefix:(s=r["x-attribsPrefix"])===null||s===void 0?void 0:s[n]}})},enumerable:!1,configurable:!0}),e}(aO);Lr.Element=XK;function JK(t){return(0,go.isTag)(t)}Lr.isTag=JK;function YK(t){return t.type===go.ElementType.CDATA}Lr.isCDATA=YK;function ZK(t){return t.type===go.ElementType.Text}Lr.isText=ZK;function eX(t){return t.type===go.ElementType.Comment}Lr.isComment=eX;function tX(t){return t.type===go.ElementType.Directive}Lr.isDirective=tX;function rX(t){return t.type===go.ElementType.Root}Lr.isDocument=rX;function STe(t){return Object.prototype.hasOwnProperty.call(t,"children")}Lr.hasChildren=STe;function A8(t,e){e===void 0&&(e=!1);var r;if(ZK(t))r=new zK(t.data);else if(eX(t))r=new GK(t.data);else if(JK(t)){var n=e?bD(t.children):[],a=new XK(t.name,Qb({},t.attribs),n);n.forEach(function(l){return l.parent=a}),t.namespace!=null&&(a.namespace=t.namespace),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]=Qb({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]=Qb({},t["x-attribsPrefix"])),r=a}else if(YK(t)){var n=e?bD(t.children):[],s=new WK(n);n.forEach(function(c){return c.parent=s}),r=s}else if(rX(t)){var n=e?bD(t.children):[],o=new KK(n);n.forEach(function(c){return c.parent=o}),t["x-mode"]&&(o["x-mode"]=t["x-mode"]),r=o}else if(tX(t)){var u=new QK(t.name,t.data);t["x-name"]!=null&&(u["x-name"]=t["x-name"],u["x-publicId"]=t["x-publicId"],u["x-systemId"]=t["x-systemId"]),r=u}else throw new Error("Not implemented yet: ".concat(t.type));return r.startIndex=t.startIndex,r.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(r.sourceCodeLocation=t.sourceCodeLocation),r}Lr.cloneNode=A8;function bD(t){for(var e=t.map(function(n){return A8(n,!0)}),r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}(function(t){var e=F&&F.__createBinding||(Object.create?function(u,l,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(l,c);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(u,d,f)}:function(u,l,c,d){d===void 0&&(d=c),u[d]=l[c]}),r=F&&F.__exportStar||function(u,l){for(var c in u)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&e(l,u,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var n=Gh,a=Lr;r(Lr,t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function u(l,c,d){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof l=="object"&&(c=l,l=void 0),this.callback=l??null,this.options=c??s,this.elementCB=d??null}return u.prototype.onparserinit=function(l){this.parser=l},u.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(l){this.handleCallback(l)},u.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},u.prototype.onopentag=function(l,c){var d=this.options.xmlMode?n.ElementType.Tag:void 0,f=new a.Element(l,c,void 0,d);this.addNode(f),this.tagStack.push(f)},u.prototype.ontext=function(l){var c=this.lastNode;if(c&&c.type===n.ElementType.Text)c.data+=l,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new a.Text(l);this.addNode(d),this.lastNode=d}},u.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=l;return}var c=new a.Comment(l);this.addNode(c),this.lastNode=c},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var l=new a.Text(""),c=new a.CDATA([l]);this.addNode(c),l.parent=c,this.lastNode=l},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(l,c){var d=new a.ProcessingInstruction(l,c);this.addNode(d)},u.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},u.prototype.addNode=function(l){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),c.children.push(l),d&&(l.prev=d,d.next=l),l.parent=c,this.lastNode=null},u}();t.DomHandler=o,t.default=o})(Zo);var Hc={},Qo={},lw={},nX={},_0={},x8={};Object.defineProperty(x8,"__esModule",{value:!0});function e2(t){for(var e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}x8.default=new Map(e2([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(e2([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(e2([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(e2([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var iE={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(a,s){return a.codePointAt(s)}:function(a,s){return(a.charCodeAt(s)&64512)===55296?(a.charCodeAt(s)-55296)*1024+a.charCodeAt(s+1)-56320+65536:a.charCodeAt(s)};function r(a){for(var s="",o=0,u;(u=t.xmlReplacer.exec(a))!==null;){var l=u.index,c=a.charCodeAt(l),d=e.get(c);d!==void 0?(s+=a.substring(o,l)+d,o=l+1):(s+="".concat(a.substring(o,l),"&#x").concat((0,t.getCodePoint)(a,l).toString(16),";"),o=t.xmlReplacer.lastIndex+=Number((c&64512)===55296))}return s+a.substr(o)}t.encodeXML=r,t.escape=r;function n(a,s){return function(u){for(var l,c=0,d="";l=a.exec(u);)c!==l.index&&(d+=u.substring(c,l.index)),d+=s.get(l[0].charCodeAt(0)),c=l.index+1;return d+u.substring(c)}}t.escapeUTF8=n(/[&<>'"]/g,e),t.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(iE);var TTe=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_0,"__esModule",{value:!0});_0.encodeNonAsciiHTML=_0.encodeHTML=void 0;var ETe=TTe(x8),iX=iE,ATe=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function xTe(t){return aX(ATe,t)}_0.encodeHTML=xTe;function OTe(t){return aX(iX.xmlReplacer,t)}_0.encodeNonAsciiHTML=OTe;function aX(t,e){for(var r="",n=0,a;(a=t.exec(e))!==null;){var s=a.index;r+=e.substring(n,s);var o=e.charCodeAt(s),u=ETe.default.get(o);if(typeof u=="object"){if(s+1<e.length){var l=e.charCodeAt(s+1),c=typeof u.n=="number"?u.n===l?u.o:void 0:u.n.get(l);if(c!==void 0){r+=c,n=t.lastIndex+=1;continue}}u=u.v}if(u!==void 0)r+=u,n=s+1;else{var d=(0,iX.getCodePoint)(e,s);r+="&#x".concat(d.toString(16),";"),n=t.lastIndex+=Number(d!==o)}}return r+e.substr(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=sf,r=_0,n=iE,a;(function(h){h[h.XML=0]="XML",h[h.HTML=1]="HTML"})(a=t.EntityLevel||(t.EntityLevel={}));var s;(function(h){h[h.UTF8=0]="UTF8",h[h.ASCII=1]="ASCII",h[h.Extensive=2]="Extensive",h[h.Attribute=3]="Attribute",h[h.Text=4]="Text"})(s=t.EncodingMode||(t.EncodingMode={}));function o(h,p){p===void 0&&(p=a.XML);var g=typeof p=="number"?p:p.level;if(g===a.HTML){var y=typeof p=="object"?p.mode:void 0;return(0,e.decodeHTML)(h,y)}return(0,e.decodeXML)(h)}t.decode=o;function u(h,p){var g;p===void 0&&(p=a.XML);var y=typeof p=="number"?{level:p}:p;return(g=y.mode)!==null&&g!==void 0||(y.mode=e.DecodingMode.Strict),o(h,y)}t.decodeStrict=u;function l(h,p){p===void 0&&(p=a.XML);var g=typeof p=="number"?{level:p}:p;return g.mode===s.UTF8?(0,n.escapeUTF8)(h):g.mode===s.Attribute?(0,n.escapeAttribute)(h):g.mode===s.Text?(0,n.escapeText)(h):g.level===a.HTML?g.mode===s.ASCII?(0,r.encodeNonAsciiHTML)(h):(0,r.encodeHTML)(h):(0,n.encodeXML)(h)}t.encode=l;var c=iE;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var d=_0;Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var f=sf;Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return f.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return f.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return f.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return f.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return f.decodeXML}})})(nX);var am={};Object.defineProperty(am,"__esModule",{value:!0});am.attributeNames=am.elementNames=void 0;am.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]}));am.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}));var zg=F&&F.__assign||function(){return zg=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},zg.apply(this,arguments)},RTe=F&&F.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ITe=F&&F.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PTe=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&RTe(e,t,r);return ITe(e,t),e};Object.defineProperty(lw,"__esModule",{value:!0});lw.render=void 0;var hd=PTe(Gh),aE=nX,sX=am,CTe=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function DTe(t){return t.replace(/"/g,"&quot;")}function NTe(t,e){var r;if(t){var n=((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)===!1?DTe:e.xmlMode||e.encodeEntities!=="utf8"?aE.encodeXML:aE.escapeAttribute;return Object.keys(t).map(function(a){var s,o,u=(s=t[a])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(a=(o=sX.attributeNames.get(a))!==null&&o!==void 0?o:a),!e.emptyAttrs&&!e.xmlMode&&u===""?a:"".concat(a,'="').concat(n(u),'"')}).join(" ")}}var wB=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function sO(t,e){e===void 0&&(e={});for(var r=("length"in t)?t:[t],n="",a=0;a<r.length;a++)n+=FTe(r[a],e);return n}lw.render=sO;lw.default=sO;function FTe(t,e){switch(t.type){case hd.Root:return sO(t.children,e);case hd.Doctype:case hd.Directive:return BTe(t);case hd.Comment:return UTe(t);case hd.CDATA:return $Te(t);case hd.Script:case hd.Style:case hd.Tag:return MTe(t,e);case hd.Text:return kTe(t,e)}}var LTe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),jTe=new Set(["svg","math"]);function MTe(t,e){var r;e.xmlMode==="foreign"&&(t.name=(r=sX.elementNames.get(t.name))!==null&&r!==void 0?r:t.name,t.parent&&LTe.has(t.parent.name)&&(e=zg(zg({},e),{xmlMode:!1}))),!e.xmlMode&&jTe.has(t.name)&&(e=zg(zg({},e),{xmlMode:"foreign"}));var n="<".concat(t.name),a=NTe(t.attribs,e);return a&&(n+=" ".concat(a)),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&wB.has(t.name))?(e.xmlMode||(n+=" "),n+="/>"):(n+=">",t.children.length>0&&(n+=sO(t.children,e)),(e.xmlMode||!wB.has(t.name))&&(n+="</".concat(t.name,">"))),n}function BTe(t){return"<".concat(t.data,">")}function kTe(t,e){var r,n=t.data||"";return((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&CTe.has(t.parent.name))&&(n=e.xmlMode||e.encodeEntities!=="utf8"?(0,aE.encodeXML)(n):(0,aE.escapeText)(n)),n}function $Te(t){return"<![CDATA[".concat(t.children[0].data,"]]>")}function UTe(t){return"<!--".concat(t.data,"-->")}var VTe=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.innerText=Qo.textContent=Qo.getText=Qo.getInnerHTML=Qo.getOuterHTML=void 0;var qc=Zo,HTe=VTe(lw),qTe=Gh;function oX(t,e){return(0,HTe.default)(t,e)}Qo.getOuterHTML=oX;function zTe(t,e){return(0,qc.hasChildren)(t)?t.children.map(function(r){return oX(r,e)}).join(""):""}Qo.getInnerHTML=zTe;function tT(t){return Array.isArray(t)?t.map(tT).join(""):(0,qc.isTag)(t)?t.name==="br"?`
`:tT(t.children):(0,qc.isCDATA)(t)?tT(t.children):(0,qc.isText)(t)?t.data:""}Qo.getText=tT;function G4(t){return Array.isArray(t)?t.map(G4).join(""):(0,qc.hasChildren)(t)&&!(0,qc.isComment)(t)?G4(t.children):(0,qc.isText)(t)?t.data:""}Qo.textContent=G4;function Q4(t){return Array.isArray(t)?t.map(Q4).join(""):(0,qc.hasChildren)(t)&&(t.type===qTe.ElementType.Tag||(0,qc.isCDATA)(t))?Q4(t.children):(0,qc.isText)(t)?t.data:""}Qo.innerText=Q4;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.prevElementSibling=Sa.nextElementSibling=Sa.getName=Sa.hasAttrib=Sa.getAttributeValue=Sa.getSiblings=Sa.getParent=Sa.getChildren=void 0;var O8=Zo;function uX(t){return(0,O8.hasChildren)(t)?t.children:[]}Sa.getChildren=uX;function lX(t){return t.parent||null}Sa.getParent=lX;function GTe(t){var e,r,n=lX(t);if(n!=null)return uX(n);for(var a=[t],s=t.prev,o=t.next;s!=null;)a.unshift(s),e=s,s=e.prev;for(;o!=null;)a.push(o),r=o,o=r.next;return a}Sa.getSiblings=GTe;function QTe(t,e){var r;return(r=t.attribs)===null||r===void 0?void 0:r[e]}Sa.getAttributeValue=QTe;function WTe(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}Sa.hasAttrib=WTe;function KTe(t){return t.name}Sa.getName=KTe;function XTe(t){for(var e,r=t.next;r!==null&&!(0,O8.isTag)(r);)e=r,r=e.next;return r}Sa.nextElementSibling=XTe;function JTe(t){for(var e,r=t.prev;r!==null&&!(0,O8.isTag)(r);)e=r,r=e.prev;return r}Sa.prevElementSibling=JTe;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.prepend=uo.prependChild=uo.append=uo.appendChild=uo.replaceElement=uo.removeElement=void 0;function cw(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children,r=e.lastIndexOf(t);r>=0&&e.splice(r,1)}t.next=null,t.prev=null,t.parent=null}uo.removeElement=cw;function YTe(t,e){var r=e.prev=t.prev;r&&(r.next=e);var n=e.next=t.next;n&&(n.prev=e);var a=e.parent=t.parent;if(a){var s=a.children;s[s.lastIndexOf(t)]=e,t.parent=null}}uo.replaceElement=YTe;function ZTe(t,e){if(cw(e),e.next=null,e.parent=t,t.children.push(e)>1){var r=t.children[t.children.length-2];r.next=e,e.prev=r}else e.prev=null}uo.appendChild=ZTe;function eEe(t,e){cw(e);var r=t.parent,n=t.next;if(e.next=n,e.prev=t,t.next=e,e.parent=r,n){if(n.prev=e,r){var a=r.children;a.splice(a.lastIndexOf(n),0,e)}}else r&&r.children.push(e)}uo.append=eEe;function tEe(t,e){if(cw(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){var r=t.children[1];r.prev=e,e.next=r}else e.next=null}uo.prependChild=tEe;function rEe(t,e){cw(e);var r=t.parent;if(r){var n=r.children;n.splice(n.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}uo.prepend=rEe;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.findAll=Ms.existsOne=Ms.findOne=Ms.findOneChild=Ms.find=Ms.filter=void 0;var oO=Zo;function nEe(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),cX(t,Array.isArray(e)?e:[e],r,n)}Ms.filter=nEe;function cX(t,e,r,n){for(var a=[],s=[e],o=[0];;){if(o[0]>=s[0].length){if(o.length===1)return a;s.shift(),o.shift();continue}var u=s[0][o[0]++];if(t(u)&&(a.push(u),--n<=0))return a;r&&(0,oO.hasChildren)(u)&&u.children.length>0&&(o.unshift(0),s.unshift(u.children))}}Ms.find=cX;function iEe(t,e){return e.find(t)}Ms.findOneChild=iEe;function dX(t,e,r){r===void 0&&(r=!0);for(var n=null,a=0;a<e.length&&!n;a++){var s=e[a];if((0,oO.isTag)(s))t(s)?n=s:r&&s.children.length>0&&(n=dX(t,s.children,!0));else continue}return n}Ms.findOne=dX;function fX(t,e){return e.some(function(r){return(0,oO.isTag)(r)&&(t(r)||fX(t,r.children))})}Ms.existsOne=fX;function aEe(t,e){for(var r=[],n=[e],a=[0];;){if(a[0]>=n[0].length){if(n.length===1)return r;n.shift(),a.shift();continue}var s=n[0][a[0]++];(0,oO.isTag)(s)&&(t(s)&&r.push(s),s.children.length>0&&(a.unshift(0),n.unshift(s.children)))}}Ms.findAll=aEe;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.getElementsByTagType=Wo.getElementsByTagName=Wo.getElementById=Wo.getElements=Wo.testElement=void 0;var Cp=Zo,uO=Ms,sE={tag_name:function(t){return typeof t=="function"?function(e){return(0,Cp.isTag)(e)&&t(e.name)}:t==="*"?Cp.isTag:function(e){return(0,Cp.isTag)(e)&&e.name===t}},tag_type:function(t){return typeof t=="function"?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return typeof t=="function"?function(e){return(0,Cp.isText)(e)&&t(e.data)}:function(e){return(0,Cp.isText)(e)&&e.data===t}}};function hX(t,e){return typeof e=="function"?function(r){return(0,Cp.isTag)(r)&&e(r.attribs[t])}:function(r){return(0,Cp.isTag)(r)&&r.attribs[t]===e}}function sEe(t,e){return function(r){return t(r)||e(r)}}function pX(t){var e=Object.keys(t).map(function(r){var n=t[r];return Object.prototype.hasOwnProperty.call(sE,r)?sE[r](n):hX(r,n)});return e.length===0?null:e.reduce(sEe)}function oEe(t,e){var r=pX(t);return r?r(e):!0}Wo.testElement=oEe;function uEe(t,e,r,n){n===void 0&&(n=1/0);var a=pX(t);return a?(0,uO.filter)(a,e,r,n):[]}Wo.getElements=uEe;function lEe(t,e,r){return r===void 0&&(r=!0),Array.isArray(e)||(e=[e]),(0,uO.findOne)(hX("id",t),e,r)}Wo.getElementById=lEe;function cEe(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,uO.filter)(sE.tag_name(t),e,r,n)}Wo.getElementsByTagName=cEe;function dEe(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,uO.filter)(sE.tag_type(t),e,r,n)}Wo.getElementsByTagType=dEe;var gX={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.DocumentPosition=t.removeSubsets=void 0;var e=Zo;function r(o){for(var u=o.length;--u>=0;){var l=o[u];if(u>0&&o.lastIndexOf(l,u-1)>=0){o.splice(u,1);continue}for(var c=l.parent;c;c=c.parent)if(o.includes(c)){o.splice(u,1);break}}return o}t.removeSubsets=r;var n;(function(o){o[o.DISCONNECTED=1]="DISCONNECTED",o[o.PRECEDING=2]="PRECEDING",o[o.FOLLOWING=4]="FOLLOWING",o[o.CONTAINS=8]="CONTAINS",o[o.CONTAINED_BY=16]="CONTAINED_BY"})(n=t.DocumentPosition||(t.DocumentPosition={}));function a(o,u){var l=[],c=[];if(o===u)return 0;for(var d=(0,e.hasChildren)(o)?o:o.parent;d;)l.unshift(d),d=d.parent;for(d=(0,e.hasChildren)(u)?u:u.parent;d;)c.unshift(d),d=d.parent;for(var f=Math.min(l.length,c.length),h=0;h<f&&l[h]===c[h];)h++;if(h===0)return n.DISCONNECTED;var p=l[h-1],g=p.children,y=l[h],S=c[h];return g.indexOf(y)>g.indexOf(S)?p===u?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:p===o?n.PRECEDING|n.CONTAINS:n.PRECEDING}t.compareDocumentPosition=a;function s(o){return o=o.filter(function(u,l,c){return!c.includes(u,l+1)}),o.sort(function(u,l){var c=a(u,l);return c&n.PRECEDING?-1:c&n.FOLLOWING?1:0}),o}t.uniqueSort=s})(gX);var lO={};Object.defineProperty(lO,"__esModule",{value:!0});lO.getFeed=void 0;var fEe=Qo,dw=Wo;function hEe(t){var e=oE(vEe,t);return e?e.name==="feed"?pEe(e):gEe(e):null}lO.getFeed=hEe;function pEe(t){var e,r=t.children,n={type:"atom",items:(0,dw.getElementsByTagName)("entry",r).map(function(o){var u,l=o.children,c={media:yX(l)};ao(c,"id","id",l),ao(c,"title","title",l);var d=(u=oE("link",l))===null||u===void 0?void 0:u.attribs.href;d&&(c.link=d);var f=ph("summary",l)||ph("content",l);f&&(c.description=f);var h=ph("updated",l);return h&&(c.pubDate=new Date(h)),c})};ao(n,"id","id",r),ao(n,"title","title",r);var a=(e=oE("link",r))===null||e===void 0?void 0:e.attribs.href;a&&(n.link=a),ao(n,"description","subtitle",r);var s=ph("updated",r);return s&&(n.updated=new Date(s)),ao(n,"author","email",r,!0),n}function gEe(t){var e,r,n=(r=(e=oE("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&r!==void 0?r:[],a={type:t.name.substr(0,3),id:"",items:(0,dw.getElementsByTagName)("item",t.children).map(function(o){var u=o.children,l={media:yX(u)};ao(l,"id","guid",u),ao(l,"title","title",u),ao(l,"link","link",u),ao(l,"description","description",u);var c=ph("pubDate",u)||ph("dc:date",u);return c&&(l.pubDate=new Date(c)),l})};ao(a,"title","title",n),ao(a,"link","link",n),ao(a,"description","description",n);var s=ph("lastBuildDate",n);return s&&(a.updated=new Date(s)),ao(a,"author","managingEditor",n,!0),a}var yEe=["url","type","lang"],mEe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function yX(t){return(0,dw.getElementsByTagName)("media:content",t).map(function(e){for(var r=e.attribs,n={medium:r.medium,isDefault:!!r.isDefault},a=0,s=yEe;a<s.length;a++){var o=s[a];r[o]&&(n[o]=r[o])}for(var u=0,l=mEe;u<l.length;u++){var o=l[u];r[o]&&(n[o]=parseInt(r[o],10))}return r.expression&&(n.expression=r.expression),n})}function oE(t,e){return(0,dw.getElementsByTagName)(t,e,!0,1)[0]}function ph(t,e,r){return r===void 0&&(r=!1),(0,fEe.textContent)((0,dw.getElementsByTagName)(t,e,r,1)).trim()}function ao(t,e,r,n,a){a===void 0&&(a=!1);var s=ph(r,n,a);s&&(t[e]=s)}function vEe(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}(function(t){var e=F&&F.__createBinding||(Object.create?function(a,s,o,u){u===void 0&&(u=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,u,l)}:function(a,s,o,u){u===void 0&&(u=o),a[u]=s[o]}),r=F&&F.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,a,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,r(Qo,t),r(Sa,t),r(uo,t),r(Ms,t),r(Wo,t),r(gX,t),r(lO,t);var n=Zo;Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})})(Hc);(function(t){var e=F&&F.__createBinding||(Object.create?function(v,A,E,T){T===void 0&&(T=E);var R=Object.getOwnPropertyDescriptor(A,E);(!R||("get"in R?!A.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return A[E]}}),Object.defineProperty(v,T,R)}:function(v,A,E,T){T===void 0&&(T=E),v[T]=A[E]}),r=F&&F.__setModuleDefault||(Object.create?function(v,A){Object.defineProperty(v,"default",{enumerable:!0,value:A})}:function(v,A){v.default=A}),n=F&&F.__importStar||function(v){if(v&&v.__esModule)return v;var A={};if(v!=null)for(var E in v)E!=="default"&&Object.prototype.hasOwnProperty.call(v,E)&&e(A,v,E);return r(A,v),A},a=F&&F.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=A_,o=A_;Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=Zo,l=Zo;Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function c(v,A){var E=new u.DomHandler(void 0,A);return new s.Parser(E,A).end(v),E.root}t.parseDocument=c;function d(v,A){return c(v,A).children}t.parseDOM=d;function f(v,A,E){var T=new u.DomHandler(v,A,E);return new s.Parser(T,A)}t.createDomStream=f;var h=w8;Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(h).default}}),t.ElementType=n(Gh);var p=Hc,g=Hc;Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return g.getFeed}});var y={xmlMode:!0};function S(v,A){return A===void 0&&(A=y),(0,p.getFeed)(d(v,A))}t.parseFeed=S,t.DomUtils=n(Hc)})(qK);const bEe={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},_Ee={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}};var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.RDFA_CONTENTTYPES=Nh.RDFA_FEATURES=void 0;Nh.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}};Nh.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"};var fw={};Object.defineProperty(fw,"__esModule",{value:!0});fw.Util=void 0;const t2=Ru,wEe=Nh,SEe=lr;let so=class{constructor(e,r){this.dataFactory=e||new SEe.DataFactory,this.baseIRI=this.dataFactory.namedNode(r||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(e,r,n){const a={};if(n)for(const s in e)s.startsWith("xmlns")&&(a[s.substr(6)]=e[s]);if(e.prefix||Object.keys(a).length>0){const s=Object.assign(Object.assign({},r),a);if(e.prefix){let o;for(;o=so.PREFIX_REGEX.exec(e.prefix);)s[o[1]]=o[2]}return s}else return r}static expandPrefixedTerm(e,r){const n=e.indexOf(":");let a,s;if(n>=0&&(a=e.substr(0,n),s=e.substr(n+1)),a==="")return"http://www.w3.org/1999/xhtml/vocab#"+s;if(a){const o=r.prefixesAll[a];if(o)return o+s}if(e){const o=r.prefixesAll[e.toLocaleLowerCase()];if(o)return o}return e}static isValidIri(e){return so.IRI_REGEX.test(e)}static contentTypeToProfile(e){return wEe.RDFA_CONTENTTYPES[e]||""}getBaseIRI(e){let r=e;const n=r.indexOf("#");return n>=0&&(r=r.substr(0,n)),this.dataFactory.namedNode((0,t2.resolve)(r,this.baseIRI.value))}getResourceOrBaseIri(e,r){return e===!0?this.getBaseIriTerm(r):e}getBaseIriTerm(e){return e.localBaseIRI||this.baseIRI}createVocabIris(e,r,n,a){return e.split(/\s+/).filter(s=>s&&(n||s.indexOf(":")>=0)).map(s=>this.createIri(s,r,!0,!0,a)).filter(s=>s!=null)}createLiteral(e,r){if(r.interpretObjectAsTime&&!r.datatype){for(const n of so.TIME_REGEXES)if(e.match(n.regex)){r.datatype=this.dataFactory.namedNode(so.XSD+n.type);break}}return this.dataFactory.literal(e,r.datatype||r.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(e,r,n,a,s){if(e=e||"",!a)return n||(e=(0,t2.resolve)(e,this.getBaseIriTerm(r).value)),so.isValidIri(e)?this.dataFactory.namedNode(e):null;if(e.length>0&&e[0]==="["&&e[e.length-1]==="]"&&(e=e.substr(1,e.length-2),e.indexOf(":")<0))return null;if(e.startsWith("_:"))return s?this.dataFactory.blankNode(e.substr(2)||"b_identity"):null;if(n&&r.vocab&&e.indexOf(":")<0)return this.dataFactory.namedNode(r.vocab+e);let o=so.expandPrefixedTerm(e,r);return n?e!==o&&(o=(0,t2.resolve)(o,this.baseIRIDocument.value)):o=(0,t2.resolve)(o,this.getBaseIriTerm(r).value),so.isValidIri(o)?this.dataFactory.namedNode(o):null}};fw.Util=so;so.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";so.XSD="http://www.w3.org/2001/XMLSchema#";so.RDFA="http://www.w3.org/ns/rdfa#";so.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g;so.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}];so.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/;Object.defineProperty(nO,"__esModule",{value:!0});nO.RdfaParser=void 0;const TEe=qK,SB=zr,EEe=bEe,AEe=_Ee,xEe=Nh,Ys=fw;class R8 extends SB.Transform{constructor(e){super({readableObjectMode:!0}),this.activeTagStack=[],e=e||{},this.options=e,this.util=new Ys.Util(e.dataFactory,e.baseIRI),this.defaultGraph=e.defaultGraph||this.util.dataFactory.defaultGraph();const r=e.contentType?Ys.Util.contentTypeToProfile(e.contentType):e.profile||"";this.features=e.features||xEe.RDFA_FEATURES[r],this.htmlParseListener=e.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(r==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:e.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},AEe["@context"]),this.features.xhtmlInitialContext?EEe["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:e.vocab})}import(e){const r=new SB.PassThrough({readableObjectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new R8(this.options));return n}_transform(e,r,n){this.parser.write(e.toString()),n()}_flush(e){this.parser.end(),e()}onTagOpen(e,r){let n=this.activeTagStack.length-1;for(;n>0&&this.activeTagStack[n].skipElement;)n--;let a=this.activeTagStack[n];n!==this.activeTagStack.length-1&&(a=Object.assign(Object.assign({},a),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const s={collectChildTags:a.collectChildTags,incompleteTriples:[],inlist:"inlist"in r,listMapping:[],listMappingLocal:a.listMapping,localBaseIRI:a.localBaseIRI,name:e,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(s),s.collectChildTags){for(const g of Object.keys(a.prefixesCustom).sort()){const y=a.prefixesCustom[g],S=g===""?"xmlns":"xmlns:"+g;S in r||(r[S]=y)}const p=Object.keys(r).map(g=>`${g}="${r[g]}"`).join(" ");if(s.text=[`<${e}${p?" "+p:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let o=!0,u=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in r&&"rel"in r&&(o=!1,r.rel.indexOf(":")<0&&delete r.rel),"property"in r&&"rev"in r&&(u=!1,r.rev.indexOf(":")<0&&delete r.rev)),this.features.copyRdfaPatterns){if(a.collectedPatternTag){const p={attributes:r,children:[],name:e,referenced:!1,rootPattern:!1,text:[]};a.collectedPatternTag.children.push(p),s.collectedPatternTag=p;return}if(r.typeof==="rdfa:Pattern"){s.collectedPatternTag={attributes:r,children:[],name:e,parentTag:a,referenced:!1,rootPattern:!0,text:[]};return}if(r.property==="rdfa:copy"){const p=r.resource||r.href||r.src;this.rdfaPatterns[p]?this.emitPatternCopy(a,this.rdfaPatterns[p],p):(this.pendingRdfaPatternCopies[p]||(this.pendingRdfaPatternCopies[p]=[]),this.pendingRdfaPatternCopies[p].push(a));return}}this.features.baseTag&&e==="base"&&r.href&&(this.util.baseIRI=this.util.getBaseIRI(r.href)),this.features.xmlBase&&r["xml:base"]&&(s.localBaseIRI=this.util.getBaseIRI(r["xml:base"])),this.features.timeTag&&e==="time"&&!r.datatype&&(s.interpretObjectAsTime=!0);let l,c,d;if("vocab"in r?r.vocab?(s.vocab=r.vocab,this.emitTriple(this.util.getBaseIriTerm(s),this.util.dataFactory.namedNode(Ys.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(s.vocab))):s.vocab=this.activeTagStack[0].vocab:s.vocab=a.vocab,s.prefixesCustom=Ys.Util.parsePrefixes(r,a.prefixesCustom,this.features.xmlnsPrefixMappings),s.prefixesAll=Object.keys(s.prefixesCustom).length>0?Object.assign(Object.assign({},a.prefixesAll),s.prefixesCustom):a.prefixesAll,this.features.roleAttribute&&r.role){const p=r.id?this.util.createIri("#"+r.id,s,!1,!1,!1):this.util.createBlankNode(),g=s.vocab;s.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const y of this.util.createVocabIris(r.role,s,!0,!1))this.emitTriple(p,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),y);s.vocab=g}"xml:lang"in r||this.features.langAttribute&&"lang"in r?s.language=r["xml:lang"]||r.lang:s.language=a.language;const f=this.activeTagStack.length===2;if(!("rel"in r)&&!("rev"in r)?"property"in r&&!("content"in r)&&!("datatype"in r)?("about"in r?(l=this.util.createIri(r.about,s,!1,!0,!0),s.explicitNewSubject=!!l):f?l=!0:a.object&&(l=a.object),"typeof"in r&&("about"in r&&(d=this.util.createIri(r.about,s,!1,!0,!0)),!d&&f&&(d=!0),!d&&"resource"in r&&(d=this.util.createIri(r.resource,s,!1,!0,!0)),!d&&("href"in r||"src"in r)&&(d=this.util.createIri(r.href||r.src,s,!1,!1,!0)),!d&&this.isInheritSubjectInHeadBody(e)&&(d=l),d||(d=this.util.createBlankNode()),c=d)):(("about"in r||"resource"in r)&&(l=this.util.createIri(r.about||r.resource,s,!1,!0,!0),s.explicitNewSubject=!!l),!l&&("href"in r||"src"in r)&&(l=this.util.createIri(r.href||r.src,s,!1,!1,!0),s.explicitNewSubject=!!l),l||(f?l=!0:this.isInheritSubjectInHeadBody(e)?l=a.object:"typeof"in r?(l=this.util.createBlankNode(),s.explicitNewSubject=!0):a.object&&(l=a.object,"property"in r||(s.skipElement=!0))),"typeof"in r&&(d=l)):("about"in r?(l=this.util.createIri(r.about,s,!1,!0,!0),s.explicitNewSubject=!!l,"typeof"in r&&(d=l)):f?l=!0:a.object&&(l=a.object),"resource"in r&&(c=this.util.createIri(r.resource,s,!1,!0,!0)),c||("href"in r||"src"in r?c=this.util.createIri(r.href||r.src,s,!1,!1,!0):"typeof"in r&&!("about"in r)&&!this.isInheritSubjectInHeadBody(e)&&(c=this.util.createBlankNode())),"typeof"in r&&!("about"in r)&&(this.isInheritSubjectInHeadBody(e)?d=l:d=c)),d)for(const p of this.util.createVocabIris(r.typeof,s,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(d,s),this.util.dataFactory.namedNode(Ys.Util.RDF+"type"),p);if(l&&(s.listMapping={}),c){if("rel"in r&&"inlist"in r)for(const p of this.util.createVocabIris(r.rel,s,o,!1))this.addListMapping(s,l,p,c);if(!("rel"in r&&"inlist"in r)){if("rel"in r)for(const p of this.util.createVocabIris(r.rel,s,o,!1))this.emitTriple(this.util.getResourceOrBaseIri(l,s),p,this.util.getResourceOrBaseIri(c,s));if("rev"in r)for(const p of this.util.createVocabIris(r.rev,s,u,!1))this.emitTriple(this.util.getResourceOrBaseIri(c,s),p,this.util.getResourceOrBaseIri(l,s))}}if(!c){if("rel"in r)if("inlist"in r)for(const p of this.util.createVocabIris(r.rel,s,o,!1))this.addListMapping(s,l,p,null),s.incompleteTriples.push({predicate:p,reverse:!1,list:!0});else for(const p of this.util.createVocabIris(r.rel,s,o,!1))s.incompleteTriples.push({predicate:p,reverse:!1});if("rev"in r)for(const p of this.util.createVocabIris(r.rev,s,u,!1))s.incompleteTriples.push({predicate:p,reverse:!0});s.incompleteTriples.length>0&&(c=this.util.createBlankNode())}if("property"in r){s.predicates=this.util.createVocabIris(r.property,s,!0,!1);let p;if("datatype"in r?(s.datatype=this.util.createIri(r.datatype,s,!0,!0,!1),s.datatype&&(s.datatype.value===Ys.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&s.datatype.value===Ys.Util.RDF+"HTML")&&(s.collectChildTags=!0)):(!("rev"in r)&&!("rel"in r)&&!("content"in r)&&("resource"in r&&(p=this.util.createIri(r.resource,s,!1,!0,!0)),!p&&"href"in r&&(p=this.util.createIri(r.href,s,!1,!1,!0)),!p&&"src"in r&&(p=this.util.createIri(r.src,s,!1,!1,!0))),"typeof"in r&&!("about"in r)&&(p=d)),"content"in r){const g=this.util.createLiteral(r.content,s);if("inlist"in r)for(const y of s.predicates)this.addListMapping(s,l,y,g);else{const y=this.util.getResourceOrBaseIri(l,s);for(const S of s.predicates)this.emitTriple(y,S,g)}s.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in r){s.interpretObjectAsTime=!0;const g=this.util.createLiteral(r.datetime,s);if("inlist"in r)for(const y of s.predicates)this.addListMapping(s,l,y,g);else{const y=this.util.getResourceOrBaseIri(l,s);for(const S of s.predicates)this.emitTriple(y,S,g)}s.predicates=null}else if(p){const g=this.util.getResourceOrBaseIri(p,s);if("inlist"in r)for(const y of s.predicates)this.addListMapping(s,l,y,g);else{const y=this.util.getResourceOrBaseIri(l,s);for(const S of s.predicates)this.emitTriple(y,S,g)}s.predicates=null}}let h=!1;if(!s.skipElement&&l&&a.incompleteTriples.length>0){h=!0;const p=this.util.getResourceOrBaseIri(a.subject,s),g=this.util.getResourceOrBaseIri(l,s);for(const y of a.incompleteTriples)if(y.reverse)this.emitTriple(g,y.predicate,p);else if(y.list){let S=null;for(let v=this.activeTagStack.length-1;v>=0;v--)if(this.activeTagStack[v].inlist){S=this.activeTagStack[v];break}this.addListMapping(S,l,y.predicate,g)}else this.emitTriple(p,y.predicate,g)}!h&&a.incompleteTriples.length>0&&(s.incompleteTriples=s.incompleteTriples.concat(a.incompleteTriples)),s.subject=l||a.subject,s.object=c||l}onText(e){const r=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&r.collectedPatternTag){r.collectedPatternTag.text.push(e);return}r.text||(r.text=[]),r.text.push(e)}onTagClose(){const e=this.activeTagStack[this.activeTagStack.length-1],r=this.activeTagStack[this.activeTagStack.length-2];if(!(e.collectChildTags&&r.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&e.collectedPatternTag&&e.collectedPatternTag.rootPattern){const n=e.collectedPatternTag.attributes.resource;if(delete e.collectedPatternTag.attributes.resource,delete e.collectedPatternTag.attributes.typeof,this.rdfaPatterns[n]=e.collectedPatternTag,this.pendingRdfaPatternCopies[n]){for(const a of this.pendingRdfaPatternCopies[n])this.emitPatternCopy(a,e.collectedPatternTag,n);delete this.pendingRdfaPatternCopies[n]}this.activeTagStack.pop();return}if(e.predicates){const n=this.util.getResourceOrBaseIri(e.subject,e);let a=e.text||[];e.collectChildTags&&r.collectChildTags&&(a=a.slice(1));const s=this.util.createLiteral(a.join(""),e);if(e.inlist)for(const o of e.predicates)this.addListMapping(e,n,o,s);else for(const o of e.predicates)this.emitTriple(n,o,s);r.predicates||(e.text=null)}if(e.object&&Object.keys(e.listMapping).length>0){const n=this.util.getResourceOrBaseIri(e.object,e);for(const a in e.listMapping){const s=this.util.dataFactory.namedNode(a),o=e.listMapping[a];if(o.length>0){const u=o.map(()=>this.util.createBlankNode());for(let l=0;l<o.length;l++){const c=this.util.getResourceOrBaseIri(o[l],e);this.emitTriple(u[l],this.util.dataFactory.namedNode(Ys.Util.RDF+"first"),c),this.emitTriple(u[l],this.util.dataFactory.namedNode(Ys.Util.RDF+"rest"),l<o.length-1?u[l+1]:this.util.dataFactory.namedNode(Ys.Util.RDF+"nil"))}this.emitTriple(n,s,u[0])}else this.emitTriple(n,s,this.util.dataFactory.namedNode(Ys.Util.RDF+"nil"))}}}this.activeTagStack.pop(),e.collectChildTags&&e.text&&e.text.push(`</${e.name}>`),e.text&&r&&(r.text?r.text=r.text.concat(e.text):r.text=e.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const e in this.rdfaPatterns){const r=this.rdfaPatterns[e];r.referenced||(r.attributes.typeof="rdfa:Pattern",r.attributes.resource=e,this.emitPatternCopy(r.parentTag,r,e),r.referenced=!1,delete r.attributes.typeof,delete r.attributes.resource)}for(const e in this.pendingRdfaPatternCopies)for(const r of this.pendingRdfaPatternCopies[e])this.activeTagStack.push(r),this.onTagOpen("link",{property:"rdfa:copy",href:e}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(e){return this.features.inheritSubjectInHeadBody&&(e==="head"||e==="body")}addListMapping(e,r,n,a){if(e.explicitNewSubject){const s=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(r,e),n,s),this.emitTriple(s,this.util.dataFactory.namedNode(Ys.Util.RDF+"first"),this.util.getResourceOrBaseIri(a,e)),this.emitTriple(s,this.util.dataFactory.namedNode(Ys.Util.RDF+"rest"),this.util.dataFactory.namedNode(Ys.Util.RDF+"nil"))}else{let s=e.listMappingLocal[n.value];s||(e.listMappingLocal[n.value]=s=[]),a&&s.push(a)}}emitTriple(e,r,n){e.termType==="NamedNode"&&e.value.indexOf(":")<0||r.termType==="NamedNode"&&r.value.indexOf(":")<0||n.termType==="NamedNode"&&n.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(e,r,n,this.defaultGraph))}emitPatternCopy(e,r,n){if(this.activeTagStack.push(e),r.referenced=!0,!r.constructedBlankNodes)r.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const a=this.util.dataFactory.blankNode();return r.constructedBlankNodes.push(a),a};else{let a=0;this.util.blankNodeFactory=()=>r.constructedBlankNodes[a++]}this.emitPatternCopyAbsolute(r,!0,n),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(e,r,n){if(!(!r&&e.attributes.property==="rdfa:copy"&&e.attributes.href===n)){this.onTagOpen(e.name,e.attributes);for(const a of e.text)this.onText(a);for(const a of e.children)this.emitPatternCopyAbsolute(a,!1,n);this.onTagClose()}}initializeParser(e){return new TEe.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(r){this.emit("error",r)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(r){this.emit("error",r)}},onopentag:(r,n)=>{try{this.onTagOpen(r,n),this.htmlParseListener&&this.htmlParseListener.onTagOpen(r,n)}catch(a){this.emit("error",a)}},ontext:r=>{try{this.onText(r),this.htmlParseListener&&this.htmlParseListener.onText(r)}catch(n){this.emit("error",n)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:e})}}nO.RdfaParser=R8;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(UK,t),r(VK,t),r(HK,t),r(nO,t),r(Nh,t),r(fw,t)})(_8);Object.defineProperty(rO,"__esModule",{value:!0});rO.ActorRdfParseXmlRdfa=void 0;const OEe=U0,REe=_8;class IEe extends OEe.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){var o;const a=(e.headers&&e.headers.get("content-language"))??void 0;e.data.on("error",u=>s.emit("error",u));const s=e.data.pipe(new REe.RdfaParser({baseIRI:(o=e.metadata)==null?void 0:o.baseIRI,profile:"xml",language:a}));return{data:s,metadata:{triples:!0}}}}rO.ActorRdfParseXmlRdfa=IEe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(rO,t)})($K);var mX={},cO={},I8={},PEe=function(){var t=function(Ot,at,pt,Ft){for(pt=pt||{},Ft=Ot.length;Ft--;pt[Ot[Ft]]=at);return pt},e=[7,12,13,14,15,16,20,25,115,130],r=[7,13,16,20,25,115,130],n=[7,13,16,115,130],a=[1,25],s=[1,29],o=[1,27],u=[1,28],l=[13,16,115,130],c=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],f=[1,42],h=[46,48,53,56],p=[1,54],g=[1,60],y=[1,56],S=[1,57],v=[1,58],A=[1,63],E=[1,64],T=[1,65],R=[1,66],I=[1,67],D=[1,68],M=[1,75],N=[28,46,48,53,56],O=[28,42,46,48,53,56],k=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],Y=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],ne=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],q=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],H=[13,16,28,56,115,130],J=[13,16,38,58,87,96,109,115,126,130],se=[1,116],ue=[1,112],Se=[1,108],ve=[1,114],Le=[1,111],Xe=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],Ne=[48,53],ye=[48,53,87,96,126],qe=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],Te=[1,126],Oe=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],Be=[1,129],He=[48,53,67,87,96,126],ee=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],j=[1,133],b=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],m=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],C=[1,151],B=[1,153],z=[1,156],Q=[1,157],ae=[1,158],ce=[1,167],fe=[1,175],be=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],je=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],$e=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Ke={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(at,pt,Ft,Tr,qt,bt,To){var St=bt.length-1;switch(qt){case 1:this.$=xr(nt.factory.namedNode(gr("")),nt.factory.namedNode(le),nt.factory.namedNode(Rt+"Ontology"));break;case 5:nt.base=nt.factory.namedNode(bt[St].slice(1,-1)),nt.n3Parser._setBase(nt.base.value);break;case 6:this.$=xr(nt.base,nt.factory.namedNode(Rt+"imports"),nt.factory.namedNode(bt[St].slice(1,-1)));break;case 7:this.$=nt.prefixes[bt[St-1].substr(0,bt[St-1].length-1)]=gr(bt[St]);break;case 8:nt.nodeShapeStack=!1,xr(nt.currentNodeShape=bt[St],nt.factory.namedNode(le),nt.factory.namedNode(_t+"NodeShape"));break;case 10:this.$=xr(nt.currentNodeShape,nt.factory.namedNode(le),nt.factory.namedNode(Et+"Class"));break;case 11:this.$=ut();break;case 13:this.$=bt[St].forEach(or=>xr(nt.currentNodeShape,bt[St-1],or));break;case 14:this.$=[bt[St-1],...bt[St]];break;case 18:this.$=Cn(bt[St-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=bt[St];break;case 20:nt.tempCurrentNodeShape=nt.currentNodeShape,this.$=nt.currentNodeShape=Ur();break;case 21:nt.currentNodeShape=nt.tempCurrentNodeShape;break;case 22:case 31:this.$=bt[St-2];break;case 23:nt.tempCurrentNodeShape=nt.currentNodeShape,nt.currentNodeShape=nt.currentPropertyNode;break;case 24:nt.currentNodeShape=nt.tempCurrentNodeShape;break;case 26:nt.currentNodeShape=bt[St];break;case 29:nt.nodeShapeStack?(nt.nodeShapeStack.push(nt.currentNodeShape),xr(nt.currentPropertyNode,nt.factory.namedNode(_t+"node"),nt.currentNodeShape=Ur())):nt.nodeShapeStack=[],this.$=nt.currentNodeShape;break;case 30:nt.nodeShapeStack.length>0&&(nt.currentNodeShape=nt.nodeShapeStack.pop());break;case 32:this.$=bt[St].forEach(or=>{xr(nt.currentNodeShape,nt.factory.namedNode(_t+"targetClass"),or)});break;case 35:this.$=xr(nt.currentNodeShape,nt.factory.namedNode(_t+bt[St][0]),bt[St][1]);break;case 36:break;case 37:const Ti=Cn([bt[St-1],...bt[St]].map(or=>{const Ra=Ur();return xr(Ra,nt.factory.namedNode(_t+or[0]),or[1]),Ra}));this.$=["or",Ti];break;case 39:case 46:this.$=Ve("not",...bt[St]);break;case 40:case 50:this.$=[bt[St-2],bt[St]];break;case 43:this.$=bt[St]&&Ae(...bt[St]);break;case 44:this.$=Ae("or",Cn([bt[St-1],...bt[St]].map(or=>{const Ra=Ur();return xr(Ra,nt.factory.namedNode(_t+or[0]),or[1]),Ra})));break;case 47:this.$=[Jt[bt[St].value]?"datatype":"class",bt[St]];break;case 48:this.$=["nodeKind",nt.factory.namedNode(_t+bt[St])];break;case 49:this.$=["node",nt.factory.namedNode(bt[St])];break;case 51:this.$=void 0;break;case 53:this.$=bt[St]>0&&Ae("minCount",Qr(bt[St],Ie));break;case 54:this.$=Ae("maxCount",Qr(bt[St],Ie));break;case 56:this.$=ar(bt[St].slice(1));break;case 57:this.$=gr(bt[St]);break;case 59:xr(nt.currentNodeShape,nt.factory.namedNode(_t+"property"),nt.currentPropertyNode=Ur()),Ae("path",bt[St]);break;case 62:const nr=Ur();xr(nr,nt.factory.namedNode(_t+"alternativePath"),Cn([bt[St-1],...bt[St]])),this.$=nr;break;case 65:this.$=Cn([bt[St-1],...bt[St]]);break;case 67:xr(this.$=Ur(),nt.factory.namedNode(_t+bt[St]),bt[St-1]);break;case 69:xr(this.$=Ur(),nt.factory.namedNode(_t+"inversePath"),bt[St]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=bt[St-1];break;case 77:this.$=Cn(bt[St-1]);break;case 80:this.$=nt.factory.namedNode(gr(bt[St]));break;case 81:this.$=nt.factory.namedNode(ar(bt[St]));break;case 82:this.$=ut(nt.factory.namedNode(le));break;case 83:this.$=Qr(bt[St]);break;case 84:this.$=yr(bt[St-1],lowercase(bt[St].substr(1)));break;case 85:this.$=Qr(bt[St-2],bt[St]);break;case 86:this.$=Qr(bt[St],Ie);break;case 87:this.$=Qr(bt[St],ke);break;case 88:this.$=Qr(bt[St].toLowerCase(),Pe);break;case 89:this.$=Qr(bt[St].toLowerCase(),ht);break;case 90:this.$=fa(bt[St],1);break;case 91:this.$=fa(bt[St],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:bt[St-1].push(bt[St]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[bt[St]];break}},table:[t(e,[2,92],{3:1,4:2}),{1:[3]},t(r,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(n,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(e,[2,93]),t(e,[2,2]),t(e,[2,3]),t(e,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(r,[2,97]),{7:[2,28],13:a,16:s,18:24,51:23,52:22,114:26,115:o,130:u},t(r,[2,94]),t(r,[2,95]),{13:a,16:s,17:30,18:31,114:26,115:o,130:u},{13:a,16:s,17:32,18:31,114:26,115:o,130:u},t(e,[2,5]),t(e,[2,6]),{13:[1,33]},{1:[2,1]},t(n,[2,111]),{13:a,16:s,18:36,29:34,30:35,114:26,115:o,130:u},t(l,[2,26]),t(c,[2,80]),t(c,[2,81]),t(c,[2,82]),t(c,[2,140]),t(c,[2,141]),t(d,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:f,56:[2,102]},t(e,[2,7]),{53:[1,43]},t(h,[2,104],{31:44,27:45,28:f}),{13:a,16:s,18:51,32:46,33:47,35:48,36:49,37:50,38:p,43:53,44:g,92:y,113:52,114:26,115:o,116:55,119:S,120:v,121:59,122:61,123:62,130:u,131:A,132:E,133:T,134:R,135:I,136:D},{22:69,27:70,28:f,56:[2,100]},t(d,[2,99]),{13:a,16:s,18:72,62:71,114:26,115:o,130:u},{23:73,55:74,56:M},{56:[2,103]},{13:a,16:s,18:36,29:76,30:35,114:26,115:o,130:u},t(n,[2,27]),t(h,[2,12]),t(h,[2,105]),t(N,[2,13]),t(O,[2,106],{34:77}),t(k,[2,15]),t(k,[2,16]),t(k,[2,17]),t(Y,[2,78]),t(Y,[2,79]),{13:a,16:s,18:36,29:78,30:35,114:26,115:o,130:u},t(ne,[2,108],{39:79}),t(Y,[2,83],{117:[1,80],118:[1,81]}),t(Y,[2,86]),t(Y,[2,87]),t(Y,[2,88]),t(Y,[2,89]),t(l,[2,20]),t(q,[2,90]),t(q,[2,91]),t(Y,[2,142]),t(Y,[2,143]),t(q,[2,144]),t(q,[2,145]),t(q,[2,146]),t(q,[2,147]),{23:82,55:74,56:M},{56:[2,101]},t(d,[2,32],{114:26,18:83,13:a,16:s,115:o,130:u}),t(H,[2,114]),t(r,[2,10]),t(J,[2,112],{59:84}),t(J,[2,29]),t(h,[2,11]),t(N,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:a,16:s,18:51,33:90,35:48,36:49,37:50,38:p,40:[1,89],43:53,44:g,92:y,113:52,114:26,115:o,116:55,119:S,120:v,121:59,122:61,123:62,130:u,131:A,132:E,133:T,134:R,135:I,136:D},t(Y,[2,84]),{13:a,16:s,18:91,114:26,115:o,130:u},t(r,[2,9]),t(H,[2,115]),{13:a,16:s,18:115,38:se,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:ue,96:Se,97:101,99:103,103:106,105:109,106:113,108:110,109:ve,114:26,115:o,125:96,126:Le,130:u},t(O,[2,107]),{13:a,16:s,18:51,33:117,35:48,36:49,37:50,38:p,43:53,44:g,92:y,113:52,114:26,115:o,116:55,119:S,120:v,121:59,122:61,123:62,130:u,131:A,132:E,133:T,134:R,135:I,136:D},t(k,[2,22]),t(k,[2,21]),t(k,[2,18]),t(ne,[2,109]),t(Y,[2,85]),t(Xe,[2,31]),t(J,[2,113]),t(Xe,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t(Ne,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:ue,96:Se,126:Le}),t(Ne,[2,119]),t(ye,[2,116]),t(qe,[2,128],{79:123}),t(ye,[2,35]),t(qe,[2,59]),t(ye,[2,36],{71:124,66:125,67:Te}),t(Oe,[2,61],{100:127,98:128,67:Be}),t(He,[2,38]),{72:130,74:107,87:ue,126:Le},t(ee,[2,64],{104:131,101:132,102:j}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(b,[2,68]),{13:a,16:s,18:115,38:se,105:135,106:113,114:26,115:o,130:u},{75:[2,124]},{75:[2,125]},t(b,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(m,[2,74]),{13:a,16:s,18:115,38:se,97:140,99:103,103:106,105:109,106:113,108:110,109:ve,114:26,115:o,130:u},t(O,[2,19]),{53:[1,141]},{53:[2,121]},{13:a,16:s,18:36,29:142,30:35,114:26,115:o,130:u},t(l,[2,23]),t(ye,[2,117]),t(Ne,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:a,16:s,44:[1,146],56:M,85:C,87:B,95:z,96:Se,115:o,128:Q,129:ae,130:u}),t(ye,[2,37],{66:159,67:Te}),t(He,[2,122]),{68:160,72:104,73:105,74:107,87:ue,96:Se,126:Le},t(Oe,[2,62],{98:161,67:Be}),t(ee,[2,134]),{13:a,16:s,18:115,38:se,99:162,103:106,105:109,106:113,108:110,109:ve,114:26,115:o,130:u},t(He,[2,39]),t(ee,[2,65],{101:163,102:j}),t(b,[2,136]),{13:a,16:s,18:115,38:se,103:164,105:109,106:113,108:110,109:ve,114:26,115:o,130:u},{13:a,16:s,18:51,35:166,44:ce,76:165,92:y,113:52,114:26,115:o,116:55,119:S,120:v,121:59,122:61,123:62,130:u,131:A,132:E,133:T,134:R,135:I,136:D},t(b,[2,69]),t(b,[2,67]),t(b,[2,71]),t(b,[2,72]),t(b,[2,73]),{40:[1,168]},t(J,[2,33]),{48:[1,170],49:169},t(qe,[2,129]),t(qe,[2,126]),t(qe,[2,127]),{89:171,92:[1,172]},t(qe,[2,43],{83:173,80:174,67:fe}),t(be,[2,45]),{13:a,16:s,18:150,23:154,55:74,56:M,84:176,85:C,86:152,87:B,94:155,95:z,114:26,115:o,128:Q,129:ae,130:u},t(be,[2,47]),t(be,[2,48]),t(be,[2,49]),{75:[1,177]},t(be,[2,51]),t(be,[2,56]),{13:[1,178]},t(be,[2,132]),t(be,[2,133]),t(He,[2,123]),t(He,[2,34]),t(ee,[2,135]),t(ee,[2,60]),t(b,[2,137]),t(b,[2,63]),t(He,[2,40]),t(je,[2,76]),t($e,[2,138],{112:179}),t(m,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(qe,[2,44],{80:181,67:fe}),t(be,[2,130]),{13:a,16:s,18:150,23:154,55:74,56:M,73:149,81:182,84:148,85:C,86:152,87:B,94:155,95:z,96:Se,114:26,115:o,128:Q,129:ae,130:u},t(be,[2,46]),{13:a,16:s,18:51,35:166,44:ce,76:183,92:y,113:52,114:26,115:o,116:55,119:S,120:v,121:59,122:61,123:62,130:u,131:A,132:E,133:T,134:R,135:I,136:D},t(be,[2,57]),{13:a,16:s,18:51,35:185,46:[1,184],92:y,113:52,114:26,115:o,116:55,119:S,120:v,121:59,122:61,123:62,130:u,131:A,132:E,133:T,134:R,135:I,136:D},{91:186,92:[1,187],93:[1,188]},t(be,[2,131]),t(be,[2,42]),t(be,[2,50]),t(je,[2,77]),t($e,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(qe,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(at,pt){if(pt.recoverable)this.trace(at);else{var Ft=new Error(at);throw Ft.hash=pt,Ft}},parse:function(at){var pt=this,Ft=[0],Tr=[null],qt=[],bt=this.table,To="",St=0,Ti=0,nr=2,or=1,Ra=qt.slice.call(arguments,1),hr=Object.create(this.lexer),Ss={yy:{}};for(var Wr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Wr)&&(Ss.yy[Wr]=this.yy[Wr]);hr.setInput(at,Ss.yy),Ss.yy.lexer=hr,Ss.yy.parser=this,typeof hr.yylloc>"u"&&(hr.yylloc={});var an=hr.yylloc;qt.push(an);var Mu=hr.options&&hr.options.ranges;typeof Ss.yy.parseError=="function"?this.parseError=Ss.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var zl=function(){var L;return L=hr.lex()||or,typeof L!="number"&&(L=pt.symbols_[L]||L),L},ai,Ka,Ei,Ts,Ai={},Eo,hi,w,_;;){if(Ka=Ft[Ft.length-1],this.defaultActions[Ka]?Ei=this.defaultActions[Ka]:((ai===null||typeof ai>"u")&&(ai=zl()),Ei=bt[Ka]&&bt[Ka][ai]),typeof Ei>"u"||!Ei.length||!Ei[0]){var P="";_=[];for(Eo in bt[Ka])this.terminals_[Eo]&&Eo>nr&&_.push("'"+this.terminals_[Eo]+"'");hr.showPosition?P="Parse error on line "+(St+1)+`:
`+hr.showPosition()+`
Expecting `+_.join(", ")+", got '"+(this.terminals_[ai]||ai)+"'":P="Parse error on line "+(St+1)+": Unexpected "+(ai==or?"end of input":"'"+(this.terminals_[ai]||ai)+"'"),this.parseError(P,{text:hr.match,token:this.terminals_[ai]||ai,line:hr.yylineno,loc:an,expected:_})}if(Ei[0]instanceof Array&&Ei.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ka+", token: "+ai);switch(Ei[0]){case 1:Ft.push(ai),Tr.push(hr.yytext),qt.push(hr.yylloc),Ft.push(Ei[1]),ai=null,Ti=hr.yyleng,To=hr.yytext,St=hr.yylineno,an=hr.yylloc;break;case 2:if(hi=this.productions_[Ei[1]][1],Ai.$=Tr[Tr.length-hi],Ai._$={first_line:qt[qt.length-(hi||1)].first_line,last_line:qt[qt.length-1].last_line,first_column:qt[qt.length-(hi||1)].first_column,last_column:qt[qt.length-1].last_column},Mu&&(Ai._$.range=[qt[qt.length-(hi||1)].range[0],qt[qt.length-1].range[1]]),Ts=this.performAction.apply(Ai,[To,Ti,St,Ss.yy,Ei[1],Tr,qt].concat(Ra)),typeof Ts<"u")return Ts;hi&&(Ft=Ft.slice(0,-1*hi*2),Tr=Tr.slice(0,-1*hi),qt=qt.slice(0,-1*hi)),Ft.push(this.productions_[Ei[1]][0]),Tr.push(Ai.$),qt.push(Ai._$),w=bt[Ft[Ft.length-2]][Ft[Ft.length-1]],Ft.push(w);break;case 3:return!0}}return!0}};const re="http://www.w3.org/1999/02/22-rdf-syntax-ns#",le=re+"type",X=re+"first",$=re+"rest",U=re+"nil",V="http://www.w3.org/2001/XMLSchema#",Ie=V+"integer",ke=V+"decimal",Pe=V+"double",ht=V+"boolean",_t="http://www.w3.org/ns/shacl#",Rt="http://www.w3.org/2002/07/owl#",Et="http://www.w3.org/2000/01/rdf-schema#",Jt={[Ie]:!0,[ke]:!0,[V+"float"]:!0,[Pe]:!0,[V+"string"]:!0,[ht]:!0,[V+"dateTime"]:!0,[V+"nonPositiveInteger"]:!0,[V+"negativeInteger"]:!0,[V+"long"]:!0,[V+"int"]:!0,[V+"short"]:!0,[V+"byte"]:!0,[V+"nonNegativeInteger"]:!0,[V+"unsignedLong"]:!0,[V+"unsignedShort"]:!0,[V+"unsignedByte"]:!0,[V+"positiveInteger"]:!0,[re+"langString"]:!0};function Cn(Ot,at=!1){let pt=0,Ft=Ot.length;if(at&&Ft===0)return nt.factory.namedNode(U);const Tr=head=Ur();return Ft===0&&xr(head,nt.factory.namedNode($),nt.factory.namedNode(U)),Ot.forEach(qt=>{if(qt===void 0)throw new Error("b");xr(head,nt.factory.namedNode(X),qt),xr(head,nt.factory.namedNode($),head=++pt<Ft?Ur():nt.factory.namedNode(U))}),Tr}function gr(Ot){return nt.n3Parser._resolveIRI(Ot[0]==="<"?Ot.substring(1,Ot.length-1):Ot)}function ar(Ot){const at=Ot.indexOf(":"),pt=Ot.substr(0,at),Ft=nt.prefixes[pt];if(!Ft)throw new Error("Unknown prefix: "+pt);return gr(Ft+Ot.substr(at+1))}function Qr(Ot,at){return at&&at.termType!=="NamedNode"&&(at=nt.factory.namedNode(at)),nt.factory.literal(Ot,at)}function yr(Ot,at){return nt.factory.literal(Ot,at)}function Ur(Ot){return typeof Ot=="string"?Ot.startsWith("e_")?nt.factory.blankNode(Ot):nt.factory.blankNode("e_"+Ot):nt.factory.blankNode("g_"+Zr++)}var Zr=0;nt._resetBlanks=function(){Zr=0};function fa(Ot,at){return nt.n3Parser._lexer._unescape(Ot.substring(at,Ot.length-at))}function xr(Ot,at,pt){if(!Ot.termType||!at.termType||at.value.includes(",")||!pt.termType)throw new Error(`boo ${Ot.value} ${at.value} ${pt.value}`);nt.onQuad(nt.factory.quad(Ot,at,pt))}function Ae(Ot,at){xr(nt.currentPropertyNode,nt.factory.namedNode(_t+Ot),at)}function Ve(Ot,at,pt){const Ft=Ur();return xr(Ft,nt.factory.namedNode(_t+at),pt),[Ot,Ft]}function ut(Ot){if(!nt.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return Ot}var Bt=function(){var Ot={EOF:1,parseError:function(pt,Ft){if(this.yy.parser)this.yy.parser.parseError(pt,Ft);else throw new Error(pt)},setInput:function(at,pt){return this.yy=pt||this.yy||{},this._input=at,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var at=this._input[0];this.yytext+=at,this.yyleng++,this.offset++,this.match+=at,this.matched+=at;var pt=at.match(/(?:\r\n?|\n).*/g);return pt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),at},unput:function(at){var pt=at.length,Ft=at.split(/(?:\r\n?|\n)/g);this._input=at+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-pt),this.offset-=pt;var Tr=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ft.length-1&&(this.yylineno-=Ft.length-1);var qt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ft?(Ft.length===Tr.length?this.yylloc.first_column:0)+Tr[Tr.length-Ft.length].length-Ft[0].length:this.yylloc.first_column-pt},this.options.ranges&&(this.yylloc.range=[qt[0],qt[0]+this.yyleng-pt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(at){this.unput(this.match.slice(at))},pastInput:function(){var at=this.matched.substr(0,this.matched.length-this.match.length);return(at.length>20?"...":"")+at.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var at=this.match;return at.length<20&&(at+=this._input.substr(0,20-at.length)),(at.substr(0,20)+(at.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var at=this.pastInput(),pt=new Array(at.length+1).join("-");return at+this.upcomingInput()+`
`+pt+"^"},test_match:function(at,pt){var Ft,Tr,qt;if(this.options.backtrack_lexer&&(qt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(qt.yylloc.range=this.yylloc.range.slice(0))),Tr=at[0].match(/(?:\r\n?|\n).*/g),Tr&&(this.yylineno+=Tr.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Tr?Tr[Tr.length-1].length-Tr[Tr.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+at[0].length},this.yytext+=at[0],this.match+=at[0],this.matches=at,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(at[0].length),this.matched+=at[0],Ft=this.performAction.call(this,this.yy,this,pt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ft)return Ft;if(this._backtrack){for(var bt in qt)this[bt]=qt[bt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var at,pt,Ft,Tr;this._more||(this.yytext="",this.match="");for(var qt=this._currentRules(),bt=0;bt<qt.length;bt++)if(Ft=this._input.match(this.rules[qt[bt]]),Ft&&(!pt||Ft[0].length>pt[0].length)){if(pt=Ft,Tr=bt,this.options.backtrack_lexer){if(at=this.test_match(Ft,qt[bt]),at!==!1)return at;if(this._backtrack){pt=!1;continue}else return!1}else if(!this.options.flex)break}return pt?(at=this.test_match(pt,qt[Tr]),at!==!1?at:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var pt=this.next();return pt||this.lex()},begin:function(pt){this.conditionStack.push(pt)},popState:function(){var pt=this.conditionStack.length-1;return pt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(pt){return pt=this.conditionStack.length-1-Math.abs(pt||0),pt>=0?this.conditionStack[pt]:"INITIAL"},pushState:function(pt){this.begin(pt)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(pt,Ft,Tr,qt){switch(Tr){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(Ft.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return Ot}();Ke.lexer=Bt;function nt(){this.yy={}}return nt.prototype=Ke,Ke.Parser=nt,new nt}(),CEe=PEe;const DEe=CEe.Parser,_D=zh;let vX=class{constructor(){}parse(e,{extendedSyntax:r,baseIRI:n}={}){this._parser=new DEe,this._parser.Parser.factory=_D.DataFactory,this._parser.Parser.base=_D.DataFactory.namedNode(n||"urn:x-base:default"),this._parser.Parser.extended=r===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new _D.Parser({baseIRI:n||"urn:x-base:default"});const a=[];return this._parser.Parser.onQuad=s=>{a.push(s)},this._parser.parse(e),a.prefixes=this._parser.Parser.prefixes,a}};I8.Parser=vX;I8.parse=function(e,r){return new vX().parse(e,r)};var W4={},NEe={get exports(){return W4},set exports(t){W4=t}};(function(t){(function(){var e;typeof window=="object"&&window?e=window:e=F,t.exports?t.exports=e.Promise?e.Promise:s:e.Promise||(e.Promise=s);var r=e.setImmediate||function(h){setTimeout(h,1)};function n(h,p){return function(){h.apply(p,arguments)}}var a=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function s(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof h!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(h,n(u,this),n(l,this))}function o(h){var p=this;if(this._state===null){this._deferreds.push(h);return}r(function(){var g=p._state?h.onFulfilled:h.onRejected;if(g===null){(p._state?h.resolve:h.reject)(p._value);return}var y;try{y=g(p._value)}catch(S){h.reject(S);return}h.resolve(y)})}function u(h){try{if(h===this)throw new TypeError("A promise cannot be resolved with itself.");if(h&&(typeof h=="object"||typeof h=="function")){var p=h.then;if(typeof p=="function"){f(n(p,h),n(u,this),n(l,this));return}}this._state=!0,this._value=h,c.call(this)}catch(g){l.call(this,g)}}function l(h){this._state=!1,this._value=h,c.call(this)}function c(){for(var h=0,p=this._deferreds.length;h<p;h++)o.call(this,this._deferreds[h]);this._deferreds=null}function d(h,p,g,y){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof p=="function"?p:null,this.resolve=g,this.reject=y}function f(h,p,g){var y=!1;try{h(function(S){y||(y=!0,p(S))},function(S){y||(y=!0,g(S))})}catch(S){if(y)return;y=!0,g(S)}}s.prototype.catch=function(h){return this.then(null,h)},s.prototype.then=function(h,p){var g=this;return new s(function(y,S){o.call(g,new d(h,p,y,S))})},s.all=function(){var h=Array.prototype.slice.call(arguments.length===1&&a(arguments[0])?arguments[0]:arguments);return new s(function(p,g){if(h.length===0)return p([]);var y=h.length;function S(A,E){try{if(E&&(typeof E=="object"||typeof E=="function")){var T=E.then;if(typeof T=="function"){T.call(E,function(R){S(A,R)},g);return}}h[A]=E,--y===0&&p(h)}catch(R){g(R)}}for(var v=0;v<h.length;v++)S(v,h[v])})},s.resolve=function(h){return h&&typeof h=="object"&&h.constructor===s?h:new s(function(p){p(h)})},s.reject=function(h){return new s(function(p,g){g(h)})},s.race=function(h){return new s(function(p,g){for(var y=0,S=h.length;y<S;y++)h[y].then(p,g)})}})()})(NEe);var FEe=W4,V0=function(t,e,r){typeof e=="function"&&(r=e,e=null);var n="",a=new FEe(function(s,o){t.on("data",function(u){n+=typeof e=="string"?u.toString(e):u.toString()}),t.on("end",function(){s(n)}),t.on("error",o)});return r&&a.then(function(s){r(null,s)},r),a},dO={};Object.defineProperty(dO,"__esModule",{value:!0});dO.PrefixWrappingIterator=void 0;const LEe=Gr;class jEe extends LEe.WrappingIterator{constructor(e){super(e==null?void 0:e.then(r=>(this.prefixes=r.prefixes,r)))}read(){if(this.prefixes){for(const e of Object.entries(this.prefixes))this.emit("prefix",...e);delete this.prefixes}return super.read()}}dO.PrefixWrappingIterator=jEe;Object.defineProperty(cO,"__esModule",{value:!0});cO.ActorRdfParseShaclc=void 0;const MEe=U0,BEe=zr,kEe=I8,$Ee=V0,UEe=dO;class VEe extends MEe.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){const a=new UEe.PrefixWrappingIterator($Ee(e.data).then(o=>{var u;return(0,kEe.parse)(o,{extendedSyntax:r==="text/shaclc-ext",baseIRI:(u=e.metadata)==null?void 0:u.baseIRI})})),s=new BEe.Readable({objectMode:!0});return a.on("prefix",(...o)=>s.emit("prefix",...o)),{data:s.wrap(a),metadata:{triples:!0}}}}cO.ActorRdfParseShaclc=VEe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(cO,t)})(mX);var bX={},fO={},_X={},x_={},P8={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=sf,r;(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.InEntity=25]="InEntity"})(n||(n={}));function a(d){return d===r.Space||d===r.NewLine||d===r.Tab||d===r.FormFeed||d===r.CarriageReturn}function s(d){return d===r.Slash||d===r.Gt||a(d)}function o(d){return d>=r.LowerA&&d<=r.LowerZ||d>=r.UpperA&&d<=r.UpperZ}var u;(function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"})(u=t.QuoteType||(t.QuoteType={}));var l={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},c=function(){function d(f,h){var p=f.xmlMode,g=p===void 0?!1:p,y=f.decodeEntities,S=y===void 0?!0:y,v=this;this.cbs=h,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=g,this.decodeEntities=S,this.entityDecoder=new e.EntityDecoder(g?e.xmlDecodeTree:e.htmlDecodeTree,function(A,E){return v.emitCodePoint(A,E)})}return d.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(f){this.offset+=this.buffer.length,this.buffer=f,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.stateText=function(f){f===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&f===r.Amp&&this.startEntity()},d.prototype.stateSpecialStartSequence=function(f){var h=this.sequenceIndex===this.currentSequence.length,p=h?s(f):(f|32)===this.currentSequence[this.sequenceIndex];if(!p)this.isSpecial=!1;else if(!h){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(f)},d.prototype.stateInSpecialTag=function(f){if(this.sequenceIndex===this.currentSequence.length){if(f===r.Gt||a(f)){var h=this.index-this.currentSequence.length;if(this.sectionStart<h){var p=this.index;this.index=h,this.cbs.ontext(this.sectionStart,h),this.index=p}this.isSpecial=!1,this.sectionStart=h+2,this.stateInClosingTagName(f);return}this.sequenceIndex=0}(f|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===l.TitleEnd?this.decodeEntities&&f===r.Amp&&this.startEntity():this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(f===r.Lt)},d.prototype.stateCDATASequence=function(f){f===l.Cdata[this.sequenceIndex]?++this.sequenceIndex===l.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=l.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(f))},d.prototype.fastForwardTo=function(f){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===f)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(f){f===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):f!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(f){return this.xmlMode?!s(f):o(f)},d.prototype.startSpecial=function(f,h){this.isSpecial=!0,this.currentSequence=f,this.sequenceIndex=h,this.state=n.SpecialStartSequence},d.prototype.stateBeforeTagName=function(f){if(f===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(f===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(f)){var h=f|32;this.sectionStart=this.index,!this.xmlMode&&h===l.TitleEnd[2]?this.startSpecial(l.TitleEnd,3):this.state=!this.xmlMode&&h===l.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else f===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(f))},d.prototype.stateInTagName=function(f){s(f)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(f))},d.prototype.stateBeforeClosingTagName=function(f){a(f)||(f===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(f)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(f){(f===r.Gt||a(f))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(f))},d.prototype.stateAfterClosingTagName=function(f){(f===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(f){f===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.sectionStart=this.index+1):f===r.Slash?this.state=n.InSelfClosingTag:a(f)||(this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(f){f===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(f)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(f))},d.prototype.stateInAttributeName=function(f){(f===r.Eq||s(f))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(f))},d.prototype.stateAfterAttributeName=function(f){f===r.Eq?this.state=n.BeforeAttributeValue:f===r.Slash||f===r.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(f)):a(f)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(f){f===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):f===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(f)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(f))},d.prototype.handleInAttributeValue=function(f,h){f===h||!this.decodeEntities&&this.fastForwardTo(h)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(h===r.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&f===r.Amp&&this.startEntity()},d.prototype.stateInAttributeValueDoubleQuotes=function(f){this.handleInAttributeValue(f,r.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(f){this.handleInAttributeValue(f,r.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(f){a(f)||f===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(f)):this.decodeEntities&&f===r.Amp&&this.startEntity()},d.prototype.stateBeforeDeclaration=function(f){f===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=f===r.Dash?n.BeforeComment:n.InDeclaration},d.prototype.stateInDeclaration=function(f){(f===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(f){(f===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(f){f===r.Dash?(this.state=n.InCommentLike,this.currentSequence=l.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},d.prototype.stateInSpecialComment=function(f){(f===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(f){var h=f|32;h===l.ScriptEnd[3]?this.startSpecial(l.ScriptEnd,4):h===l.StyleEnd[3]?this.startSpecial(l.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(f))},d.prototype.startEntity=function(){this.baseState=this.state,this.state=n.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?e.DecodingMode.Strict:this.baseState===n.Text||this.baseState===n.InSpecialTag?e.DecodingMode.Legacy:e.DecodingMode.Attribute)},d.prototype.stateInEntity=function(){var f=this.entityDecoder.write(this.buffer,this.index-this.offset);f>=0?(this.state=this.baseState,f===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var f=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(f);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(f);break}case n.InSpecialTag:{this.stateInSpecialTag(f);break}case n.CDATASequence:{this.stateCDATASequence(f);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(f);break}case n.InAttributeName:{this.stateInAttributeName(f);break}case n.InCommentLike:{this.stateInCommentLike(f);break}case n.InSpecialComment:{this.stateInSpecialComment(f);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(f);break}case n.InTagName:{this.stateInTagName(f);break}case n.InClosingTagName:{this.stateInClosingTagName(f);break}case n.BeforeTagName:{this.stateBeforeTagName(f);break}case n.AfterAttributeName:{this.stateAfterAttributeName(f);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(f);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(f);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(f);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(f);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(f);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(f);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(f);break}case n.InDeclaration:{this.stateInDeclaration(f);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(f);break}case n.BeforeComment:{this.stateBeforeComment(f);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(f);break}case n.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===n.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var f=this.buffer.length+this.offset;this.sectionStart>=f||(this.state===n.InCommentLike?this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,f,0):this.cbs.oncomment(this.sectionStart,f,0):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,f))},d.prototype.emitCodePoint=function(f,h){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+h,this.index=this.sectionStart-1,this.cbs.onattribentity(f)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+h,this.index=this.sectionStart-1,this.cbs.ontextentity(f,this.sectionStart))},d}();t.default=c})(P8);var HEe=F&&F.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qEe=F&&F.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zEe=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HEe(e,t,r);return qEe(e,t),e};Object.defineProperty(x_,"__esModule",{value:!0});x_.Parser=void 0;var r2=zEe(P8),TB=sf,Sg=new Set(["input","option","optgroup","select","button","datalist","textarea"]),hn=new Set(["p"]),EB=new Set(["thead","tbody"]),AB=new Set(["dd","dt"]),xB=new Set(["rt","rp"]),GEe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",hn],["h1",hn],["h2",hn],["h3",hn],["h4",hn],["h5",hn],["h6",hn],["select",Sg],["input",Sg],["output",Sg],["button",Sg],["datalist",Sg],["textarea",Sg],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",AB],["dt",AB],["address",hn],["article",hn],["aside",hn],["blockquote",hn],["details",hn],["div",hn],["dl",hn],["fieldset",hn],["figcaption",hn],["figure",hn],["footer",hn],["form",hn],["header",hn],["hr",hn],["main",hn],["nav",hn],["ol",hn],["pre",hn],["section",hn],["table",hn],["ul",hn],["rt",xB],["rp",xB],["tbody",EB],["tfoot",EB]]),QEe=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),OB=new Set(["math","svg"]),RB=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),WEe=/\s|\//,KEe=function(){function t(e,r){r===void 0&&(r={});var n,a,s,o,u;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:this.htmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.tokenizer=new((s=r.Tokenizer)!==null&&s!==void 0?s:r2.default)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(o=this.cbs).onparserinit)===null||u===void 0||u.call(o,this)}return t.prototype.ontext=function(e,r){var n,a,s=this.getSlice(e,r);this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,s),this.startIndex=r},t.prototype.ontextentity=function(e,r){var n,a;this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,(0,TB.fromCodePoint)(e)),this.startIndex=r},t.prototype.isVoidElement=function(e){return this.htmlMode&&QEe.has(e)},t.prototype.onopentagname=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},t.prototype.emitOpenTag=function(e){var r,n,a,s;this.openTagStart=this.startIndex,this.tagname=e;var o=this.htmlMode&&GEe.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[0]);){var u=this.stack.shift();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,u,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(OB.has(e)?this.foreignContext.unshift(!0):RB.has(e)&&this.foreignContext.unshift(!1))),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,e),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(e){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},t.prototype.onclosetag=function(e,r){var n,a,s,o,u,l,c,d;this.endIndex=r;var f=this.getSlice(e,r);if(this.lowerCaseTagNames&&(f=f.toLowerCase()),this.htmlMode&&(OB.has(f)||RB.has(f))&&this.foreignContext.shift(),this.isVoidElement(f))this.htmlMode&&f==="br"&&((o=(s=this.cbs).onopentagname)===null||o===void 0||o.call(s,"br"),(l=(u=this.cbs).onopentag)===null||l===void 0||l.call(u,"br",{},!0),(d=(c=this.cbs).onclosetag)===null||d===void 0||d.call(c,"br",!1));else{var h=this.stack.indexOf(f);if(h!==-1)for(var p=0;p<=h;p++){var g=this.stack.shift();(a=(n=this.cbs).onclosetag)===null||a===void 0||a.call(n,g,p!==h)}else this.htmlMode&&f==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},t.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},t.prototype.closeCurrentTag=function(e){var r,n,a=this.tagname;this.endOpenTag(e),this.stack[0]===a&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,a,!e),this.stack.shift())},t.prototype.onattribname=function(e,r){this.startIndex=e;var n=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},t.prototype.onattribdata=function(e,r){this.attribvalue+=this.getSlice(e,r)},t.prototype.onattribentity=function(e){this.attribvalue+=(0,TB.fromCodePoint)(e)},t.prototype.onattribend=function(e,r){var n,a;this.endIndex=r,(a=(n=this.cbs).onattribute)===null||a===void 0||a.call(n,this.attribname,this.attribvalue,e===r2.QuoteType.Double?'"':e===r2.QuoteType.Single?"'":e===r2.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(e){var r=e.search(WEe),n=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(a),"!".concat(n))}this.startIndex=r+1},t.prototype.onprocessinginstruction=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(a),"?".concat(n))}this.startIndex=r+1},t.prototype.oncomment=function(e,r,n){var a,s,o,u;this.endIndex=r,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(e,r-n)),(u=(o=this.cbs).oncommentend)===null||u===void 0||u.call(o),this.startIndex=r+1},t.prototype.oncdata=function(e,r,n){var a,s,o,u,l,c,d,f,h,p;this.endIndex=r;var g=this.getSlice(e,r-n);!this.htmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(u=(o=this.cbs).ontext)===null||u===void 0||u.call(o,g),(c=(l=this.cbs).oncdataend)===null||c===void 0||c.call(l)):((f=(d=this.cbs).oncomment)===null||f===void 0||f.call(d,"[CDATA[".concat(g,"]]")),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=r+1},t.prototype.onend=function(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=0;n<this.stack.length;n++)this.cbs.onclosetag(this.stack[n],!0)}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)},t.prototype.reset=function(){var e,r,n,a;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(n=this.cbs).onparserinit)===null||a===void 0||a.call(n,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.getSlice=function(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},t.prototype.end=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(e){this.write(e)},t.prototype.done=function(e){this.end(e)},t}();x_.Parser=KEe;(function(t){var e=F&&F.__createBinding||(Object.create?function(A,E,T,R){R===void 0&&(R=T);var I=Object.getOwnPropertyDescriptor(E,T);(!I||("get"in I?!E.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return E[T]}}),Object.defineProperty(A,R,I)}:function(A,E,T,R){R===void 0&&(R=T),A[R]=E[T]}),r=F&&F.__setModuleDefault||(Object.create?function(A,E){Object.defineProperty(A,"default",{enumerable:!0,value:E})}:function(A,E){A.default=E}),n=F&&F.__importStar||function(A){if(A&&A.__esModule)return A;var E={};if(A!=null)for(var T in A)T!=="default"&&Object.prototype.hasOwnProperty.call(A,T)&&e(E,A,T);return r(E,A),E},a=F&&F.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.createDocumentStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=x_,o=x_;Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=Zo,l=Zo;Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function c(A,E){var T=new u.DomHandler(void 0,E);return new s.Parser(T,E).end(A),T.root}t.parseDocument=c;function d(A,E){return c(A,E).children}t.parseDOM=d;function f(A,E,T){var R=new u.DomHandler(function(I){return A(I,R.root)},E,T);return new s.Parser(R,E)}t.createDocumentStream=f;function h(A,E,T){var R=new u.DomHandler(A,E,T);return new s.Parser(R,E)}t.createDomStream=h;var p=P8;Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(p).default}}),t.ElementType=n(Gh);var g=Hc,y=Hc;Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return y.getFeed}});var S={xmlMode:!0};function v(A,E){return E===void 0&&(E=S),(0,g.getFeed)(d(A,E))}t.parseFeed=v,t.DomUtils=n(Hc)})(_X);Object.defineProperty(fO,"__esModule",{value:!0});fO.ActorRdfParseHtml=void 0;const XEe=U0,JEe=_X,YEe=zr;let ZEe=class extends XEe.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){const a=new YEe.Readable({objectMode:!0});return a._read=async()=>{var d;a._read=()=>{};let s=1;function o(f){a.emit("data",f)}function u(f){a.emit("error",f)}function l(){--s===0&&a.push(null)}const c={baseIRI:((d=e.metadata)==null?void 0:d.baseIRI)??"",context:n,emit:o,end:l,error:u,headers:e.headers};Promise.all(this.busRdfParseHtml.publish(c)).then(async f=>{s+=f.length;const h=[];for(const g of f){const{htmlParseListener:y}=await g.actor.run(c);h.push(y)}const p=new JEe.Parser({onclosetag(){try{for(const g of h)g.onTagClose()}catch(g){u(g)}},onend(){try{for(const g of h)g.onEnd()}catch(g){u(g)}l()},onopentag(g,y){try{for(const S of h)S.onTagOpen(g,y)}catch(S){u(S)}},ontext(g){try{for(const y of h)y.onText(g)}catch(y){u(y)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1});e.data.on("error",u).on("data",g=>p.write(g.toString())).on("end",()=>p.end())}).catch(u)},{data:a}}};fO.ActorRdfParseHtml=ZEe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fO,t)})(bX);var wX={},hO={},pO={},gO={};Object.defineProperty(gO,"__esModule",{value:!0});gO.ActorRdfParseHtml=void 0;const e3e=Ut;class t3e extends e3e.Actor{constructor(e){super(e)}}gO.ActorRdfParseHtml=t3e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gO,t)})(pO);var SX={},TX={};Object.defineProperty(TX,"__esModule",{value:!0});var hw={};Object.defineProperty(hw,"__esModule",{value:!0});hw.ItemPropertyHandlerContent=void 0;class r3e{canHandle(e,r){return"content"in r}getObject(e,r,n){return r.createLiteral(e.content,n)}}hw.ItemPropertyHandlerContent=r3e;var pw={},H0={};Object.defineProperty(H0,"__esModule",{value:!0});H0.Util=void 0;const n3e=lr,IB=Ru;let Gd=class{constructor(e,r){this.dataFactory=e||new n3e.DataFactory,this.baseIRI=r||""}static isValidIri(e){return Gd.IRI_REGEX.test(e)}createVocabIris(e,r,n){return e.split(/\s+/u).filter(a=>!!a).map(a=>{if(!Gd.isValidIri(a)){if(!n)return;a=`${r.vocab||`${this.baseIRI}#`}${a}`}return this.dataFactory.namedNode(a)}).filter(a=>!!a)}getVocabularyExpansionType(e,r,n){const a=e.split(/\s+/u);if(a.includes("subPropertyOf")||a.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${Gd.RDF}type`)];if(r.vocab&&r.vocab in n&&n[r.vocab].properties){let s=[];for(const[o,u]of Object.entries(n[r.vocab].properties))a.includes(o)&&(s=[...Object.values(u).map(l=>this.dataFactory.namedNode(l))]);return s}return[]}createSubject(e){if(!Gd.isValidIri(e))try{e=(0,IB.resolve)(e,this.baseIRI)}catch{return}return this.dataFactory.namedNode(e)}createLiteral(e,r){return this.dataFactory.literal(e,r.language)}deriveVocab(e,r){let n;for(const a in r)if(e.startsWith(a)){n=a,n.endsWith("/")||(n+="#");break}if(!n){const a=e.indexOf("#");a>0?n=e.slice(0,a+1):n=(0,IB.resolve)(".",e)}return n}};H0.Util=Gd;Gd.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";Gd.XSD="http://www.w3.org/2001/XMLSchema#";Gd.RDFA="http://www.w3.org/ns/rdfa#";Gd.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u;Object.defineProperty(pw,"__esModule",{value:!0});pw.ItemPropertyHandlerNumber=void 0;const PB=H0;class i3e{constructor(e,r){this.tagName=e,this.attributeName=r}canHandle(e,r){return this.tagName===e&&this.attributeName in r}getObject(e,r,n){const a=e[this.attributeName];let s;return!Number.isNaN(Number.parseInt(a,10))&&!a.includes(".")?s=`${PB.Util.XSD}integer`:Number.isNaN(Number.parseFloat(a))||(s=`${PB.Util.XSD}double`),r.dataFactory.literal(a,s&&r.dataFactory.namedNode(s))}}pw.ItemPropertyHandlerNumber=i3e;var gw={};Object.defineProperty(gw,"__esModule",{value:!0});gw.ItemPropertyHandlerTime=void 0;const a3e=H0;class yO{canHandle(e,r){return e==="time"&&"datetime"in r}getObject(e,r,n){const a=e.datetime;let s;for(const o of yO.TIME_REGEXES)if(o.regex.test(a)){s=r.dataFactory.namedNode(a3e.Util.XSD+o.type);break}return r.dataFactory.literal(a,s)}}gw.ItemPropertyHandlerTime=yO;yO.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}];var yw={};Object.defineProperty(yw,"__esModule",{value:!0});yw.ItemPropertyHandlerUrl=void 0;const s3e=Ru;class o3e{constructor(e,r){this.tagName=e,this.attributeName=r}canHandle(e,r){return this.tagName===e&&this.attributeName in r}getObject(e,r,n){return r.dataFactory.namedNode((0,s3e.resolve)(e[this.attributeName],r.baseIRI))}}yw.ItemPropertyHandlerUrl=o3e;var EX={};Object.defineProperty(EX,"__esModule",{value:!0});var AX={};Object.defineProperty(AX,"__esModule",{value:!0});var xX={};Object.defineProperty(xX,"__esModule",{value:!0});var mO={},OX={},O_={},C8={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=sf,r;(function(h){h[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Number=35]="Number",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(h){h[h.Text=1]="Text",h[h.BeforeTagName=2]="BeforeTagName",h[h.InTagName=3]="InTagName",h[h.InSelfClosingTag=4]="InSelfClosingTag",h[h.BeforeClosingTagName=5]="BeforeClosingTagName",h[h.InClosingTagName=6]="InClosingTagName",h[h.AfterClosingTagName=7]="AfterClosingTagName",h[h.BeforeAttributeName=8]="BeforeAttributeName",h[h.InAttributeName=9]="InAttributeName",h[h.AfterAttributeName=10]="AfterAttributeName",h[h.BeforeAttributeValue=11]="BeforeAttributeValue",h[h.InAttributeValueDq=12]="InAttributeValueDq",h[h.InAttributeValueSq=13]="InAttributeValueSq",h[h.InAttributeValueNq=14]="InAttributeValueNq",h[h.BeforeDeclaration=15]="BeforeDeclaration",h[h.InDeclaration=16]="InDeclaration",h[h.InProcessingInstruction=17]="InProcessingInstruction",h[h.BeforeComment=18]="BeforeComment",h[h.CDATASequence=19]="CDATASequence",h[h.InSpecialComment=20]="InSpecialComment",h[h.InCommentLike=21]="InCommentLike",h[h.BeforeSpecialS=22]="BeforeSpecialS",h[h.SpecialStartSequence=23]="SpecialStartSequence",h[h.InSpecialTag=24]="InSpecialTag",h[h.BeforeEntity=25]="BeforeEntity",h[h.BeforeNumericEntity=26]="BeforeNumericEntity",h[h.InNamedEntity=27]="InNamedEntity",h[h.InNumericEntity=28]="InNumericEntity",h[h.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(h){return h===r.Space||h===r.NewLine||h===r.Tab||h===r.FormFeed||h===r.CarriageReturn}function s(h){return h===r.Slash||h===r.Gt||a(h)}function o(h){return h>=r.Zero&&h<=r.Nine}function u(h){return h>=r.LowerA&&h<=r.LowerZ||h>=r.UpperA&&h<=r.UpperZ}function l(h){return h>=r.UpperA&&h<=r.UpperF||h>=r.LowerA&&h<=r.LowerF}var c;(function(h){h[h.NoValue=0]="NoValue",h[h.Unquoted=1]="Unquoted",h[h.Single=2]="Single",h[h.Double=3]="Double"})(c=t.QuoteType||(t.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function h(p,g){var y=p.xmlMode,S=y===void 0?!1:y,v=p.decodeEntities,A=v===void 0?!0:v;this.cbs=g,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=S,this.decodeEntities=A,this.entityTrie=S?e.xmlDecodeTree:e.htmlDecodeTree}return h.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},h.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},h.prototype.end=function(){this.running&&this.finish()},h.prototype.pause=function(){this.running=!1},h.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},h.prototype.getIndex=function(){return this.index},h.prototype.getSectionStart=function(){return this.sectionStart},h.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},h.prototype.stateSpecialStartSequence=function(p){var g=this.sequenceIndex===this.currentSequence.length,y=g?s(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!y)this.isSpecial=!1;else if(!g){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},h.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||a(p)){var g=this.index-this.currentSequence.length;if(this.sectionStart<g){var y=this.index;this.index=g,this.cbs.ontext(this.sectionStart,g),this.index=y}this.isSpecial=!1,this.sectionStart=g+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(p===r.Lt)},h.prototype.stateCDATASequence=function(p){p===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},h.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},h.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},h.prototype.isTagStartChar=function(p){return this.xmlMode?!s(p):u(p)},h.prototype.startSpecial=function(p,g){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=g,this.state=n.SpecialStartSequence},h.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var g=p|32;this.sectionStart=this.index,!this.xmlMode&&g===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&g===d.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},h.prototype.stateInTagName=function(p){s(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateBeforeClosingTagName=function(p){a(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},h.prototype.stateInClosingTagName=function(p){(p===r.Gt||a(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},h.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:a(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateInAttributeName=function(p){(p===r.Eq||s(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},h.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(c.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):a(p)||(this.cbs.onattribend(c.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},h.prototype.handleInAttributeValue=function(p,g){p===g||!this.decodeEntities&&this.fastForwardTo(g)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(g===r.DoubleQuote?c.Double:c.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},h.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},h.prototype.stateInAttributeValueNoQuotes=function(p){a(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(c.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},h.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},h.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeSpecialS=function(p){var g=p|32;g===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):g===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},h.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},h.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var g=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(g){var y=(g>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=y;else{var S=this.index-this.entityExcess+1;S>this.sectionStart&&this.emitPartial(this.sectionStart,S),this.entityResult=this.trieIndex,this.trieIndex+=y,this.entityExcess=0,this.sectionStart=this.index+1,y===0&&this.emitNamedEntity()}}},h.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},h.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},h.prototype.emitNumericEntity=function(p){var g=this.index-this.entityExcess-1,y=g+2+Number(this.state===n.InHexEntity);y!==this.index&&(g>this.sectionStart&&this.emitPartial(this.sectionStart,g),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},h.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):l(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},h.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},h.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},h.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},h.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},h.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},h.prototype.emitPartial=function(p,g){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,g):this.cbs.ontext(p,g)},h.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},h}();t.default=f})(C8);var u3e=F&&F.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),l3e=F&&F.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c3e=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&u3e(e,t,r);return l3e(e,t),e};Object.defineProperty(O_,"__esModule",{value:!0});O_.Parser=void 0;var n2=c3e(C8),CB=sf,Tg=new Set(["input","option","optgroup","select","button","datalist","textarea"]),pn=new Set(["p"]),DB=new Set(["thead","tbody"]),NB=new Set(["dd","dt"]),FB=new Set(["rt","rp"]),d3e=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",pn],["h1",pn],["h2",pn],["h3",pn],["h4",pn],["h5",pn],["h6",pn],["select",Tg],["input",Tg],["output",Tg],["button",Tg],["datalist",Tg],["textarea",Tg],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",NB],["dt",NB],["address",pn],["article",pn],["aside",pn],["blockquote",pn],["details",pn],["div",pn],["dl",pn],["fieldset",pn],["figcaption",pn],["figure",pn],["footer",pn],["form",pn],["header",pn],["hr",pn],["main",pn],["nav",pn],["ol",pn],["pre",pn],["section",pn],["table",pn],["ul",pn],["rt",FB],["rp",FB],["tbody",DB],["tfoot",DB]]),f3e=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),LB=new Set(["math","svg"]),jB=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),h3e=/\s|\//,p3e=function(){function t(e,r){r===void 0&&(r={});var n,a,s,o,u;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:!r.xmlMode,this.tokenizer=new((s=r.Tokenizer)!==null&&s!==void 0?s:n2.default)(this.options,this),(u=(o=this.cbs).onparserinit)===null||u===void 0||u.call(o,this)}return t.prototype.ontext=function(e,r){var n,a,s=this.getSlice(e,r);this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,s),this.startIndex=r},t.prototype.ontextentity=function(e){var r,n,a=this.tokenizer.getSectionStart();this.endIndex=a-1,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,(0,CB.fromCodePoint)(e)),this.startIndex=a},t.prototype.isVoidElement=function(e){return!this.options.xmlMode&&f3e.has(e)},t.prototype.onopentagname=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},t.prototype.emitOpenTag=function(e){var r,n,a,s;this.openTagStart=this.startIndex,this.tagname=e;var o=!this.options.xmlMode&&d3e.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){var u=this.stack.pop();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,u,!0)}this.isVoidElement(e)||(this.stack.push(e),LB.has(e)?this.foreignContext.push(!0):jB.has(e)&&this.foreignContext.push(!1)),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,e),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(e){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},t.prototype.onclosetag=function(e,r){var n,a,s,o,u,l;this.endIndex=r;var c=this.getSlice(e,r);if(this.lowerCaseTagNames&&(c=c.toLowerCase()),(LB.has(c)||jB.has(c))&&this.foreignContext.pop(),this.isVoidElement(c))!this.options.xmlMode&&c==="br"&&((a=(n=this.cbs).onopentagname)===null||a===void 0||a.call(n,"br"),(o=(s=this.cbs).onopentag)===null||o===void 0||o.call(s,"br",{},!0),(l=(u=this.cbs).onclosetag)===null||l===void 0||l.call(u,"br",!1));else{var d=this.stack.lastIndexOf(c);if(d!==-1)if(this.cbs.onclosetag)for(var f=this.stack.length-d;f--;)this.cbs.onclosetag(this.stack.pop(),f!==0);else this.stack.length=d;else!this.options.xmlMode&&c==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},t.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},t.prototype.closeCurrentTag=function(e){var r,n,a=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===a&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,a,!e),this.stack.pop())},t.prototype.onattribname=function(e,r){this.startIndex=e;var n=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},t.prototype.onattribdata=function(e,r){this.attribvalue+=this.getSlice(e,r)},t.prototype.onattribentity=function(e){this.attribvalue+=(0,CB.fromCodePoint)(e)},t.prototype.onattribend=function(e,r){var n,a;this.endIndex=r,(a=(n=this.cbs).onattribute)===null||a===void 0||a.call(n,this.attribname,this.attribvalue,e===n2.QuoteType.Double?'"':e===n2.QuoteType.Single?"'":e===n2.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(e){var r=e.search(h3e),n=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(a),"!".concat(n))}this.startIndex=r+1},t.prototype.onprocessinginstruction=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(a),"?".concat(n))}this.startIndex=r+1},t.prototype.oncomment=function(e,r,n){var a,s,o,u;this.endIndex=r,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(e,r-n)),(u=(o=this.cbs).oncommentend)===null||u===void 0||u.call(o),this.startIndex=r+1},t.prototype.oncdata=function(e,r,n){var a,s,o,u,l,c,d,f,h,p;this.endIndex=r;var g=this.getSlice(e,r-n);this.options.xmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(u=(o=this.cbs).ontext)===null||u===void 0||u.call(o,g),(c=(l=this.cbs).oncdataend)===null||c===void 0||c.call(l)):((f=(d=this.cbs).oncomment)===null||f===void 0||f.call(d,"[CDATA[".concat(g,"]]")),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=r+1},t.prototype.onend=function(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)},t.prototype.reset=function(){var e,r,n,a;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(n=this.cbs).onparserinit)===null||a===void 0||a.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.getSlice=function(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},t.prototype.end=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(e){this.write(e)},t.prototype.done=function(e){this.end(e)},t}();O_.Parser=p3e;(function(t){var e=F&&F.__createBinding||(Object.create?function(v,A,E,T){T===void 0&&(T=E);var R=Object.getOwnPropertyDescriptor(A,E);(!R||("get"in R?!A.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return A[E]}}),Object.defineProperty(v,T,R)}:function(v,A,E,T){T===void 0&&(T=E),v[T]=A[E]}),r=F&&F.__setModuleDefault||(Object.create?function(v,A){Object.defineProperty(v,"default",{enumerable:!0,value:A})}:function(v,A){v.default=A}),n=F&&F.__importStar||function(v){if(v&&v.__esModule)return v;var A={};if(v!=null)for(var E in v)E!=="default"&&Object.prototype.hasOwnProperty.call(v,E)&&e(A,v,E);return r(A,v),A},a=F&&F.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=O_,o=O_;Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=Zo,l=Zo;Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function c(v,A){var E=new u.DomHandler(void 0,A);return new s.Parser(E,A).end(v),E.root}t.parseDocument=c;function d(v,A){return c(v,A).children}t.parseDOM=d;function f(v,A,E){var T=new u.DomHandler(v,A,E);return new s.Parser(T,A)}t.createDomStream=f;var h=C8;Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(h).default}}),t.ElementType=n(Gh);var p=Hc,g=Hc;Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return g.getFeed}});var y={xmlMode:!0};function S(v,A){return A===void 0&&(A=y),(0,p.getFeed)(d(v,A))}t.parseFeed=S,t.DomUtils=n(Hc)})(OX);const g3e={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}};Object.defineProperty(mO,"__esModule",{value:!0});mO.MicrodataRdfParser=void 0;const y3e=OX,MB=zr,m3e=hw,BB=pw,v3e=gw,zu=yw,kB=H0,b3e=g3e;class R_ extends MB.Transform{constructor(e){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},e=e||{},this.options=e,this.util=new kB.Util(e.dataFactory,e.baseIRI),this.defaultGraph=e.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=e.htmlParseListener,this.vocabRegistry=e.vocabRegistry||b3e,this.parser=this.initializeParser(!!e.xmlMode)}import(e){const r=new MB.PassThrough({readableObjectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new R_(this.options));return n}_transform(e,r,n){this.parser.write(e.toString()),n()}_flush(e){this.parser.end(),e()}getItemScope(e){let r=this.itemScopeStack.length-(e?2:1);for(;r>0&&!this.itemScopeStack[r];)r--;return this.itemScopeStack[r]}getDepth(){return this.itemScopeStack.length}onTagOpen(e,r){if(!this.isEmittingReferences){if("id"in r){const a=r.id;this.pendingItemRefsRangeCollecting[a]={events:[],counter:0,ids:[]}}for(const a of Object.values(this.pendingItemRefsRangeCollecting))a.counter++,a.events.push({type:"open",name:e,attributes:r})}this.textBufferStack.push(void 0);let n;if("itemscope"in r){let a;if(this.emittingReferencesItemScopeIdGenerator)a=this.emittingReferencesItemScopeIdGenerator();else{a="itemid"in r&&this.util.createSubject(r.itemid)||this.util.dataFactory.blankNode();for(const o of Object.values(this.pendingItemRefsRangeCollecting))o.ids.push(a)}n={subject:a},this.isEmittingReferences&&(n.blockEmission=!0);const s=this.getItemScope();s&&s.vocab&&(n.vocab=s.vocab),this.itemScopeStack.push(n)}else n=this.getItemScope(),this.itemScopeStack.push(void 0);if(n){if("itemtype"in r)for(const a of this.util.createVocabIris(r.itemtype,n,!1))n.vocab||(n.vocab=this.util.deriveVocab(a.value,this.vocabRegistry)),n.blockEmission||this.emitTriple(n.subject,this.util.dataFactory.namedNode(`${kB.Util.RDF}type`),a);if("lang"in r&&(n.language=r.lang),"xml:lang"in r&&(n.language=r["xml:lang"]),"itemscope"in r&&!this.isEmittingReferences&&"itemref"in r)for(const a of r.itemref.split(/\s+/u))a in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[a]=[]),this.pendingItemRefsDomain[a].push(n),this.tryToEmitReferences(a,n)}"itemprop"in r&&this.handleItemProperties(r.itemprop,!1,n,e,r),"itemprop-reverse"in r&&this.handleItemProperties(r["itemprop-reverse"],!0,n,e,r)}onText(e){if(!this.isEmittingReferences)for(const r of Object.values(this.pendingItemRefsRangeCollecting))r.events.push({type:"text",data:e});for(const r of this.textBufferStack)r&&r.push(e)}onTagClose(){if(!this.isEmittingReferences)for(const[r,n]of Object.entries(this.pendingItemRefsRangeCollecting))n.counter--,n.events.push({type:"close"}),n.counter===0&&(this.pendingItemRefsRangeFinalized[r]=n,delete this.pendingItemRefsRangeCollecting[r],this.tryToEmitReferences(r));const e=this.getItemScope(!0);if(e){const r=this.getDepth();if(e.predicates&&r in e.predicates)for(const[n,a]of Object.entries(e.predicates[r])){const s=this.util.createLiteral(this.textBufferStack[r].join(""),e);this.emitPredicateTriples(e,a,s,n==="reverse"),delete e.predicates[r][n]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(e){return new y3e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(r){this.emit("error",r)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(r){this.emit("error",r)}},onopentag:(r,n)=>{try{this.onTagOpen(r,n),this.htmlParseListener&&this.htmlParseListener.onTagOpen(r,n)}catch(a){this.emit("error",a)}},ontext:r=>{try{this.onText(r),this.htmlParseListener&&this.htmlParseListener.onText(r)}catch(n){this.emit("error",n)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:e})}handleItemProperties(e,r,n,a,s){const o=this.getItemScope(!0);if(o){const u=this.getDepth(),l=this.util.createVocabIris(e,o,!0);o.predicates||(o.predicates={}),o.predicates[u]||(o.predicates[u]={});const c=r?"reverse":"forward";o.predicates[u][c]=l;for(const d of this.util.getVocabularyExpansionType(e,o,this.vocabRegistry))l.push(d);if(n&&"itemscope"in s)this.emitPredicateTriples(o,l,n.subject,r),delete o.predicates[u][c];else for(const d of R_.ITEM_PROPERTY_HANDLERS)if(d.canHandle(a,s)){const f=d.getObject(s,this.util,o);this.emitPredicateTriples(o,l,f,r),delete o.predicates[u][c]}o.predicates[u][c]&&(this.textBufferStack[u]=[])}}emitPredicateTriples(e,r,n,a){if(!e.blockEmission)for(const s of r)a?n.termType!=="Literal"&&this.emitTriple(n,s,e.subject):this.emitTriple(e.subject,s,n)}emitTriple(e,r,n){this.push(this.util.dataFactory.quad(e,r,n,this.defaultGraph))}tryToEmitReferences(e,r){const n=this.pendingItemRefsRangeFinalized[e];if(n){let a;if(r){a=[r];const s=this.pendingItemRefsDomain[e].indexOf(r);this.pendingItemRefsDomain[e].splice(s,1)}else a=this.pendingItemRefsDomain[e],delete this.pendingItemRefsDomain[e];if(a){const s=this.itemScopeStack,o=this.textBufferStack;this.isEmittingReferences=!0;for(const u of a){this.itemScopeStack=[u],this.textBufferStack=[void 0];const l=[...n.ids];this.emittingReferencesItemScopeIdGenerator=()=>l.shift();for(const c of n.events)switch(c.type){case"open":this.onTagOpen(c.name,c.attributes);break;case"text":this.onText(c.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=s,this.textBufferStack=o,this.isEmittingReferences=!1}}}}mO.MicrodataRdfParser=R_;R_.ITEM_PROPERTY_HANDLERS=[new m3e.ItemPropertyHandlerContent,new zu.ItemPropertyHandlerUrl("a","href"),new zu.ItemPropertyHandlerUrl("area","href"),new zu.ItemPropertyHandlerUrl("audio","src"),new zu.ItemPropertyHandlerUrl("embed","src"),new zu.ItemPropertyHandlerUrl("iframe","src"),new zu.ItemPropertyHandlerUrl("img","src"),new zu.ItemPropertyHandlerUrl("link","href"),new zu.ItemPropertyHandlerUrl("object","data"),new zu.ItemPropertyHandlerUrl("source","src"),new zu.ItemPropertyHandlerUrl("track","src"),new zu.ItemPropertyHandlerUrl("video","src"),new BB.ItemPropertyHandlerNumber("data","value"),new BB.ItemPropertyHandlerNumber("meter","value"),new v3e.ItemPropertyHandlerTime];(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(TX,t),r(hw,t),r(pw,t),r(gw,t),r(yw,t),r(EX,t),r(AX,t),r(xX,t),r(mO,t),r(H0,t)})(SX);Object.defineProperty(hO,"__esModule",{value:!0});hO.ActorRdfParseHtmlMicrodata=void 0;const _3e=pO,w3e=SX;class S3e extends _3e.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){const r=e.headers?e.headers.get("content-type"):null,n=r==null?void 0:r.includes("xml"),a=new w3e.MicrodataRdfParser({baseIRI:e.baseIRI,xmlMode:n});a.on("error",e.error),a.on("data",e.emit);const s=a.onEnd;return a.onEnd=()=>{s.call(a),e.end()},{htmlParseListener:a}}}hO.ActorRdfParseHtmlMicrodata=S3e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hO,t)})(wX);var RX={},vO={};Object.defineProperty(vO,"__esModule",{value:!0});vO.ActorRdfParseHtmlRdfa=void 0;const T3e=pO,E3e=_8;class A3e extends T3e.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){const r=e.headers?e.headers.get("content-type"):null,n=(e.headers&&e.headers.get("content-language"))??void 0,a=r&&r.includes("xml")?"xhtml":"html",s=new E3e.RdfaParser({baseIRI:e.baseIRI,profile:a,language:n});s.on("error",e.error),s.on("data",e.emit);const o=s.onEnd;return s.onEnd=()=>{o.call(s),e.end()},{htmlParseListener:s}}}vO.ActorRdfParseHtmlRdfa=A3e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vO,t)})(RX);var IX={},bO={},D8={},_O={},q0={},mw={};Object.defineProperty(mw,"__esModule",{value:!0});mw.ActorRdfResolveQuadPattern=void 0;const x3e=Ut;class O3e extends x3e.Actor{constructor(e){super(e)}}mw.ActorRdfResolveQuadPattern=O3e;var wO={};Object.defineProperty(wO,"__esModule",{value:!0});wO.ActorRdfResolveQuadPatternSource=void 0;const R3e=mw;class I3e extends R3e.ActorRdfResolveQuadPattern{constructor(e){super(e)}async test(e){return!0}async run(e){const r=await this.getSource(e.context,e.pattern);return await this.getOutput(r,e.pattern,e.context)}async getOutput(e,r,n){return{data:e.match(r.subject,r.predicate,r.object,r.graph,n)}}}wO.ActorRdfResolveQuadPatternSource=I3e;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.hasContextSingleSourceOfType=yi.hasContextSingleSource=yi.getContextSourceUrl=yi.getContextSourceFirst=yi.getContextSource=yi.getContextSources=yi.getDataSourceContext=yi.getDataSourceValue=yi.getDataSourceType=yi.isDataSourceRawType=void 0;const Wb=cn;function N8(t){return typeof t=="string"||"match"in t}yi.isDataSourceRawType=N8;function PX(t){return typeof t=="string"?"":"match"in t?"rdfjsSource":t.type}yi.getDataSourceType=PX;function F8(t){return N8(t)?t:t.value}yi.getDataSourceValue=F8;function P3e(t,e){return typeof t=="string"||"match"in t||!t.context?e:e.merge(t.context)}yi.getDataSourceContext=P3e;function C3e(t){return t.get(Wb.KeysRdfResolveQuadPattern.sources)}yi.getContextSources=C3e;function L8(t){return t.get(Wb.KeysRdfResolveQuadPattern.source)}yi.getContextSource=L8;function D3e(t){if(t.has(Wb.KeysRdfResolveQuadPattern.source))return t.get(Wb.KeysRdfResolveQuadPattern.source);const e=t.get(Wb.KeysRdfResolveQuadPattern.sources);if((e==null?void 0:e.length)===1)return e[0]}yi.getContextSourceFirst=D3e;function N3e(t){if(t){let e=F8(t);if(typeof e=="string"){const r=e.indexOf("#");return r>=0&&(e=e.slice(0,r)),e}}}yi.getContextSourceUrl=N3e;function F3e(t){const e=L8(t);return Boolean(e&&(N8(e)||e.value))}yi.hasContextSingleSource=F3e;function L3e(t,e){const r=L8(e);return Boolean(r&&PX(r)===t&&F8(r))}yi.hasContextSingleSourceOfType=L3e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mw,t),r(wO,t),r(yi,t)})(q0);var vw={},So={},SO={};Object.defineProperty(SO,"__esModule",{value:!0});SO.MetadataValidationState=void 0;class j3e{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(e){this.invalidateListeners.push(e)}invalidate(){if(this.valid){this.valid=!1;for(const e of this.invalidateListeners)e()}}}SO.MetadataValidationState=j3e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(SO,t)})(So);Object.defineProperty(vw,"__esModule",{value:!0});vw.RdfJsQuadSource=void 0;const M3e=So,B3e=Gr,k3e=lr,Eg=Oa,$B=new k3e.DataFactory;class Ps{constructor(e){this.source=e}static nullifyVariables(e,r){return!e||e.termType==="Variable"||!r&&e.termType==="Quad"&&(0,Eg.someTermsNested)(e,n=>n.termType==="Variable")?void 0:e}static hasDuplicateVariables(e){const r=(0,Eg.filterTermsNested)(e,n=>n.termType==="Variable");return r.length>1&&(0,Eg.uniqTerms)(r).length<r.length}match(e,r,n,a){var c;const s=Boolean((c=this.source.features)==null?void 0:c.quotedTripleFiltering),o=this.source.match(Ps.nullifyVariables(e,s),Ps.nullifyVariables(r,s),Ps.nullifyVariables(n,s),Ps.nullifyVariables(a,s));let u=(0,B3e.wrap)(o,{autoStart:!1});const l=$B.quad(e,r,n,a);return!s&&(0,Eg.someTerms)(l,d=>d.termType==="Quad")&&(u=u.filter(d=>(0,Eg.matchPatternComplete)(d,l))),this.setMetadata(u,e,r,n,a).catch(d=>u.destroy(d)),u}async setMetadata(e,r,n,a,s){var d;const o=Boolean((d=this.source.features)==null?void 0:d.quotedTripleFiltering);let u;if(this.source.countQuads)u=await this.source.countQuads(Ps.nullifyVariables(r,o),Ps.nullifyVariables(n,o),Ps.nullifyVariables(a,o),Ps.nullifyVariables(s,o));else{let f=0;u=await new Promise((h,p)=>{const g=this.source.match(Ps.nullifyVariables(r,o),Ps.nullifyVariables(n,o),Ps.nullifyVariables(a,o),Ps.nullifyVariables(s,o));g.on("error",p),g.on("end",()=>h(f)),g.on("data",()=>f++)})}const l=$B.quad(r,n,a,s),c=!o&&(0,Eg.someTerms)(l,f=>f.termType==="Quad")||Ps.hasDuplicateVariables(l);e.setProperty("metadata",{state:new M3e.MetadataValidationState,cardinality:{type:c?"estimate":"exact",value:u},canContainUndefs:!1})}}vw.RdfJsQuadSource=Ps;Object.defineProperty(_O,"__esModule",{value:!0});_O.ActorRdfResolveQuadPatternRdfJsSource=void 0;const i2=q0,$3e=vw;class U3e extends i2.ActorRdfResolveQuadPatternSource{constructor(e){super(e)}async test(e){if(!(0,i2.hasContextSingleSourceOfType)("rdfjsSource",e.context))throw new Error(`${this.name} requires a single source with an rdfjsSource to be present in the context.`);const r=(0,i2.getContextSource)(e.context);if(!r||typeof r=="string"||!("match"in r)&&!r.value.match)throw new Error(`${this.name} received an invalid rdfjsSource.`);return!0}async getSource(e){const r=(0,i2.getContextSource)(e);return new $3e.RdfJsQuadSource("match"in r?r:r.value)}}_O.ActorRdfResolveQuadPatternRdfJsSource=U3e;var CX={};Object.defineProperty(CX,"__esModule",{value:!0});(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_O,t),r(CX,t),r(vw,t)})(D8);var TO={},EO={};Object.defineProperty(EO,"__esModule",{value:!0});EO.ActorRdfResolveHypermedia=void 0;const V3e=Ut;class H3e extends V3e.Actor{constructor(e,r){super(e),this.sourceType=r}async test(e){if(e.forceSourceType&&this.sourceType!==e.forceSourceType)throw new Error(`Actor ${this.name} is not able to handle source type ${e.forceSourceType}.`);return this.testMetadata(e)}}EO.ActorRdfResolveHypermedia=H3e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(EO,t)})(TO);var bw={},DX={},Pv={},Cv={},_w={};Object.defineProperty(_w,"__esModule",{value:!0});_w.TermDictionaryNumberRecordFullTerms=void 0;const q3e=lr,UB=dn;class z3e{constructor(e=new q3e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=e}encode(e){const r=(0,UB.termToString)(e);let n=this.dictionary[r];return n===void 0&&(n=this.lastId++,this.dictionary[r]=n,this.reverseDictionary[n]=e),n}encodeOptional(e){const r=(0,UB.termToString)(e);return this.dictionary[r]}decode(e){const r=this.reverseDictionary[e];if(r===void 0)throw new Error(`The value ${e} is not present in this dictionary`);return r}*encodings(){for(const e of Object.keys(this.reverseDictionary))yield Number.parseInt(e,10)}findQuotedTriples(e){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(e){throw new Error("findQuotedTriplesEncoded is not supported")}}_w.TermDictionaryNumberRecordFullTerms=z3e;var ww={},Um={},kl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.arePatternsQuoted=t.quadHasVariables=t.quadToPattern=t.encodeOptionalTerms=t.orderQuadComponents=t.getComponentOrderScore=t.getBestIndex=t.QUAD_TERM_NAMES_INVERSE=void 0;const e=Oa;t.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(e.QUAD_TERM_NAMES.map((c,d)=>[c,d]));function r(c,d){if(c.length===1||d.every(p=>p!==void 0))return 0;const f=[];for(let p=0;p<e.QUAD_TERM_NAMES.length;p++)d[p]&&f.push(e.QUAD_TERM_NAMES[p]);return c.map((p,g)=>({score:n(p,f),index:g})).sort((p,g)=>g.score-p.score)[0].index}t.getBestIndex=r;function n(c,d){return c.map((f,h)=>d.includes(f)?c.length-h:0).reduce((f,h)=>f+h,0)}t.getComponentOrderScore=n;function a(c,d){return c.map(f=>{const h=t.QUAD_TERM_NAMES_INVERSE[f];return d[h]})}t.orderQuadComponents=a;function s(c,d){const f=c.map(h=>{if(h){if(h.termType==="Quad"&&u(h))return;const p=d.encodeOptional(h);return p===void 0?"none":p}return h});if(!f.includes("none"))return f}t.encodeOptionalTerms=s;function o(c,d,f,h,p){let g=!1;return[[c||void 0,d||void 0,f||void 0,h||void 0].map(S=>{if(S){if(S.termType==="Variable")return;if(S.termType==="Quad"){if(p)return S;g=!0;return}}return S}),g]}t.quadToPattern=o;function u(c){for(const d of e.QUAD_TERM_NAMES){const f=c[d];if(f.termType==="Variable"||f.termType==="Quad"&&u(f))return!0}return!1}t.quadHasVariables=u;function l(c){return c.map(d=>(d==null?void 0:d.termType)==="Quad"&&u(d))}t.arePatternsQuoted=l})(kl);Object.defineProperty(Um,"__esModule",{value:!0});Um.RdfStoreIndexNestedMap=void 0;const wD=kl;class G3e{constructor(e){this.features={quotedTripleFiltering:!1},this.dictionary=e.dictionary,this.nestedMap=new Map}set(e,r){const n=this.nestedMap;let a=n.get(e[0]);a||(a=new Map,n.set(e[0],a));let s=a.get(e[1]);s||(s=new Map,a.set(e[1],s));let o=s.get(e[2]);o||(o=new Map,s.set(e[2],o));const u=o.has(e[3]);return u||o.set(e[3],r),!u}remove(e){const r=this.nestedMap,n=r.get(e[0]);if(!n)return!1;const a=n.get(e[1]);if(!a)return!1;const s=a.get(e[2]);if(!s)return!1;const o=s.delete(e[3]);return o&&s.size===0&&(a.delete(e[2]),a.size===0&&(n.delete(e[1]),n.size===0&&r.delete(e[0]))),o}get(e){const r=(0,wD.encodeOptionalTerms)(e,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(e){const r=this.nestedMap.get(e[0]);if(!r)return;const n=r.get(e[1]);if(!n)return;const a=n.get(e[2]);if(a)return a.get(e[3])}*find(e){const r=(0,wD.encodeOptionalTerms)(e,this.dictionary);if(!r)return;const[n,a,s,o]=r,[u,l,c,d]=e;let f,h,p,g,y,S,v;const A=this.nestedMap,E=n!==void 0?A.has(n)?[n]:[]:A.keys();for(const T of E){y=A.get(T),f=u||this.dictionary.decode(T);const R=a!==void 0?y.has(a)?[a]:[]:y.keys();for(const I of R){S=y.get(I),h=l||this.dictionary.decode(I);const D=s!==void 0?S.has(s)?[s]:[]:S.keys();for(const M of D){v=S.get(M),p=c||this.dictionary.decode(M);const N=o!==void 0?v.has(o)?[o]:[]:v.keys();for(const O of N)g=d||this.dictionary.decode(O),yield[f,h,p,g]}}}}*findEncoded(e,r){const[n,a,s,o]=e;let u,l,c;const d=this.nestedMap,f=n!==void 0?d.has(n)?[n]:[]:d.keys();for(const h of f){u=d.get(h);const p=a!==void 0?u.has(a)?[a]:[]:u.keys();for(const g of p){l=u.get(g);const y=s!==void 0?l.has(s)?[s]:[]:l.keys();for(const S of y){c=l.get(S);const v=o!==void 0?c.has(o)?[o]:[]:c.keys();for(const A of v)yield[h,g,S,A]}}}}count(e){let r=0;const n=(0,wD.encodeOptionalTerms)(e,this.dictionary);if(!n)return 0;const a=n[0],s=n[1],o=n[2],u=n[3];let l,c,d;const f=this.nestedMap,h=a!==void 0?f.has(a)?[a]:[]:f.keys();for(const p of h){l=f.get(p);const g=s!==void 0?l.has(s)?[s]:[]:l.keys();for(const y of g){c=l.get(y);const S=o!==void 0?c.has(o)?[o]:[]:c.keys();for(const v of S)d=c.get(v),u!==void 0?d.has(u)&&r++:r+=d.size}}return r}}Um.RdfStoreIndexNestedMap=G3e;Object.defineProperty(ww,"__esModule",{value:!0});ww.TermDictionaryQuotedIndexed=void 0;const Q3e=lr,SD=Um,VB=kl;class Qu{constructor(e,r=new Q3e.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=e;const n={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:r};this.quotedTriplesReverseDictionaries=[new SD.RdfStoreIndexNestedMap(n),new SD.RdfStoreIndexNestedMap(n),new SD.RdfStoreIndexNestedMap(n)],this.dataFactory=r}encode(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!1):this.plainTermDictionary.encode(e)}encodeQuotedTriple(e,r){if(e.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const n=(0,VB.encodeOptionalTerms)([e.subject,e.predicate,e.object,e.graph],this),a=n&&n.every(l=>l!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(n):void 0;if(a!==void 0||r)return a===void 0?void 0:Qu.BITMASK|a;const s=[this.encode(e.subject),this.encode(e.predicate),this.encode(e.object)],o=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(s);const u=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([s[0],s[1],s[2],u],o),this.quotedTriplesReverseDictionaries[1].set([s[1],s[2],s[0],u],o),this.quotedTriplesReverseDictionaries[2].set([s[2],s[0],s[1],u],o),Qu.BITMASK|o}encodeOptional(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!0):this.plainTermDictionary.encodeOptional(e)}decode(e){if(Qu.BITMASK&e){const r=(~Qu.BITMASK&e)-1;if(r>=this.quotedTriplesDictionary.length)throw new Error(`The value ${e} is not present in the quoted triples range of the dictionary`);const n=this.quotedTriplesDictionary[r];return this.dataFactory.quad(this.decode(n[0]),this.decode(n[1]),this.decode(n[2]))}return this.plainTermDictionary.decode(e)}*encodings(){for(const e of this.plainTermDictionary.encodings())yield e;for(const e of this.quotedTriplesDictionary.keys())yield Qu.BITMASK|1+e}*findQuotedTriples(e){for(const r of this.findQuotedTriplesEncoded(e))yield this.decode(r)}*findQuotedTriplesEncoded(e){const[r,n]=(0,VB.quadToPattern)(e.subject,e.predicate,e.object,e.graph,!0);for(const a of this.patternToIterable(r[0]))for(const s of this.patternToIterable(r[1]))for(const o of this.patternToIterable(r[2]))for(const u of this.patternToIterable(r[3]))if(a&&s||!s&&!o){const l=[a,s,o,u];for(const c of this.quotedTriplesReverseDictionaries[0].findEncoded(l,r))yield Qu.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(c)}else if(!a&&s){const l=[s,o,a,u];for(const c of this.quotedTriplesReverseDictionaries[1].findEncoded(l,r))yield Qu.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(c)}else{const l=[o,a,s,u];for(const c of this.quotedTriplesReverseDictionaries[2].findEncoded(l,r))yield Qu.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(c)}}*patternToIterable(e){if((e==null?void 0:e.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(e);return}if(e===void 0){yield void 0;return}const r=this.encodeOptional(e);r!==void 0&&(yield r)}}Qu.BITMASK=1<<31;ww.TermDictionaryQuotedIndexed=Qu;var Sw={};Object.defineProperty(Sw,"__esModule",{value:!0});Sw.RdfStoreIndexNestedMapQuoted=void 0;const Dv=kl,W3e=Um;class K3e extends W3e.RdfStoreIndexNestedMap{constructor(e){super(e),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(e,r){for(const n of this.dictionary.findQuotedTriplesEncoded(r))e.has(n)&&(yield n)}*find(e){const r=(0,Dv.encodeOptionalTerms)(e,this.dictionary);if(!r)return;const[n,a,s,o]=r,[u,l,c,d]=e,[f,h,p,g]=(0,Dv.arePatternsQuoted)(e);let y,S,v,A,E,T,R;const I=this.nestedMap,D=u!==void 0?f?this.getQuotedPatternKeys(I,u):I.has(n)?[n]:[]:I.keys();for(const M of D){E=I.get(M),y=!f&&u?u:this.dictionary.decode(M);const N=l!==void 0?h?this.getQuotedPatternKeys(E,l):E.has(a)?[a]:[]:E.keys();for(const O of N){T=E.get(O),S=!h&&l?l:this.dictionary.decode(O);const k=c!==void 0?p?this.getQuotedPatternKeys(T,c):T.has(s)?[s]:[]:T.keys();for(const Y of k){R=T.get(Y),v=!p&&c?c:this.dictionary.decode(Y);const ne=d!==void 0?g?this.getQuotedPatternKeys(R,d):R.has(o)?[o]:[]:R.keys();for(const q of ne)A=!g&&d?d:this.dictionary.decode(q),yield[y,S,v,A]}}}}*findEncoded(e,r){const[n,a,s,o]=e,[u,l,c,d]=r,[f,h,p,g]=(0,Dv.arePatternsQuoted)(r);let y,S,v;const A=this.nestedMap,E=u!==void 0?f?this.getQuotedPatternKeys(A,u):A.has(n)?[n]:[]:A.keys();for(const T of E){y=A.get(T);const R=l!==void 0?h?this.getQuotedPatternKeys(y,l):y.has(a)?[a]:[]:y.keys();for(const I of R){S=y.get(I);const D=c!==void 0?p?this.getQuotedPatternKeys(S,c):S.has(s)?[s]:[]:S.keys();for(const M of D){v=S.get(M);const N=d!==void 0?g?this.getQuotedPatternKeys(v,d):v.has(o)?[o]:[]:v.keys();for(const O of N)yield[Number.parseInt(T,10),Number.parseInt(I,10),Number.parseInt(M,10),Number.parseInt(O,10)]}}}}count(e){let r=0;const n=(0,Dv.encodeOptionalTerms)(e,this.dictionary);if(!n)return 0;const[a,s,o,u]=n,[l,c,d,f]=e,[h,p,g,y]=(0,Dv.arePatternsQuoted)(e);let S,v,A;const E=this.nestedMap,T=l!==void 0?h?this.getQuotedPatternKeys(E,l):E.has(a)?[a]:[]:E.keys();for(const R of T){S=E.get(R);const I=c!==void 0?p?this.getQuotedPatternKeys(S,c):S.has(s)?[s]:[]:S.keys();for(const D of I){v=S.get(D);const M=d!==void 0?g?this.getQuotedPatternKeys(v,d):v.has(o)?[o]:[]:v.keys();for(const N of M)A=v.get(N),f!==void 0?y?r+=[...this.getQuotedPatternKeys(A,f)].length:A.has(u)&&r++:r+=A.size}}return r}}Sw.RdfStoreIndexNestedMapQuoted=K3e;var HB;function NX(){if(HB)return Cv;HB=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.RdfStore=void 0;const t=Gr,e=lr,r=Oa,n=FX(),a=_w,s=ww,o=Sw,u=kl;let l=class{constructor(d){this.features={quotedTripleFiltering:!0},this._size=0,this.options=d,this.dataFactory=d.dataFactory,this.dictionary=d.dictionary,this.indexesWrapped=l.constructIndexesWrapped(d),this.indexesWrappedComponentOrders=this.indexesWrapped.map(f=>f.componentOrder)}static createDefault(){return new l({indexCombinations:l.DEFAULT_INDEX_COMBINATIONS,indexConstructor:d=>new o.RdfStoreIndexNestedMapQuoted(d),dictionary:new s.TermDictionaryQuotedIndexed(new a.TermDictionaryNumberRecordFullTerms),dataFactory:new e.DataFactory})}static constructIndexesWrapped(d){const f=[];if(d.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const h of d.indexCombinations){if(!l.isCombinationValid(h))throw new Error(`Invalid index combination: ${h}`);f.push({index:d.indexConstructor(d),componentOrder:h,componentOrderInverse:Object.fromEntries(h.map((p,g)=>[p,g]))})}return f}static isCombinationValid(d){for(const f of r.QUAD_TERM_NAMES)if(!d.includes(f))return!1;return d.length===4}get size(){return this._size}addQuad(d){const f=[this.dictionary.encode(d.subject),this.dictionary.encode(d.predicate),this.dictionary.encode(d.object),this.dictionary.encode(d.graph)];let h=!1;for(const p of this.indexesWrapped)h=p.index.set((0,u.orderQuadComponents)(p.componentOrder,f),!0);return h?(this._size++,!0):!1}removeQuad(d){const f=[this.dictionary.encodeOptional(d.subject),this.dictionary.encodeOptional(d.predicate),this.dictionary.encodeOptional(d.object),this.dictionary.encodeOptional(d.graph)];if(f.includes(void 0))return!1;let h=!1;for(const p of this.indexesWrapped)if(h=p.index.remove((0,u.orderQuadComponents)(p.componentOrder,f)),!h)break;return h?(this._size--,!0):!1}remove(d){return d.on("data",f=>this.removeQuad(f)),d}removeMatches(d,f,h,p){return this.remove(this.match(d,f,h,p))}deleteGraph(d){return typeof d=="string"&&(d=this.dataFactory.namedNode(d)),this.removeMatches(void 0,void 0,void 0,d)}import(d){return d.on("data",f=>this.addQuad(f)),d}*readQuads(d,f,h,p){const g=Boolean(this.dictionary.features.quotedTriples)&&Object.values(this.indexesWrapped).every(E=>E.index.features.quotedTripleFiltering),[y,S]=(0,u.quadToPattern)(d,f,h,p,g),v=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,y)],A=(0,u.orderQuadComponents)(v.componentOrder,y);for(const E of v.index.find(A)){const T=this.dataFactory.quad(E[v.componentOrderInverse.subject],E[v.componentOrderInverse.predicate],E[v.componentOrderInverse.object],E[v.componentOrderInverse.graph]);S?(0,r.matchPattern)(T,d,f,h,p)&&(yield T):yield T}}getQuads(d,f,h,p){return[...this.readQuads(d,f,h,p)]}match(d,f,h,p){return(0,t.wrap)(this.readQuads(d,f,h,p))}countQuads(d,f,h,p){const g=Boolean(this.dictionary.features.quotedTriples)&&Object.values(this.indexesWrapped).every(A=>A.index.features.quotedTripleFiltering),[y]=(0,u.quadToPattern)(d,f,h,p,g);if(y.every(A=>A===void 0))return this.size;const S=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,y)],v=(0,u.orderQuadComponents)(S.componentOrder,y);return S.index.count(v)}asDataset(){return new n.DatasetCoreWrapper(this)}};return l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],Cv.RdfStore=l,Cv}var qB;function FX(){if(qB)return Pv;qB=1,Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.DatasetCoreWrapper=void 0;const t=NX();let e=class{constructor(n){this.store=n}get size(){return this.store.size}add(n){return this.store.addQuad(n),this}delete(n){return this.store.removeQuad(n),this}has(n){for(const a of this.store.readQuads(n.subject,n.predicate,n.object,n.graph))return!0;return!1}match(n,a,s,o){const u=new t.RdfStore(this.store.options);for(const l of this.store.readQuads(n,a,s,o))u.addQuad(l);return new e(u)}[Symbol.iterator](){return this.store.readQuads()}};return Pv.DatasetCoreWrapper=e,Pv}var LX={};Object.defineProperty(LX,"__esModule",{value:!0});var AO={};Object.defineProperty(AO,"__esModule",{value:!0});AO.TermDictionaryNumberMap=void 0;const X3e=lr,TD=dn;class J3e{constructor(e=new X3e.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=e}encode(e){const r=(0,TD.termToString)(e);let n=this.dictionary.get(r);return n===void 0&&(n=this.lastId++,this.dictionary.set(r,n),this.reverseDictionary.set(n,r)),n}encodeOptional(e){const r=(0,TD.termToString)(e);return this.dictionary.get(r)}decode(e){const r=this.reverseDictionary.get(e);if(r===void 0)throw new Error(`The value ${e} is not present in this dictionary`);return(0,TD.stringToTerm)(r,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(e){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(e){throw new Error("findQuotedTriplesEncoded is not supported")}}AO.TermDictionaryNumberMap=J3e;var xO={};Object.defineProperty(xO,"__esModule",{value:!0});xO.TermDictionaryNumberRecord=void 0;const Y3e=lr,ED=dn;class Z3e{constructor(e=new Y3e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=e}encode(e){const r=(0,ED.termToString)(e);let n=this.dictionary[r];return n===void 0&&(n=this.lastId++,this.dictionary[r]=n,this.reverseDictionary[n]=r),n}encodeOptional(e){const r=(0,ED.termToString)(e);return this.dictionary[r]}decode(e){const r=this.reverseDictionary[e];if(r===void 0)throw new Error(`The value ${e} is not present in this dictionary`);return(0,ED.stringToTerm)(r,this.dataFactory)}*encodings(){for(const e of Object.keys(this.reverseDictionary))yield Number.parseInt(e,10)}findQuotedTriples(e){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(e){throw new Error("findQuotedTriplesEncoded is not supported")}}xO.TermDictionaryNumberRecord=Z3e;var OO={};Object.defineProperty(OO,"__esModule",{value:!0});OO.TermDictionaryQuoted=void 0;const eAe=lr,tAe=Oa;class Sd{constructor(e,r,n=new eAe.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=e,this.quotedTriplesDictionary=r,this.dataFactory=n}encode(e){return e.termType==="Quad"?Sd.BITMASK|1+this.quotedTriplesDictionary.encode(e):this.plainTermDictionary.encode(e)}encodeOptional(e){if(e.termType==="Quad"){const r=this.quotedTriplesDictionary.encodeOptional(e);return r===void 0?r:Sd.BITMASK|1+r}return this.plainTermDictionary.encodeOptional(e)}decode(e){if(Sd.BITMASK&e){const r=(~Sd.BITMASK&e)-1;return this.quotedTriplesDictionary.decode(r)}return this.plainTermDictionary.decode(e)}*encodings(){for(const e of this.plainTermDictionary.encodings())yield e;for(const e of this.quotedTriplesDictionary.encodings())yield Sd.BITMASK|1+e}*findQuotedTriples(e){for(const r of this.findQuotedTriplesEncoded(e))yield this.decode(r)}*findQuotedTriplesEncoded(e){for(let r of this.quotedTriplesDictionary.encodings()){r=Sd.BITMASK|1+r;const n=this.decode(r);(0,tAe.matchPattern)(n,e.subject,e.predicate,e.object,e.graph)&&(yield r)}}}Sd.BITMASK=1<<31;OO.TermDictionaryQuoted=Sd;var RO={};Object.defineProperty(RO,"__esModule",{value:!0});RO.TermDictionaryQuotedReferential=void 0;const rAe=lr,nAe=Oa,iAe=kl;class gu{constructor(e,r=new rAe.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=e,this.dataFactory=r}encode(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!1):this.plainTermDictionary.encode(e)}encodeQuotedTriple(e,r){var n;if(e.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const a=(n=(0,iAe.encodeOptionalTerms)([e.subject,e.predicate,e.object,void 0],this))===null||n===void 0?void 0:n.slice(0,3),s=a&&a.every(l=>l!==void 0)?this.quotedTriplesReverseDictionary[a.join(gu.SEPARATOR)]:void 0;if(s!==void 0||r)return s===void 0?void 0:gu.BITMASK|s;const o=[this.encode(e.subject),this.encode(e.predicate),this.encode(e.object)],u=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(o),this.quotedTriplesReverseDictionary[o.join(gu.SEPARATOR)]=u,gu.BITMASK|u}encodeOptional(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!0):this.plainTermDictionary.encodeOptional(e)}decode(e){if(gu.BITMASK&e){const r=(~gu.BITMASK&e)-1;if(r>=this.quotedTriplesDictionary.length)throw new Error(`The value ${e} is not present in the quoted triples range of the dictionary`);const n=this.quotedTriplesDictionary[r];return this.dataFactory.quad(this.decode(n[0]),this.decode(n[1]),this.decode(n[2]))}return this.plainTermDictionary.decode(e)}*encodings(){for(const e of this.plainTermDictionary.encodings())yield e;for(const e of this.quotedTriplesDictionary.keys())yield gu.BITMASK|1+e}*findQuotedTriples(e){for(const r of this.findQuotedTriplesEncoded(e))yield this.decode(r)}*findQuotedTriplesEncoded(e){for(let r of this.quotedTriplesDictionary.keys()){r=gu.BITMASK|1+r;const n=this.decode(r);(0,nAe.matchPattern)(n,e.subject,e.predicate,e.object,e.graph)&&(yield r)}}}gu.BITMASK=1<<31;gu.SEPARATOR="_";RO.TermDictionaryQuotedReferential=gu;var IO={};Object.defineProperty(IO,"__esModule",{value:!0});IO.TermDictionarySymbol=void 0;const aAe=lr,zB=dn;class sAe{constructor(e=new aAe.DataFactory){this.features={quotedTriples:!1},this.dataFactory=e}encode(e){return Symbol.for(`rdf::${(0,zB.termToString)(e)}`)}encodeOptional(e){return this.encode(e)}decode(e){const r=Symbol.keyFor(e);if(r===void 0)throw new Error(`The value ${String(e)} is not present in this dictionary`);return(0,zB.stringToTerm)(r.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(e){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(e){throw new Error("findQuotedTriplesEncoded is not supported")}}IO.TermDictionarySymbol=sAe;var jX={};Object.defineProperty(jX,"__esModule",{value:!0});var Tw={};Object.defineProperty(Tw,"__esModule",{value:!0});Tw.RdfStoreIndexNestedMapRecursive=void 0;const GB=kl;class oAe{constructor(e){this.features={quotedTripleFiltering:!1},this.dictionary=e.dictionary,this.nestedMap=new Map}set(e,r){let n=this.nestedMap,a=!1;for(const[s,o]of e.entries()){const u=n;let l=u.get(o);l?s===e.length-1&&(a=!0):(l=s===e.length-1?r:new Map,u.set(o,l)),n=l}return!a}remove(e){const r=this.nestedMap,n=r.get(e[0]);if(!n)return!1;const a=n.get(e[1]);if(!a)return!1;const s=a.get(e[2]);if(!s)return!1;const o=s.delete(e[3]);return o&&s.size===0&&(a.delete(e[2]),a.size===0&&(n.delete(e[1]),n.size===0&&r.delete(e[0]))),o}get(e){const r=(0,GB.encodeOptionalTerms)(e,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(e){const r=this.nestedMap.get(e[0]);if(!r)return;const n=r.get(e[1]);if(!n)return;const a=n.get(e[2]);if(a)return a.get(e[3])}*find(e){const r=(0,GB.encodeOptionalTerms)(e,this.dictionary);if(r)for(const n of this.findEncoded(r,e))yield[r[0]!==void 0?e[0]:this.dictionary.decode(n[0]),r[1]!==void 0?e[1]:this.dictionary.decode(n[1]),r[2]!==void 0?e[2]:this.dictionary.decode(n[2]),r[3]!==void 0?e[3]:this.dictionary.decode(n[3])]}*findEncoded(e,r){return yield*this.findEncodedInner(0,e,r,this.nestedMap,[])}*findEncodedInner(e,r,n,a,s){if(e===r.length)yield[...s];else{const o=r[e];if(n[e]){const l=o;if(l!==void 0){const c=a.get(l);c&&(s[e]=o,yield*this.findEncodedInner(e+1,r,n,c,s))}}else for(const[l,c]of a.entries())s[e]=l,yield*this.findEncodedInner(e+1,r,n,c,s)}}count(e){return this.countInner(0,e,this.nestedMap)}countInner(e,r,n){const a=r[e];let s=0;if(a){const o=this.dictionary.encodeOptional(a);if(o!==void 0){if(e===r.length-1)return n.has(o)?1:0;const u=n.get(o);u&&(s+=this.countInner(e+1,r,u))}}else{if(e===r.length-1)return n.size;for(const o of n.values())s+=this.countInner(e+1,r,o)}return s}}Tw.RdfStoreIndexNestedMapRecursive=oAe;var PO={};Object.defineProperty(PO,"__esModule",{value:!0});PO.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const QB=kl,uAe=Tw;class lAe extends uAe.RdfStoreIndexNestedMapRecursive{constructor(e){super(e),this.features={quotedTripleFiltering:!0}}*findEncoded(e,r){return yield*this.findEncodedInnerQuoted(0,e,r,(0,QB.arePatternsQuoted)(r),this.nestedMap,[])}*findEncodedInnerQuoted(e,r,n,a,s,o){if(e===r.length)yield[...o];else{const u=r[e],l=n[e];if(l)if(a[e]){const c=this.dictionary.findQuotedTriplesEncoded(l);for(const d of c){const f=s.get(d);f&&(o[e]=d,yield*this.findEncodedInnerQuoted(e+1,r,n,a,f,o))}}else{const c=u;if(c!==void 0){const d=s.get(c);d&&(o[e]=u,yield*this.findEncodedInnerQuoted(e+1,r,n,a,d,o))}}else for(const[c,d]of s.entries())o[e]=c,yield*this.findEncodedInnerQuoted(e+1,r,n,a,d,o)}}countInner(e,r,n){const a=r[e];let s=0;if(a)if(a.termType==="Quad"&&(0,QB.quadHasVariables)(a)){const o=this.dictionary.findQuotedTriplesEncoded(a);for(const u of o)if(e===r.length-1)n.has(u)&&s++;else{const l=n.get(u);l&&(s+=this.countInner(e+1,r,l))}}else{const o=this.dictionary.encodeOptional(a);if(o!==void 0){if(e===r.length-1)return n.has(o)?1:0;const u=n.get(o);u&&(s+=this.countInner(e+1,r,u))}}else{if(e===r.length-1)return n.size;for(const o of n.values())s+=this.countInner(e+1,r,o)}return s}}PO.RdfStoreIndexNestedMapRecursiveQuoted=lAe;var Ew={};Object.defineProperty(Ew,"__esModule",{value:!0});Ew.RdfStoreIndexNestedRecord=void 0;const AD=kl;class cAe{constructor(e){this.features={quotedTripleFiltering:!1},this.dictionary=e.dictionary,this.nestedRecords={}}set(e,r){const n=this.nestedRecords,a=n[e[0]]||(n[e[0]]={}),s=a[e[1]]||(a[e[1]]={}),o=s[e[2]]||(s[e[2]]={});return o[e[3]]?!1:(o[e[3]]=r,!0)}remove(e){const r=this.nestedRecords,n=r[e[0]];if(!n)return!1;const a=n[e[1]];if(!a)return!1;const s=a[e[2]];return!s||!s[e[3]]?!1:(delete s[e[3]],Object.keys(s).length===0&&(delete a[e[2]],Object.keys(a).length===0&&(delete n[e[1]],Object.keys(n).length===0&&delete r[e[0]])),!0)}get(e){const r=(0,AD.encodeOptionalTerms)(e,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(e){var r,n,a;return(a=(n=(r=this.nestedRecords[e[0]])===null||r===void 0?void 0:r[e[1]])===null||n===void 0?void 0:n[e[2]])===null||a===void 0?void 0:a[e[3]]}*find(e){const r=(0,AD.encodeOptionalTerms)(e,this.dictionary);if(!r)return;const[n,a,s,o]=r,[u,l,c,d]=e;let f,h,p,g,y,S,v;const A=this.nestedRecords,E=n!==void 0?n in A?[n]:[]:Object.keys(A);for(const T of E){y=A[T],f=u||this.dictionary.decode(Number.parseInt(T,10));const R=a!==void 0?a in y?[a]:[]:Object.keys(y);for(const I of R){S=y[I],h=l||this.dictionary.decode(Number.parseInt(I,10));const D=s!==void 0?s in S?[s]:[]:Object.keys(S);for(const M of D){v=S[M],p=c||this.dictionary.decode(Number.parseInt(M,10));const N=o!==void 0?o in v?[o]:[]:Object.keys(v);for(const O of N)g=d||this.dictionary.decode(Number.parseInt(O,10)),yield[f,h,p,g]}}}}*findEncoded(e,r){const[n,a,s,o]=e;let u,l,c;const d=this.nestedRecords,f=n!==void 0?n in d?[n]:[]:Object.keys(d);for(const h of f){u=d[h];const p=a!==void 0?a in u?[a]:[]:Object.keys(u);for(const g of p){l=u[g];const y=s!==void 0?s in l?[s]:[]:Object.keys(l);for(const S of y){c=l[S];const v=o!==void 0?o in c?[o]:[]:Object.keys(c);for(const A of v)yield[Number.parseInt(h,10),Number.parseInt(g,10),Number.parseInt(S,10),Number.parseInt(A,10)]}}}}count(e){let r=0;const n=(0,AD.encodeOptionalTerms)(e,this.dictionary);if(!n)return 0;const a=n[0],s=n[1],o=n[2],u=n[3];let l,c,d;const f=this.nestedRecords,h=a!==void 0?a in f?[a]:[]:Object.keys(f);for(const p of h){l=f[p];const g=s!==void 0?s in l?[s]:[]:Object.keys(l);for(const y of g){c=l[y];const S=o!==void 0?o in c?[o]:[]:Object.keys(c);for(const v of S)d=c[v],u!==void 0?u in d&&r++:r+=Object.keys(d).length}}return r}}Ew.RdfStoreIndexNestedRecord=cAe;var CO={};Object.defineProperty(CO,"__esModule",{value:!0});CO.RdfStoreIndexNestedRecordQuoted=void 0;const Nv=kl,dAe=Ew;class fAe extends dAe.RdfStoreIndexNestedRecord{constructor(e){super(e),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(e,r){for(const n of this.dictionary.findQuotedTriplesEncoded(r))n in e&&(yield n)}*find(e){const r=(0,Nv.encodeOptionalTerms)(e,this.dictionary);if(!r)return;const[n,a,s,o]=r,[u,l,c,d]=e,[f,h,p,g]=(0,Nv.arePatternsQuoted)(e);let y,S,v,A,E,T,R;const I=this.nestedRecords,D=u!==void 0?f?this.getQuotedPatternKeys(I,u):n in I?[n]:[]:Object.keys(I);for(const M of D){E=I[M],y=!f&&u?u:this.dictionary.decode(Number.parseInt(M,10));const N=l!==void 0?h?this.getQuotedPatternKeys(E,l):a in E?[a]:[]:Object.keys(E);for(const O of N){T=E[O],S=!h&&l?l:this.dictionary.decode(Number.parseInt(O,10));const k=c!==void 0?p?this.getQuotedPatternKeys(T,c):s in T?[s]:[]:Object.keys(T);for(const Y of k){R=T[Y],v=!p&&c?c:this.dictionary.decode(Number.parseInt(Y,10));const ne=d!==void 0?g?this.getQuotedPatternKeys(R,d):o in R?[o]:[]:Object.keys(R);for(const q of ne)A=!g&&d?d:this.dictionary.decode(Number.parseInt(q,10)),yield[y,S,v,A]}}}}*findEncoded(e,r){const[n,a,s,o]=e,[u,l,c,d]=r,[f,h,p,g]=(0,Nv.arePatternsQuoted)(r);let y,S,v;const A=this.nestedRecords,E=u!==void 0?f?this.getQuotedPatternKeys(A,u):n in A?[n]:[]:Object.keys(A);for(const T of E){y=A[T];const R=l!==void 0?h?this.getQuotedPatternKeys(y,l):a in y?[a]:[]:Object.keys(y);for(const I of R){S=y[I];const D=c!==void 0?p?this.getQuotedPatternKeys(S,c):s in S?[s]:[]:Object.keys(S);for(const M of D){v=S[M];const N=d!==void 0?g?this.getQuotedPatternKeys(v,d):o in v?[o]:[]:Object.keys(v);for(const O of N)yield[Number.parseInt(T,10),Number.parseInt(I,10),Number.parseInt(M,10),Number.parseInt(O,10)]}}}}count(e){let r=0;const n=(0,Nv.encodeOptionalTerms)(e,this.dictionary);if(!n)return 0;const[a,s,o,u]=n,[l,c,d,f]=e,[h,p,g,y]=(0,Nv.arePatternsQuoted)(e);let S,v,A;const E=this.nestedRecords,T=l!==void 0?h?this.getQuotedPatternKeys(E,l):a in E?[a]:[]:Object.keys(E);for(const R of T){S=E[R];const I=c!==void 0?p?this.getQuotedPatternKeys(S,c):s in S?[s]:[]:Object.keys(S);for(const D of I){v=S[D];const M=d!==void 0?g?this.getQuotedPatternKeys(v,d):o in v?[o]:[]:Object.keys(v);for(const N of M)A=v[N],f!==void 0?y?r+=[...this.getQuotedPatternKeys(A,f)].length:u in A&&r++:r+=Object.keys(A).length}}return r}}CO.RdfStoreIndexNestedRecordQuoted=fAe;var MX={};Object.defineProperty(MX,"__esModule",{value:!0});var BX={};Object.defineProperty(BX,"__esModule",{value:!0});(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(FX(),t),r(LX,t),r(AO,t),r(xO,t),r(_w,t),r(OO,t),r(ww,t),r(RO,t),r(IO,t),r(jX,t),r(Um,t),r(Sw,t),r(Tw,t),r(PO,t),r(Ew,t),r(CO,t),r(MX,t),r(kl,t),r(BX,t),r(NX(),t)})(DX);Object.defineProperty(bw,"__esModule",{value:!0});bw.storeStream=void 0;const hAe=DX;function pAe(t){const e=hAe.RdfStore.createDefault();return new Promise((r,n)=>e.import(t).on("error",n).once("end",()=>r(e)))}bw.storeStream=pAe;Object.defineProperty(bO,"__esModule",{value:!0});bO.ActorRdfResolveHypermediaNone=void 0;const gAe=D8,yAe=TO,mAe=bw;class vAe extends yAe.ActorRdfResolveHypermedia{constructor(e){super(e,"file")}async testMetadata(e){return{filterFactor:0}}async run(e){return this.logInfo(e.context,`Identified as file source: ${e.url}`),{source:new gAe.RdfJsQuadSource(await(0,mAe.storeStream)(e.quads))}}}bO.ActorRdfResolveHypermediaNone=vAe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bO,t)})(IX);var kX={},DO={},$X={},NO={};Object.defineProperty(NO,"__esModule",{value:!0});NO.ActorRdfResolveHypermediaLinks=void 0;const bAe=Ut;class _Ae extends bAe.Actor{constructor(e){super(e)}}NO.ActorRdfResolveHypermediaLinks=_Ae;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(NO,t)})($X);Object.defineProperty(DO,"__esModule",{value:!0});DO.ActorRdfResolveHypermediaLinksNext=void 0;const wAe=$X;class SAe extends wAe.ActorRdfResolveHypermediaLinks{constructor(e){super(e)}async test(e){if(!e.metadata.next)throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(e){return{links:[{url:e.metadata.next}]}}}DO.ActorRdfResolveHypermediaLinksNext=SAe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(DO,t)})(kX);var UX={},FO={},VX={},LO={};Object.defineProperty(LO,"__esModule",{value:!0});LO.ActorRdfResolveHypermediaLinksQueue=void 0;const TAe=Ut;class EAe extends TAe.Actor{constructor(e){super(e)}}LO.ActorRdfResolveHypermediaLinksQueue=EAe;var HX={};Object.defineProperty(HX,"__esModule",{value:!0});var jO={};Object.defineProperty(jO,"__esModule",{value:!0});jO.LinkQueueWrapper=void 0;class AAe{constructor(e){this.linkQueue=e}push(e,r){return this.linkQueue.push(e,r)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}}jO.LinkQueueWrapper=AAe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(LO,t),r(HX,t),r(jO,t)})(VX);var Aw={};Object.defineProperty(Aw,"__esModule",{value:!0});Aw.LinkQueueFifo=void 0;class xAe{constructor(){this.links=[]}push(e){return this.links.push(e),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}}Aw.LinkQueueFifo=xAe;Object.defineProperty(FO,"__esModule",{value:!0});FO.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const OAe=VX,RAe=Aw;class IAe extends OAe.ActorRdfResolveHypermediaLinksQueue{constructor(e){super(e)}async test(e){return!0}async run(e){return{linkQueue:new RAe.LinkQueueFifo}}}FO.ActorRdfResolveHypermediaLinksQueueFifo=IAe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(FO,t),r(Aw,t)})(UX);var qX={},MO={},BO={},kO={};Object.defineProperty(kO,"__esModule",{value:!0});kO.ActorRdfSerialize=void 0;const PAe=$0;class CAe extends PAe.ActorAbstractMediaTyped{constructor(e){super(e)}}kO.ActorRdfSerialize=CAe;var $O={};Object.defineProperty($O,"__esModule",{value:!0});$O.ActorRdfSerializeFixedMediaTypes=void 0;const DAe=$0;class NAe extends DAe.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}}$O.ActorRdfSerializeFixedMediaTypes=NAe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kO,t),r($O,t)})(BO);Object.defineProperty(MO,"__esModule",{value:!0});MO.ActorRdfSerializeN3=void 0;const FAe=BO,LAe=zh;class jAe extends FAe.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){const a=new LAe.StreamWriter({format:r});let s;return"pipe"in e.quadStream?(e.quadStream.on("error",o=>a.emit("error",o)),s=e.quadStream.pipe(a)):s=a.import(e.quadStream),{data:s,triples:r==="text/turtle"||r==="application/n-triples"||r==="text/n3"}}}MO.ActorRdfSerializeN3=jAe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(MO,t)})(qX);var zX={},UO={},GX={},VO={},HO={};Object.defineProperty(HO,"__esModule",{value:!0});HO.SeparatorType=void 0;class Ni{constructor(e){this.label=e}}HO.SeparatorType=Ni;Ni.COMMA=new Ni(",");Ni.OBJECT_START=new Ni("{");Ni.OBJECT_END=new Ni("}");Ni.OBJECT_END_COMMA=new Ni("},");Ni.ARRAY_START=new Ni("[");Ni.ARRAY_END=new Ni("]");Ni.ARRAY_END_COMMA=new Ni("],");Ni.GRAPH_FIELD_NONCOMPACT=new Ni('"@graph": [');Ni.GRAPH_FIELD_COMPACT=new Ni('"@graph":[');Ni.CONTEXT_FIELD=new Ni('"@context":');var xw={};Object.defineProperty(xw,"__esModule",{value:!0});xw.Util=void 0;const WB=la;class Ta{static termToValue(e,r,n={compactIds:!1,useNativeTypes:!1}){switch(e.termType){case"NamedNode":const a=r.compactIri(e.value,n.vocab);return n.compactIds?a:{"@id":a};case"DefaultGraph":return n.compactIds?e.value:{"@id":e.value};case"BlankNode":const s=`_:${e.value}`;return n.compactIds?s:{"@id":s};case"Literal":if(e.datatype.value===Ta.RDF_JSON){let l;try{l=JSON.parse(e.value)}catch(c){throw new WB.ErrorCoded("Invalid JSON literal: "+c.message,WB.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":l,"@type":"@json"}}if(n.rdfDirection==="i18n-datatype"&&e.datatype.value.startsWith(Ta.I18N)){const[l,c]=e.datatype.value.substr(Ta.I18N.length,e.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":e.value},l?{"@language":l}:{}),c?{"@direction":c}:{})}const o=e.datatype.value===Ta.XSD_STRING,u={"@value":!o&&n.useNativeTypes?Ta.stringToNativeType(e.value,e.datatype.value):e.value};return e.language?Object.assign(Object.assign({},u),{"@language":e.language}):!o&&typeof u["@value"]=="string"?Object.assign(Object.assign({},u),{"@type":e.datatype.value}):u}}static stringToNativeType(e,r){if(r.startsWith(Ta.XSD))switch(r.substr(Ta.XSD.length)){case"boolean":if(e==="true")return!0;if(e==="false")return!1;throw new Error(`Invalid xsd:boolean value '${e}'`);case"integer":case"number":case"int":case"byte":case"long":const a=parseInt(e,10);if(isNaN(a))throw new Error(`Invalid xsd:integer value '${e}'`);return a;case"float":case"double":const s=parseFloat(e);if(isNaN(s))throw new Error(`Invalid xsd:float value '${e}'`);return s}return e}}xw.Util=Ta;Ta.XSD="http://www.w3.org/2001/XMLSchema#";Ta.XSD_STRING=Ta.XSD+"string";Ta.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";Ta.RDF_TYPE=Ta.RDF+"type";Ta.RDF_JSON=Ta.RDF+"JSON";Ta.I18N="https://www.w3.org/ns/i18n#";Object.defineProperty(VO,"__esModule",{value:!0});VO.JsonLdSerializer=void 0;const KB=la,gi=HO,xD=xw,XB=zr;class j8 extends XB.Transform{constructor(e={}){super({objectMode:!0}),this.indentation=0,this.options=e,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new KB.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new KB.JsonLdContextNormalized({}))}import(e){const r=new XB.PassThrough({objectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new j8(this.options));return n}_transform(e,r,n){this.context.then(a=>{this.transformQuad(e,a),n()}).catch(n)}async list(e){const r=await this.context;return{"@list":e.map(n=>xD.Util.termToValue(n,r,this.options))}}_flush(e){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),e(null,null)}transformQuad(e,r){this.opened||this.pushDocumentStart();const n=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(e.subject);if(!n&&(!this.lastGraph||!e.graph.equals(this.lastGraph))){let a=e.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(e.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),a=!1):a?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),e.graph.termType!=="DefaultGraph"&&(a||this.pushId(e.graph,!0,r),this.pushSeparator(this.options.space?gi.SeparatorType.GRAPH_FIELD_NONCOMPACT:gi.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=e.graph}(!this.lastSubject||!e.subject.equals(this.lastSubject))&&(n?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(gi.SeparatorType.ARRAY_END_COMMA),this.lastGraph=e.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(e.subject,!0,r)),this.lastSubject=e.subject),(!this.lastPredicate||!e.predicate.equals(this.lastPredicate))&&(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(e.predicate,r)),this.pushObject(e.object,r)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(gi.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(gi.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?gi.SeparatorType.GRAPH_FIELD_NONCOMPACT:gi.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(gi.SeparatorType.ARRAY_START),this.indentation++)}pushId(e,r,n){if(e.termType==="Quad")this.pushNestedQuad(e,!0,n);else{const a=e.termType==="BlankNode"?"_:"+e.value:n.compactIri(e.value,!1);r?this.pushSeparator(gi.SeparatorType.OBJECT_START):(this.push(gi.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${a}",`:`"@id":"${a}",`)}}pushPredicate(e,r){let n=e.value;!this.options.useRdfType&&n===xD.Util.RDF_TYPE&&(n="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const a=r.compactIri(n,!0);this.pushIndented(this.options.space?`"${a}": [`:`"${a}":[`),this.indentation++,this.lastPredicate=e}pushObject(e,r){if(this.hadObjectForPredicate?this.pushSeparator(gi.SeparatorType.COMMA):this.hadObjectForPredicate=!0,e.termType==="Quad"){const a=this.lastSubject,s=this.lastPredicate;this.hadObjectForPredicate=!1,this.pushNestedQuad(e,!1,r),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=s,this.lastSubject=a;return}let n;try{e["@list"]?n=e:n=xD.Util.termToValue(e,r,this.objectOptions||this.options)}catch(a){return this.emit("error",a)}this.pushIndented(JSON.stringify(n,null,this.options.space))}pushNestedQuad(e,r,n){this.pushSeparator(gi.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),e.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${e.graph.value}`)),this.pushId(e.subject,!1,n),this.pushPredicate(e.predicate,n),this.pushObject(e.object,n),this.endPredicate(!1),this.endSubject(r)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(gi.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(gi.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(gi.SeparatorType.ARRAY_END))}endPredicate(e){this.indentation--,this.pushSeparator(e?gi.SeparatorType.ARRAY_END_COMMA:gi.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(e){this.indentation--,this.pushSeparator(e?gi.SeparatorType.OBJECT_END_COMMA:gi.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(e){this.indentation--,this.pushSeparator(gi.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(e?gi.SeparatorType.OBJECT_END_COMMA:gi.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(e){this.pushIndented(e.label)}pushIndented(e,r=!0){const n=this.getIndentPrefix(),a=e.split(`
`).map(s=>n+s).join(`
`);this.push(a),this.options.space&&r&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}}VO.JsonLdSerializer=j8;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(VO,t),r(xw,t)})(GX);Object.defineProperty(UO,"__esModule",{value:!0});UO.ActorRdfSerializeJsonLd=void 0;const MAe=BO,BAe=GX;class kAe extends MAe.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){const a=new BAe.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let s;return"pipe"in e.quadStream?(e.quadStream.on("error",o=>a.emit("error",o)),s=e.quadStream.pipe(a)):s=a.import(e.quadStream),{data:s}}}UO.ActorRdfSerializeJsonLd=kAe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(UO,t)})(zX);var QX={},qO={},M8={};Object.defineProperty(M8,"__esModule",{value:!0});function $Ae(t,e){return new Promise((r,n)=>{t.on("end",()=>r(e)),t.on("error",n)})}function UAe(t){const e=[];return $Ae(t.on("data",r=>e.push(r)),e)}M8.default=UAe;var zO={},B8={},WX={},GO={};Object.defineProperty(GO,"__esModule",{value:!0});GO.fragment=void 0;function VAe(t){let e=t;(e.endsWith("/")||e.endsWith("#"))&&(e=e.slice(0,e.length-1));const r=[];e.lastIndexOf("/")>0&&r.push(e.lastIndexOf("/")),e.lastIndexOf("#")>0&&r.push(e.lastIndexOf("#"));const n=Math.max(...r);return e.slice(n+1)}function HAe(t){var e;const r=(e=t.split(/[^a-z0-9]+/ig).filter(n=>n!=="").map(n=>n[0].toUpperCase()+n.slice(1)).join("").match(/[a-z][a-z0-9]+/ig))===null||e===void 0?void 0:e[0];return typeof r>"u"?void 0:r[0].toLowerCase()+r.slice(1)}function qAe(t){let e=VAe(t);return e=e?HAe(e):void 0,e||"v"}GO.fragment=qAe;var K4={},QO={},Fh={},uE={},zAe={get exports(){return uE},set exports(t){uE=t}};(function(t,e){var r=typeof self<"u"?self:F,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var u={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(q){return q&&DataView.prototype.isPrototypeOf(q)}if(u.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(q){return q&&c.indexOf(Object.prototype.toString.call(q))>-1};function f(q){if(typeof q!="string"&&(q=String(q)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(q))throw new TypeError("Invalid character in header field name");return q.toLowerCase()}function h(q){return typeof q!="string"&&(q=String(q)),q}function p(q){var H={next:function(){var J=q.shift();return{done:J===void 0,value:J}}};return u.iterable&&(H[Symbol.iterator]=function(){return H}),H}function g(q){this.map={},q instanceof g?q.forEach(function(H,J){this.append(J,H)},this):Array.isArray(q)?q.forEach(function(H){this.append(H[0],H[1])},this):q&&Object.getOwnPropertyNames(q).forEach(function(H){this.append(H,q[H])},this)}g.prototype.append=function(q,H){q=f(q),H=h(H);var J=this.map[q];this.map[q]=J?J+", "+H:H},g.prototype.delete=function(q){delete this.map[f(q)]},g.prototype.get=function(q){return q=f(q),this.has(q)?this.map[q]:null},g.prototype.has=function(q){return this.map.hasOwnProperty(f(q))},g.prototype.set=function(q,H){this.map[f(q)]=h(H)},g.prototype.forEach=function(q,H){for(var J in this.map)this.map.hasOwnProperty(J)&&q.call(H,this.map[J],J,this)},g.prototype.keys=function(){var q=[];return this.forEach(function(H,J){q.push(J)}),p(q)},g.prototype.values=function(){var q=[];return this.forEach(function(H){q.push(H)}),p(q)},g.prototype.entries=function(){var q=[];return this.forEach(function(H,J){q.push([J,H])}),p(q)},u.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(q){if(q.bodyUsed)return Promise.reject(new TypeError("Already read"));q.bodyUsed=!0}function S(q){return new Promise(function(H,J){q.onload=function(){H(q.result)},q.onerror=function(){J(q.error)}})}function v(q){var H=new FileReader,J=S(H);return H.readAsArrayBuffer(q),J}function A(q){var H=new FileReader,J=S(H);return H.readAsText(q),J}function E(q){for(var H=new Uint8Array(q),J=new Array(H.length),se=0;se<H.length;se++)J[se]=String.fromCharCode(H[se]);return J.join("")}function T(q){if(q.slice)return q.slice(0);var H=new Uint8Array(q.byteLength);return H.set(new Uint8Array(q)),H.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(q){this._bodyInit=q,q?typeof q=="string"?this._bodyText=q:u.blob&&Blob.prototype.isPrototypeOf(q)?this._bodyBlob=q:u.formData&&FormData.prototype.isPrototypeOf(q)?this._bodyFormData=q:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)?this._bodyText=q.toString():u.arrayBuffer&&u.blob&&l(q)?(this._bodyArrayBuffer=T(q.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(q)||d(q))?this._bodyArrayBuffer=T(q):this._bodyText=q=Object.prototype.toString.call(q):this._bodyText="",this.headers.get("content-type")||(typeof q=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var q=y(this);if(q)return q;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var q=y(this);if(q)return q;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var I=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(q){var H=q.toUpperCase();return I.indexOf(H)>-1?H:q}function M(q,H){H=H||{};var J=H.body;if(q instanceof M){if(q.bodyUsed)throw new TypeError("Already read");this.url=q.url,this.credentials=q.credentials,H.headers||(this.headers=new g(q.headers)),this.method=q.method,this.mode=q.mode,this.signal=q.signal,!J&&q._bodyInit!=null&&(J=q._bodyInit,q.bodyUsed=!0)}else this.url=String(q);if(this.credentials=H.credentials||this.credentials||"same-origin",(H.headers||!this.headers)&&(this.headers=new g(H.headers)),this.method=D(H.method||this.method||"GET"),this.mode=H.mode||this.mode||null,this.signal=H.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&J)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(J)}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function N(q){var H=new FormData;return q.trim().split("&").forEach(function(J){if(J){var se=J.split("="),ue=se.shift().replace(/\+/g," "),Se=se.join("=").replace(/\+/g," ");H.append(decodeURIComponent(ue),decodeURIComponent(Se))}}),H}function O(q){var H=new g,J=q.replace(/\r?\n[\t ]+/g," ");return J.split(/\r?\n/).forEach(function(se){var ue=se.split(":"),Se=ue.shift().trim();if(Se){var ve=ue.join(":").trim();H.append(Se,ve)}}),H}R.call(M.prototype);function k(q,H){H||(H={}),this.type="default",this.status=H.status===void 0?200:H.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new g(H.headers),this.url=H.url||"",this._initBody(q)}R.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},k.error=function(){var q=new k(null,{status:0,statusText:""});return q.type="error",q};var Y=[301,302,303,307,308];k.redirect=function(q,H){if(Y.indexOf(H)===-1)throw new RangeError("Invalid status code");return new k(null,{status:H,headers:{location:q}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(H,J){this.message=H,this.name=J;var se=Error(H);this.stack=se.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ne(q,H){return new Promise(function(J,se){var ue=new M(q,H);if(ue.signal&&ue.signal.aborted)return se(new o.DOMException("Aborted","AbortError"));var Se=new XMLHttpRequest;function ve(){Se.abort()}Se.onload=function(){var Le={status:Se.status,statusText:Se.statusText,headers:O(Se.getAllResponseHeaders()||"")};Le.url="responseURL"in Se?Se.responseURL:Le.headers.get("X-Request-URL");var Xe="response"in Se?Se.response:Se.responseText;J(new k(Xe,Le))},Se.onerror=function(){se(new TypeError("Network request failed"))},Se.ontimeout=function(){se(new TypeError("Network request failed"))},Se.onabort=function(){se(new o.DOMException("Aborted","AbortError"))},Se.open(ue.method,ue.url,!0),ue.credentials==="include"?Se.withCredentials=!0:ue.credentials==="omit"&&(Se.withCredentials=!1),"responseType"in Se&&u.blob&&(Se.responseType="blob"),ue.headers.forEach(function(Le,Xe){Se.setRequestHeader(Xe,Le)}),ue.signal&&(ue.signal.addEventListener("abort",ve),Se.onreadystatechange=function(){Se.readyState===4&&ue.signal.removeEventListener("abort",ve)}),Se.send(typeof ue._bodyInit>"u"?null:ue._bodyInit)})}return ne.polyfill=!0,s.fetch||(s.fetch=ne,s.Headers=g,s.Request=M,s.Response=k),o.Headers=g,o.Request=M,o.Response=k,o.fetch=ne,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=n;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,t.exports=e})(zAe,uE);var KX=F&&F.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):a(d.value).then(u,l)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.fetchContext=Fh.fetchJson=void 0;const GAe=uE;function XX(t,e){var r;return KX(this,void 0,void 0,function*(){return(yield((r=e==null?void 0:e.fetch)!==null&&r!==void 0?r:GAe.fetch)(t)).json()})}Fh.fetchJson=XX;function QAe(t,e){return KX(this,void 0,void 0,function*(){return(yield XX(t,e))["@context"]})}Fh.fetchContext=QAe;var WAe=F&&F.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):a(d.value).then(u,l)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(QO,"__esModule",{value:!0});QO.lookupUri=void 0;const KAe=Fh;function XAe(t,e){return WAe(this,void 0,void 0,function*(){const r=(yield(0,KAe.fetchContext)(`https://prefix.cc/${t}.file.jsonld`,e))[t];if(typeof r!="string")throw new Error(`Expected uri to be a string, received: ${r} of type ${typeof r}`);return r})}QO.lookupUri=XAe;var WO={},JAe=F&&F.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):a(d.value).then(u,l)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(WO,"__esModule",{value:!0});WO.lookupPrefix=void 0;const YAe=Fh;function ZAe(t,e){return JAe(this,void 0,void 0,function*(){const r=new URL("https://prefix.cc/reverse");r.searchParams.append("uri",t),r.searchParams.append("format","jsonld");const n=Object.keys(yield(0,YAe.fetchContext)(r,e));if(n.length===0)throw new Error("No prefixes returned");return n[0]})}WO.lookupPrefix=ZAe;var KO={},exe=F&&F.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):a(d.value).then(u,l)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(KO,"__esModule",{value:!0});KO.lookupAllPrefixes=void 0;const txe=Fh;function rxe(t){return exe(this,void 0,void 0,function*(){return(0,txe.fetchContext)("https://prefix.cc/context",t)})}KO.lookupAllPrefixes=rxe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(QO,t),r(WO,t),r(KO,t)})(K4);(function(t){var e=F&&F.__awaiter||function(u,l,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function g(v){try{S(d.next(v))}catch(A){p(A)}}function y(v){try{S(d.throw(v))}catch(A){p(A)}}function S(v){v.done?h(v.value):f(v.value).then(g,y)}S((d=d.apply(u,l||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.lookupAllPrefixes=t.prefixToUri=t.uriToPrefix=void 0;const r=GO,n=K4;function a(u,l){return e(this,void 0,void 0,function*(){let c;try{c=yield(0,n.lookupPrefix)(u,l)}catch{l!=null&&l.mintOnUnknown&&(c=(0,r.fragment)(u).slice(0,4))}if(typeof c<"u"&&typeof(l==null?void 0:l.existingPrefixes)=="object"&&c in l.existingPrefixes){let d=0;for(;`${c}${d}`in l.existingPrefixes;)d+=1;c=`${c}${d}`}return c})}t.uriToPrefix=a;function s(u,l){return e(this,void 0,void 0,function*(){try{return yield(0,n.lookupUri)(u,l)}catch{return}})}t.prefixToUri=s;var o=K4;Object.defineProperty(t,"lookupAllPrefixes",{enumerable:!0,get:function(){return o.lookupAllPrefixes}})})(WX);var XO={};Object.defineProperty(XO,"__esModule",{value:!0});XO.getShaclName=void 0;function nxe(t){if(t.termType!=="NamedNode"||!t.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${t.value} is not part of the SHACL namespace`);return t.value.slice(27)}XO.getShaclName=nxe;var k8={};Object.defineProperty(k8,"__esModule",{value:!0});k8.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0};var $8={};Object.defineProperty($8,"__esModule",{value:!0});$8.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};var U8={};Object.defineProperty(U8,"__esModule",{value:!0});U8.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0};var Na=F&&F.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):a(d.value).then(u,l)}c((n=n.apply(t,e||[])).next())})},V8=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(B8,"__esModule",{value:!0});const en=zh,ixe=WX,a2=ow,Fv=XO,axe=V8(k8),sxe=V8($8),JB=V8(U8);function OD(t){var e;return(e=/^[^]*[#/]/.exec(t))===null||e===void 0?void 0:e[0]}const RD={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},ID={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};class oxe{constructor(e,r,n={},a=void 0,s=!0,o=!1,u,l=!1){this.store=e,this.base=a,this.errorOnExtraQuads=s,this.mintUnspecifiedPrefixes=o,this.fetch=u,this.extendedSyntax=l,this.prefixes={},this.prefixRev={};for(const c of Object.keys(n)){const d=n[c],f=typeof d=="string"?d:d.value;!(f in RD)&&!(c in ID)&&(this.prefixRev[f]=c,this.prefixes[c]=f)}this.writer=r}write(){return Na(this,void 0,void 0,function*(){const e=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(e.length===1&&e[0].subject.termType==="NamedNode"){const n=e[0].subject;this.store.removeQuads(e),n.equals(new en.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,a2.termToString)(n)}`),yield this.writeImports(n)}else throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const n=new Set;for(const s of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(s.termType==="NamedNode"){const o=OD(s.value);o&&!(o in this.prefixRev)&&!(o in RD)&&n.add(o)}const a=Object.assign(Object.assign({},this.prefixes),ID);yield Promise.all([...n].map(s=>(0,ixe.uriToPrefix)(s,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:a}).then(o=>{this.prefixes[o]=s,a[o]=s,this.prefixRev[s]=o})))}const r=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(n=>n.termType==="NamedNode").map(n=>OD(n.value)).filter(n=>typeof n=="string"));for(const n in this.prefixRev)r.has(n)||(delete this.prefixes[this.prefixRev[n]],delete this.prefixRev[n]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),ID),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),RD),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const n=this.store.getSubjects(null,null,null);n.length>0&&this.writer.newLine(1);for(const a of n)this.writer.add(yield this.termToString(a,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(a),this.writer.deindent();n.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error("Dataset contains quads that cannot be written in SHACLC");this.writer.end()})}writeImports(e){return Na(this,void 0,void 0,function*(){const r=this.store.getObjectsOnce(e,new en.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(r.length>0)for(const n of r)this.writer.add(`IMPORTS <${n.value}>`,!0)})}writePrefixes(){return Na(this,void 0,void 0,function*(){const e=Object.keys(this.prefixes).filter(r=>!(r in sxe.default)).sort();if(e.length>0)for(const r of e)this.writer.add(`PREFIX ${r}: <${this.prefixes[r]}>`,!0)})}termToString(e,r=!1,n=!1){return Na(this,void 0,void 0,function*(){try{if(r)throw new Error("Shacl name disabled");return(0,Fv.getShaclName)(e)}catch{}if(e.termType==="NamedNode"){const a=OD(e.value);return a&&a in this.prefixRev&&a in this.prefixRev?`${this.prefixRev[a]}:${e.value.slice(a.length)}`:(0,a2.termToString)(e)}if(e.termType==="Literal")return e.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||e.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?e.value:(0,a2.termToString)(e);throw e.termType==="BlankNode"&&n&&(0,a2.termToString)(e),new Error(`Invalid term type for extra statement ${e.value} (${e.termType})`)})}writeShapes(){return Na(this,void 0,void 0,function*(){for(const e of this.store.getSubjectsOnce(new en.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new en.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(e,new en.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new en.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(e)),this.writer.add(" ");const r=this.store.getObjectsOnce(e,new en.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(r.length>0){this.writer.add("-> ");for(const a of r)a.termType==="NamedNode"?this.writer.add(yield this.termToString(a)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(a,new en.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const n=this.store.getPredicates(e,null,null).filter(a=>[new en.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new en.NamedNode("http://www.w3.org/ns/shacl#property"),new en.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(JB.default).map(s=>new en.NamedNode("http://www.w3.org/ns/shacl#"+s))].every(s=>!a.equals(s)));n.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(e,n)),n.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(e,!1)}})}getSingleProperty(e,r){let n=[e];try{let a=(0,Fv.getShaclName)(e.predicate),s="pred";if(a==="not"){const o=this.store.getQuadsOnce(e.object,null,null,null);if(n=n.concat(o),o.length!==1)throw new Error("Can only handle having one predicate of 'not'");[e]=o,a=(0,Fv.getShaclName)(e.predicate),s="not"}if(!(a in r))throw new Error(`${a} is not allowed`);return{name:a,type:s,object:e.object}}catch{this.store.addQuads(n)}}singleLayerPropertiesList(e,r){const n=[];for(const a of this.store.getQuadsOnce(e,null,null,null)){const s=this.getSingleProperty(a,r);s&&n.push(s)}return n}expectOneProperty(e,r){const n=this.store.getQuadsOnce(e,null,null,null);if(n.length===1){const a=this.getSingleProperty(n[0],r);if(a)return a}this.store.addQuads(n)}orProperties(e,r){const n=[];for(const a of this.store.getQuadsOnce(e,new en.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const s=[];for(const o of this.getList(a.object)){const u=this.expectOneProperty(o,r);if(!u)throw this.store.addQuad(a),new Error("Each entry of the 'or' statement must declare exactly one property");s.push(u)}n.push(s)}return n}getList(e){let r=e;const n=[];for(;!r.equals(new en.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)n.push(this.singleObject(r,new en.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),r=this.singleObject(r,new en.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return n}writeIriLiteralOrArray(e){return Na(this,void 0,void 0,function*(){if(e.termType==="BlankNode"){this.writer.add("[");let r=!0;for(const n of this.getList(e))r?r=!1:this.writer.add(" "),this.writer.add(yield this.termToString(n));this.writer.add("]")}else this.writer.add(yield this.termToString(e))})}singleObject(e,r,n){var a;return(a=this.singleQuad(e,r,n))===null||a===void 0?void 0:a.object}singleQuad(e,r,n=!1){const a=this.store.getQuadsOnce(e,r,null,null);if(n&&a.length!==1)throw this.store.addQuads(a),new Error(`The subject and predicate ${e==null?void 0:e.value} ${r==null?void 0:r.value} must have exactly one object. Instead has ${a.length}`);if(a.length>1)throw this.store.addQuads(a),new Error(`The subject and predicate ${e==null?void 0:e.value} ${r==null?void 0:r.value} can have at most one object. Instead has ${a.length}`);return a.length===1?a[0]:void 0}writeAssigment({name:e,type:r,object:n}){return Na(this,void 0,void 0,function*(){r==="not"&&this.writer.add("!"),this.writer.add(e),this.writer.add("="),yield this.writeIriLiteralOrArray(n)})}writeAtom({name:e,type:r,object:n}){return Na(this,void 0,void 0,function*(){switch(r==="not"&&this.writer.add("!"),e){case"node":{if(n.termType==="NamedNode")this.writer.add(`@${yield this.termToString(n)}`);else if(n.termType==="BlankNode")yield this.writeShapeBody(n);else throw new Error("Invalid nested shape, must be blank node or IRI");return}case"nodeKind":{this.writer.add((0,Fv.getShaclName)(n));return}case"class":{this.writer.add(yield this.termToString(n));return}case"datatype":{this.writer.add(yield this.termToString(n));return}default:this.writer.add(e),this.writer.add("="),yield this.writeIriLiteralOrArray(n)}})}writeAssigments(e,r=" ",n=!0,a){return Na(this,void 0,void 0,function*(){for(const s of e)n?n=!1:this.writer.add(r),a?yield this.writeAtom(s):yield this.writeAssigment(s)})}writeParams(e,r=!0,n,a=!1,s=!1){return Na(this,void 0,void 0,function*(){const o=this.orProperties(e,n),u=this.singleLayerPropertiesList(e,n);s&&(o.length>0||u.length>0)&&this.writer.newLine(1);for(const l of o)r?r=!1:this.writer.add(" "),yield this.writeAssigments(l,"|",!0,a);yield this.writeAssigments(u," ",r,a),s&&(o.length>0||u.length>0)&&this.writer.add(" .")})}writeShapeBody(e,r=!0){return Na(this,void 0,void 0,function*(){this.writer.add("{").indent();const n=this.store.getObjectsOnce(e,new en.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(e,!0,JB.default,!1,!0);for(const a of n)this.writer.newLine(1),yield this.writeProperty(a);this.writer.deindent().newLine(1),r?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(e){return Na(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(e,new en.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const r=this.singleObject(e,new en.NamedNode("http://www.w3.org/ns/shacl#minCount")),n=this.singleObject(e,new en.NamedNode("http://www.w3.org/ns/shacl#maxCount")),a=this.singleObject(e,new en.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),s=this.singleObject(e,new en.NamedNode("http://www.w3.org/ns/shacl#class")),o=this.singleObject(e,new en.NamedNode("http://www.w3.org/ns/shacl#datatype")),u=this.store.getObjectsOnce(e,new en.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(a&&(this.writer.add(" "),this.writer.add((0,Fv.getShaclName)(a))),s&&(this.writer.add(" "),this.writer.add(yield this.termToString(s))),o&&(this.writer.add(" "),this.writer.add(yield this.termToString(o))),r!==void 0||n!==void 0){if(this.writer.add(" ["),r){if(r.termType!=="Literal"||r.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(r.value)}else this.writer.add("0");if(this.writer.add(".."),n){if(n.termType!=="Literal"||n.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(e,new en.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(n.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(e,!1,axe.default,!0);const l=[];for(const c of u)if(c.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(c)}`);else if(c.termType==="BlankNode")l.push(c);else throw new Error("Invalid nested shape, must be blank node or IRI");for(const c of l)this.writer.add(" "),yield this.writeShapeBody(c);this.extendedSyntax&&this.store.getQuads(e,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(e),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),l.length===0&&this.writer.add(" .")})}writeTurtlePredicates(e){return Na(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(e,this.store.getPredicates(e,null,null))})}writeGivenTurtlePredicates(e,r){return Na(this,void 0,void 0,function*(){let n=!1;if(r.some(a=>a.equals(en.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const a=this.store.getObjectsOnce(e,en.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);a.length>0&&(n=!0,this.writer.add("a "),yield this.writeTurtleObjects(a))}for(const a of r)a.equals(en.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(n?(this.writer.add(" ;"),this.writer.newLine(1)):n=!0,this.writer.add(yield this.termToString(a,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(e,a,null)))})}writeTurtleObjects(e){return Na(this,void 0,void 0,function*(){const r=[],n=[];for(const s of e)s.termType==="BlankNode"&&[...this.store.match(null,null,s),...this.store.match(null,s,null)].length===0?r.push(s):n.push(s);this.writer.add((yield Promise.all(n.map(s=>this.termToString(s,!0,!0)))).join(", "));let a=n.length>0;if(r.length>0)for(const s of r)a?this.writer.add(", "):a=!0,(yield this.writeList(s))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(s),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(e){return Na(this,void 0,void 0,function*(){let r=e;const n=[],a=[];for(;!r.equals(en.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const o=this.store.getQuadsOnce(r,en.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),u=this.store.getQuadsOnce(r,en.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(a.push(...o,...u),o.length!==1||u.length!==1||this.store.getQuads(r,null,null,null).length!==0)return this.store.addQuads(a),!1;n.push(o[0].object),r=u[0].object}let s=!1;this.writer.add("(");for(const o of n)s?this.writer.add(" "):s=!0,yield this.writeTurtleObjects([o]);return this.writer.add(")"),!0})}writePath(e,r=!1){return Na(this,void 0,void 0,function*(){if(e.termType==="NamedNode")this.writer.add(yield this.termToString(e));else if(e.termType==="BlankNode"){const n=this.store.getQuadsOnce(e,null,null,null);if(n.length===1){const{predicate:a,object:s}=n[0];switch(a.value){case"http://www.w3.org/ns/shacl#inversePath":this.writer.add("^"),yield this.writePath(s,!0);return;case"http://www.w3.org/ns/shacl#alternativePath":{const o=this.getList(s);if(o.length===0)throw new Error("Invalid Alternative Path - no options");if(o.length===1)yield this.writePath(o[0]);else{r&&this.writer.add("(");let u=!0;for(const l of o)u?u=!1:this.writer.add("|"),yield this.writePath(l,!0);r&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":yield this.writePath(s,!0),this.writer.add("*");return;case"http://www.w3.org/ns/shacl#oneOrMorePath":yield this.writePath(s,!0),this.writer.add("+");return;case"http://www.w3.org/ns/shacl#zeroOrOnePath":yield this.writePath(s,!0),this.writer.add("?");return;default:throw new Error(`Invalid path type ${e.value}`)}}else{this.store.addQuads(n);const a=this.getList(e);if(a.length===0)throw new Error("Invalid Path");{r&&this.writer.add("(");let s=!0;for(const o of a)s?s=!1:this.writer.add("/"),yield this.writePath(o,!0);r&&this.writer.add(")")}}}else throw new Error("Path should be named node or blank node")})}}B8.default=oxe;var H8={};Object.defineProperty(H8,"__esModule",{value:!0});class uxe{constructor(e){this.indents=0,this.write=e.write,this.end=e.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(e,r=!1){return this.write(r?`
${"	".repeat(this.indents)}${e}`:e,"utf-8"),this}newLine(e=2){return this.write(`
`.repeat(e)+"	".repeat(this.indents),"utf-8"),this}}H8.default=uxe;var q8={};Object.defineProperty(q8,"__esModule",{value:!0});const lxe=zh;class cxe extends lxe.Store{getQuadsOnce(e,r,n,a){const s=this.getQuads(e,r,n,a);return this.removeQuads(s),s}getSubjectsOnce(e,r,n){return this.getQuadsOnce(null,e,r,n).map(a=>a.subject)}getObjectsOnce(e,r,n){return this.getQuadsOnce(e,r,null,n).map(a=>a.object)}}q8.default=cxe;var YB=F&&F.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):a(d.value).then(u,l)}c((n=n.apply(t,e||[])).next())})},z8=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zO,"__esModule",{value:!0});zO.write=void 0;const dxe=zh,fxe=z8(B8),hxe=z8(H8),pxe=z8(q8);function gxe(t,e){return YB(this,void 0,void 0,function*(){return new Promise((r,n)=>YB(this,void 0,void 0,function*(){try{let a="";const s=new pxe.default(t),o=s.getGraphs(null,null,null);if(o.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(o.length===1&&!o[0].equals(dxe.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${o[0].value}`);const u=new hxe.default({write:c=>{a+=c},end:()=>{let c=s.getQuads(null,null,null,null);c.length===0&&(c=void 0),r({text:a,extraQuads:c})}});yield new fxe.default(s,u,e==null?void 0:e.prefixes,void 0,(e==null?void 0:e.errorOnUnused)!==!1,e==null?void 0:e.mintPrefixes,e==null?void 0:e.fetch,e==null?void 0:e.extendedSyntax).write()}catch(a){n(a)}}))})}zO.write=gxe;Object.defineProperty(qO,"__esModule",{value:!0});qO.ActorRdfSerializeShaclc=void 0;const yxe=BO,mxe=M8,vxe=zr,bxe=zO;class _xe extends yxe.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){const a=new vxe.Readable;a._read=()=>{};try{const s={};e.quadStream.on("prefix",(u,l)=>{s[u]=l});const{text:o}=await(0,bxe.write)(await(0,mxe.default)(e.quadStream),{errorOnUnused:!0,extendedSyntax:r==="text/shaclc-ext",prefixes:s});a.push(o),a.push(null)}catch(s){a._read=()=>{a.emit("error",s)}}return{data:a,triples:!0}}}qO.ActorRdfSerializeShaclc=_xe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(qO,t)})(QX);var JX={},JO={},Vm={},Ow={};Object.defineProperty(Ow,"__esModule",{value:!0});Ow.ActorRdfUpdateQuads=void 0;const wxe=Ut;class Sxe extends wxe.Actor{constructor(e){super(e)}}Ow.ActorRdfUpdateQuads=Sxe;var Th={},G8={},YO={},Rw={};Object.defineProperty(Rw,"__esModule",{value:!0});Rw.FederatedQuadSource=void 0;const Txe=tr,Exe=q0,s2=cn,Axe=cA,PD=So,ZB=Gr,xxe=lr,ek=Oa,Oxe=Cr,tk=new xxe.DataFactory;class Wi{constructor(e,r,n,a,s){if(this.mediatorResolveQuadPattern=e,this.mediatorRdfMetadataAccumulate=r,this.sources=n.get(s2.KeysRdfResolveQuadPattern.sources),this.contextDefault=n.delete(s2.KeysRdfResolveQuadPattern.sources),this.emptyPatterns=a,this.sourceIds=n.get(s2.KeysRdfResolveQuadPattern.sourceIds)??new Map,this.skipEmptyPatterns=s,this.algebraFactory=new Oxe.Factory,this.skipEmptyPatterns)for(const o of this.sources)this.emptyPatterns.has(o)||this.emptyPatterns.set(o,[])}static isTermBound(e){return e.termType!=="Variable"}static isSubPatternOf(e,r){return(!Wi.isTermBound(r.subject)||r.subject.equals(e.subject))&&(!Wi.isTermBound(r.predicate)||r.predicate.equals(e.predicate))&&(!Wi.isTermBound(r.object)||r.object.equals(e.object))&&(!Wi.isTermBound(r.graph)||r.graph.equals(e.graph))}static skolemizeTerm(e,r){return e.termType==="BlankNode"?new Axe.BlankNodeScoped(`bc_${r}_${e.value}`,tk.namedNode(`${Wi.SKOLEM_PREFIX}${r}:${e.value}`)):e}static skolemizeQuad(e,r){return(0,ek.mapTermsNested)(e,n=>Wi.skolemizeTerm(n,r))}static deskolemizeTerm(e,r){if(e.termType==="BlankNode"&&"skolemized"in e&&(e=e.skolemized),e.termType==="NamedNode"&&e.value.startsWith(Wi.SKOLEM_PREFIX)){const n=e.value.indexOf(":",Wi.SKOLEM_PREFIX.length);if(e.value.slice(Wi.SKOLEM_PREFIX.length,n)===r){const s=e.value.slice(n+1,e.value.length);return tk.blankNode(s)}return null}return e}static deskolemizeQuad(e,r){return(0,ek.mapTermsNested)(e,n=>{const a=Wi.deskolemizeTerm(n,r);return a||n})}isSourceEmpty(e,r){if(!this.skipEmptyPatterns)return!1;const n=this.emptyPatterns.get(e);if(n){for(const a of n)if(Wi.isSubPatternOf(r,a))return!0}return!1}getSourceId(e){let r=this.sourceIds.get(e);return r===void 0&&(r=`${this.sourceIds.size}`,this.sourceIds.set(e,r)),r}match(e,r,n,a){const s=async()=>{if(o.size===this.sources.length){let c=(await this.mediatorRdfMetadataAccumulate.mediate({mode:"initialize",context:this.contextDefault})).metadata;for(const f of o.values())c={...f,...(await this.mediatorRdfMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:c,appendingMetadata:f,context:this.contextDefault})).metadata};c.state=new PD.MetadataValidationState;const d=l.getProperty("metadata");l.setProperty("metadata",c),d==null||d.state.invalidate()}},o=new Map,u=Promise.all(this.sources.map(async(c,d)=>{const f=this.getSourceId(c),h=Wi.deskolemizeTerm(e,f),p=Wi.deskolemizeTerm(r,f),g=Wi.deskolemizeTerm(n,f),y=Wi.deskolemizeTerm(a,f);let S,v=(0,Exe.getDataSourceContext)(c,this.contextDefault);v=v.set(s2.KeysRdfResolveQuadPattern.source,c);let A;!h||!p||!g||!y||this.isSourceEmpty(c,S=this.algebraFactory.createPattern(h,p,g,y))?(A={data:new ZB.ArrayIterator([],{autoStart:!1})},A.data.setProperty("metadata",{state:new PD.MetadataValidationState,...(await this.mediatorRdfMetadataAccumulate.mediate({mode:"initialize",context:this.contextDefault})).metadata})):A=await this.mediatorResolveQuadPattern.mediate({pattern:S,context:v});const E=()=>{A.data.getProperty("metadata",R=>{var I,D;o.set(`${d}`,R),this.skipEmptyPatterns&&!((I=R.cardinality)!=null&&I.value)&&S&&!this.isSourceEmpty(c,S)&&this.emptyPatterns.get(c).push(S),s().catch(M=>l.emit("error",M)),(D=R.state)==null||D.addInvalidateListener(()=>{o.delete(`${d}`),E()})})};E();const T=A.data.map(R=>Wi.skolemizeQuad(R,f));return T.on("error",R=>l.emit("error",R)),T}));u.catch(c=>l.emit("error",c));const l=new Txe.ClosableTransformIterator(async()=>new ZB.UnionIterator(await u),{autoStart:!1,onClose(){u.then(c=>{for(const d of c)d.destroy()},()=>{})}});return this.sources.length===0&&this.mediatorRdfMetadataAccumulate.mediate({mode:"initialize",context:this.contextDefault}).then(c=>l.setProperty("metadata",{state:new PD.MetadataValidationState,...c.metadata})).catch(c=>l.emit("error",c)),l}}Rw.FederatedQuadSource=Wi;Wi.SKOLEM_PREFIX="urn:comunica_skolem:source_";Object.defineProperty(YO,"__esModule",{value:!0});YO.ActorRdfResolveQuadPatternFederated=void 0;const rk=q0,Rxe=Rw;class Ixe extends rk.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.emptyPatterns=new Map,e.mediatorRdfMetadataAccumulate||(this.mediatorRdfMetadataAccumulate={async mediate(r){if(r.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0},canContainUndefs:!1}};const n={...r.accumulatedMetadata},a=r.appendingMetadata;return!a.cardinality||!Number.isFinite(a.cardinality.value)?(n.cardinality.type="estimate",n.cardinality.value=Number.POSITIVE_INFINITY):(a.cardinality.type==="estimate"&&(n.cardinality.type="estimate"),n.cardinality.value+=a.cardinality.value),(n.requestTime||a.requestTime)&&(n.requestTime=n.requestTime||0,a.requestTime=a.requestTime||0,n.requestTime+=a.requestTime),(n.pageSize||a.pageSize)&&(n.pageSize=n.pageSize||0,a.pageSize=a.pageSize||0,n.pageSize+=a.pageSize),a.canContainUndefs&&(n.canContainUndefs=!0),{metadata:n}}})}async test(e){if(!(0,rk.getContextSources)(e.context))throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a sources array.`);return!0}async getSource(e){return new Rxe.FederatedQuadSource(this.mediatorResolveQuadPattern,this.mediatorRdfMetadataAccumulate,e,this.emptyPatterns,this.skipEmptyPatterns)}}YO.ActorRdfResolveQuadPatternFederated=Ixe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(YO,t),r(Rw,t)})(G8);Object.defineProperty(Th,"__esModule",{value:!0});Th.ActorRdfUpdateQuadsDestination=Th.deskolemize=Th.deskolemizeStream=void 0;const Pxe=G8,nk=cn,Cxe=Ow;function X4(t,e){return t==null?void 0:t.map(r=>Pxe.FederatedQuadSource.deskolemizeQuad(r,e))}Th.deskolemizeStream=X4;function YX(t){var n;const e=t.context.get(nk.KeysRdfUpdateQuads.destination),r=(n=t.context.get(nk.KeysRdfResolveQuadPattern.sourceIds))==null?void 0:n.get(e);return r?{...t,quadStreamInsert:X4(t.quadStreamInsert,r),quadStreamDelete:X4(t.quadStreamDelete,r)}:t}Th.deskolemize=YX;class Dxe extends Cxe.ActorRdfUpdateQuads{async test(e){return!0}async run(e){const r=await this.getDestination(e.context);return await this.getOutput(r,YX(e),e.context)}async getOutput(e,r,n){return{execute:()=>Promise.all([r.quadStreamInsert?e.insert(r.quadStreamInsert):Promise.resolve(),r.quadStreamDelete?e.delete(r.quadStreamDelete):Promise.resolve(),r.deleteGraphs?e.deleteGraphs(r.deleteGraphs.graphs,r.deleteGraphs.requireExistence,r.deleteGraphs.dropGraphs):Promise.resolve(),r.createGraphs?e.createGraphs(r.createGraphs.graphs,r.createGraphs.requireNonExistence):Promise.resolve()]).then(()=>{})}}}Th.ActorRdfUpdateQuadsDestination=Dxe;var ZO={},td={},eR={},Iw={},lE={},Nxe={get exports(){return lE},set exports(t){lE=t}},ZX=Cl.EventEmitter;const Fxe={},Lxe=Object.freeze(Object.defineProperty({__proto__:null,default:Fxe},Symbol.toStringTag,{value:"Module"})),eJ=h1(Lxe);var CD,ik;function jxe(){if(ik)return CD;ik=1;function t(g,y){var S=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);y&&(v=v.filter(function(A){return Object.getOwnPropertyDescriptor(g,A).enumerable})),S.push.apply(S,v)}return S}function e(g){for(var y=1;y<arguments.length;y++){var S=arguments[y]!=null?arguments[y]:{};y%2?t(Object(S),!0).forEach(function(v){r(g,v,S[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(S)):t(Object(S)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(S,v))})}return g}function r(g,y,S){return y=o(y),y in g?Object.defineProperty(g,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):g[y]=S,g}function n(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function a(g,y){for(var S=0;S<y.length;S++){var v=y[S];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,o(v.key),v)}}function s(g,y,S){return y&&a(g.prototype,y),S&&a(g,S),Object.defineProperty(g,"prototype",{writable:!1}),g}function o(g){var y=u(g,"string");return typeof y=="symbol"?y:String(y)}function u(g,y){if(typeof g!="object"||g===null)return g;var S=g[Symbol.toPrimitive];if(S!==void 0){var v=S.call(g,y||"default");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(g)}var l=ru,c=l.Buffer,d=eJ,f=d.inspect,h=f&&f.custom||"inspect";function p(g,y,S){c.prototype.copy.call(g,y,S)}return CD=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return s(g,[{key:"push",value:function(S){var v={data:S,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(S){var v={data:S,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var v=this.head,A=""+v.data;v=v.next;)A+=S+v.data;return A}},{key:"concat",value:function(S){if(this.length===0)return c.alloc(0);for(var v=c.allocUnsafe(S>>>0),A=this.head,E=0;A;)p(A.data,v,E),E+=A.data.length,A=A.next;return v}},{key:"consume",value:function(S,v){var A;return S<this.head.data.length?(A=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):S===this.head.data.length?A=this.shift():A=v?this._getString(S):this._getBuffer(S),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var v=this.head,A=1,E=v.data;for(S-=E.length;v=v.next;){var T=v.data,R=S>T.length?T.length:S;if(R===T.length?E+=T:E+=T.slice(0,S),S-=R,S===0){R===T.length?(++A,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=T.slice(R));break}++A}return this.length-=A,E}},{key:"_getBuffer",value:function(S){var v=c.allocUnsafe(S),A=this.head,E=1;for(A.data.copy(v),S-=A.data.length;A=A.next;){var T=A.data,R=S>T.length?T.length:S;if(T.copy(v,v.length-S,0,R),S-=R,S===0){R===T.length?(++E,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=T.slice(R));break}++E}return this.length-=E,v}},{key:h,value:function(S,v){return f(this,e(e({},v),{},{depth:0,customInspect:!1}))}}]),g}(),CD}function Mxe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(J4,this,t)):process.nextTick(J4,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(rT,r):(r._writableState.errorEmitted=!0,process.nextTick(ak,r,s)):process.nextTick(ak,r,s):e?(process.nextTick(rT,r),e(s)):process.nextTick(rT,r)}),this)}function ak(t,e){J4(t,e),rT(t)}function rT(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Bxe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function J4(t,e){t.emit("error",e)}function kxe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var tJ={destroy:Mxe,undestroy:Bxe,errorOrDestroy:kxe},z0={};function $xe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var rJ={};function Du(t,e,r){r||(r=Error);function n(s,o,u){return typeof e=="string"?e:e(s,o,u)}var a=function(s){$xe(o,s);function o(u,l,c){return s.call(this,n(u,l,c))||this}return o}(r);a.prototype.name=r.name,a.prototype.code=t,rJ[t]=a}function sk(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Uxe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Vxe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Hxe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Du("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Du("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Uxe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(Vxe(t," argument"))a="The ".concat(t," ").concat(n," ").concat(sk(e,"type"));else{var s=Hxe(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(sk(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);Du("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Du("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Du("ERR_STREAM_PREMATURE_CLOSE","Premature close");Du("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Du("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Du("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Du("ERR_STREAM_WRITE_AFTER_END","write after end");Du("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Du("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Du("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");z0.codes=rJ;var qxe=z0.codes.ERR_INVALID_OPT_VALUE;function zxe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Gxe(t,e,r,n){var a=zxe(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var s=n?r:"highWaterMark";throw new qxe(s,a)}return Math.floor(a)}return t.objectMode?16:16*1024}var nJ={getHighWaterMark:Gxe},Qxe=Wxe;function Wxe(t,e){if(DD("noDeprecation"))return t;var r=!1;function n(){if(!r){if(DD("throwDeprecation"))throw new Error(e);DD("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function DD(t){try{if(!F.localStorage)return!1}catch{return!1}var e=F.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var ND,ok;function iJ(){if(ok)return ND;ok=1,ND=M;function t(Te){var Oe=this;this.next=null,this.entry=null,this.finish=function(){qe(Oe,Te)}}var e;M.WritableState=I;var r={deprecate:Qxe},n=ZX,a=ru.Buffer,s=(typeof F<"u"?F:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(Te){return a.from(Te)}function u(Te){return a.isBuffer(Te)||Te instanceof s}var l=tJ,c=nJ,d=c.getHighWaterMark,f=z0.codes,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_STREAM_CANNOT_PIPE,S=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,A=f.ERR_STREAM_WRITE_AFTER_END,E=f.ERR_UNKNOWN_ENCODING,T=l.errorOrDestroy;Dh(M,n);function R(){}function I(Te,Oe,Be){e=e||sm(),Te=Te||{},typeof Be!="boolean"&&(Be=Oe instanceof e),this.objectMode=!!Te.objectMode,Be&&(this.objectMode=this.objectMode||!!Te.writableObjectMode),this.highWaterMark=d(this,Te,"writableHighWaterMark",Be),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var He=Te.decodeStrings===!1;this.decodeStrings=!He,this.defaultEncoding=Te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ee){J(Oe,ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Te.emitClose!==!1,this.autoDestroy=!!Te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}I.prototype.getBuffer=function(){for(var Oe=this.bufferedRequest,Be=[];Oe;)Be.push(Oe),Oe=Oe.next;return Be},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(Oe){return D.call(this,Oe)?!0:this!==M?!1:Oe&&Oe._writableState instanceof I}})):D=function(Oe){return Oe instanceof this};function M(Te){e=e||sm();var Oe=this instanceof e;if(!Oe&&!D.call(M,this))return new M(Te);this._writableState=new I(Te,this,Oe),this.writable=!0,Te&&(typeof Te.write=="function"&&(this._write=Te.write),typeof Te.writev=="function"&&(this._writev=Te.writev),typeof Te.destroy=="function"&&(this._destroy=Te.destroy),typeof Te.final=="function"&&(this._final=Te.final)),n.call(this)}M.prototype.pipe=function(){T(this,new y)};function N(Te,Oe){var Be=new A;T(Te,Be),process.nextTick(Oe,Be)}function O(Te,Oe,Be,He){var ee;return Be===null?ee=new v:typeof Be!="string"&&!Oe.objectMode&&(ee=new h("chunk",["string","Buffer"],Be)),ee?(T(Te,ee),process.nextTick(He,ee),!1):!0}M.prototype.write=function(Te,Oe,Be){var He=this._writableState,ee=!1,j=!He.objectMode&&u(Te);return j&&!a.isBuffer(Te)&&(Te=o(Te)),typeof Oe=="function"&&(Be=Oe,Oe=null),j?Oe="buffer":Oe||(Oe=He.defaultEncoding),typeof Be!="function"&&(Be=R),He.ending?N(this,Be):(j||O(this,He,Te,Be))&&(He.pendingcb++,ee=Y(this,He,j,Te,Oe,Be)),ee},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var Te=this._writableState;Te.corked&&(Te.corked--,!Te.writing&&!Te.corked&&!Te.bufferProcessing&&Te.bufferedRequest&&Se(this,Te))},M.prototype.setDefaultEncoding=function(Oe){if(typeof Oe=="string"&&(Oe=Oe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Oe+"").toLowerCase())>-1))throw new E(Oe);return this._writableState.defaultEncoding=Oe,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function k(Te,Oe,Be){return!Te.objectMode&&Te.decodeStrings!==!1&&typeof Oe=="string"&&(Oe=a.from(Oe,Be)),Oe}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Y(Te,Oe,Be,He,ee,j){if(!Be){var b=k(Oe,He,ee);He!==b&&(Be=!0,ee="buffer",He=b)}var m=Oe.objectMode?1:He.length;Oe.length+=m;var C=Oe.length<Oe.highWaterMark;if(C||(Oe.needDrain=!0),Oe.writing||Oe.corked){var B=Oe.lastBufferedRequest;Oe.lastBufferedRequest={chunk:He,encoding:ee,isBuf:Be,callback:j,next:null},B?B.next=Oe.lastBufferedRequest:Oe.bufferedRequest=Oe.lastBufferedRequest,Oe.bufferedRequestCount+=1}else ne(Te,Oe,!1,m,He,ee,j);return C}function ne(Te,Oe,Be,He,ee,j,b){Oe.writelen=He,Oe.writecb=b,Oe.writing=!0,Oe.sync=!0,Oe.destroyed?Oe.onwrite(new S("write")):Be?Te._writev(ee,Oe.onwrite):Te._write(ee,j,Oe.onwrite),Oe.sync=!1}function q(Te,Oe,Be,He,ee){--Oe.pendingcb,Be?(process.nextTick(ee,He),process.nextTick(Ne,Te,Oe),Te._writableState.errorEmitted=!0,T(Te,He)):(ee(He),Te._writableState.errorEmitted=!0,T(Te,He),Ne(Te,Oe))}function H(Te){Te.writing=!1,Te.writecb=null,Te.length-=Te.writelen,Te.writelen=0}function J(Te,Oe){var Be=Te._writableState,He=Be.sync,ee=Be.writecb;if(typeof ee!="function")throw new g;if(H(Be),Oe)q(Te,Be,He,Oe,ee);else{var j=ve(Be)||Te.destroyed;!j&&!Be.corked&&!Be.bufferProcessing&&Be.bufferedRequest&&Se(Te,Be),He?process.nextTick(se,Te,Be,j,ee):se(Te,Be,j,ee)}}function se(Te,Oe,Be,He){Be||ue(Te,Oe),Oe.pendingcb--,He(),Ne(Te,Oe)}function ue(Te,Oe){Oe.length===0&&Oe.needDrain&&(Oe.needDrain=!1,Te.emit("drain"))}function Se(Te,Oe){Oe.bufferProcessing=!0;var Be=Oe.bufferedRequest;if(Te._writev&&Be&&Be.next){var He=Oe.bufferedRequestCount,ee=new Array(He),j=Oe.corkedRequestsFree;j.entry=Be;for(var b=0,m=!0;Be;)ee[b]=Be,Be.isBuf||(m=!1),Be=Be.next,b+=1;ee.allBuffers=m,ne(Te,Oe,!0,Oe.length,ee,"",j.finish),Oe.pendingcb++,Oe.lastBufferedRequest=null,j.next?(Oe.corkedRequestsFree=j.next,j.next=null):Oe.corkedRequestsFree=new t(Oe),Oe.bufferedRequestCount=0}else{for(;Be;){var C=Be.chunk,B=Be.encoding,z=Be.callback,Q=Oe.objectMode?1:C.length;if(ne(Te,Oe,!1,Q,C,B,z),Be=Be.next,Oe.bufferedRequestCount--,Oe.writing)break}Be===null&&(Oe.lastBufferedRequest=null)}Oe.bufferedRequest=Be,Oe.bufferProcessing=!1}M.prototype._write=function(Te,Oe,Be){Be(new p("_write()"))},M.prototype._writev=null,M.prototype.end=function(Te,Oe,Be){var He=this._writableState;return typeof Te=="function"?(Be=Te,Te=null,Oe=null):typeof Oe=="function"&&(Be=Oe,Oe=null),Te!=null&&this.write(Te,Oe),He.corked&&(He.corked=1,this.uncork()),He.ending||ye(this,He,Be),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ve(Te){return Te.ending&&Te.length===0&&Te.bufferedRequest===null&&!Te.finished&&!Te.writing}function Le(Te,Oe){Te._final(function(Be){Oe.pendingcb--,Be&&T(Te,Be),Oe.prefinished=!0,Te.emit("prefinish"),Ne(Te,Oe)})}function Xe(Te,Oe){!Oe.prefinished&&!Oe.finalCalled&&(typeof Te._final=="function"&&!Oe.destroyed?(Oe.pendingcb++,Oe.finalCalled=!0,process.nextTick(Le,Te,Oe)):(Oe.prefinished=!0,Te.emit("prefinish")))}function Ne(Te,Oe){var Be=ve(Oe);if(Be&&(Xe(Te,Oe),Oe.pendingcb===0&&(Oe.finished=!0,Te.emit("finish"),Oe.autoDestroy))){var He=Te._readableState;(!He||He.autoDestroy&&He.endEmitted)&&Te.destroy()}return Be}function ye(Te,Oe,Be){Oe.ending=!0,Ne(Te,Oe),Be&&(Oe.finished?process.nextTick(Be):Te.once("finish",Be)),Oe.ended=!0,Te.writable=!1}function qe(Te,Oe,Be){var He=Te.entry;for(Te.entry=null;He;){var ee=He.callback;Oe.pendingcb--,ee(Be),He=He.next}Oe.corkedRequestsFree.next=Te}return Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Oe){this._writableState&&(this._writableState.destroyed=Oe)}}),M.prototype.destroy=l.destroy,M.prototype._undestroy=l.undestroy,M.prototype._destroy=function(Te,Oe){Oe(Te)},ND}var FD,uk;function sm(){if(uk)return FD;uk=1;var t=Object.keys||function(c){var d=[];for(var f in c)d.push(f);return d};FD=o;var e=sJ(),r=iJ();Dh(o,e);for(var n=t(r.prototype),a=0;a<n.length;a++){var s=n[a];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(c){if(!(this instanceof o))return new o(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||process.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),FD}var lk=z0.codes.ERR_STREAM_PREMATURE_CLOSE;function Kxe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function Xxe(){}function Jxe(t){return t.setHeader&&typeof t.abort=="function"}function aJ(t,e,r){if(typeof e=="function")return aJ(t,null,e);e||(e={}),r=Kxe(r||Xxe);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||u()},o=t._writableState&&t._writableState.finished,u=function(){a=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,l=!0,a||r.call(t)},d=function(g){r.call(t,g)},f=function(){var g;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(g=new lk),r.call(t,g);if(a&&!o)return(!t._writableState||!t._writableState.ended)&&(g=new lk),r.call(t,g)},h=function(){t.req.on("finish",u)};return Jxe(t)?(t.on("complete",u),t.on("abort",f),t.req?h():t.on("request",h)):a&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",u),e.error!==!1&&t.on("error",d),t.on("close",f),function(){t.removeListener("complete",u),t.removeListener("abort",f),t.removeListener("request",h),t.req&&t.req.removeListener("finish",u),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("end",c),t.removeListener("error",d),t.removeListener("close",f)}}var Q8=aJ,LD,ck;function Yxe(){if(ck)return LD;ck=1;var t;function e(E,T,R){return T=r(T),T in E?Object.defineProperty(E,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[T]=R,E}function r(E){var T=n(E,"string");return typeof T=="symbol"?T:String(T)}function n(E,T){if(typeof E!="object"||E===null)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var I=R.call(E,T||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(E)}var a=Q8,s=Symbol("lastResolve"),o=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(E,T){return{value:E,done:T}}function p(E){var T=E[s];if(T!==null){var R=E[f].read();R!==null&&(E[c]=null,E[s]=null,E[o]=null,T(h(R,!1)))}}function g(E){process.nextTick(p,E)}function y(E,T){return function(R,I){E.then(function(){if(T[l]){R(h(void 0,!0));return}T[d](R,I)},I)}}var S=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var T=this,R=this[u];if(R!==null)return Promise.reject(R);if(this[l])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(N,O){process.nextTick(function(){T[u]?O(T[u]):N(h(void 0,!0))})});var I=this[c],D;if(I)D=new Promise(y(I,this));else{var M=this[f].read();if(M!==null)return Promise.resolve(h(M,!1));D=new Promise(this[d])}return this[c]=D,D}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var T=this;return new Promise(function(R,I){T[f].destroy(null,function(D){if(D){I(D);return}R(h(void 0,!0))})})}),t),S),A=function(T){var R,I=Object.create(v,(R={},e(R,f,{value:T,writable:!0}),e(R,s,{value:null,writable:!0}),e(R,o,{value:null,writable:!0}),e(R,u,{value:null,writable:!0}),e(R,l,{value:T._readableState.endEmitted,writable:!0}),e(R,d,{value:function(M,N){var O=I[f].read();O?(I[c]=null,I[s]=null,I[o]=null,M(h(O,!1))):(I[s]=M,I[o]=N)},writable:!0}),R));return I[c]=null,a(T,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=I[o];M!==null&&(I[c]=null,I[s]=null,I[o]=null,M(D)),I[u]=D;return}var N=I[s];N!==null&&(I[c]=null,I[s]=null,I[o]=null,N(h(void 0,!0))),I[l]=!0}),T.on("readable",g.bind(null,I)),I};return LD=A,LD}var jD,dk;function Zxe(){return dk||(dk=1,jD=function(){throw new Error("Readable.from is not available in the browser")}),jD}var MD,fk;function sJ(){if(fk)return MD;fk=1,MD=N;var t;N.ReadableState=M,Cl.EventEmitter;var e=function(b,m){return b.listeners(m).length},r=ZX,n=ru.Buffer,a=(typeof F<"u"?F:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(j){return n.from(j)}function o(j){return n.isBuffer(j)||j instanceof a}var u=eJ,l;u&&u.debuglog?l=u.debuglog("stream"):l=function(){};var c=jxe(),d=tJ,f=nJ,h=f.getHighWaterMark,p=z0.codes,g=p.ERR_INVALID_ARG_TYPE,y=p.ERR_STREAM_PUSH_AFTER_EOF,S=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,A,E,T;Dh(N,r);var R=d.errorOrDestroy,I=["error","close","destroy","pause","resume"];function D(j,b,m){if(typeof j.prependListener=="function")return j.prependListener(b,m);!j._events||!j._events[b]?j.on(b,m):Array.isArray(j._events[b])?j._events[b].unshift(m):j._events[b]=[m,j._events[b]]}function M(j,b,m){t=t||sm(),j=j||{},typeof m!="boolean"&&(m=b instanceof t),this.objectMode=!!j.objectMode,m&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=h(this,j,"readableHighWaterMark",m),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(A||(A=LT.StringDecoder),this.decoder=new A(j.encoding),this.encoding=j.encoding)}function N(j){if(t=t||sm(),!(this instanceof N))return new N(j);var b=this instanceof t;this._readableState=new M(j,this,b),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),r.call(this)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(b){this._readableState&&(this._readableState.destroyed=b)}}),N.prototype.destroy=d.destroy,N.prototype._undestroy=d.undestroy,N.prototype._destroy=function(j,b){b(j)},N.prototype.push=function(j,b){var m=this._readableState,C;return m.objectMode?C=!0:typeof j=="string"&&(b=b||m.defaultEncoding,b!==m.encoding&&(j=n.from(j,b),b=""),C=!0),O(this,j,b,!1,C)},N.prototype.unshift=function(j){return O(this,j,null,!0,!1)};function O(j,b,m,C,B){l("readableAddChunk",b);var z=j._readableState;if(b===null)z.reading=!1,J(j,z);else{var Q;if(B||(Q=Y(z,b)),Q)R(j,Q);else if(z.objectMode||b&&b.length>0)if(typeof b!="string"&&!z.objectMode&&Object.getPrototypeOf(b)!==n.prototype&&(b=s(b)),C)z.endEmitted?R(j,new v):k(j,z,b,!0);else if(z.ended)R(j,new y);else{if(z.destroyed)return!1;z.reading=!1,z.decoder&&!m?(b=z.decoder.write(b),z.objectMode||b.length!==0?k(j,z,b,!1):Se(j,z)):k(j,z,b,!1)}else C||(z.reading=!1,Se(j,z))}return!z.ended&&(z.length<z.highWaterMark||z.length===0)}function k(j,b,m,C){b.flowing&&b.length===0&&!b.sync?(b.awaitDrain=0,j.emit("data",m)):(b.length+=b.objectMode?1:m.length,C?b.buffer.unshift(m):b.buffer.push(m),b.needReadable&&se(j)),Se(j,b)}function Y(j,b){var m;return!o(b)&&typeof b!="string"&&b!==void 0&&!j.objectMode&&(m=new g("chunk",["string","Buffer","Uint8Array"],b)),m}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(j){A||(A=LT.StringDecoder);var b=new A(j);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;for(var m=this._readableState.buffer.head,C="";m!==null;)C+=b.write(m.data),m=m.next;return this._readableState.buffer.clear(),C!==""&&this._readableState.buffer.push(C),this._readableState.length=C.length,this};var ne=1073741824;function q(j){return j>=ne?j=ne:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function H(j,b){return j<=0||b.length===0&&b.ended?0:b.objectMode?1:j!==j?b.flowing&&b.length?b.buffer.head.data.length:b.length:(j>b.highWaterMark&&(b.highWaterMark=q(j)),j<=b.length?j:b.ended?b.length:(b.needReadable=!0,0))}N.prototype.read=function(j){l("read",j),j=parseInt(j,10);var b=this._readableState,m=j;if(j!==0&&(b.emittedReadable=!1),j===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return l("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?Be(this):se(this),null;if(j=H(j,b),j===0&&b.ended)return b.length===0&&Be(this),null;var C=b.needReadable;l("need readable",C),(b.length===0||b.length-j<b.highWaterMark)&&(C=!0,l("length less than watermark",C)),b.ended||b.reading?(C=!1,l("reading or ended",C)):C&&(l("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(j=H(m,b)));var B;return j>0?B=Oe(j,b):B=null,B===null?(b.needReadable=b.length<=b.highWaterMark,j=0):(b.length-=j,b.awaitDrain=0),b.length===0&&(b.ended||(b.needReadable=!0),m!==j&&b.ended&&Be(this)),B!==null&&this.emit("data",B),B};function J(j,b){if(l("onEofChunk"),!b.ended){if(b.decoder){var m=b.decoder.end();m&&m.length&&(b.buffer.push(m),b.length+=b.objectMode?1:m.length)}b.ended=!0,b.sync?se(j):(b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,ue(j)))}}function se(j){var b=j._readableState;l("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(l("emitReadable",b.flowing),b.emittedReadable=!0,process.nextTick(ue,j))}function ue(j){var b=j._readableState;l("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&(b.length||b.ended)&&(j.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,Te(j)}function Se(j,b){b.readingMore||(b.readingMore=!0,process.nextTick(ve,j,b))}function ve(j,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){var m=b.length;if(l("maybeReadMore read 0"),j.read(0),m===b.length)break}b.readingMore=!1}N.prototype._read=function(j){R(this,new S("_read()"))},N.prototype.pipe=function(j,b){var m=this,C=this._readableState;switch(C.pipesCount){case 0:C.pipes=j;break;case 1:C.pipes=[C.pipes,j];break;default:C.pipes.push(j);break}C.pipesCount+=1,l("pipe count=%d opts=%j",C.pipesCount,b);var B=(!b||b.end!==!1)&&j!==process.stdout&&j!==process.stderr,z=B?ae:le;C.endEmitted?process.nextTick(z):m.once("end",z),j.on("unpipe",Q);function Q(X,$){l("onunpipe"),X===m&&$&&$.hasUnpiped===!1&&($.hasUnpiped=!0,be())}function ae(){l("onend"),j.end()}var ce=Le(m);j.on("drain",ce);var fe=!1;function be(){l("cleanup"),j.removeListener("close",Ke),j.removeListener("finish",re),j.removeListener("drain",ce),j.removeListener("error",$e),j.removeListener("unpipe",Q),m.removeListener("end",ae),m.removeListener("end",le),m.removeListener("data",je),fe=!0,C.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&ce()}m.on("data",je);function je(X){l("ondata");var $=j.write(X);l("dest.write",$),$===!1&&((C.pipesCount===1&&C.pipes===j||C.pipesCount>1&&ee(C.pipes,j)!==-1)&&!fe&&(l("false write response, pause",C.awaitDrain),C.awaitDrain++),m.pause())}function $e(X){l("onerror",X),le(),j.removeListener("error",$e),e(j,"error")===0&&R(j,X)}D(j,"error",$e);function Ke(){j.removeListener("finish",re),le()}j.once("close",Ke);function re(){l("onfinish"),j.removeListener("close",Ke),le()}j.once("finish",re);function le(){l("unpipe"),m.unpipe(j)}return j.emit("pipe",m),C.flowing||(l("pipe resume"),m.resume()),j};function Le(j){return function(){var m=j._readableState;l("pipeOnDrain",m.awaitDrain),m.awaitDrain&&m.awaitDrain--,m.awaitDrain===0&&e(j,"data")&&(m.flowing=!0,Te(j))}}N.prototype.unpipe=function(j){var b=this._readableState,m={hasUnpiped:!1};if(b.pipesCount===0)return this;if(b.pipesCount===1)return j&&j!==b.pipes?this:(j||(j=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,j&&j.emit("unpipe",this,m),this);if(!j){var C=b.pipes,B=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var z=0;z<B;z++)C[z].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=ee(b.pipes,j);return Q===-1?this:(b.pipes.splice(Q,1),b.pipesCount-=1,b.pipesCount===1&&(b.pipes=b.pipes[0]),j.emit("unpipe",this,m),this)},N.prototype.on=function(j,b){var m=r.prototype.on.call(this,j,b),C=this._readableState;return j==="data"?(C.readableListening=this.listenerCount("readable")>0,C.flowing!==!1&&this.resume()):j==="readable"&&!C.endEmitted&&!C.readableListening&&(C.readableListening=C.needReadable=!0,C.flowing=!1,C.emittedReadable=!1,l("on readable",C.length,C.reading),C.length?se(this):C.reading||process.nextTick(Ne,this)),m},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(j,b){var m=r.prototype.removeListener.call(this,j,b);return j==="readable"&&process.nextTick(Xe,this),m},N.prototype.removeAllListeners=function(j){var b=r.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&process.nextTick(Xe,this),b};function Xe(j){var b=j._readableState;b.readableListening=j.listenerCount("readable")>0,b.resumeScheduled&&!b.paused?b.flowing=!0:j.listenerCount("data")>0&&j.resume()}function Ne(j){l("readable nexttick read 0"),j.read(0)}N.prototype.resume=function(){var j=this._readableState;return j.flowing||(l("resume"),j.flowing=!j.readableListening,ye(this,j)),j.paused=!1,this};function ye(j,b){b.resumeScheduled||(b.resumeScheduled=!0,process.nextTick(qe,j,b))}function qe(j,b){l("resume",b.reading),b.reading||j.read(0),b.resumeScheduled=!1,j.emit("resume"),Te(j),b.flowing&&!b.reading&&j.read(0)}N.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Te(j){var b=j._readableState;for(l("flow",b.flowing);b.flowing&&j.read()!==null;);}N.prototype.wrap=function(j){var b=this,m=this._readableState,C=!1;j.on("end",function(){if(l("wrapped end"),m.decoder&&!m.ended){var Q=m.decoder.end();Q&&Q.length&&b.push(Q)}b.push(null)}),j.on("data",function(Q){if(l("wrapped data"),m.decoder&&(Q=m.decoder.write(Q)),!(m.objectMode&&Q==null)&&!(!m.objectMode&&(!Q||!Q.length))){var ae=b.push(Q);ae||(C=!0,j.pause())}});for(var B in j)this[B]===void 0&&typeof j[B]=="function"&&(this[B]=function(ae){return function(){return j[ae].apply(j,arguments)}}(B));for(var z=0;z<I.length;z++)j.on(I[z],this.emit.bind(this,I[z]));return this._read=function(Q){l("wrapped _read",Q),C&&(C=!1,j.resume())},this},typeof Symbol=="function"&&(N.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=Yxe()),E(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(b){this._readableState&&(this._readableState.flowing=b)}}),N._fromList=Oe,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Oe(j,b){if(b.length===0)return null;var m;return b.objectMode?m=b.buffer.shift():!j||j>=b.length?(b.decoder?m=b.buffer.join(""):b.buffer.length===1?m=b.buffer.first():m=b.buffer.concat(b.length),b.buffer.clear()):m=b.buffer.consume(j,b.decoder),m}function Be(j){var b=j._readableState;l("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,process.nextTick(He,b,j))}function He(j,b){if(l("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,b.readable=!1,b.emit("end"),j.autoDestroy)){var m=b._writableState;(!m||m.autoDestroy&&m.finished)&&b.destroy()}}typeof Symbol=="function"&&(N.from=function(j,b){return T===void 0&&(T=Zxe()),T(N,j,b)});function ee(j,b){for(var m=0,C=j.length;m<C;m++)if(j[m]===b)return m;return-1}return MD}var oJ=of,tR=z0.codes,eOe=tR.ERR_METHOD_NOT_IMPLEMENTED,tOe=tR.ERR_MULTIPLE_CALLBACK,rOe=tR.ERR_TRANSFORM_ALREADY_TRANSFORMING,nOe=tR.ERR_TRANSFORM_WITH_LENGTH_0,rR=sm();Dh(of,rR);function iOe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new tOe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function of(t){if(!(this instanceof of))return new of(t);rR.call(this,t),this._transformState={afterTransform:iOe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",aOe)}function aOe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){hk(t,e,r)}):hk(this,null,null)}of.prototype.push=function(t,e){return this._transformState.needTransform=!1,rR.prototype.push.call(this,t,e)};of.prototype._transform=function(t,e,r){r(new eOe("_transform()"))};of.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};of.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};of.prototype._destroy=function(t,e){rR.prototype._destroy.call(this,t,function(r){e(r)})};function hk(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new nOe;if(t._transformState.transforming)throw new rOe;return t.push(null)}var sOe=I_,uJ=oJ;Dh(I_,uJ);function I_(t){if(!(this instanceof I_))return new I_(t);uJ.call(this,t)}I_.prototype._transform=function(t,e,r){r(null,t)};var BD;function oOe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var lJ=z0.codes,uOe=lJ.ERR_MISSING_ARGS,lOe=lJ.ERR_STREAM_DESTROYED;function pk(t){if(t)throw t}function cOe(t){return t.setHeader&&typeof t.abort=="function"}function dOe(t,e,r,n){n=oOe(n);var a=!1;t.on("close",function(){a=!0}),BD===void 0&&(BD=Q8),BD(t,{readable:e,writable:r},function(o){if(o)return n(o);a=!0,n()});var s=!1;return function(o){if(!a&&!s){if(s=!0,cOe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new lOe("pipe"))}}}function gk(t){t()}function fOe(t,e){return t.pipe(e)}function hOe(t){return!t.length||typeof t[t.length-1]!="function"?pk:t.pop()}function pOe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=hOe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new uOe("streams");var a,s=e.map(function(o,u){var l=u<e.length-1,c=u>0;return dOe(o,l,c,function(d){a||(a=d),d&&s.forEach(gk),!l&&(s.forEach(gk),n(a))})});return e.reduce(fOe)}var gOe=pOe;(function(t,e){e=t.exports=sJ(),e.Stream=e,e.Readable=e,e.Writable=iJ(),e.Duplex=sm(),e.Transform=oJ,e.PassThrough=sOe,e.finished=Q8,e.pipeline=gOe})(Nxe,lE);Object.defineProperty(Iw,"__esModule",{value:!0});Iw.ReadableWebToNodeStream=void 0;const yOe=lE;class mOe extends yOe.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}Iw.ReadableWebToNodeStream=mOe;function o2(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cE={},vOe={get exports(){return cE},set exports(t){cE=t}},yk;function bOe(){return yk||(yk=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,a,s){function o(c,d){if(!a[c]){if(!n[c]){var f=typeof o2=="function"&&o2;if(!d&&f)return f(c,!0);if(u)return u(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=a[c]={exports:{}};n[c][0].call(p.exports,function(g){var y=n[c][1][g];return o(y||g)},p,p.exports,r,n,a,s)}return a[c].exports}for(var u=typeof o2=="function"&&o2,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,a){Object.defineProperty(a,"__esModule",{value:!0});var s=r("./spec/reference-implementation/lib/readable-stream"),o=s.ReadableStream,u=r("./spec/reference-implementation/lib/writable-stream"),l=u.WritableStream,c=r("./spec/reference-implementation/lib/byte-length-queuing-strategy"),d=r("./spec/reference-implementation/lib/count-queuing-strategy"),f=r("./spec/reference-implementation/lib/transform-stream"),h=f.TransformStream;a.ByteLengthQueuingStrategy=c,a.CountQueuingStrategy=d,a.ReadableStream=o,a.WritableStream=l,a.TransformStream=h;var p={ReadableStream:o,WritableStream:l,ByteLengthQueuingStrategy:c,CountQueuingStrategy:d,TransformStream:h};a.default=p},{"./spec/reference-implementation/lib/byte-length-queuing-strategy":8,"./spec/reference-implementation/lib/count-queuing-strategy":9,"./spec/reference-implementation/lib/readable-stream":12,"./spec/reference-implementation/lib/transform-stream":13,"./spec/reference-implementation/lib/writable-stream":15}],2:[function(r,n,a){(function(s){function o(q,H){if(q===H)return 0;for(var J=q.length,se=H.length,ue=0,Se=Math.min(J,se);ue<Se;++ue)if(q[ue]!==H[ue]){J=q[ue],se=H[ue];break}return J<se?-1:se<J?1:0}function u(q){return s.Buffer&&typeof s.Buffer.isBuffer=="function"?s.Buffer.isBuffer(q):!(q==null||!q._isBuffer)}function l(q){return Object.prototype.toString.call(q)}function c(q){return!u(q)&&typeof s.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(q):!!q&&(q instanceof DataView||!!(q.buffer&&q.buffer instanceof ArrayBuffer)))}function d(q){if(D.isFunction(q)){if(O)return q.name;var H=q.toString().match(Y);return H&&H[1]}}function f(q,H){return typeof q=="string"?q.length<H?q:q.slice(0,H):q}function h(q){if(O||!D.isFunction(q))return D.inspect(q);var H=d(q);return"[Function"+(H?": "+H:"")+"]"}function p(q){return f(h(q.actual),128)+" "+q.operator+" "+f(h(q.expected),128)}function g(q,H,J,se,ue){throw new k.AssertionError({message:J,actual:q,expected:H,operator:se,stackStartFunction:ue})}function y(q,H){q||g(q,!0,H,"==",k.ok)}function S(q,H,J,se){if(q===H)return!0;if(u(q)&&u(H))return o(q,H)===0;if(D.isDate(q)&&D.isDate(H))return q.getTime()===H.getTime();if(D.isRegExp(q)&&D.isRegExp(H))return q.source===H.source&&q.global===H.global&&q.multiline===H.multiline&&q.lastIndex===H.lastIndex&&q.ignoreCase===H.ignoreCase;if(q!==null&&typeof q=="object"||H!==null&&typeof H=="object"){if(c(q)&&c(H)&&l(q)===l(H)&&!(q instanceof Float32Array||q instanceof Float64Array))return o(new Uint8Array(q.buffer),new Uint8Array(H.buffer))===0;if(u(q)!==u(H))return!1;var ue=(se=se||{actual:[],expected:[]}).actual.indexOf(q);return ue!==-1&&ue===se.expected.indexOf(H)||(se.actual.push(q),se.expected.push(H),A(q,H,J,se))}return J?q===H:q==H}function v(q){return Object.prototype.toString.call(q)=="[object Arguments]"}function A(q,H,J,se){if(q==null||H===null||H===void 0)return!1;if(D.isPrimitive(q)||D.isPrimitive(H))return q===H;if(J&&Object.getPrototypeOf(q)!==Object.getPrototypeOf(H))return!1;var ue=v(q),Se=v(H);if(ue&&!Se||!ue&&Se)return!1;if(ue)return q=N.call(q),H=N.call(H),S(q,H,J);var ve,Le,Xe=ne(q),Ne=ne(H);if(Xe.length!==Ne.length)return!1;for(Xe.sort(),Ne.sort(),Le=Xe.length-1;Le>=0;Le--)if(Xe[Le]!==Ne[Le])return!1;for(Le=Xe.length-1;Le>=0;Le--)if(ve=Xe[Le],!S(q[ve],H[ve],J,se))return!1;return!0}function E(q,H,J){S(q,H,!0)&&g(q,H,J,"notDeepStrictEqual",E)}function T(q,H){if(!q||!H)return!1;if(Object.prototype.toString.call(H)=="[object RegExp]")return H.test(q);try{if(q instanceof H)return!0}catch{}return!Error.isPrototypeOf(H)&&H.call({},q)===!0}function R(q){var H;try{q()}catch(J){H=J}return H}function I(q,H,J,se){var ue;if(typeof H!="function")throw new TypeError('"block" argument must be a function');typeof J=="string"&&(se=J,J=null),ue=R(H),se=(J&&J.name?" ("+J.name+").":".")+(se?" "+se:"."),q&&!ue&&g(ue,J,"Missing expected exception"+se);var Se=typeof se=="string",ve=!q&&D.isError(ue),Le=!q&&ue&&!J;if((ve&&Se&&T(ue,J)||Le)&&g(ue,J,"Got unwanted exception"+se),q&&ue&&J&&!T(ue,J)||!q&&ue)throw ue}var D=r("util/"),M=Object.prototype.hasOwnProperty,N=Array.prototype.slice,O=function(){}.name==="foo",k=n.exports=y,Y=/\s*function\s+([^\(\s]*)\s*/;k.AssertionError=function(H){this.name="AssertionError",this.actual=H.actual,this.expected=H.expected,this.operator=H.operator,H.message?(this.message=H.message,this.generatedMessage=!1):(this.message=p(this),this.generatedMessage=!0);var J=H.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,J);else{var se=new Error;if(se.stack){var ue=se.stack,Se=d(J),ve=ue.indexOf(`
`+Se);if(ve>=0){var Le=ue.indexOf(`
`,ve+1);ue=ue.substring(Le+1)}this.stack=ue}}},D.inherits(k.AssertionError,Error),k.fail=g,k.ok=y,k.equal=function(H,J,se){H!=J&&g(H,J,se,"==",k.equal)},k.notEqual=function(H,J,se){H==J&&g(H,J,se,"!=",k.notEqual)},k.deepEqual=function(H,J,se){S(H,J,!1)||g(H,J,se,"deepEqual",k.deepEqual)},k.deepStrictEqual=function(H,J,se){S(H,J,!0)||g(H,J,se,"deepStrictEqual",k.deepStrictEqual)},k.notDeepEqual=function(H,J,se){S(H,J,!1)&&g(H,J,se,"notDeepEqual",k.notDeepEqual)},k.notDeepStrictEqual=E,k.strictEqual=function(H,J,se){H!==J&&g(H,J,se,"===",k.strictEqual)},k.notStrictEqual=function(H,J,se){H===J&&g(H,J,se,"!==",k.notStrictEqual)},k.throws=function(q,H,J){I(!0,q,H,J)},k.doesNotThrow=function(q,H,J){I(!1,q,H,J)},k.ifError=function(q){if(q)throw q};var ne=Object.keys||function(q){var H=[];for(var J in q)M.call(q,J)&&H.push(J);return H}}).call(this,typeof F<"u"?F:typeof self<"u"?self:typeof window<"u"?window:{})},{"util/":7}],3:[function(r,n,a){},{}],4:[function(r,n,a){function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(T){if(p===setTimeout)return setTimeout(T,0);if((p===s||!p)&&setTimeout)return p=setTimeout,setTimeout(T,0);try{return p(T,0)}catch{try{return p.call(null,T,0)}catch{return p.call(this,T,0)}}}function l(T){if(g===clearTimeout)return clearTimeout(T);if((g===o||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(T);try{return g(T)}catch{try{return g.call(null,T)}catch{return g.call(this,T)}}}function c(){A&&S&&(A=!1,S.length?v=S.concat(v):E=-1,v.length&&d())}function d(){if(!A){var T=u(c);A=!0;for(var R=v.length;R;){for(S=v,v=[];++E<R;)S&&S[E].run();E=-1,R=v.length}S=null,A=!1,l(T)}}function f(T,R){this.fun=T,this.array=R}function h(){}var p,g,y=n.exports={};(function(){try{p=typeof setTimeout=="function"?setTimeout:s}catch{p=s}try{g=typeof clearTimeout=="function"?clearTimeout:o}catch{g=o}})();var S,v=[],A=!1,E=-1;y.nextTick=function(T){var R=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)R[I-1]=arguments[I];v.push(new f(T,R)),v.length!==1||A||u(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=h,y.addListener=h,y.once=h,y.off=h,y.removeListener=h,y.removeAllListeners=h,y.emit=h,y.prependListener=h,y.prependOnceListener=h,y.listeners=function(T){return[]},y.binding=function(T){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(T){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},{}],5:[function(r,n,a){typeof Object.create=="function"?n.exports=function(o,u){o.super_=u,o.prototype=Object.create(u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(o,u){o.super_=u;var l=function(){};l.prototype=u.prototype,o.prototype=new l,o.prototype.constructor=o}},{}],6:[function(r,n,a){n.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],7:[function(r,n,a){(function(s,o){function u(Ne,ye){var qe={seen:[],stylize:c};return arguments.length>=3&&(qe.depth=arguments[2]),arguments.length>=4&&(qe.colors=arguments[3]),A(ye)?qe.showHidden=ye:ye&&a._extend(qe,ye),M(qe.showHidden)&&(qe.showHidden=!1),M(qe.depth)&&(qe.depth=2),M(qe.colors)&&(qe.colors=!1),M(qe.customInspect)&&(qe.customInspect=!0),qe.colors&&(qe.stylize=l),f(qe,Ne,qe.depth)}function l(Ne,ye){var qe=u.styles[ye];return qe?"\x1B["+u.colors[qe][0]+"m"+Ne+"\x1B["+u.colors[qe][1]+"m":Ne}function c(Ne,ye){return Ne}function d(Ne){var ye={};return Ne.forEach(function(qe,Te){ye[qe]=!0}),ye}function f(Ne,ye,qe){if(Ne.customInspect&&ye&&ne(ye.inspect)&&ye.inspect!==a.inspect&&(!ye.constructor||ye.constructor.prototype!==ye)){var Te=ye.inspect(qe,Ne);return I(Te)||(Te=f(Ne,Te,qe)),Te}var Oe=h(Ne,ye);if(Oe)return Oe;var Be=Object.keys(ye),He=d(Be);if(Ne.showHidden&&(Be=Object.getOwnPropertyNames(ye)),Y(ye)&&(Be.indexOf("message")>=0||Be.indexOf("description")>=0))return p(ye);if(Be.length===0){if(ne(ye)){var ee=ye.name?": "+ye.name:"";return Ne.stylize("[Function"+ee+"]","special")}if(N(ye))return Ne.stylize(RegExp.prototype.toString.call(ye),"regexp");if(k(ye))return Ne.stylize(Date.prototype.toString.call(ye),"date");if(Y(ye))return p(ye)}var j="",b=!1,m=["{","}"];if(v(ye)&&(b=!0,m=["[","]"]),ne(ye)&&(j=" [Function"+(ye.name?": "+ye.name:"")+"]"),N(ye)&&(j=" "+RegExp.prototype.toString.call(ye)),k(ye)&&(j=" "+Date.prototype.toUTCString.call(ye)),Y(ye)&&(j=" "+p(ye)),Be.length===0&&(!b||ye.length==0))return m[0]+j+m[1];if(qe<0)return N(ye)?Ne.stylize(RegExp.prototype.toString.call(ye),"regexp"):Ne.stylize("[Object]","special");Ne.seen.push(ye);var C;return C=b?g(Ne,ye,qe,He,Be):Be.map(function(B){return y(Ne,ye,qe,He,B,b)}),Ne.seen.pop(),S(C,j,m)}function h(Ne,ye){if(M(ye))return Ne.stylize("undefined","undefined");if(I(ye)){var qe="'"+JSON.stringify(ye).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ne.stylize(qe,"string")}return R(ye)?Ne.stylize(""+ye,"number"):A(ye)?Ne.stylize(""+ye,"boolean"):E(ye)?Ne.stylize("null","null"):void 0}function p(Ne){return"["+Error.prototype.toString.call(Ne)+"]"}function g(Ne,ye,qe,Te,Oe){for(var Be=[],He=0,ee=ye.length;He<ee;++He)ue(ye,String(He))?Be.push(y(Ne,ye,qe,Te,String(He),!0)):Be.push("");return Oe.forEach(function(j){j.match(/^\d+$/)||Be.push(y(Ne,ye,qe,Te,j,!0))}),Be}function y(Ne,ye,qe,Te,Oe,Be){var He,ee,j;if((j=Object.getOwnPropertyDescriptor(ye,Oe)||{value:ye[Oe]}).get?ee=j.set?Ne.stylize("[Getter/Setter]","special"):Ne.stylize("[Getter]","special"):j.set&&(ee=Ne.stylize("[Setter]","special")),ue(Te,Oe)||(He="["+Oe+"]"),ee||(Ne.seen.indexOf(j.value)<0?(ee=E(qe)?f(Ne,j.value,null):f(Ne,j.value,qe-1)).indexOf(`
`)>-1&&(ee=Be?ee.split(`
`).map(function(b){return"  "+b}).join(`
`).substr(2):`
`+ee.split(`
`).map(function(b){return"   "+b}).join(`
`)):ee=Ne.stylize("[Circular]","special")),M(He)){if(Be&&Oe.match(/^\d+$/))return ee;(He=JSON.stringify(""+Oe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(He=He.substr(1,He.length-2),He=Ne.stylize(He,"name")):(He=He.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),He=Ne.stylize(He,"string"))}return He+": "+ee}function S(Ne,ye,qe){var Te=0;return Ne.reduce(function(Oe,Be){return Te++,Be.indexOf(`
`)>=0&&Te++,Oe+Be.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?qe[0]+(ye===""?"":ye+`
 `)+" "+Ne.join(`,
  `)+" "+qe[1]:qe[0]+ye+" "+Ne.join(", ")+" "+qe[1]}function v(Ne){return Array.isArray(Ne)}function A(Ne){return typeof Ne=="boolean"}function E(Ne){return Ne===null}function T(Ne){return Ne==null}function R(Ne){return typeof Ne=="number"}function I(Ne){return typeof Ne=="string"}function D(Ne){return typeof Ne=="symbol"}function M(Ne){return Ne===void 0}function N(Ne){return O(Ne)&&H(Ne)==="[object RegExp]"}function O(Ne){return typeof Ne=="object"&&Ne!==null}function k(Ne){return O(Ne)&&H(Ne)==="[object Date]"}function Y(Ne){return O(Ne)&&(H(Ne)==="[object Error]"||Ne instanceof Error)}function ne(Ne){return typeof Ne=="function"}function q(Ne){return Ne===null||typeof Ne=="boolean"||typeof Ne=="number"||typeof Ne=="string"||typeof Ne=="symbol"||Ne===void 0}function H(Ne){return Object.prototype.toString.call(Ne)}function J(Ne){return Ne<10?"0"+Ne.toString(10):Ne.toString(10)}function se(){var Ne=new Date,ye=[J(Ne.getHours()),J(Ne.getMinutes()),J(Ne.getSeconds())].join(":");return[Ne.getDate(),Xe[Ne.getMonth()],ye].join(" ")}function ue(Ne,ye){return Object.prototype.hasOwnProperty.call(Ne,ye)}var Se=/%[sdj%]/g;a.format=function(Ne){if(!I(Ne)){for(var ye=[],qe=0;qe<arguments.length;qe++)ye.push(u(arguments[qe]));return ye.join(" ")}for(var qe=1,Te=arguments,Oe=Te.length,Be=String(Ne).replace(Se,function(j){if(j==="%%")return"%";if(qe>=Oe)return j;switch(j){case"%s":return String(Te[qe++]);case"%d":return Number(Te[qe++]);case"%j":try{return JSON.stringify(Te[qe++])}catch{return"[Circular]"}default:return j}}),He=Te[qe];qe<Oe;He=Te[++qe])E(He)||!O(He)?Be+=" "+He:Be+=" "+u(He);return Be},a.deprecate=function(Ne,ye){if(M(o.process))return function(){return a.deprecate(Ne,ye).apply(this,arguments)};if(s.noDeprecation===!0)return Ne;var qe=!1;return function(){if(!qe){if(s.throwDeprecation)throw new Error(ye);s.traceDeprecation?console.trace(ye):console.error(ye),qe=!0}return Ne.apply(this,arguments)}};var ve,Le={};a.debuglog=function(Ne){if(M(ve)&&(ve={}.NODE_DEBUG||""),Ne=Ne.toUpperCase(),!Le[Ne])if(new RegExp("\\b"+Ne+"\\b","i").test(ve)){var ye=s.pid;Le[Ne]=function(){var qe=a.format.apply(a,arguments);console.error("%s %d: %s",Ne,ye,qe)}}else Le[Ne]=function(){};return Le[Ne]},a.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},a.isArray=v,a.isBoolean=A,a.isNull=E,a.isNullOrUndefined=T,a.isNumber=R,a.isString=I,a.isSymbol=D,a.isUndefined=M,a.isRegExp=N,a.isObject=O,a.isDate=k,a.isError=Y,a.isFunction=ne,a.isPrimitive=q,a.isBuffer=r("./support/isBuffer");var Xe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];a.log=function(){console.log("%s - %s",se(),a.format.apply(a,arguments))},a.inherits=r("inherits"),a._extend=function(Ne,ye){if(!ye||!O(ye))return Ne;for(var qe=Object.keys(ye),Te=qe.length;Te--;)Ne[qe[Te]]=ye[qe[Te]];return Ne}}).call(this,r("_process"),typeof F<"u"?F:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":6,_process:4,inherits:5}],8:[function(r,n,a){function s(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),u=r("./helpers.js"),l=u.createDataProperty;n.exports=function(){function c(d){var f=d.highWaterMark;s(this,c),l(this,"highWaterMark",f)}return o(c,[{key:"size",value:function(f){return f.byteLength}}]),c}()},{"./helpers.js":10}],9:[function(r,n,a){function s(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),u=r("./helpers.js"),l=u.createDataProperty;n.exports=function(){function c(d){var f=d.highWaterMark;s(this,c),l(this,"highWaterMark",f)}return o(c,[{key:"size",value:function(){return 1}}]),c}()},{"./helpers.js":10}],10:[function(r,n,a){function s(c,d,f){if(typeof c!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(c,d,f)}function o(c,d,f){try{return Promise.resolve(s(c,d,f))}catch(h){return Promise.reject(h)}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};r("better-assert");var l=Symbol('is "detached" for our purposes');a.typeIsObject=function(c){return(c===void 0?"undefined":u(c))==="object"&&c!==null||typeof c=="function"},a.createDataProperty=function(c,d,f){Object.defineProperty(c,d,{value:f,writable:!0,enumerable:!0,configurable:!0})},a.createArrayFromList=function(c){return c.slice()},a.ArrayBufferCopy=function(c,d,f,h,p){new Uint8Array(c).set(new Uint8Array(f,h,p),d)},a.CreateIterResultObject=function(c,d){var f={};return Object.defineProperty(f,"value",{value:c,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(f,"done",{value:d,enumerable:!0,writable:!0,configurable:!0}),f},a.IsFiniteNonNegativeNumber=function(c){return a.IsNonNegativeNumber(c)!==!1&&c!==1/0},a.IsNonNegativeNumber=function(c){return typeof c=="number"&&!Number.isNaN(c)&&!(c<0)},a.Call=s,a.CreateAlgorithmFromUnderlyingMethod=function(c,d,f,h){var p=c[d];if(p!==void 0){if(typeof p!="function")throw new TypeError(p+" is not a method");switch(f){case 0:return function(){return o(p,c,h)};case 1:return function(g){var y=[g].concat(h);return o(p,c,y)}}}return function(){return Promise.resolve()}},a.InvokeOrNoop=function(c,d,f){var h=c[d];if(h!==void 0)return s(h,c,f)},a.PromiseCall=o,a.TransferArrayBuffer=function(c){var d=c.slice();return Object.defineProperty(c,"byteLength",{get:function(){return 0}}),c[l]=!0,d},a.IsDetachedBuffer=function(c){return l in c},a.ValidateAndNormalizeHighWaterMark=function(c){if(c=Number(c),Number.isNaN(c)||c<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return c},a.MakeSizeAlgorithmFromSizeFunction=function(c){if(c===void 0)return function(){return 1};if(typeof c!="function")throw new TypeError("size property of a queuing strategy must be a function");return function(d){return c(d)}}},{"better-assert":16}],11:[function(r,n,a){r("better-assert");var s=r("./helpers.js"),o=s.IsFiniteNonNegativeNumber;a.DequeueValue=function(u){var l=u._queue.shift();return u._queueTotalSize-=l.size,u._queueTotalSize<0&&(u._queueTotalSize=0),l.value},a.EnqueueValueWithSize=function(u,l,c){if(c=Number(c),!o(c))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");u._queue.push({value:l,size:c}),u._queueTotalSize+=c},a.PeekQueueValue=function(u){return u._queue[0].value},a.ResetQueue=function(u){u._queue=[],u._queueTotalSize=0}},{"./helpers.js":10,"better-assert":16}],12:[function(r,n,a){function s(W,Z){if(!(W instanceof Z))throw new TypeError("Cannot call a class as a function")}function o(W){return new L(W)}function u(W){return new P(W)}function l(W,Z,te){var pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,ge=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},we=Object.create(_.prototype);return d(we),Oe(we,Object.create(G.prototype),W,Z,te,pe,ge),we}function c(W,Z,te){var pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ge=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,we=Object.create(_.prototype);return d(we),Pe(we,Object.create(de.prototype),W,Z,te,pe,ge),we}function d(W){W._state="readable",W._reader=void 0,W._storedError=void 0,W._disturbed=!1}function f(W){return!!Ti(W)&&!!Object.prototype.hasOwnProperty.call(W,"_readableStreamController")}function h(W){return W._disturbed}function p(W){return W._reader!==void 0}function g(W,Z){function te(){return J(ge).then(function(Ge){var Ye=Ge.value;if(Ge.done===!0&&we===!1&&(De===!1&&ve(oe._readableStreamController),Me===!1&&ve(Ee._readableStreamController),we=!0),we!==!0){var At=Ye,it=Ye;De===!1&&Le(oe._readableStreamController,At),Me===!1&&Le(Ee._readableStreamController,it)}})}function pe(){}var ge=u(W),we=!1,De=!1,Me=!1,Qe=void 0,We=void 0,oe=void 0,Ee=void 0,Re=void 0,Ce=new Promise(function(Ge){Re=Ge});return oe=l(pe,te,function(Ye){if(De=!0,Qe=Ye,Me===!0){var At=St([Qe,We]),it=v(W,At);Re(it)}return Ce}),Ee=l(pe,te,function(Ye){if(Me=!0,We=Ye,De===!0){var At=St([Qe,We]),it=v(W,At);Re(it)}return Ce}),ge._closedPromise.catch(function(Ge){we!==!0&&(Ne(oe._readableStreamController,Ge),Ne(Ee._readableStreamController,Ge),we=!0)}),[oe,Ee]}function y(W){return new Promise(function(Z,te){var pe={_resolve:Z,_reject:te};W._reader._readIntoRequests.push(pe)})}function S(W){return new Promise(function(Z,te){var pe={_resolve:Z,_reject:te};W._reader._readRequests.push(pe)})}function v(W,Z){return W._disturbed=!0,W._state==="closed"?Promise.resolve(void 0):W._state==="errored"?Promise.reject(W._storedError):(A(W),W._readableStreamController[hi](Z).then(function(){}))}function A(W){W._state="closed";var Z=W._reader;if(Z!==void 0){if(k(Z)===!0){var te=!0,pe=!1,ge=void 0;try{for(var we,De=Z._readRequests[Symbol.iterator]();!(te=(we=De.next()).done);te=!0)(0,we.value._resolve)(at(void 0,!0))}catch(Me){pe=!0,ge=Me}finally{try{!te&&De.return&&De.return()}finally{if(pe)throw ge}}Z._readRequests=[]}Ur(Z)}}function E(W,Z){W._state="errored",W._storedError=Z;var te=W._reader;if(te!==void 0){if(k(te)===!0){var pe=!0,ge=!1,we=void 0;try{for(var De,Me=te._readRequests[Symbol.iterator]();!(pe=(De=Me.next()).done);pe=!0)De.value._reject(Z)}catch(Ce){ge=!0,we=Ce}finally{try{!pe&&Me.return&&Me.return()}finally{if(ge)throw we}}te._readRequests=[]}else{var Qe=!0,We=!1,oe=void 0;try{for(var Ee,Re=te._readIntoRequests[Symbol.iterator]();!(Qe=(Ee=Re.next()).done);Qe=!0)Ee.value._reject(Z)}catch(Ce){We=!0,oe=Ce}finally{try{!Qe&&Re.return&&Re.return()}finally{if(We)throw oe}}te._readIntoRequests=[]}Qr(te,Z),te._closedPromise.catch(function(){})}}function T(W,Z,te){W._reader._readIntoRequests.shift()._resolve(at(Z,te))}function R(W,Z,te){W._reader._readRequests.shift()._resolve(at(Z,te))}function I(W){return W._reader._readIntoRequests.length}function D(W){return W._reader._readRequests.length}function M(W){var Z=W._reader;return Z!==void 0&&O(Z)!==!1}function N(W){var Z=W._reader;return Z!==void 0&&k(Z)!==!1}function O(W){return!!Ti(W)&&!!Object.prototype.hasOwnProperty.call(W,"_readIntoRequests")}function k(W){return!!Ti(W)&&!!Object.prototype.hasOwnProperty.call(W,"_readRequests")}function Y(W,Z){W._ownerReadableStream=Z,Z._reader=W,Z._state==="readable"?Cn(W):Z._state==="closed"?ar(W):(gr(W,Z._storedError),W._closedPromise.catch(function(){}))}function ne(W,Z){return v(W._ownerReadableStream,Z)}function q(W){W._ownerReadableStream._state==="readable"?Qr(W,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):yr(W,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),W._closedPromise.catch(function(){}),W._ownerReadableStream._reader=void 0,W._ownerReadableStream=void 0}function H(W,Z){var te=W._ownerReadableStream;return te._disturbed=!0,te._state==="errored"?Promise.reject(te._storedError):be(te._readableStreamController,Z)}function J(W){var Z=W._ownerReadableStream;return Z._disturbed=!0,Z._state==="closed"?Promise.resolve(at(void 0,!0)):Z._state==="errored"?Promise.reject(Z._storedError):Z._readableStreamController[w]()}function se(W){return!!Ti(W)&&!!Object.prototype.hasOwnProperty.call(W,"_controlledReadableStream")}function ue(W){Se(W)!==!1&&(W._pulling!==!0?(W._pulling=!0,W._pullAlgorithm().then(function(){if(W._pulling=!1,W._pullAgain===!0)return W._pullAgain=!1,ue(W)},function(Z){Ne(W,Z)}).catch(or)):W._pullAgain=!0)}function Se(W){var Z=W._controlledReadableStream;return Te(W)!==!1&&W._started!==!1&&(p(Z)===!0&&D(Z)>0||ye(W)>0)}function ve(W){var Z=W._controlledReadableStream;W._closeRequested=!0,W._queue.length===0&&A(Z)}function Le(W,Z){var te=W._controlledReadableStream;if(p(te)===!0&&D(te)>0)R(te,Z,!1);else{var pe=void 0;try{pe=W._strategySizeAlgorithm(Z)}catch(ge){throw Ne(W,ge),ge}try{Ss(W,Z,pe)}catch(ge){throw Ne(W,ge),ge}}ue(W)}function Xe(W,Z){var te=W._controlledReadableStream;Wr(W),E(te,Z)}function Ne(W,Z){W._controlledReadableStream._state==="readable"&&Xe(W,Z)}function ye(W){var Z=W._controlledReadableStream._state;return Z==="errored"?null:Z==="closed"?0:W._strategyHWM-W._queueTotalSize}function qe(W){return Se(W)!==!0}function Te(W){var Z=W._controlledReadableStream._state;return W._closeRequested===!1&&Z==="readable"}function Oe(W,Z,te,pe,ge,we,De){Z._controlledReadableStream=W,Z._queue=void 0,Z._queueTotalSize=void 0,Wr(Z),Z._started=!1,Z._closeRequested=!1,Z._pullAgain=!1,Z._pulling=!1,Z._strategySizeAlgorithm=De,Z._strategyHWM=we,Z._pullAlgorithm=pe,Z._cancelAlgorithm=ge,W._readableStreamController=Z;var Me=te();Promise.resolve(Me).then(function(){Z._started=!0,ue(Z)},function(Qe){Ne(Z,Qe)}).catch(or)}function Be(W,Z,te,pe){var ge=Object.create(G.prototype),we=Ot(Z,"pull",0,[ge]),De=Ot(Z,"cancel",1,[]);Oe(W,ge,function(){return Ft(Z,"start",[ge])},we,De,te,pe)}function He(W){return!!Ti(W)&&!!Object.prototype.hasOwnProperty.call(W,"_controlledReadableByteStream")}function ee(W){return!!Ti(W)&&!!Object.prototype.hasOwnProperty.call(W,"_associatedReadableByteStreamController")}function j(W){le(W)!==!1&&(W._pulling!==!0?(W._pulling=!0,W._pullAlgorithm().then(function(){W._pulling=!1,W._pullAgain===!0&&(W._pullAgain=!1,j(W))},function(Z){W._controlledReadableByteStream._state==="readable"&&U(W,Z)}).catch(or)):W._pullAgain=!0)}function b(W){ce(W),W._pendingPullIntos=[]}function m(W,Z){var te=!1;W._state==="closed"&&(te=!0);var pe=C(Z);Z.readerType==="default"?R(W,pe,te):T(W,pe,te)}function C(W){var Z=W.bytesFilled,te=W.elementSize;return new W.ctor(W.buffer,W.byteOffset,Z/te)}function B(W,Z,te,pe){W._queue.push({buffer:Z,byteOffset:te,byteLength:pe}),W._queueTotalSize+=pe}function z(W,Z){var te=Z.elementSize,pe=Z.bytesFilled-Z.bytesFilled%te,ge=Math.min(W._queueTotalSize,Z.byteLength-Z.bytesFilled),we=Z.bytesFilled+ge,De=we-we%te,Me=ge,Qe=!1;De>pe&&(Me=De-Z.bytesFilled,Qe=!0);for(var We=W._queue;Me>0;){var oe=We[0],Ee=Math.min(Me,oe.byteLength),Re=Z.byteOffset+Z.bytesFilled;nt(Z.buffer,Re,oe.buffer,oe.byteOffset,Ee),oe.byteLength===Ee?We.shift():(oe.byteOffset+=Ee,oe.byteLength-=Ee),W._queueTotalSize-=Ee,Q(W,Ee,Z),Me-=Ee}return Qe}function Q(W,Z,te){ce(W),te.bytesFilled+=Z}function ae(W){W._queueTotalSize===0&&W._closeRequested===!0?A(W._controlledReadableByteStream):j(W)}function ce(W){W._byobRequest!==void 0&&(W._byobRequest._associatedReadableByteStreamController=void 0,W._byobRequest._view=void 0,W._byobRequest=void 0)}function fe(W){for(;W._pendingPullIntos.length>0;){if(W._queueTotalSize===0)return;var Z=W._pendingPullIntos[0];z(W,Z)===!0&&(re(W),m(W._controlledReadableByteStream,Z))}}function be(W,Z){var te=W._controlledReadableByteStream,pe=1;Z.constructor!==DataView&&(pe=Z.constructor.BYTES_PER_ELEMENT);var ge=Z.constructor,we={buffer:qt(Z.buffer),byteOffset:Z.byteOffset,byteLength:Z.byteLength,bytesFilled:0,elementSize:pe,ctor:ge,readerType:"byob"};if(W._pendingPullIntos.length>0)return W._pendingPullIntos.push(we),y(te);if(te._state==="closed"){var De=new Z.constructor(we.buffer,we.byteOffset,0);return Promise.resolve(at(De,!0))}if(W._queueTotalSize>0){if(z(W,we)===!0){var Me=C(we);return ae(W),Promise.resolve(at(Me,!1))}if(W._closeRequested===!0){var Qe=new TypeError("Insufficient bytes to fill elements in the given buffer");return U(W,Qe),Promise.reject(Qe)}}W._pendingPullIntos.push(we);var We=y(te);return j(W),We}function je(W,Z){Z.buffer=qt(Z.buffer);var te=W._controlledReadableByteStream;if(M(te)===!0)for(;I(te)>0;)m(te,re(W))}function $e(W,Z,te){if(te.bytesFilled+Z>te.byteLength)throw new RangeError("bytesWritten out of range");if(Q(W,Z,te),!(te.bytesFilled<te.elementSize)){re(W);var pe=te.bytesFilled%te.elementSize;if(pe>0){var ge=te.byteOffset+te.bytesFilled,we=te.buffer.slice(ge-pe,ge);B(W,we,0,we.byteLength)}te.buffer=qt(te.buffer),te.bytesFilled-=pe,m(W._controlledReadableByteStream,te),fe(W)}}function Ke(W,Z){var te=W._pendingPullIntos[0];if(W._controlledReadableByteStream._state==="closed"){if(Z!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");je(W,te)}else $e(W,Z,te)}function re(W){var Z=W._pendingPullIntos.shift();return ce(W),Z}function le(W){var Z=W._controlledReadableByteStream;return Z._state==="readable"&&W._closeRequested!==!0&&W._started!==!1&&(N(Z)===!0&&D(Z)>0||M(Z)===!0&&I(Z)>0||V(W)>0)}function X(W){var Z=W._controlledReadableByteStream;if(W._queueTotalSize>0)W._closeRequested=!0;else{if(W._pendingPullIntos.length>0&&W._pendingPullIntos[0].bytesFilled>0){var te=new TypeError("Insufficient bytes to fill elements in the given buffer");throw U(W,te),te}A(Z)}}function $(W,Z){var te=W._controlledReadableByteStream,pe=Z.buffer,ge=Z.byteOffset,we=Z.byteLength,De=qt(pe);N(te)===!0?D(te)===0?B(W,De,ge,we):R(te,new Uint8Array(De,ge,we),!1):M(te)===!0?(B(W,De,ge,we),fe(W)):B(W,De,ge,we)}function U(W,Z){var te=W._controlledReadableByteStream;b(W),Wr(W),E(te,Z)}function V(W){var Z=W._controlledReadableByteStream._state;return Z==="errored"?null:Z==="closed"?0:W._strategyHWM-W._queueTotalSize}function Ie(W,Z){if(Z=Number(Z),pt(Z)===!1)throw new RangeError("bytesWritten must be a finite");Ke(W,Z)}function ke(W,Z){var te=W._pendingPullIntos[0];if(te.byteOffset+te.bytesFilled!==Z.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(te.byteLength!==Z.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");te.buffer=Z.buffer,Ke(W,Z.byteLength)}function Pe(W,Z,te,pe,ge,we,De){Z._controlledReadableByteStream=W,Z._pullAgain=!1,Z._pulling=!1,b(Z),Z._queue=Z._queueTotalSize=void 0,Wr(Z),Z._closeRequested=!1,Z._started=!1,Z._strategyHWM=bt(we),Z._pullAlgorithm=pe,Z._cancelAlgorithm=ge,Z._autoAllocateChunkSize=De,Z._pendingPullIntos=[],W._readableStreamController=Z;var Me=te();Promise.resolve(Me).then(function(){Z._started=!0,j(Z)},function(Qe){W._state==="readable"&&U(Z,Qe)}).catch(or)}function ht(W,Z,te){var pe=Object.create(de.prototype),ge=Ot(Z,"pull",0,[pe]),we=Ot(Z,"cancel",1,[]),De=Z.autoAllocateChunkSize;if(De!==void 0&&(Number.isInteger(De)===!1||De<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");Pe(W,pe,function(){return Ft(Z,"start",[pe])},ge,we,te,De)}function _t(W,Z,te){W._associatedReadableByteStreamController=Z,W._view=te}function Rt(W){return new TypeError("ReadableStream.prototype."+W+" can only be used on a ReadableStream")}function Et(W){return new TypeError("Cannot "+W+" a stream using a released reader")}function Jt(W){return new TypeError("ReadableStreamDefaultReader.prototype."+W+" can only be used on a ReadableStreamDefaultReader")}function Cn(W){W._closedPromise=new Promise(function(Z,te){W._closedPromise_resolve=Z,W._closedPromise_reject=te})}function gr(W,Z){W._closedPromise=Promise.reject(Z),W._closedPromise_resolve=void 0,W._closedPromise_reject=void 0}function ar(W){W._closedPromise=Promise.resolve(void 0),W._closedPromise_resolve=void 0,W._closedPromise_reject=void 0}function Qr(W,Z){W._closedPromise_reject(Z),W._closedPromise_resolve=void 0,W._closedPromise_reject=void 0}function yr(W,Z){W._closedPromise=Promise.reject(Z)}function Ur(W){W._closedPromise_resolve(void 0),W._closedPromise_resolve=void 0,W._closedPromise_reject=void 0}function Zr(W){return new TypeError("ReadableStreamBYOBReader.prototype."+W+" can only be used on a ReadableStreamBYOBReader")}function fa(W){return new TypeError("ReadableStreamDefaultController.prototype."+W+" can only be used on a ReadableStreamDefaultController")}function xr(W){return new TypeError("ReadableStreamBYOBRequest.prototype."+W+" can only be used on a ReadableStreamBYOBRequest")}function Ae(W){return new TypeError("ReadableByteStreamController.prototype."+W+" can only be used on a ReadableByteStreamController")}function Ve(W){try{Promise.prototype.then.call(W,void 0,function(){})}catch{}}var ut=function(){function W(Z,te){for(var pe=0;pe<te.length;pe++){var ge=te[pe];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(Z,ge.key,ge)}}return function(Z,te,pe){return te&&W(Z.prototype,te),pe&&W(Z,pe),Z}}();r("better-assert");var Bt=r("./helpers.js"),nt=Bt.ArrayBufferCopy,Ot=Bt.CreateAlgorithmFromUnderlyingMethod,at=Bt.CreateIterResultObject,pt=Bt.IsFiniteNonNegativeNumber,Ft=Bt.InvokeOrNoop,Tr=Bt.IsDetachedBuffer,qt=Bt.TransferArrayBuffer,bt=Bt.ValidateAndNormalizeHighWaterMark;Bt.IsNonNegativeNumber;var To=Bt.MakeSizeAlgorithmFromSizeFunction,St=Bt.createArrayFromList,Ti=Bt.typeIsObject,nr=r("./utils.js"),or=nr.rethrowAssertionErrorRejection,Ra=r("./queue-with-sizes.js"),hr=Ra.DequeueValue,Ss=Ra.EnqueueValueWithSize,Wr=Ra.ResetQueue,an=r("./writable-stream.js"),Mu=an.AcquireWritableStreamDefaultWriter,zl=an.IsWritableStream,ai=an.IsWritableStreamLocked,Ka=an.WritableStreamAbort,Ei=an.WritableStreamDefaultWriterCloseWithErrorPropagation,Ts=an.WritableStreamDefaultWriterRelease,Ai=an.WritableStreamDefaultWriterWrite,Eo=an.WritableStreamCloseQueuedOrInFlight,hi=Symbol("[[CancelSteps]]"),w=Symbol("[[PullSteps]]"),_=function(){function W(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=te.size,ge=te.highWaterMark;s(this,W),d(this);var we=Z.type;if(String(we)==="bytes"){if(ge===void 0&&(ge=0),ge=bt(ge),pe!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");ht(this,Z,ge)}else{if(we!==void 0)throw new RangeError("Invalid type is specified");ge===void 0&&(ge=1),Be(this,Z,ge=bt(ge),To(pe))}}return ut(W,[{key:"cancel",value:function(te){return f(this)===!1?Promise.reject(Rt("cancel")):p(this)===!0?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):v(this,te)}},{key:"getReader",value:function(){var te=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).mode;if(f(this)===!1)throw Rt("getReader");if(te===void 0)return u(this);if((te=String(te))==="byob")return o(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(te,pe){var ge=te.writable,we=te.readable;if(ge===void 0||we===void 0)throw new TypeError("readable and writable arguments must be defined");return Ve(this.pipeTo(ge,pe)),we}},{key:"pipeTo",value:function(te){var pe=this,ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ge.preventClose,De=ge.preventAbort,Me=ge.preventCancel;if(f(this)===!1)return Promise.reject(Rt("pipeTo"));if(zl(te)===!1)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(we=Boolean(we),De=Boolean(De),Me=Boolean(Me),p(this)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(ai(te)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var Qe=u(this),We=Mu(te),oe=!1,Ee=Promise.resolve();return new Promise(function(Re,Ce){function Ge(){return oe===!0?Promise.resolve():We._readyPromise.then(function(){return J(Qe).then(function(Ht){var mr=Ht.value;Ht.done!==!0&&(Ee=Ai(We,mr).catch(function(){}))})}).then(Ge)}function Ye(){var Ht=Ee;return Ee.then(function(){return Ht!==Ee?Ye():void 0})}function At(Ht,mr,Vr){Ht._state==="errored"?Vr(Ht._storedError):mr.catch(Vr).catch(or)}function it(Ht,mr,Vr){function si(){Ht().then(function(){return xt(mr,Vr)},function(xi){return xt(!0,xi)}).catch(or)}oe!==!0&&(oe=!0,te._state==="writable"&&Eo(te)===!1?Ye().then(si):si())}function ir(Ht,mr){oe!==!0&&(oe=!0,te._state==="writable"&&Eo(te)===!1?Ye().then(function(){return xt(Ht,mr)}).catch(or):xt(Ht,mr))}function xt(Ht,mr){Ts(We),q(Qe),Ht?Ce(mr):Re(void 0)}if(At(pe,Qe._closedPromise,function(Ht){De===!1?it(function(){return Ka(te,Ht)},!0,Ht):ir(!0,Ht)}),At(te,We._closedPromise,function(Ht){Me===!1?it(function(){return v(pe,Ht)},!0,Ht):ir(!0,Ht)}),function(mr,Vr,si){mr._state==="closed"?si():Vr.then(si).catch(or)}(pe,Qe._closedPromise,function(){we===!1?it(function(){return Ei(We)}):ir()}),Eo(te)===!0||te._state==="closed"){var $t=new TypeError("the destination writable stream closed before all data could be piped to it");Me===!1?it(function(){return v(pe,$t)},!0,$t):ir(!0,$t)}Ge().catch(function(Ht){Ee=Promise.resolve(),or(Ht)})})}},{key:"tee",value:function(){if(f(this)===!1)throw Rt("tee");var te=g(this);return St(te)}},{key:"locked",get:function(){if(f(this)===!1)throw Rt("locked");return p(this)}}]),W}();n.exports={CreateReadableByteStream:c,CreateReadableStream:l,ReadableStream:_,IsReadableStreamDisturbed:h,ReadableStreamDefaultControllerClose:ve,ReadableStreamDefaultControllerEnqueue:Le,ReadableStreamDefaultControllerError:Xe,ReadableStreamDefaultControllerGetDesiredSize:ye,ReadableStreamDefaultControllerHasBackpressure:qe,ReadableStreamDefaultControllerCanCloseOrEnqueue:Te};var P=function(){function W(Z){if(s(this,W),f(Z)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(p(Z)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");Y(this,Z),this._readRequests=[]}return ut(W,[{key:"cancel",value:function(te){return k(this)===!1?Promise.reject(Jt("cancel")):this._ownerReadableStream===void 0?Promise.reject(Et("cancel")):ne(this,te)}},{key:"read",value:function(){return k(this)===!1?Promise.reject(Jt("read")):this._ownerReadableStream===void 0?Promise.reject(Et("read from")):J(this)}},{key:"releaseLock",value:function(){if(k(this)===!1)throw Jt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");q(this)}}},{key:"closed",get:function(){return k(this)===!1?Promise.reject(Jt("closed")):this._closedPromise}}]),W}(),L=function(){function W(Z){if(s(this,W),!f(Z))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(He(Z._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(p(Z))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Y(this,Z),this._readIntoRequests=[]}return ut(W,[{key:"cancel",value:function(te){return O(this)?this._ownerReadableStream===void 0?Promise.reject(Et("cancel")):ne(this,te):Promise.reject(Zr("cancel"))}},{key:"read",value:function(te){return O(this)?this._ownerReadableStream===void 0?Promise.reject(Et("read from")):ArrayBuffer.isView(te)?Tr(te.buffer)===!0?Promise.reject(new TypeError("Cannot read into a view onto a detached ArrayBuffer")):te.byteLength===0?Promise.reject(new TypeError("view must have non-zero byteLength")):H(this,te):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(Zr("read"))}},{key:"releaseLock",value:function(){if(!O(this))throw Zr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");q(this)}}},{key:"closed",get:function(){return O(this)?this._closedPromise:Promise.reject(Zr("closed"))}}]),W}(),G=function(){function W(){throw s(this,W),new TypeError}return ut(W,[{key:"close",value:function(){if(se(this)===!1)throw fa("close");if(Te(this)===!1)throw new TypeError("The stream is not in a state that permits close");ve(this)}},{key:"enqueue",value:function(te){if(se(this)===!1)throw fa("enqueue");if(Te(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return Le(this,te)}},{key:"error",value:function(te){if(se(this)===!1)throw fa("error");var pe=this._controlledReadableStream;if(pe._state!=="readable")throw new TypeError("The stream is "+pe._state+" and so cannot be errored");Xe(this,te)}},{key:hi,value:function(te){return Wr(this),this._cancelAlgorithm(te)}},{key:w,value:function(){var te=this._controlledReadableStream;if(this._queue.length>0){var pe=hr(this);return this._closeRequested===!0&&this._queue.length===0?A(te):ue(this),Promise.resolve(at(pe,!1))}var ge=S(te);return ue(this),ge}},{key:"desiredSize",get:function(){if(se(this)===!1)throw fa("desiredSize");return ye(this)}}]),W}(),ie=function(){function W(){throw s(this,W),new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return ut(W,[{key:"respond",value:function(te){if(ee(this)===!1)throw xr("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Tr(this._view.buffer)===!0)throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Ie(this._associatedReadableByteStreamController,te)}},{key:"respondWithNewView",value:function(te){if(ee(this)===!1)throw xr("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(te))throw new TypeError("You can only respond with array buffer views");if(Tr(te.buffer)===!0)throw new TypeError("The supplied view's buffer has been detached and so cannot be used as a response");ke(this._associatedReadableByteStreamController,te)}},{key:"view",get:function(){if(ee(this)===!1)throw xr("view");return this._view}}]),W}(),de=function(){function W(){throw s(this,W),new TypeError("ReadableByteStreamController constructor cannot be used directly")}return ut(W,[{key:"close",value:function(){if(He(this)===!1)throw Ae("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var te=this._controlledReadableByteStream._state;if(te!=="readable")throw new TypeError("The stream (in "+te+" state) is not in the readable state and cannot be closed");X(this)}},{key:"enqueue",value:function(te){if(He(this)===!1)throw Ae("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var pe=this._controlledReadableByteStream._state;if(pe!=="readable")throw new TypeError("The stream (in "+pe+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(te))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(Tr(te.buffer)===!0)throw new TypeError("Cannot enqueue a view onto a detached ArrayBuffer");$(this,te)}},{key:"error",value:function(te){if(He(this)===!1)throw Ae("error");var pe=this._controlledReadableByteStream;if(pe._state!=="readable")throw new TypeError("The stream is "+pe._state+" and so cannot be errored");U(this,te)}},{key:hi,value:function(te){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),Wr(this),this._cancelAlgorithm(te)}},{key:w,value:function(){var te=this._controlledReadableByteStream;if(this._queueTotalSize>0){var pe=this._queue.shift();this._queueTotalSize-=pe.byteLength,ae(this);var ge=void 0;try{ge=new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength)}catch(We){return Promise.reject(We)}return Promise.resolve(at(ge,!1))}var we=this._autoAllocateChunkSize;if(we!==void 0){var De=void 0;try{De=new ArrayBuffer(we)}catch(We){return Promise.reject(We)}var Me={buffer:De,byteOffset:0,byteLength:we,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Me)}var Qe=S(te);return j(this),Qe}},{key:"byobRequest",get:function(){if(He(this)===!1)throw Ae("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){var te=this._pendingPullIntos[0],pe=new Uint8Array(te.buffer,te.byteOffset+te.bytesFilled,te.byteLength-te.bytesFilled),ge=Object.create(ie.prototype);_t(ge,this,pe),this._byobRequest=ge}return this._byobRequest}},{key:"desiredSize",get:function(){if(He(this)===!1)throw Ae("desiredSize");return V(this)}}]),W}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"./writable-stream.js":15,"better-assert":16}],13:[function(r,n,a){function s(ee,j){if(!(ee instanceof j))throw new TypeError("Cannot call a class as a function")}function o(ee,j,b){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,z=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){return 1},Q=Object.create(Be.prototype),ae=void 0;u(Q,new Promise(function(fe){ae=fe}),m,C,B,z),p(Q,Object.create(He.prototype),j,b);var ce=ee();return ae(ce),Q}function u(ee,j,b,m,C,B){function z(){return j}ee._writable=Te(z,function(ae){return A(ee,ae)},function(){return T(ee)},function(){return E(ee)},b,m),ee._readable=ue(z,function(){return R(ee)},function(ae){return d(ee,ae),Promise.resolve()},C,B),ee._backpressure=void 0,ee._backpressureChangePromise=void 0,ee._backpressureChangePromise_resolve=void 0,f(ee,!0),ee._transformStreamController=void 0}function l(ee){return!!q(ee)&&!!Object.prototype.hasOwnProperty.call(ee,"_transformStreamController")}function c(ee,j){N("TransformStreamError()"),ee._readable._state==="readable"&&Le(ee._readable._readableStreamController,j),d(ee,j)}function d(ee,j){Oe(ee._writable._writableStreamController,j),ee._backpressure===!0&&f(ee,!1)}function f(ee,j){N("TransformStreamSetBackpressure() [backpressure = "+j+"]"),ee._backpressureChangePromise!==void 0&&ee._backpressureChangePromise_resolve(),ee._backpressureChangePromise=new Promise(function(b){ee._backpressureChangePromise_resolve=b}),ee._backpressure=j}function h(ee){return!!q(ee)&&!!Object.prototype.hasOwnProperty.call(ee,"_controlledTransformStream")}function p(ee,j,b,m){j._controlledTransformStream=ee,ee._transformStreamController=j,j._transformAlgorithm=b,j._flushAlgorithm=m}function g(ee,j){var b=Object.create(He.prototype),m=function(Q){try{return y(b,Q),Promise.resolve()}catch(ae){return Promise.reject(ae)}},C=j.transform;if(C!==void 0){if(typeof C!="function")throw new TypeError("transform is not a method");m=function(Q){return ne(C,j,[Q,b]).catch(function(ae){throw c(ee,ae),ae})}}var B=Y(j,"flush",0,[b]);p(ee,b,m,B)}function y(ee,j){N("TransformStreamDefaultControllerEnqueue()");var b=ee._controlledTransformStream,m=b._readable._readableStreamController;if(ye(m)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{ve(m,j)}catch(C){throw d(b,C),b._readable._storedError}Ne(m)!==b._backpressure&&f(b,!0)}function S(ee,j){c(ee._controlledTransformStream,j)}function v(ee){N("TransformStreamDefaultControllerTerminate()");var j=ee._controlledTransformStream,b=j._readable._readableStreamController;ye(b)===!0&&Se(b),d(j,new TypeError("TransformStream terminated"))}function A(ee,j){N("TransformStreamDefaultSinkWriteAlgorithm()");var b=ee._transformStreamController;return ee._backpressure===!0?ee._backpressureChangePromise.then(function(){var m=ee._writable;if(m._state==="erroring")throw m._storedError;return b._transformAlgorithm(j)}):b._transformAlgorithm(j)}function E(ee){return c(ee,new TypeError("Writable side aborted")),Promise.resolve()}function T(ee){N("TransformStreamDefaultSinkCloseAlgorithm()");var j=ee._readable;return ee._transformStreamController._flushAlgorithm().then(function(){if(j._state==="errored")throw j._storedError;var b=j._readableStreamController;ye(b)===!0&&Se(b)}).catch(function(b){throw c(ee,b),j._storedError})}function R(ee){return N("TransformStreamDefaultSourcePullAlgorithm()"),f(ee,!1),ee._backpressureChangePromise}function I(ee){return new TypeError("TransformStreamDefaultController.prototype."+ee+" can only be used on a TransformStreamDefaultController")}function D(ee){return new TypeError("TransformStream.prototype."+ee+" can only be used on a TransformStream")}var M=function(){function ee(j,b){for(var m=0;m<b.length;m++){var C=b[m];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(j,C.key,C)}}return function(j,b,m){return b&&ee(j.prototype,b),m&&ee(j,m),j}}();r("better-assert");var N=r("debug")("streams:transform-stream:verbose"),O=r("./helpers.js"),k=O.InvokeOrNoop,Y=O.CreateAlgorithmFromUnderlyingMethod,ne=O.PromiseCall,q=O.typeIsObject,H=O.ValidateAndNormalizeHighWaterMark;O.IsNonNegativeNumber;var J=O.MakeSizeAlgorithmFromSizeFunction,se=r("./readable-stream.js"),ue=se.CreateReadableStream,Se=se.ReadableStreamDefaultControllerClose,ve=se.ReadableStreamDefaultControllerEnqueue,Le=se.ReadableStreamDefaultControllerError,Xe=se.ReadableStreamDefaultControllerGetDesiredSize,Ne=se.ReadableStreamDefaultControllerHasBackpressure,ye=se.ReadableStreamDefaultControllerCanCloseOrEnqueue,qe=r("./writable-stream.js"),Te=qe.CreateWritableStream,Oe=qe.WritableStreamDefaultControllerErrorIfNeeded,Be=function(){function ee(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s(this,ee),j.readableType!==void 0)throw new RangeError("Invalid readable type specified");if(j.writableType!==void 0)throw new RangeError("Invalid writable type specified");var C=b.size,B=J(C),z=b.highWaterMark;z===void 0&&(z=1),z=H(z);var Q=m.size,ae=J(Q),ce=m.highWaterMark;ce===void 0&&(ce=0),ce=H(ce);var fe=void 0;u(this,new Promise(function(je){fe=je}),z,B,ce,ae),g(this,j);var be=k(j,"start",[this._transformStreamController]);fe(be)}return M(ee,[{key:"readable",get:function(){if(l(this)===!1)throw D("readable");return this._readable}},{key:"writable",get:function(){if(l(this)===!1)throw D("writable");return this._writable}}]),ee}(),He=function(){function ee(){throw s(this,ee),new TypeError("TransformStreamDefaultController instances cannot be created directly")}return M(ee,[{key:"enqueue",value:function(b){if(h(this)===!1)throw I("enqueue");y(this,b)}},{key:"error",value:function(b){if(h(this)===!1)throw I("error");S(this,b)}},{key:"terminate",value:function(){if(h(this)===!1)throw I("terminate");v(this)}},{key:"desiredSize",get:function(){if(h(this)===!1)throw I("desiredSize");var b=this._controlledTransformStream._readable._readableStreamController;return Xe(b)}}]),ee}();n.exports={CreateTransformStream:o,TransformStream:Be}},{"./helpers.js":10,"./readable-stream.js":12,"./writable-stream.js":15,"better-assert":16,debug:18}],14:[function(r,n,a){var s=r("better-assert");a.rethrowAssertionErrorRejection=function(o){o&&o.constructor===s.AssertionError&&setTimeout(function(){throw o},0)}},{"better-assert":16}],15:[function(r,n,a){function s(Ae,Ve){if(!(Ae instanceof Ve))throw new TypeError("Cannot call a class as a function")}function o(Ae){return new fa(Ae)}function u(Ae,Ve,ut,Bt){var nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,Ot=arguments.length>5&&arguments[5]!==void 0?arguments[5]:function(){return 1},at=Object.create(Zr.prototype);return l(at),ve(at,Object.create(xr.prototype),Ae,Ve,ut,Bt,nt,Ot),at}function l(Ae){Ae._state="writable",Ae._storedError=void 0,Ae._writer=void 0,Ae._writableStreamController=void 0,Ae._writeRequests=[],Ae._inFlightWriteRequest=void 0,Ae._closeRequest=void 0,Ae._inFlightCloseRequest=void 0,Ae._pendingAbortRequest=void 0,Ae._backpressure=!1}function c(Ae){return!!_t(Ae)&&!!Object.prototype.hasOwnProperty.call(Ae,"_writableStreamController")}function d(Ae){return Ae._writer!==void 0}function f(Ae,Ve){var ut=Ae._state;if(ut==="closed")return Promise.resolve(void 0);if(ut==="errored")return Promise.reject(Ae._storedError);var Bt=new TypeError("Requested to abort");if(Ae._pendingAbortRequest!==void 0)return Promise.reject(Bt);var nt=!1;ut==="erroring"&&(nt=!0,Ve=void 0);var Ot=new Promise(function(at,pt){Ae._pendingAbortRequest={_resolve:at,_reject:pt,_reason:Ve,_wasAlreadyErroring:nt}});return nt===!1&&g(Ae,Bt),Ot}function h(Ae){return new Promise(function(Ve,ut){var Bt={_resolve:Ve,_reject:ut};Ae._writeRequests.push(Bt)})}function p(Ae,Ve){U("WritableStreamDealWithRejection(stream, %o)",Ve),Ae._state!=="writable"?y(Ae):g(Ae,Ve)}function g(Ae,Ve){U("WritableStreamStartErroring(stream, %o)",Ve);var ut=Ae._writableStreamController;Ae._state="erroring",Ae._storedError=Ve;var Bt=Ae._writer;Bt!==void 0&&H(Bt,Ve),R(Ae)===!1&&ut._started===!0&&y(Ae)}function y(Ae){U("WritableStreamFinishErroring()"),Ae._state="errored",Ae._writableStreamController[Ur]();var Ve=Ae._storedError,ut=!0,Bt=!1,nt=void 0;try{for(var Ot,at=Ae._writeRequests[Symbol.iterator]();!(ut=(Ot=at.next()).done);ut=!0)Ot.value._reject(Ve)}catch(Ft){Bt=!0,nt=Ft}finally{try{!ut&&at.return&&at.return()}finally{if(Bt)throw nt}}if(Ae._writeRequests=[],Ae._pendingAbortRequest!==void 0){var pt=Ae._pendingAbortRequest;if(Ae._pendingAbortRequest=void 0,pt._wasAlreadyErroring===!0)return pt._reject(Ve),void M(Ae);Ae._writableStreamController[yr](pt._reason).then(function(){pt._resolve(),M(Ae)},function(Ft){pt._reject(Ft),M(Ae)})}else M(Ae)}function S(Ae){Ae._inFlightWriteRequest._resolve(void 0),Ae._inFlightWriteRequest=void 0}function v(Ae,Ve){Ae._inFlightWriteRequest._reject(Ve),Ae._inFlightWriteRequest=void 0,p(Ae,Ve)}function A(Ae){Ae._inFlightCloseRequest._resolve(void 0),Ae._inFlightCloseRequest=void 0,Ae._state==="erroring"&&(Ae._storedError=void 0,Ae._pendingAbortRequest!==void 0&&(Ae._pendingAbortRequest._resolve(),Ae._pendingAbortRequest=void 0)),Ae._state="closed";var Ve=Ae._writer;Ve!==void 0&&fe(Ve)}function E(Ae,Ve){Ae._inFlightCloseRequest._reject(Ve),Ae._inFlightCloseRequest=void 0,Ae._pendingAbortRequest!==void 0&&(Ae._pendingAbortRequest._reject(Ve),Ae._pendingAbortRequest=void 0),p(Ae,Ve)}function T(Ae){return Ae._closeRequest!==void 0||Ae._inFlightCloseRequest!==void 0}function R(Ae){return Ae._inFlightWriteRequest===void 0&&Ae._inFlightCloseRequest===void 0?(U("WritableStreamHasOperationMarkedInFlight() is false"),!1):(U("WritableStreamHasOperationMarkedInFlight() is true"),!0)}function I(Ae){Ae._inFlightCloseRequest=Ae._closeRequest,Ae._closeRequest=void 0}function D(Ae){Ae._inFlightWriteRequest=Ae._writeRequests.shift()}function M(Ae){U("WritableStreamRejectCloseAndClosedPromiseIfNeeded()"),Ae._closeRequest!==void 0&&(Ae._closeRequest._reject(Ae._storedError),Ae._closeRequest=void 0);var Ve=Ae._writer;Ve!==void 0&&(ae(Ve,Ae._storedError),Ve._closedPromise.catch(function(){}))}function N(Ae,Ve){var ut=Ae._writer;ut!==void 0&&Ve!==Ae._backpressure&&(Ve===!0?re(ut):X(ut)),Ae._backpressure=Ve}function O(Ae){return!!_t(Ae)&&!!Object.prototype.hasOwnProperty.call(Ae,"_ownerWritableStream")}function k(Ae,Ve){return f(Ae._ownerWritableStream,Ve)}function Y(Ae){var Ve=Ae._ownerWritableStream,ut=Ve._state;if(ut==="closed"||ut==="errored")return Promise.reject(new TypeError("The stream (in "+ut+" state) is not in the writable state and cannot be closed"));var Bt=new Promise(function(nt,Ot){var at={_resolve:nt,_reject:Ot};Ve._closeRequest=at});return Ve._backpressure===!0&&ut==="writable"&&X(Ae),Xe(Ve._writableStreamController),Bt}function ne(Ae){var Ve=Ae._ownerWritableStream,ut=Ve._state;return T(Ve)===!0||ut==="closed"?Promise.resolve():ut==="errored"?Promise.reject(Ve._storedError):Y(Ae)}function q(Ae,Ve){Ae._closedPromiseState==="pending"?ae(Ae,Ve):ce(Ae,Ve),Ae._closedPromise.catch(function(){})}function H(Ae,Ve){U("WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)",Ve),Ae._readyPromiseState==="pending"?Ke(Ae,Ve):le(Ae,Ve),Ae._readyPromise.catch(function(){})}function J(Ae){var Ve=Ae._ownerWritableStream,ut=Ve._state;return ut==="errored"||ut==="erroring"?null:ut==="closed"?0:ye(Ve._writableStreamController)}function se(Ae){var Ve=Ae._ownerWritableStream,ut=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");H(Ae,ut),q(Ae,ut),Ve._writer=void 0,Ae._ownerWritableStream=void 0}function ue(Ae,Ve){var ut=Ae._ownerWritableStream,Bt=ut._writableStreamController,nt=Ne(Bt,Ve);if(ut!==Ae._ownerWritableStream)return Promise.reject(C("write to"));var Ot=ut._state;if(Ot==="errored")return Promise.reject(ut._storedError);if(T(ut)===!0||Ot==="closed")return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if(Ot==="erroring")return Promise.reject(ut._storedError);var at=h(ut);return qe(Bt,Ve,nt),at}function Se(Ae){return!!_t(Ae)&&!!Object.prototype.hasOwnProperty.call(Ae,"_controlledWritableStream")}function ve(Ae,Ve,ut,Bt,nt,Ot,at,pt){Ve._controlledWritableStream=Ae,Ae._writableStreamController=Ve,Ve._queue=void 0,Ve._queueTotalSize=void 0,Qr(Ve),Ve._started=!1,Ve._strategySizeAlgorithm=pt,Ve._strategyHWM=at,Ve._writeAlgorithm=Bt,Ve._closeAlgorithm=nt,Ve._abortAlgorithm=Ot;var Ft=ee(Ve);N(Ae,Ft);var Tr=ut();Promise.resolve(Tr).then(function(){Ve._started=!0,Te(Ve)},function(qt){Ve._started=!0,p(Ae,qt)}).catch(Et)}function Le(Ae,Ve,ut,Bt){var nt=Object.create(xr.prototype),Ot=Ie(Ve,"write",1,[nt]),at=Ie(Ve,"close",0,[]),pt=Ie(Ve,"abort",1,[]);ve(Ae,nt,function(){return ke(Ve,"start",[nt])},Ot,at,pt,ut,Bt)}function Xe(Ae){gr(Ae,"close",0),Te(Ae)}function Ne(Ae,Ve){try{return Ae._strategySizeAlgorithm(Ve)}catch(ut){return Oe(Ae,ut),1}}function ye(Ae){return Ae._strategyHWM-Ae._queueTotalSize}function qe(Ae,Ve,ut){var Bt={chunk:Ve};try{gr(Ae,Bt,ut)}catch(Ot){return void Oe(Ae,Ot)}var nt=Ae._controlledWritableStream;T(nt)===!1&&nt._state==="writable"&&N(nt,ee(Ae)),Te(Ae)}function Te(Ae){U("WritableStreamDefaultControllerAdvanceQueueIfNeeded()");var Ve=Ae._controlledWritableStream;if(Ae._started!==!1&&Ve._inFlightWriteRequest===void 0){var ut=Ve._state;if(ut!=="closed"&&ut!=="errored")if(ut!=="erroring"){if(Ae._queue.length!==0){var Bt=ar(Ae);Bt==="close"?Be(Ae):He(Ae,Bt.chunk)}}else y(Ve)}}function Oe(Ae,Ve){Ae._controlledWritableStream._state==="writable"&&j(Ae,Ve)}function Be(Ae){var Ve=Ae._controlledWritableStream;I(Ve),Cn(Ae),Ae._closeAlgorithm().then(function(){A(Ve)},function(ut){E(Ve,ut)}).catch(Et)}function He(Ae,Ve){var ut=Ae._controlledWritableStream;D(ut),Ae._writeAlgorithm(Ve).then(function(){S(ut);var Bt=ut._state;if(Cn(Ae),T(ut)===!1&&Bt==="writable"){var nt=ee(Ae);N(ut,nt)}Te(Ae)},function(Bt){v(ut,Bt)}).catch(Et)}function ee(Ae){return ye(Ae)<=0}function j(Ae,Ve){g(Ae._controlledWritableStream,Ve)}function b(Ae){return new TypeError("WritableStream.prototype."+Ae+" can only be used on a WritableStream")}function m(Ae){return new TypeError("WritableStreamDefaultWriter.prototype."+Ae+" can only be used on a WritableStreamDefaultWriter")}function C(Ae){return new TypeError("Cannot "+Ae+" a stream using a released writer")}function B(Ae){Ae._closedPromise=new Promise(function(Ve,ut){Ae._closedPromise_resolve=Ve,Ae._closedPromise_reject=ut,Ae._closedPromiseState="pending"})}function z(Ae,Ve){Ae._closedPromise=Promise.reject(Ve),Ae._closedPromise_resolve=void 0,Ae._closedPromise_reject=void 0,Ae._closedPromiseState="rejected"}function Q(Ae){Ae._closedPromise=Promise.resolve(void 0),Ae._closedPromise_resolve=void 0,Ae._closedPromise_reject=void 0,Ae._closedPromiseState="resolved"}function ae(Ae,Ve){Ae._closedPromise_reject(Ve),Ae._closedPromise_resolve=void 0,Ae._closedPromise_reject=void 0,Ae._closedPromiseState="rejected"}function ce(Ae,Ve){Ae._closedPromise=Promise.reject(Ve),Ae._closedPromiseState="rejected"}function fe(Ae){Ae._closedPromise_resolve(void 0),Ae._closedPromise_resolve=void 0,Ae._closedPromise_reject=void 0,Ae._closedPromiseState="resolved"}function be(Ae){U("defaultWriterReadyPromiseInitialize()"),Ae._readyPromise=new Promise(function(Ve,ut){Ae._readyPromise_resolve=Ve,Ae._readyPromise_reject=ut}),Ae._readyPromiseState="pending"}function je(Ae,Ve){U("defaultWriterReadyPromiseInitializeAsRejected(writer, %o)",Ve),Ae._readyPromise=Promise.reject(Ve),Ae._readyPromise_resolve=void 0,Ae._readyPromise_reject=void 0,Ae._readyPromiseState="rejected"}function $e(Ae){U("defaultWriterReadyPromiseInitializeAsResolved()"),Ae._readyPromise=Promise.resolve(void 0),Ae._readyPromise_resolve=void 0,Ae._readyPromise_reject=void 0,Ae._readyPromiseState="fulfilled"}function Ke(Ae,Ve){U("defaultWriterReadyPromiseReject(writer, %o)",Ve),Ae._readyPromise_reject(Ve),Ae._readyPromise_resolve=void 0,Ae._readyPromise_reject=void 0,Ae._readyPromiseState="rejected"}function re(Ae){U("defaultWriterReadyPromiseReset()"),Ae._readyPromise=new Promise(function(Ve,ut){Ae._readyPromise_resolve=Ve,Ae._readyPromise_reject=ut}),Ae._readyPromiseState="pending"}function le(Ae,Ve){U("defaultWriterReadyPromiseResetToRejected(writer, %o)",Ve),Ae._readyPromise=Promise.reject(Ve),Ae._readyPromiseState="rejected"}function X(Ae){U("defaultWriterReadyPromiseResolve()"),Ae._readyPromise_resolve(void 0),Ae._readyPromise_resolve=void 0,Ae._readyPromise_reject=void 0,Ae._readyPromiseState="fulfilled"}var $=function(){function Ae(Ve,ut){for(var Bt=0;Bt<ut.length;Bt++){var nt=ut[Bt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(Ve,nt.key,nt)}}return function(Ve,ut,Bt){return ut&&Ae(Ve.prototype,ut),Bt&&Ae(Ve,Bt),Ve}}();r("better-assert");var U=r("debug")("streams:writable-stream:verbose"),V=r("./helpers.js"),Ie=V.CreateAlgorithmFromUnderlyingMethod,ke=V.InvokeOrNoop,Pe=V.ValidateAndNormalizeHighWaterMark;V.IsNonNegativeNumber;var ht=V.MakeSizeAlgorithmFromSizeFunction,_t=V.typeIsObject,Rt=r("./utils.js"),Et=Rt.rethrowAssertionErrorRejection,Jt=r("./queue-with-sizes.js"),Cn=Jt.DequeueValue,gr=Jt.EnqueueValueWithSize,ar=Jt.PeekQueueValue,Qr=Jt.ResetQueue,yr=Symbol("[[AbortSteps]]"),Ur=Symbol("[[ErrorSteps]]"),Zr=function(){function Ae(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Bt=ut.size,nt=ut.highWaterMark,Ot=nt===void 0?1:nt;if(s(this,Ae),l(this),Ve.type!==void 0)throw new RangeError("Invalid type is specified");var at=ht(Bt);Le(this,Ve,Ot=Pe(Ot),at)}return $(Ae,[{key:"abort",value:function(ut){return c(this)===!1?Promise.reject(b("abort")):d(this)===!0?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):f(this,ut)}},{key:"getWriter",value:function(){if(c(this)===!1)throw b("getWriter");return o(this)}},{key:"locked",get:function(){if(c(this)===!1)throw b("locked");return d(this)}}]),Ae}();n.exports={AcquireWritableStreamDefaultWriter:o,CreateWritableStream:u,IsWritableStream:c,IsWritableStreamLocked:d,WritableStream:Zr,WritableStreamAbort:f,WritableStreamDefaultControllerErrorIfNeeded:Oe,WritableStreamDefaultWriterCloseWithErrorPropagation:ne,WritableStreamDefaultWriterRelease:se,WritableStreamDefaultWriterWrite:ue,WritableStreamCloseQueuedOrInFlight:T};var fa=function(){function Ae(Ve){if(s(this,Ae),c(Ve)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(d(Ve)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=Ve,Ve._writer=this;var ut=Ve._state;if(ut==="writable")T(Ve)===!1&&Ve._backpressure===!0?be(this):$e(this),B(this);else if(ut==="erroring")je(this,Ve._storedError),this._readyPromise.catch(function(){}),B(this);else if(ut==="closed")$e(this),Q(this);else{var Bt=Ve._storedError;je(this,Bt),this._readyPromise.catch(function(){}),z(this,Bt),this._closedPromise.catch(function(){})}}return $(Ae,[{key:"abort",value:function(ut){return O(this)===!1?Promise.reject(m("abort")):this._ownerWritableStream===void 0?Promise.reject(C("abort")):k(this,ut)}},{key:"close",value:function(){if(O(this)===!1)return Promise.reject(m("close"));var ut=this._ownerWritableStream;return ut===void 0?Promise.reject(C("close")):T(ut)===!0?Promise.reject(new TypeError("cannot close an already-closing stream")):Y(this)}},{key:"releaseLock",value:function(){if(O(this)===!1)throw m("releaseLock");this._ownerWritableStream!==void 0&&se(this)}},{key:"write",value:function(ut){return O(this)===!1?Promise.reject(m("write")):this._ownerWritableStream===void 0?Promise.reject(C("write to")):ue(this,ut)}},{key:"closed",get:function(){return O(this)===!1?Promise.reject(m("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(O(this)===!1)throw m("desiredSize");if(this._ownerWritableStream===void 0)throw C("desiredSize");return J(this)}},{key:"ready",get:function(){return O(this)===!1?Promise.reject(m("ready")):this._readyPromise}}]),Ae}(),xr=function(){function Ae(){throw s(this,Ae),new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return $(Ae,[{key:"error",value:function(ut){if(Se(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&j(this,ut)}},{key:yr,value:function(ut){return this._abortAlgorithm(ut)}},{key:Ur,value:function(){Qr(this)}}]),Ae}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"better-assert":16,debug:18}],16:[function(r,n,a){(function(s){function o(d){if(!d){var f=l(),h=f[1],p=h.getFileName(),g=h.getLineNumber(),y=(y=c.readFileSync(p,"utf8")).split(`
`)[g-1].match(/assert\((.*)\)/)[1];throw new u({message:y,stackStartFunction:f[0].getFunction()})}}var u=r("assert").AssertionError,l=r("callsite"),c=r("fs");n.exports={}.NO_ASSERT?function(){}:o}).call(this,r("_process"))},{_process:4,assert:2,callsite:17,fs:3}],17:[function(r,n,a){n.exports=function(){var s=Error.prepareStackTrace;Error.prepareStackTrace=function(l,c){return c};var o=new Error;Error.captureStackTrace(o,arguments.callee);var u=o.stack;return Error.prepareStackTrace=s,u}},{}],18:[function(r,n,a){(function(s){function o(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function u(h){var p=this.useColors;if(h[0]=(p?"%c":"")+this.namespace+(p?" %c":" ")+h[0]+(p?"%c ":" ")+"+"+a.humanize(this.diff),p){var g="color: "+this.color;h.splice(1,0,g,"color: inherit");var y=0,S=0;h[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(y++,v==="%c"&&(S=y))}),h.splice(S,0,g)}}function l(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(h){try{h==null?a.storage.removeItem("debug"):a.storage.debug=h}catch{}}function d(){var h;try{h=a.storage.debug}catch{}return!h&&typeof s<"u"&&"env"in s&&(h={}.DEBUG),h}function f(){try{return window.localStorage}catch{}}a=n.exports=r("./debug"),a.log=l,a.formatArgs=u,a.save=c,a.load=d,a.useColors=o,a.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:f(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],a.formatters.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}},a.enable(d())}).call(this,r("_process"))},{"./debug":19,_process:4}],19:[function(r,n,a){function s(h){var p,g=0;for(p in h)g=(g<<5)-g+h.charCodeAt(p),g|=0;return a.colors[Math.abs(g)%a.colors.length]}function o(h){function p(){if(p.enabled){var y=p,S=+new Date,v=S-(g||S);y.diff=v,y.prev=g,y.curr=S,g=S;for(var A=new Array(arguments.length),E=0;E<A.length;E++)A[E]=arguments[E];A[0]=a.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");var T=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,function(R,I){if(R==="%%")return R;T++;var D=a.formatters[I];if(typeof D=="function"){var M=A[T];R=D.call(y,M),A.splice(T,1),T--}return R}),a.formatArgs.call(y,A),(p.log||a.log||console.log.bind(console)).apply(y,A)}}var g;return p.namespace=h,p.enabled=a.enabled(h),p.useColors=a.useColors(),p.color=s(h),p.destroy=u,typeof a.init=="function"&&a.init(p),a.instances.push(p),p}function u(){var h=a.instances.indexOf(this);return h!==-1&&(a.instances.splice(h,1),!0)}function l(h){a.save(h),a.names=[],a.skips=[];var p,g=(typeof h=="string"?h:"").split(/[\s,]+/),y=g.length;for(p=0;p<y;p++)g[p]&&((h=g[p].replace(/\*/g,".*?"))[0]==="-"?a.skips.push(new RegExp("^"+h.substr(1)+"$")):a.names.push(new RegExp("^"+h+"$")));for(p=0;p<a.instances.length;p++){var S=a.instances[p];S.enabled=a.enabled(S.namespace)}}function c(){a.enable("")}function d(h){if(h[h.length-1]==="*")return!0;var p,g;for(p=0,g=a.skips.length;p<g;p++)if(a.skips[p].test(h))return!1;for(p=0,g=a.names.length;p<g;p++)if(a.names[p].test(h))return!0;return!1}function f(h){return h instanceof Error?h.stack||h.message:h}a=n.exports=o.debug=o.default=o,a.coerce=f,a.disable=c,a.enable=l,a.enabled=d,a.humanize=r("ms"),a.instances=[],a.names=[],a.skips=[],a.formatters={}},{ms:20}],20:[function(r,n,a){function s(g){if(!((g=String(g)).length>100)){var y=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(g);if(y){var S=parseFloat(y[1]);switch((y[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return S*p;case"days":case"day":case"d":return S*h;case"hours":case"hour":case"hrs":case"hr":case"h":return S*f;case"minutes":case"minute":case"mins":case"min":case"m":return S*d;case"seconds":case"second":case"secs":case"sec":case"s":return S*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return S;default:return}}}}function o(g){return g>=h?Math.round(g/h)+"d":g>=f?Math.round(g/f)+"h":g>=d?Math.round(g/d)+"m":g>=c?Math.round(g/c)+"s":g+"ms"}function u(g){return l(g,h,"day")||l(g,f,"hour")||l(g,d,"minute")||l(g,c,"second")||g+" ms"}function l(g,y,S){if(!(g<y))return g<1.5*y?Math.floor(g/y)+" "+S:Math.ceil(g/y)+" "+S+"s"}var c=1e3,d=60*c,f=60*d,h=24*f,p=365.25*h;n.exports=function(g,y){y=y||{};var S=typeof g;if(S==="string"&&g.length>0)return s(g);if(S==="number"&&isNaN(g)===!1)return y.long?u(g):o(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))}},{}]},{},[1])(1)})}(vOe)),cE}const zc=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";zc.writable=t=>zc(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";zc.readable=t=>zc(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";zc.duplex=t=>zc.writable(t)&&zc.readable(t);zc.transform=t=>zc.duplex(t)&&typeof t._transform=="function";var cJ=zc,Y4={},_Oe={get exports(){return Y4},set exports(t){Y4=t}};(function(t){t.exports=e,t.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function e(r){if(!t.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var n=!1,a={};function s(l){a.data=d,a.end=d,a.end=f,a.close=f,a.error=f;for(var c in a)r.on(c,a[c]);r.pause();function d(h){n||(l.enqueue(h),r.pause())}function f(h){if(!n){n=!0;for(var p in a)r.removeListener(p,a[p]);h?l.error(h):l.close()}}}function o(){n||r.resume()}function u(){n=!0;for(var l in a)r.removeListener(l,a[l]);r.push(null),r.pause(),r.destroy?r.destroy():r.close&&r.close()}return new ReadableStream({start:s,pull:o,cancel:u})}})(_Oe);Object.defineProperty(eR,"__esModule",{value:!0});eR.ActorHttp=void 0;const wOe=Ut,SOe=Iw;globalThis.ReadableStream||(globalThis.ReadableStream=bOe().ReadableStream);const TOe=cJ,EOe=Y4;class AOe extends wOe.Actor{constructor(e){super(e)}static toNodeReadable(e){return TOe(e)||e===null?e:new SOe.ReadableWebToNodeStream(e)}static toWebReadableStream(e){return EOe(e)}static headersToHash(e){const r={};return e.forEach((n,a)=>{r[a]=n}),r}}eR.ActorHttp=AOe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(eR,t)})(td);Object.defineProperty(ZO,"__esModule",{value:!0});ZO.validateHttpResponse=void 0;const xOe=td,OOe=V0;async function ROe(t,e){var r;if(e.status>=400){let n="empty response";if(e.body){const a=xOe.ActorHttp.toNodeReadable(e.body);n=await OOe(a)}throw new Error(`Could not update ${t} (HTTP status ${e.status}):
${n}`)}await((r=e.body)==null?void 0:r.cancel())}ZO.validateHttpResponse=ROe;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.getContextDestinationUrl=ds.getContextDestinationFirst=ds.getContextDestination=ds.getDataDestinationContext=ds.getDataDestinationValue=ds.getDataDestinationType=ds.isDataDestinationRawType=void 0;const Z4=cn;function dJ(t){return typeof t=="string"||"remove"in t}ds.isDataDestinationRawType=dJ;function IOe(t){return typeof t=="string"?"":"remove"in t?"rdfjsStore":t.type}ds.getDataDestinationType=IOe;function fJ(t){return dJ(t)?t:t.value}ds.getDataDestinationValue=fJ;function POe(t,e){return typeof t=="string"||"remove"in t||!t.context?e:e.merge(t.context)}ds.getDataDestinationContext=POe;function COe(t){return t.get(Z4.KeysRdfUpdateQuads.destination)}ds.getContextDestination=COe;function DOe(t){if(t.has(Z4.KeysRdfUpdateQuads.destination))return t.get(Z4.KeysRdfUpdateQuads.destination)}ds.getContextDestinationFirst=DOe;function NOe(t){if(t){let e=fJ(t);if(typeof e=="string"){const r=e.indexOf("#");return r>=0&&(e=e.slice(0,r)),e}}}ds.getContextDestinationUrl=NOe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ow,t),r(Th,t),r(ZO,t),r(ds,t)})(Vm);var nR={};Object.defineProperty(nR,"__esModule",{value:!0});nR.RdfJsQuadDestination=void 0;const FOe=lr,mk=dn,LOe=new FOe.DataFactory;class jOe{constructor(e){this.store=e}promisifyEventEmitter(e){return new Promise((r,n)=>{e.on("end",r),e.on("error",n)})}delete(e){return this.promisifyEventEmitter(this.store.remove(e))}insert(e){return this.promisifyEventEmitter(this.store.import(e))}async deleteGraphs(e,r,n){switch(e){case"ALL":await this.promisifyEventEmitter(this.store.deleteGraph(LOe.defaultGraph()));case"NAMED":const a=this.store.match(),s={};a.on("data",o=>{o.graph.termType!=="DefaultGraph"&&(s[(0,mk.termToString)(o.graph)]=!0)}),await this.promisifyEventEmitter(a),await Promise.all(Object.keys(s).map(o=>this.promisifyEventEmitter(this.store.deleteGraph((0,mk.stringToTerm)(o)))));break;default:for(const o of Array.isArray(e)?e:[e])await this.promisifyEventEmitter(this.store.deleteGraph(o))}}async createGraphs(e,r){if(r)for(const n of e){const a=this.store.match(void 0,void 0,void 0,n);await new Promise((s,o)=>{a.once("data",()=>{o(new Error(`Unable to create graph ${n.value} as it already exists`))}),a.on("end",s),a.on("error",o)})}}}nR.RdfJsQuadDestination=jOe;Object.defineProperty(JO,"__esModule",{value:!0});JO.ActorRdfUpdateQuadsRdfJsStore=void 0;const kD=Vm,MOe=nR;class BOe extends kD.ActorRdfUpdateQuadsDestination{constructor(e){super(e)}async test(e){const r=(0,kD.getContextDestination)(e.context);if(!r||typeof r=="string"||!("remove"in r)&&"value"in r&&!r.value.remove)throw new Error(`${this.name} received an invalid rdfjsStore.`);return!0}async getDestination(e){const r=(0,kD.getContextDestination)(e);return new MOe.RdfJsQuadDestination("remove"in r?r:r.value)}}JO.ActorRdfUpdateQuadsRdfJsStore=BOe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(JO,t)})(JX);var hJ={},iR={};(function(t){(function(e){var r=typeof globalThis<"u"&&globalThis||typeof t<"u"&&t||typeof r<"u"&&r,n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(O){return O&&DataView.prototype.isPrototypeOf(O)}if(n.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(O){return O&&s.indexOf(Object.prototype.toString.call(O))>-1};function u(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(O)||O==="")throw new TypeError('Invalid character in header field name: "'+O+'"');return O.toLowerCase()}function l(O){return typeof O!="string"&&(O=String(O)),O}function c(O){var k={next:function(){var Y=O.shift();return{done:Y===void 0,value:Y}}};return n.iterable&&(k[Symbol.iterator]=function(){return k}),k}function d(O){this.map={},O instanceof d?O.forEach(function(k,Y){this.append(Y,k)},this):Array.isArray(O)?O.forEach(function(k){this.append(k[0],k[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(k){this.append(k,O[k])},this)}d.prototype.append=function(O,k){O=u(O),k=l(k);var Y=this.map[O];this.map[O]=Y?Y+", "+k:k},d.prototype.delete=function(O){delete this.map[u(O)]},d.prototype.get=function(O){return O=u(O),this.has(O)?this.map[O]:null},d.prototype.has=function(O){return this.map.hasOwnProperty(u(O))},d.prototype.set=function(O,k){this.map[u(O)]=l(k)},d.prototype.forEach=function(O,k){for(var Y in this.map)this.map.hasOwnProperty(Y)&&O.call(k,this.map[Y],Y,this)},d.prototype.keys=function(){var O=[];return this.forEach(function(k,Y){O.push(Y)}),c(O)},d.prototype.values=function(){var O=[];return this.forEach(function(k){O.push(k)}),c(O)},d.prototype.entries=function(){var O=[];return this.forEach(function(k,Y){O.push([Y,k])}),c(O)},n.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function f(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function h(O){return new Promise(function(k,Y){O.onload=function(){k(O.result)},O.onerror=function(){Y(O.error)}})}function p(O){var k=new FileReader,Y=h(k);return k.readAsArrayBuffer(O),Y}function g(O){var k=new FileReader,Y=h(k);return k.readAsText(O),Y}function y(O){for(var k=new Uint8Array(O),Y=new Array(k.length),ne=0;ne<k.length;ne++)Y[ne]=String.fromCharCode(k[ne]);return Y.join("")}function S(O){if(O.slice)return O.slice(0);var k=new Uint8Array(O.byteLength);return k.set(new Uint8Array(O)),k.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(O){this.bodyUsed=this.bodyUsed,this._bodyInit=O,O?typeof O=="string"?this._bodyText=O:n.blob&&Blob.prototype.isPrototypeOf(O)?this._bodyBlob=O:n.formData&&FormData.prototype.isPrototypeOf(O)?this._bodyFormData=O:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(O)?this._bodyText=O.toString():n.arrayBuffer&&n.blob&&a(O)?(this._bodyArrayBuffer=S(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(O)||o(O))?this._bodyArrayBuffer=S(O):this._bodyText=O=Object.prototype.toString.call(O):this._bodyText="",this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var O=f(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var O=f(this);return O||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(p)}),this.text=function(){var O=f(this);if(O)return O;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(O){var k=O.toUpperCase();return A.indexOf(k)>-1?k:O}function T(O,k){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');k=k||{};var Y=k.body;if(O instanceof T){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,k.headers||(this.headers=new d(O.headers)),this.method=O.method,this.mode=O.mode,this.signal=O.signal,!Y&&O._bodyInit!=null&&(Y=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=k.credentials||this.credentials||"same-origin",(k.headers||!this.headers)&&(this.headers=new d(k.headers)),this.method=E(k.method||this.method||"GET"),this.mode=k.mode||this.mode||null,this.signal=k.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Y)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Y),(this.method==="GET"||this.method==="HEAD")&&(k.cache==="no-store"||k.cache==="no-cache")){var ne=/([?&])_=[^&]*/;if(ne.test(this.url))this.url=this.url.replace(ne,"$1_="+new Date().getTime());else{var q=/\?/;this.url+=(q.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function R(O){var k=new FormData;return O.trim().split("&").forEach(function(Y){if(Y){var ne=Y.split("="),q=ne.shift().replace(/\+/g," "),H=ne.join("=").replace(/\+/g," ");k.append(decodeURIComponent(q),decodeURIComponent(H))}}),k}function I(O){var k=new d,Y=O.replace(/\r?\n[\t ]+/g," ");return Y.split("\r").map(function(ne){return ne.indexOf(`
`)===0?ne.substr(1,ne.length):ne}).forEach(function(ne){var q=ne.split(":"),H=q.shift().trim();if(H){var J=q.join(":").trim();k.append(H,J)}}),k}v.call(T.prototype);function D(O,k){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');k||(k={}),this.type="default",this.status=k.status===void 0?200:k.status,this.ok=this.status>=200&&this.status<300,this.statusText=k.statusText===void 0?"":""+k.statusText,this.headers=new d(k.headers),this.url=k.url||"",this._initBody(O)}v.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},D.error=function(){var O=new D(null,{status:0,statusText:""});return O.type="error",O};var M=[301,302,303,307,308];D.redirect=function(O,k){if(M.indexOf(k)===-1)throw new RangeError("Invalid status code");return new D(null,{status:k,headers:{location:O}})},e.DOMException=r.DOMException;try{new e.DOMException}catch{e.DOMException=function(k,Y){this.message=k,this.name=Y;var ne=Error(k);this.stack=ne.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function N(O,k){return new Promise(function(Y,ne){var q=new T(O,k);if(q.signal&&q.signal.aborted)return ne(new e.DOMException("Aborted","AbortError"));var H=new XMLHttpRequest;function J(){H.abort()}H.onload=function(){var ue={status:H.status,statusText:H.statusText,headers:I(H.getAllResponseHeaders()||"")};ue.url="responseURL"in H?H.responseURL:ue.headers.get("X-Request-URL");var Se="response"in H?H.response:H.responseText;setTimeout(function(){Y(new D(Se,ue))},0)},H.onerror=function(){setTimeout(function(){ne(new TypeError("Network request failed"))},0)},H.ontimeout=function(){setTimeout(function(){ne(new TypeError("Network request failed"))},0)},H.onabort=function(){setTimeout(function(){ne(new e.DOMException("Aborted","AbortError"))},0)};function se(ue){try{return ue===""&&r.location.href?r.location.href:ue}catch{return ue}}H.open(q.method,se(q.url),!0),q.credentials==="include"?H.withCredentials=!0:q.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&(n.blob?H.responseType="blob":n.arrayBuffer&&q.headers.get("Content-Type")&&q.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(H.responseType="arraybuffer")),k&&typeof k.headers=="object"&&!(k.headers instanceof d)?Object.getOwnPropertyNames(k.headers).forEach(function(ue){H.setRequestHeader(ue,l(k.headers[ue]))}):q.headers.forEach(function(ue,Se){H.setRequestHeader(Se,ue)}),q.signal&&(q.signal.addEventListener("abort",J),H.onreadystatechange=function(){H.readyState===4&&q.signal.removeEventListener("abort",J)}),H.send(typeof q._bodyInit>"u"?null:q._bodyInit)})}return N.polyfill=!0,r.fetch||(r.fetch=N,r.Headers=d,r.Request=T,r.Response=D),e.Headers=d,e.Request=T,e.Response=D,e.fetch=N,e})({})})(typeof self<"u"?self:F);var aR={};Object.defineProperty(aR,"__esModule",{value:!0});aR.FetchInitPreprocessor=void 0;const kOe=td;class $Oe{async handle(e){if(e.headers){const r=new Headers(e.headers);r.has("user-agent")&&r.delete("user-agent"),e.headers=r}if(e!=null&&e.headers&&"append"in e.headers&&(e.headers=kOe.ActorHttp.headersToHash(e.headers)),e.body&&typeof e.body!="string"&&"getReader"in e.body){const r=e.body.getReader(),n=[];for(;;){const{done:a,value:s}=await r.read();if(a)break;n.push(s)}e.body=n.join("")}return{keepalive:!e.body,...e}}async createAbortController(){return new AbortController}}aR.FetchInitPreprocessor=$Oe;Object.defineProperty(iR,"__esModule",{value:!0});iR.ActorHttpFetch=void 0;const $D=td,pd=cn,UOe=aR;class dE extends $D.ActorHttp{constructor(e){super(e),this.userAgent=dE.createUserAgent(),this.fetchInitPreprocessor=new UOe.FetchInitPreprocessor(e.agentOptions)}static createUserAgent(){return`Comunica/actor-http-fetch (${typeof globalThis.navigator>"u"?`Node.js ${process.version}; ${process.platform}`:`Browser-${globalThis.navigator.userAgent}`})`}async test(e){return{time:Number.POSITIVE_INFINITY}}static async getResponse(e,r,n,a,s,o){var c;let u,l=a+1;for(;l-- >0;)try{const d=await e(r,n);if(o&&d.status>=500&&d.status<600)throw new Error(`Server replied with response code ${d.status}: ${d.statusText}`);return d}catch(d){if(u=d,(c=n.signal)!=null&&c.aborted)throw d;l>0&&await new Promise((f,h)=>{var p;setTimeout(f,s),(p=n.signal)==null||p.addEventListener("abort",()=>{h(new Error("Fetch aborted by timeout."))})})}throw a>0?new Error(`Number of fetch retries (${a}) exceeded. Last error: ${String(u)}`):u}async run(e){var l,c,d,f,h,p,g,y;const r=((l=e.init)==null?void 0:l.headers)??{};e.init=e.init??{},e.init.headers=new Headers(r),e.init.headers.has("user-agent")||e.init.headers.append("user-agent",this.userAgent);const n=e.context.get(pd.KeysHttp.auth);n&&e.init.headers.append("Authorization",`Basic ${Buffer.from(n).toString("base64")}`),this.logInfo(e.context,`Requesting ${typeof e.input=="string"?e.input:e.input.url}`,()=>({headers:$D.ActorHttp.headersToHash(new Headers(e.init.headers)),method:e.init.method||"GET"})),(c=e.init)!=null&&c.headers&&"append"in e.init.headers&&e.context.has(pd.KeysHttp.fetch)&&(e.init.headers=$D.ActorHttp.headersToHash(e.init.headers));let a={...e.init};e.context.get(pd.KeysHttp.includeCredentials)&&(a.credentials="include");const s=(d=e.context)==null?void 0:d.get(pd.KeysHttp.httpTimeout);let o,u;if(s!==void 0){const S=await this.fetchInitPreprocessor.createAbortController();a.signal=S.signal,u=()=>S.abort(),o=setTimeout(()=>u(),s)}try{a=await this.fetchInitPreprocessor.handle(a);const S=((f=e.context)==null?void 0:f.get(pd.KeysHttp.httpRetryCount))??0,v=((h=e.context)==null?void 0:h.get(pd.KeysHttp.httpRetryDelay))??0,A=((p=e.context)==null?void 0:p.get(pd.KeysHttp.httpRetryOnServerError))??!1,E=(g=e.context)==null?void 0:g.get(pd.KeysHttp.fetch),T=await dE.getResponse(E||fetch,e.input,a,S,v,A);return o!==void 0&&((((y=e.context)==null?void 0:y.get(pd.KeysHttp.httpBodyTimeout))||!1)&&T.body?(u=()=>{var I;return(I=T.body)==null?void 0:I.cancel(new Error(`HTTP timeout when reading the body of ${T.url}.
This error can be disabled by modifying the 'httpBodyTimeout' and/or 'httpTimeout' options.`))},T.body.on("close",()=>{clearTimeout(o)})):clearTimeout(o)),T.body&&!T.body.cancel&&(T.body.cancel=async R=>{T.body.destroy(R),o!==void 0&&clearTimeout(o)}),T}catch(S){throw o!==void 0&&clearTimeout(o),S}}}iR.ActorHttpFetch=dE;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(iR,t)})(hJ);var pJ={},sR={};Object.defineProperty(sR,"__esModule",{value:!0});sR.ActorQueryOperationValues=void 0;const VOe=Qa,HOe=tr,qOe=So,zOe=Gr,GOe=lr,QOe=new VOe.BindingsFactory,WOe=new GOe.DataFactory;class KOe extends HOe.ActorQueryOperationTyped{constructor(e){super(e,"values")}async testOperation(e,r){return!0}async runOperation(e,r){const n=new zOe.ArrayIterator(e.bindings.map(o=>QOe.bindings(Object.entries(o).map(([u,l])=>[WOe.variable(u.slice(1)),l])))),a=e.variables;return{type:"bindings",bindingsStream:n,metadata:()=>Promise.resolve({state:new qOe.MetadataValidationState,cardinality:{type:"exact",value:e.bindings.length},canContainUndefs:e.bindings.some(o=>a.some(u=>!(`?${u.value}`in o))),variables:a})}}}sR.ActorQueryOperationValues=KOe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sR,t)})(pJ);var gJ={},oR={};Object.defineProperty(oR,"__esModule",{value:!0});oR.MediatorJoinCoefficientsFixed=void 0;const XOe=cn,vk=Ut;class JOe extends vk.Mediator{constructor(e){super(e)}async mediateWith(e,r){var h;const n=[],a=r.map(({reply:p})=>p).map(p=>p.catch(g=>{n.push(g)})),s=await Promise.all(a);let o=s.map((p,g)=>{if(p)return p.iterations*this.cpuWeight+p.persistedItems*this.memoryWeight+p.blockingItems*this.timeWeight+p.requestTime*this.ioWeight});const u=Math.max(...o.filter(p=>p!==void 0)),l=e.context.get(XOe.KeysQueryOperation.limitIndicator);l&&(o=o.map((p,g)=>p!==void 0&&s[g].persistedItems>0&&s[g].iterations>l?p+u:p));let c=-1,d=Number.POSITIVE_INFINITY;for(const[p,g]of o.entries())g!==void 0&&(c===-1||g<d)&&(c=p,d=g);if(c<0)throw new Error(`All actors rejected their test in ${this.name}
${n.map(p=>p.message).join(`
`)}`);const f=r[c].actor;return f.includeInLogs&&((h=vk.Actor.getContextLogger(e.context))==null||h.debug(`Determined physical join operator '${f.logicalType}-${f.physicalName}'`,{entries:e.entries.length,variables:await Promise.all(e.entries.map(async p=>(await p.output.metadata()).variables.map(g=>g.value))),costs:Object.fromEntries(o.map((p,g)=>[`${r[g].actor.logicalType}-${r[g].actor.physicalName}`,p])),coefficients:Object.fromEntries(s.map((p,g)=>[`${r[g].actor.logicalType}-${r[g].actor.physicalName}`,p]))})),f}}oR.MediatorJoinCoefficientsFixed=JOe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(oR,t)})(gJ);var yJ={},uR={};Object.defineProperty(uR,"__esModule",{value:!0});uR.MediatorAll=void 0;const YOe=Ut;class ZOe extends YOe.Mediator{constructor(e){super(e)}async mediate(e){const r=[];let n;try{n=this.publish(e)}catch{n=[]}for(const s of n)try{await s.reply,r.push(s.actor)}catch{}return(await Promise.all(r.map(s=>s.runObservable(e))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}}uR.MediatorAll=ZOe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(uR,t)})(yJ);var Pw={},Cw={};Object.defineProperty(Cw,"__esModule",{value:!0});Cw.ActorHttpInvalidate=void 0;const eRe=Ut;class tRe extends eRe.Actor{constructor(e){super(e)}}Cw.ActorHttpInvalidate=tRe;var lR={};Object.defineProperty(lR,"__esModule",{value:!0});lR.ActorHttpInvalidateListenable=void 0;const rRe=Cw;class nRe extends rRe.ActorHttpInvalidate{constructor(e){super(e),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(e){this.invalidateListeners.push(e)}async test(e){return!0}async run(e){for(const r of this.invalidateListeners)r(e);return{}}}lR.ActorHttpInvalidateListenable=nRe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Cw,t),r(lR,t)})(Pw);var mJ={},cR={},su={},dR={};Object.defineProperty(dR,"__esModule",{value:!0});dR.ActorRdfJoin=void 0;const iRe=tr,u2=cn,aRe=Ut,sRe=So,oRe=lr,uRe=dn,lRe=new oRe.DataFactory;class oh extends aRe.Actor{constructor(e,r){super(e),this.includeInLogs=!0,this.logicalType=r.logicalType,this.physicalName=r.physicalName,this.limitEntries=r.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=r.limitEntriesMin??!1,this.canHandleUndefs=r.canHandleUndefs??!1}static hash(e,r){return r.filter(n=>e.has(n)).map(n=>(0,uRe.termToString)(e.get(n))).join("")}static overlappingVariables(e){const r=e.map(a=>a.variables);let n=r[0];for(const a of r.slice(1))n=n.filter(s=>a.some(o=>o.value===s.value));return n}static joinVariables(e){return[...new Set(e.flatMap(r=>r.variables.map(n=>n.value)))].map(r=>lRe.variable(r))}static joinBindings(...e){if(e.length===0)return null;if(e.length===1)return e[0];let r=e[0];for(const n of e.slice(1)){const a=r.merge(n);if(!a)return null;r=a}return r}static getCardinality(e){return e.cardinality}static async getMetadatas(e){return await Promise.all(e.map(r=>r.output.metadata()))}static async getEntriesWithMetadatas(e){const r=await oh.getMetadatas(e);return e.map((n,a)=>({...n,metadata:r[a]}))}static getRequestInitialTimes(e){return e.map(r=>r.pageSize?0:r.requestTime||0)}static getRequestItemTimes(e){return e.map(r=>r.pageSize?(r.requestTime||0)/r.pageSize:0)}async constructResultMetadata(e,r,n,a={}){let s;a.cardinality?s=a.cardinality:(s=r.reduce((l,c)=>{const d=oh.getCardinality(c);return{type:d.type==="estimate"?"estimate":l.type,value:l.value*d.value}},{type:"exact",value:1}),s.value*=(await this.mediatorJoinSelectivity.mediate({entries:e,context:n})).selectivity);const o=new sRe.MetadataValidationState,u=()=>o.invalidate();for(const l of r)l.state.addInvalidateListener(u);return{state:o,...a,cardinality:{type:s.type,value:s.value},canContainUndefs:a.canContainUndefs??r.some(l=>l.canContainUndefs),variables:oh.joinVariables(r)}}async test(e){if(e.type!==this.logicalType)throw new Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${e.type}' was given.`);if(e.entries.length<=1)throw new Error(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?e.entries.length<this.limitEntries:e.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${e.entries.length}.`);for(const n of e.entries)if(n.output.type!=="bindings")throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${n.output.type}'`);const r=await oh.getMetadatas(e.entries);if(!this.canHandleUndefs){for(const n of r)if(n.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`)}return await this.getJoinCoefficients(e,r)}async run(e){let r;e.context.has(u2.KeysInitQuery.physicalQueryPlanLogger)&&(r=e.context.get(u2.KeysInitQuery.physicalQueryPlanNode),e.context=e.context.set(u2.KeysInitQuery.physicalQueryPlanNode,e));const n=e.context.get(u2.KeysInitQuery.physicalQueryPlanLogger);let a;this.includeInLogs&&n&&(a={},n.logOperation(`join-${this.logicalType}`,this.physicalName,e,r,this.name,a));const{result:s,physicalPlanMetadata:o}=await this.getOutput(e),u=await oh.getMetadatas(e.entries);return a&&(Object.assign(a,o),a.cardinalities=u.map(oh.getCardinality),a.joinCoefficients=await this.getJoinCoefficients(e,u)),s.metadata=iRe.ActorQueryOperation.cachifyMetadata(s.metadata),s}}dR.ActorRdfJoin=oh;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(dR,t)})(su);Object.defineProperty(cR,"__esModule",{value:!0});cR.ActorRdfJoinNone=void 0;const cRe=Qa,dRe=su,fRe=So,hRe=Gr,pRe=new cRe.BindingsFactory;class gRe extends dRe.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(e){if(e.entries.length>0)throw new Error(`Actor ${this.name} can only join zero entries`);return await this.getJoinCoefficients()}async getOutput(e){return{result:{bindingsStream:new hRe.ArrayIterator([pRe.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new fRe.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}cR.ActorRdfJoinNone=gRe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(cR,t)})(mJ);var vJ={},fR={};Object.defineProperty(fR,"__esModule",{value:!0});fR.ActorRdfJoinSingle=void 0;const yRe=su;class mRe extends yRe.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(e){if(e.entries.length!==1)throw new Error(`Actor ${this.name} can only join a single entry`);return await this.getJoinCoefficients()}async getOutput(e){return{result:e.entries[0].output}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}fR.ActorRdfJoinSingle=mRe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fR,t)})(vJ);var bJ={},hR={};Object.defineProperty(hR,"__esModule",{value:!0});hR.ActorRdfJoinMultiEmpty=void 0;const Lv=su,vRe=So,bRe=Gr;class _Re extends Lv.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(e){if((await Lv.ActorRdfJoin.getMetadatas(e.entries)).every(r=>Lv.ActorRdfJoin.getCardinality(r).value>0))throw new Error(`Actor ${this.name} can only join entries where at least one is empty`);return super.test(e)}async getOutput(e){for(const r of e.entries)r.output.bindingsStream.close();return{result:{bindingsStream:new bRe.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new vRe.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:Lv.ActorRdfJoin.joinVariables(await Lv.ActorRdfJoin.getMetadatas(e.entries))}),type:"bindings"}}}async getJoinCoefficients(e,r){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}hR.ActorRdfJoinMultiEmpty=_Re;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hR,t)})(bJ);var _J={},pR={};let wJ=Gr,wRe=wJ.MultiTransformIterator,SRe=wJ.SimpleTransformIterator,TRe=class extends wRe{constructor(e,r,n,a){super(e,a),this.funRight=r,this.funJoin=n}_createTransformer(e){return new SRe(this.funRight(e),{transform:(r,n,a)=>{let s=this.funJoin(e,r);s!==null&&a(s),n()}})}};var ERe=TRe;let ARe=Gr.AsyncIterator,xRe=class extends ARe{constructor(e,r,n,a){super(),this.addedDataListener=!1,this.left=e,this.right=r,this.funHash=n,this.funJoin=a,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",o=>this.destroy(o)),this.right.on("error",o=>this.destroy(o)),this.readable=!1,this.left.on("end",s.bind(this));function s(){if(this.leftMap.size<=0)return this.close();this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",o=>{o==="data"&&!this.addedDataListener&&(this.addedDataListener=!0,this._addDataListener())})}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this.addedDataListener||(this.addedDataListener=!0,this._addDataListener());;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let r=this.matches[this.matchIdx++],n=this.funJoin(r,this.match);if(n!==null)return n}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let e=this.funHash(this.match);this.matches=this.leftMap.get(e)||[],this.matchIdx=0}}_addDataListener(){this.left.on("data",e.bind(this));function e(r){let n=this.funHash(r);this.leftMap.has(n)||this.leftMap.set(n,[]),this.leftMap.get(n).push(r)}}};var ORe=xRe;const{MultiTransformIterator:RRe,SimpleTransformIterator:IRe,scheduleTask:PRe}=Gr;let CRe=class extends RRe{constructor(e,r,n,a){super(e,a),this.right=r,this.funJoin=n,this.on("end",()=>this.right.close())}_end(){super._end(),PRe(()=>this.right.destroy())}_createTransformer(e){return new IRe(this.right.clone(),{transform:(r,n,a)=>{let s=this.funJoin(e,r);s!==null&&a(s),n()}})}};var DRe=CRe;let NRe=Gr.AsyncIterator,FRe=class extends NRe{constructor(e,r,n,a){super(),this.left=e,this.right=r,this.funHash=n,this.funJoin=a,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",s=>this.destroy(s)),this.right.on("error",s=>this.destroy(s)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let s=this.matches[this.matchIdx++],o=this.usedLeft?this.funJoin(this.match,s):this.funJoin(s,this.match);if(o!==null)return o}this.hasResults()||this._end();let e=null;for(let s=0;s<2&&(e=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,e===null);++s);if(this.done||e===null)return this.readable=!1,null;let r=this.funHash(e),n=this.usedLeft?this.leftMap:this.rightMap;n.has(r)||n.set(r,[]),n.get(r).push(e),this.match=e,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(r)||[],this.matchIdx=0}}};var LRe=FRe;let jRe=Gr.AsyncIterator;class MRe extends jRe{constructor(e){super(),Array.isArray(e)||(e=Array.prototype.slice.call(arguments)),this.streams=e;for(let r of e)r.on("readable",()=>this.emit("readable")),r.on("end",()=>this._removeStream(r));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(e){let r=this.streams.indexOf(e);r<0||(this.streams.splice(r,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let e of this.streams)e.close()}read(){for(let e=0;e<this.streams.length;++e){this.idx=(this.idx+1)%this.streams.length;let r=this.streams[this.idx].read();if(r!==null)return r}return null}}var BRe=MRe;const kRe=ERe,$Re=ORe,URe=DRe,VRe=LRe,HRe=BRe;var gR={DynamicNestedLoopJoin:kRe,HashJoin:$Re,NestedLoopJoin:URe,SymmetricHashJoin:VRe,MergeStream:HRe};Object.defineProperty(pR,"__esModule",{value:!0});pR.ActorRdfJoinHash=void 0;const lp=su,qRe=gR;class zRe extends lp.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"hash",limitEntries:2})}async getOutput(e){const r=await lp.ActorRdfJoin.getMetadatas(e.entries),n=lp.ActorRdfJoin.overlappingVariables(r);return{result:{type:"bindings",bindingsStream:new qRe.HashJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,s=>lp.ActorRdfJoin.hash(s,n),lp.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(e.entries,r,e.context)}}}async getJoinCoefficients(e,r){const n=lp.ActorRdfJoin.getRequestInitialTimes(r),a=lp.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value+r[1].cardinality.value,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}pR.ActorRdfJoinHash=zRe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pR,t)})(_J);var SJ={},yR={};Object.defineProperty(yR,"__esModule",{value:!0});yR.ActorRdfJoinSymmetricHash=void 0;const Ag=su,GRe=gR;class W8 extends Ag.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2})}async getOutput(e){const r=await Ag.ActorRdfJoin.getMetadatas(e.entries),n=Ag.ActorRdfJoin.overlappingVariables(r);return{result:{type:"bindings",bindingsStream:new GRe.SymmetricHashJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,s=>W8.hash(s,n),Ag.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(e.entries,r,e.context)}}}async getJoinCoefficients(e,r){const n=Ag.ActorRdfJoin.getRequestInitialTimes(r),a=Ag.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value+r[1].cardinality.value,persistedItems:r[0].cardinality.value+r[1].cardinality.value,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}yR.ActorRdfJoinSymmetricHash=W8;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(yR,t)})(SJ);var TJ={},mR={};Object.defineProperty(mR,"__esModule",{value:!0});mR.ActorRdfJoinNestedLoop=void 0;const jv=su,QRe=gR;class WRe extends jv.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){return{result:{type:"bindings",bindingsStream:new QRe.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,jv.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(e.entries,await jv.ActorRdfJoin.getMetadatas(e.entries),e.context)}}}async getJoinCoefficients(e,r){const n=jv.ActorRdfJoin.getRequestInitialTimes(r),a=jv.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value*r[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}mR.ActorRdfJoinNestedLoop=WRe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mR,t)})(TJ);var EJ={},vR={};Object.defineProperty(vR,"__esModule",{value:!0});vR.ActorRdfJoinOptionalNestedLoop=void 0;const Mv=su,KRe=gR;class XRe extends Mv.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){return{result:{type:"bindings",bindingsStream:new KRe.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,Mv.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(e.entries,await Mv.ActorRdfJoin.getMetadatas(e.entries),e.context,{canContainUndefs:!0})}}}async getJoinCoefficients(e,r){const n=Mv.ActorRdfJoin.getRequestInitialTimes(r),a=Mv.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value*r[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}vR.ActorRdfJoinOptionalNestedLoop=XRe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vR,t)})(EJ);var AJ={},bR={};Object.defineProperty(bR,"__esModule",{value:!0});bR.ActorRdfJoinMinusHash=void 0;const JRe=tr,cp=su;class YRe extends cp.ActorRdfJoin{constructor(e){super(e,{logicalType:"minus",physicalName:"hash",limitEntries:2})}async getOutput(e){const r=e.entries[1].output,n=e.entries[0].output,a=await cp.ActorRdfJoin.getMetadatas(e.entries),s=cp.ActorRdfJoin.overlappingVariables(a);if(s.length>0){const o={};return{result:{type:"bindings",bindingsStream:new JRe.ClosableTransformIterator(async()=>(await new Promise(l=>{r.bindingsStream.on("data",c=>{o[cp.ActorRdfJoin.hash(c,s)]=!0}),r.bindingsStream.on("end",l)}),n.bindingsStream.filter(l=>!o[cp.ActorRdfJoin.hash(l,s)])),{autoStart:!1,onClose(){r.bindingsStream.destroy(),n.bindingsStream.destroy()}}),metadata:n.metadata}}}return r.bindingsStream.destroy(),{result:n}}async getJoinCoefficients(e,r){const n=cp.ActorRdfJoin.getRequestInitialTimes(r),a=cp.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value+r[1].cardinality.value,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}bR.ActorRdfJoinMinusHash=YRe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bR,t)})(AJ);var xJ={},_R={},wR={};Object.defineProperty(wR,"__esModule",{value:!0});wR.BindingsIndex=void 0;const ZRe=dn;class fE{constructor(e){this.data={},this.keys=e}static hashTerm(e){return e&&e.termType!=="Variable"?(0,ZRe.termToString)(e):""}add(e){if(this.isBindingsValid(e)){let r=this.data;for(const n of this.keys){const a=fE.hashTerm(e.get(n));let s=r[a];s||(s=r[a]={}),r=s}}}contains(e){return this.isBindingsValid(e)?this.containsRecursive(e,this.keys,[this.data]):!1}isBindingsValid(e){let r=!1;for(const n of this.keys)if(e.get(n)){r=!0;break}return r}containsRecursive(e,r,n){if(r.length===0)return!0;let a;[a,...r]=r;for(const s of n){const o=fE.hashTerm(e.get(a));if(o){const u=[s[o],s[""]].filter(Boolean);if(u.length===0)continue;if(this.containsRecursive(e,r,u))return!0}else{let u=Object.keys(s).map(l=>s[l]);if(u.length===0&&(u=[{}]),this.containsRecursive(e,r,u))return!0}}return!1}}wR.BindingsIndex=fE;Object.defineProperty(_R,"__esModule",{value:!0});_R.ActorRdfJoinMinusHashUndef=void 0;const eIe=tr,Bv=su,tIe=wR;class rIe extends Bv.ActorRdfJoin{constructor(e){super(e,{logicalType:"minus",physicalName:"hash-undef",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){const r=e.entries[1].output,n=e.entries[0].output,a=await Bv.ActorRdfJoin.getMetadatas(e.entries),s=Bv.ActorRdfJoin.overlappingVariables(a);if(s.length>0){const o=new tIe.BindingsIndex(s);return{result:{type:"bindings",bindingsStream:new eIe.ClosableTransformIterator(async()=>(await new Promise(l=>{r.bindingsStream.on("data",c=>o.add(c)),r.bindingsStream.on("end",l)}),n.bindingsStream.filter(l=>!o.contains(l))),{autoStart:!1,onClose(){r.bindingsStream.destroy(),n.bindingsStream.destroy()}}),async metadata(){const l=await n.metadata(),c=await n.metadata();return{...c,canContainUndefs:l.canContainUndefs||c.canContainUndefs}}}}}return r.bindingsStream.destroy(),{result:n}}async getJoinCoefficients(e,r){const n=Bv.ActorRdfJoin.getRequestInitialTimes(r),a=Bv.ActorRdfJoin.getRequestItemTimes(r);return{iterations:(r[0].cardinality.value+r[1].cardinality.value)*1.01,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}_R.ActorRdfJoinMinusHashUndef=rIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_R,t)})(xJ);var OJ={},SR={},TR={};Object.defineProperty(TR,"__esModule",{value:!0});TR.RdfSourceQpf=void 0;const l2=Gr,nIe=lr,RJ=dn,c2=Oa,dp=new nIe.DataFactory;class iIe{constructor(e,r,n,a,s,o,u,l,c,d,f){this.mediatorMetadata=e,this.mediatorMetadataExtract=r,this.mediatorDereferenceRdf=n,this.subjectUri=a,this.predicateUri=s,this.objectUri=o,this.graphUri=u,this.url=l,this.context=d,this.cachedQuads={};const h=this.getSearchForm(c);if(!h)throw new Error("Illegal state: found no TPF/QPF search form anymore in metadata.");if(this.searchForm=h,this.defaultGraph=c.defaultGraph?dp.namedNode(c.defaultGraph):void 0,f){let p=(0,l2.wrap)(f);this.defaultGraph&&(p=this.reverseMapQuadsToDefaultGraph(p)),p.setProperty("metadata",c),this.cacheQuads(p,dp.variable(""),dp.variable(""),dp.variable(""),dp.variable(""))}}getSearchForm(e){if(!e.searchForms||!e.searchForms.values)return;const{searchForms:r}=e;for(const n of r.values)if(this.graphUri&&this.subjectUri in n.mappings&&this.predicateUri in n.mappings&&this.objectUri in n.mappings&&this.graphUri in n.mappings&&Object.keys(n.mappings).length===4||this.subjectUri in n.mappings&&this.predicateUri in n.mappings&&this.objectUri in n.mappings&&Object.keys(n.mappings).length===3)return n}createFragmentUri(e,r,n,a,s){const o={},u=[{uri:this.subjectUri,term:r},{uri:this.predicateUri,term:n},{uri:this.objectUri,term:a},{uri:this.graphUri,term:s}];for(const l of u)l.uri&&l.term.termType!=="Variable"&&(l.term.termType!=="Quad"||(0,c2.everyTermsNested)(l.term,c=>c.termType!=="Variable"))&&(o[l.uri]=(0,RJ.termToString)(l.term));return e.getUri(o)}match(e,r,n,a){let s=!1;if(a.termType==="DefaultGraph"){if(this.defaultGraph)s=!0,a=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length===4&&!this.defaultGraph){const l=new l2.ArrayIterator([],{autoStart:!1});return l.setProperty("metadata",{requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null,canContainUndefs:!1}),l}}const o=this.getCachedQuads(e,r,n,a);if(o)return o;const u=new l2.TransformIterator(async()=>{var g;let l=this.createFragmentUri(this.searchForm,e,r,n,a);const c=await this.mediatorDereferenceRdf.mediate({context:this.context,url:l});l=c.url;const d=await this.mediatorMetadata.mediate({context:this.context,url:l,quads:c.data,triples:(g=c.metadata)==null?void 0:g.triples}),f=this.mediatorMetadataExtract.mediate({context:this.context,url:l,metadata:d.metadata,requestTime:c.requestTime}).then(({metadata:y})=>u.setProperty("metadata",{...y,canContainUndefs:!1,subsetOf:this.url})),h=dp.defaultGraph();let p=(0,l2.wrap)(d.data).transform({filter(y){return(0,c2.matchPattern)(y,e,r,n,a)?!0:s&&(0,c2.matchPattern)(y,e,r,n,h)}});return(s||a.termType==="Variable")&&(p=this.reverseMapQuadsToDefaultGraph(p)),p.on("error",()=>{}),await f,p},{autoStart:!1});return this.cacheQuads(u,e,r,n,a),this.getCachedQuads(e,r,n,a)}reverseMapQuadsToDefaultGraph(e){const r=dp.defaultGraph();return e.map(n=>(0,c2.mapTerms)(n,(a,s)=>s==="graph"&&a.equals(this.defaultGraph)?r:a))}getPatternId(e,r,n,a){return JSON.stringify({s:e.termType==="Variable"?"":d2(e),p:r.termType==="Variable"?"":d2(r),o:n.termType==="Variable"?"":d2(n),g:a.termType==="Variable"?"":d2(a)})}cacheQuads(e,r,n,a,s){const o=this.getPatternId(r,n,a,s);this.cachedQuads[o]=e.clone()}getCachedQuads(e,r,n,a){const s=this.getPatternId(e,r,n,a),o=this.cachedQuads[s];if(o)return o.clone()}}TR.RdfSourceQpf=iIe;function d2(t){return t.termType==="DefaultGraph"?"|":(0,RJ.termToString)(t)}Object.defineProperty(SR,"__esModule",{value:!0});SR.ActorRdfResolveHypermediaQpf=void 0;const aIe=TO,sIe=TR;class oIe extends aIe.ActorRdfResolveHypermedia{constructor(e){super(e,"qpf")}async testMetadata(e){const{searchForm:r}=this.createSource(e.url,e.metadata,e.context);if(e.handledDatasets&&e.handledDatasets[r.dataset])throw new Error(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`);return{filterFactor:1}}async run(e){this.logInfo(e.context,`Identified as qpf source: ${e.url}`);const r=this.createSource(e.url,e.metadata,e.context,e.quads);return{source:r,dataset:r.searchForm.dataset}}createSource(e,r,n,a){return new sIe.RdfSourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,e,r,n,a)}}SR.ActorRdfResolveHypermediaQpf=oIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(SR,t)})(OJ);var IJ={},ER={},PJ={},AR={};Object.defineProperty(AR,"__esModule",{value:!0});AR.ActorDereferenceRdf=void 0;const uIe=Rx;class lIe extends uIe.ActorDereferenceParse{constructor(e){super(e)}}AR.ActorDereferenceRdf=lIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(AR,t)})(PJ);Object.defineProperty(ER,"__esModule",{value:!0});ER.ActorDereferenceRdfParse=void 0;const cIe=PJ;class dIe extends cIe.ActorDereferenceRdf{constructor(e){super(e)}async getMetadata(e){return{baseIRI:e.url}}}ER.ActorDereferenceRdfParse=dIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ER,t)})(IJ);var CJ={},xR={},OR={};Object.defineProperty(OR,"__esModule",{value:!0});OR.HtmlScriptListener=void 0;const bk=cn,fIe=zr,hIe=Ru;class Gg{constructor(e,r,n,a,s,o,u,l){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=e,this.cbQuad=r,this.cbError=n,this.cbEnd=a,this.supportedTypes=s,this.context=o.set(bk.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=u,this.headers=l,this.onlyFirstScript=o.get(bk.KeysRdfParseHtmlScript.extractAllScripts)===!1;const c=this.baseIRI.indexOf("#");this.targetScriptId=c>0?this.baseIRI.slice(c+1,this.baseIRI.length):null}static newErrorCoded(e,r){const n=new Error(e);return n.code=r,n}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(Gg.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const e=new fIe.Readable({objectMode:!0});e._read=()=>{};const r=this.textChunks,n={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:e,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(n).then(({handle:a})=>{a.data.on("error",s=>this.cbError(Gg.newErrorCoded(s.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const s of r)e.push(s);e.push(null)}).catch(a=>{this.targetScriptId?this.cbError(Gg.newErrorCoded(a.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(e,r){e==="base"&&r.href&&(this.baseIRI=(0,hIe.resolve)(r.href,this.baseIRI)),e==="script"&&(!this.targetScriptId||r.id===this.targetScriptId)?this.supportedTypes[r.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=r.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(Gg.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(e){this.handleMediaType&&this.textChunks.push(e)}requiresCustomJsonLdHandling(e){return!this.onlyFirstScript&&!this.targetScriptId&&e==="application/ld+json"}}OR.HtmlScriptListener=Gg;Object.defineProperty(xR,"__esModule",{value:!0});xR.ActorRdfParseHtmlScript=void 0;const pIe=pO,gIe=OR;class yIe extends pIe.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){const r=(await this.mediatorRdfParseMediatypes.mediate({context:e.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new gIe.HtmlScriptListener(this.mediatorRdfParseHandle,e.emit,e.error,e.end,r,e.context,e.baseIRI,e.headers)}}}xR.ActorRdfParseHtmlScript=yIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xR,t)})(CJ);var DJ={},RR={};Object.defineProperty(RR,"__esModule",{value:!0});RR.ActorQueryResultSerializeRdf=void 0;const mIe=Bl;class vIe extends mIe.ActorQueryResultSerialize{constructor(e){super(e)}async testHandle(e,r,n){if(e.type!=="quads")throw new Error(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:a}=await this.mediatorMediaTypeCombiner.mediate({context:n,mediaTypes:!0});if(!(r in a))throw new Error(`Actor ${this.name} can not handle media type ${r}. All available types: ${Object.keys(a)}`);return!0}async runHandle(e,r,n){return(await this.mediatorRdfSerialize.mediate({context:n,handle:{context:n,quadStream:e.quadStream},handleMediaType:r})).handle}async testMediaType(e){return!0}async getMediaTypes(e){return(await this.mediatorMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(e){return!0}async getMediaTypeFormats(e){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}}RR.ActorQueryResultSerializeRdf=vIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(RR,t)})(DJ);var NJ={},IR={};Object.defineProperty(IR,"__esModule",{value:!0});IR.ActorHttpWayback=void 0;const _k=td,nT=cn,bIe=V0,_Ie="http://wayback.archive-it.org/";function wk(t){const e=new Request(t.input,t.init);return{input:new Request(new URL(`/${e.url}`,_Ie),e)}}function wIe(t){const e=t.get(nT.KeysHttpProxy.httpProxyHandler);return e?r=>e.getProxy(wk(r)):r=>Promise.resolve(wk(r))}class SIe extends _k.ActorHttp{constructor(e){super(e)}async test(e){return!0}async run(e){let r=await this.mediatorHttp.mediate(e);if(r.status===404&&e.context.get(nT.KeysHttpWayback.recoverBrokenLinks)){let n=await this.mediatorHttp.mediate({...e,context:e.context.set(nT.KeysHttpWayback.recoverBrokenLinks,!1).set(nT.KeysHttpProxy.httpProxyHandler,{getProxy:wIe(e.context)})});n.status===200&&([r,n]=[n,r]);const{body:a}=n;a&&("destroy"in a&&typeof a.destroy=="function"?a.destroy():await bIe(_k.ActorHttp.toNodeReadable(n.body)))}return r}}IR.ActorHttpWayback=SIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(IR,t)})(NJ);var FJ={},PR={},Dw={};Object.defineProperty(Dw,"__esModule",{value:!0});Dw.DocumentLoaderMediated=void 0;const TIe=td,EIe=la,AIe=V0;class K8 extends EIe.FetchDocumentLoader{constructor(e,r){super(K8.createFetcher(e,r)),this.mediatorHttp=e,this.context=r}static createFetcher(e,r){return async(n,a)=>{const s=await e.mediate({input:n,init:a,context:r});return s.json=async()=>JSON.parse(await AIe(TIe.ActorHttp.toNodeReadable(s.body))),s}}}Dw.DocumentLoaderMediated=K8;Object.defineProperty(PR,"__esModule",{value:!0});PR.ActorRdfParseJsonLd=void 0;const xIe=U0,f2=cn,OIe=pH,RIe=Dw;class IIe extends xIe.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async testHandle(e,r,n){if(n.has(f2.KeysRdfParseHtmlScript.processingHtmlScript)&&r!=="application/ld+json")throw new Error("JSON-LD in script tags can only have media type 'application/ld+json'");if(!(r in this.mediaTypePriorities)&&!r.endsWith("+json"))throw new Error(`Unrecognized media type: ${r}`);return await this.testHandleChecked(e)}async runHandle(e,r,n){var o;return{data:OIe.JsonLdParser.fromHttpResponse(((o=e.metadata)==null?void 0:o.baseIRI)??"",r,e.headers,{documentLoader:n.get(f2.KeysRdfParseJsonLd.documentLoader)||new RIe.DocumentLoaderMediated(this.mediatorHttp,n),strictValues:n.get(f2.KeysRdfParseJsonLd.strictValues),...n.get(f2.KeysRdfParseJsonLd.parserOptions)}).import(e.data)}}}PR.ActorRdfParseJsonLd=IIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(PR,t),r(Dw,t)})(FJ);var LJ={},CR={},DR={},NR={},FR={};(function(){(function(t){(function(e){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(N){return N&&DataView.prototype.isPrototypeOf(N)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(N){return N&&a.indexOf(Object.prototype.toString.call(N))>-1};function o(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(N))throw new TypeError("Invalid character in header field name");return N.toLowerCase()}function u(N){return typeof N!="string"&&(N=String(N)),N}function l(N){var O={next:function(){var k=N.shift();return{done:k===void 0,value:k}}};return r.iterable&&(O[Symbol.iterator]=function(){return O}),O}function c(N){this.map={},N instanceof c?N.forEach(function(O,k){this.append(k,O)},this):Array.isArray(N)?N.forEach(function(O){this.append(O[0],O[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(O){this.append(O,N[O])},this)}c.prototype.append=function(N,O){N=o(N),O=u(O);var k=this.map[N];this.map[N]=k?k+", "+O:O},c.prototype.delete=function(N){delete this.map[o(N)]},c.prototype.get=function(N){return N=o(N),this.has(N)?this.map[N]:null},c.prototype.has=function(N){return this.map.hasOwnProperty(o(N))},c.prototype.set=function(N,O){this.map[o(N)]=u(O)},c.prototype.forEach=function(N,O){for(var k in this.map)this.map.hasOwnProperty(k)&&N.call(O,this.map[k],k,this)},c.prototype.keys=function(){var N=[];return this.forEach(function(O,k){N.push(k)}),l(N)},c.prototype.values=function(){var N=[];return this.forEach(function(O){N.push(O)}),l(N)},c.prototype.entries=function(){var N=[];return this.forEach(function(O,k){N.push([k,O])}),l(N)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function d(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function f(N){return new Promise(function(O,k){N.onload=function(){O(N.result)},N.onerror=function(){k(N.error)}})}function h(N){var O=new FileReader,k=f(O);return O.readAsArrayBuffer(N),k}function p(N){var O=new FileReader,k=f(O);return O.readAsText(N),k}function g(N){for(var O=new Uint8Array(N),k=new Array(O.length),Y=0;Y<O.length;Y++)k[Y]=String.fromCharCode(O[Y]);return k.join("")}function y(N){if(N.slice)return N.slice(0);var O=new Uint8Array(N.byteLength);return O.set(new Uint8Array(N)),O.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(N){this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:r.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:r.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():r.arrayBuffer&&r.blob&&n(N)?(this._bodyArrayBuffer=y(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||s(N))?this._bodyArrayBuffer=y(N):this._bodyText=N=Object.prototype.toString.call(N):this._bodyText="",this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var N=d(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var N=d(this);if(N)return N;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(N){var O=N.toUpperCase();return v.indexOf(O)>-1?O:N}function E(N,O){O=O||{};var k=O.body;if(N instanceof E){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,O.headers||(this.headers=new c(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!k&&N._bodyInit!=null&&(k=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new c(O.headers)),this.method=A(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})};function T(N){var O=new FormData;return N.trim().split("&").forEach(function(k){if(k){var Y=k.split("="),ne=Y.shift().replace(/\+/g," "),q=Y.join("=").replace(/\+/g," ");O.append(decodeURIComponent(ne),decodeURIComponent(q))}}),O}function R(N){var O=new c,k=N.replace(/\r?\n[\t ]+/g," ");return k.split(/\r?\n/).forEach(function(Y){var ne=Y.split(":"),q=ne.shift().trim();if(q){var H=ne.join(":").trim();O.append(q,H)}}),O}S.call(E.prototype);function I(N,O){O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in O?O.statusText:"OK",this.headers=new c(O.headers),this.url=O.url||"",this._initBody(N)}S.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},I.error=function(){var N=new I(null,{status:0,statusText:""});return N.type="error",N};var D=[301,302,303,307,308];I.redirect=function(N,O){if(D.indexOf(O)===-1)throw new RangeError("Invalid status code");return new I(null,{status:O,headers:{location:N}})},e.DOMException=t.DOMException;try{new e.DOMException}catch{e.DOMException=function(O,k){this.message=O,this.name=k;var Y=Error(O);this.stack=Y.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function M(N,O){return new Promise(function(k,Y){var ne=new E(N,O);if(ne.signal&&ne.signal.aborted)return Y(new e.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function H(){q.abort()}q.onload=function(){var J={status:q.status,statusText:q.statusText,headers:R(q.getAllResponseHeaders()||"")};J.url="responseURL"in q?q.responseURL:J.headers.get("X-Request-URL");var se="response"in q?q.response:q.responseText;k(new I(se,J))},q.onerror=function(){Y(new TypeError("Network request failed"))},q.ontimeout=function(){Y(new TypeError("Network request failed"))},q.onabort=function(){Y(new e.DOMException("Aborted","AbortError"))},q.open(ne.method,ne.url,!0),ne.credentials==="include"?q.withCredentials=!0:ne.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&r.blob&&(q.responseType="blob"),ne.headers.forEach(function(J,se){q.setRequestHeader(se,J)}),ne.signal&&(ne.signal.addEventListener("abort",H),q.onreadystatechange=function(){q.readyState===4&&ne.signal.removeEventListener("abort",H)}),q.send(typeof ne._bodyInit>"u"?null:ne._bodyInit)})}return M.polyfill=!0,t.fetch||(t.fetch=M,t.Headers=c,t.Request=E,t.Response=I),e.Headers=c,e.Request=E,e.Response=I,e.fetch=M,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:F)})();var jJ={},LR={};Object.defineProperty(LR,"__esModule",{value:!0});LR.SparqlXmlParser=void 0;const PIe=lr,Sk=b0,CIe=zr;class DIe{constructor(e){e=e||{},this.dataFactory=e.dataFactory||new PIe.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseXmlResultsStream(e){const r=y=>g.emit("error",y);e.on("error",r);const n=new Sk.SaxesParser,a=[];let s=!1,o=!1;const u=[];let l={},c="",d="",f,h="",p=[];n.on("error",r),n.on("opentag",y=>{y.name==="variable"&&this.stackEquals(a,["sparql","head"])?u.push(this.dataFactory.variable(y.attributes.name)):y.name==="results"&&this.stackEquals(a,["sparql"])?o=!0:y.name==="result"&&this.stackEquals(a,["sparql","results"])?l={}:y.name==="binding"&&this.stackEquals(a,["sparql","results","result"])?(c=y.attributes.name||"",d="",f="",h="",p=[]):y.name==="triple"&&this.stackBeginsWith(a,["sparql","results","result"])?p.push({components:{}}):a[a.length-1]==="triple"&&this.stackBeginsWith(a,["sparql","results","result","binding"])?(d="",f="",h="",["subject","predicate","object"].includes(y.name)?p[p.length-1].currentComponent=y.name:r(new Error(`Illegal quoted triple component '${y.name}' found on line ${n.line+1}`))):this.stackBeginsWith(a,["sparql","results","result","binding"])&&(d=y.name,"xml:lang"in y.attributes?f=y.attributes["xml:lang"]:"datatype"in y.attributes?f=this.dataFactory.namedNode(y.attributes.datatype):f=void 0),a.push(y.name)}),n.on("closetag",y=>{if(this.stackEquals(a,["sparql","head"])&&(g.emit("variables",u),s=!0),this.stackEquals(a,["sparql","results","result"])&&g.push(l),this.stackBeginsWith(a,["sparql","results","result","binding"])){let S;if(!c&&d)r(new Error(`Terms should have a name on line ${n.line+1}`));else if(d==="uri")S=this.dataFactory.namedNode(h);else if(d==="bnode")S=this.dataFactory.blankNode(h);else if(d==="literal")S=this.dataFactory.literal(h,f);else if(a[a.length-1]==="triple"){const v=p.pop();v&&v.components.subject&&v.components.predicate&&v.components.object?S=this.dataFactory.quad(v.components.subject,v.components.predicate,v.components.object):r(new Error(`Incomplete quoted triple on line ${n.line+1}`))}else d&&r(new Error(`Invalid term type '${d}' on line ${n.line+1}`));if(S)if(p.length>0){const v=p[p.length-1];v.components[v.currentComponent]&&r(new Error(`The ${v.currentComponent} in a quoted triple on line ${n.line+1} was already defined before`)),v.components[v.currentComponent]=S}else{const v=this.prefixVariableQuestionMark?"?"+c:c;l[v]=S}d=void 0}a.pop()}),n.on("text",y=>{this.stackBeginsWith(a,["sparql","results","result","binding"])&&a[a.length-1]===d&&(h=y)});const g=e.on("end",y=>{o?s||g.emit("variables",[]):g.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new CIe.Transform({objectMode:!0,transform(y,S,v){n.write(y),v()}}));return g}parseXmlBooleanStream(e){return new Promise((r,n)=>{const a=new Sk.SaxesParser,s=[];a.on("error",n),a.on("opentag",o=>{s.push(o.name)}),a.on("closetag",o=>{s.pop()}),a.on("text",o=>{this.stackEquals(s,["sparql","boolean"])&&r(o==="true")}),e.on("error",n).on("data",o=>a.write(o)).on("end",()=>n(new Error("No valid ASK response was found.")))})}stackEquals(e,r){return e.length===r.length&&e.every((n,a)=>r[a]===n)}stackBeginsWith(e,r){return e.length>=r.length&&r.every((n,a)=>e[a]===n)}}LR.SparqlXmlParser=DIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(LR,t)})(jJ);Object.defineProperty(FR,"__esModule",{value:!0});FR.SparqlEndpointFetcher=void 0;const Tk=Oh,Ek=tw,NIe=y8,FIe=jJ,LIe=V0,jIe=Iw,MIe=zh,BIe=cJ;class lo{constructor(e){e=e||{},this.method=e.method||"POST",this.additionalUrlParams=e.additionalUrlParams||new URLSearchParams,this.defaultHeaders=e.defaultHeaders||new Headers,this.fetchCb=e.fetch,this.sparqlJsonParser=new NIe.SparqlJsonParser(e),this.sparqlXmlParser=new FIe.SparqlXmlParser(e),this.sparqlParsers={[lo.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:r=>this.sparqlJsonParser.parseJsonBooleanStream(r),parseResultsStream:r=>this.sparqlJsonParser.parseJsonResultsStream(r)},[lo.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:r=>this.sparqlXmlParser.parseXmlBooleanStream(r),parseResultsStream:r=>this.sparqlXmlParser.parseXmlResultsStream(r)}},this.timeout=e.timeout}getQueryType(e){const r=new Ek.Parser().parse(e);return r.type==="query"?r.queryType==="DESCRIBE"?"CONSTRUCT":r.queryType:"UNKNOWN"}getUpdateTypes(e){const r=new Ek.Parser().parse(e);if(r.type==="update"){const n={};for(const a of r.updates)"type"in a?n[a.type]=!0:n[a.updateType]=!0;return n}else return"UNKNOWN"}async fetchBindings(e,r){const[n,a]=await this.fetchRawStream(e,r,lo.CONTENTTYPE_SPARQL),s=this.sparqlParsers[n];if(!s)throw new Error("Unknown SPARQL results content type: "+n);return s.parseResultsStream(a)}async fetchAsk(e,r){const[n,a]=await this.fetchRawStream(e,r,lo.CONTENTTYPE_SPARQL),s=this.sparqlParsers[n];if(!s)throw new Error("Unknown SPARQL results content type: "+n);return s.parseBooleanStream(a)}async fetchTriples(e,r){return(await this.fetchRawStream(e,r,lo.CONTENTTYPE_TURTLE))[1].pipe(new MIe.StreamParser({format:lo.CONTENTTYPE_TURTLE}))}async fetchUpdate(e,r){const n=new Tk.default,a={};this.defaultHeaders.forEach((o,u)=>{a[u]=o});const s={method:"POST",headers:Object.assign(Object.assign({},a),{"content-type":"application/sparql-update"}),body:r,signal:n.signal};await this.handleFetchCall(e,s,{ignoreBody:!0}),n.abort()}async fetchRawStream(e,r,n){let a=this.method==="POST"?e:e+"?query="+encodeURIComponent(r);const s=new Headers(this.defaultHeaders);let o;return s.append("Accept",n),this.method==="POST"?(s.append("Content-Type","application/x-www-form-urlencoded"),o=new URLSearchParams,o.set("query",r),this.additionalUrlParams.forEach((u,l)=>{o.set(l,u)}),s.append("Content-Length",o.toString().length.toString())):this.additionalUrlParams.toString()!==""&&(a+=`&${this.additionalUrlParams.toString()}`),this.handleFetchCall(a,{headers:s,method:this.method,body:o})}async handleFetchCall(e,r,n={}){let a;if(this.timeout){const l=new Tk.default;r.signal=l.signal,a=setTimeout(()=>l.abort(),this.timeout)}const s=await(this.fetchCb||fetch)(e,r);clearTimeout(a);let o;n.ignoreBody||(o=BIe(s.body)?s.body:new jIe.ReadableWebToNodeStream(s.body));let u=s.headers.get("Content-Type")||"";if(u.indexOf(";")>0&&(u=u.substr(0,u.indexOf(";"))),!s.ok){const l=/^[^?]*/u.exec(e)[0];let c="empty response";throw o&&(c=await LIe(o)),new Error(`Invalid SPARQL endpoint response from ${l} (HTTP status ${s.status}):
${c}`)}return[u,o]}}lo.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json";lo.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml";lo.CONTENTTYPE_SPARQL=`${lo.CONTENTTYPE_SPARQL_JSON};q=1.0,${lo.CONTENTTYPE_SPARQL_XML};q=0.7`;lo.CONTENTTYPE_TURTLE="text/turtle";FR.SparqlEndpointFetcher=lo;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(FR,t)})(NR);var jR={};Object.defineProperty(jR,"__esModule",{value:!0});jR.LRUCache=void 0;const kv=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,MJ=new Set,e6=typeof process=="object"&&process?process:{},BJ=(t,e,r,n)=>{typeof e6.emitWarning=="function"?e6.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let hE=globalThis.AbortController,Ak=globalThis.AbortSignal;var qU;if(typeof hE>"u"){Ak=class{constructor(){lt(this,"onabort");lt(this,"_onabort",[]);lt(this,"reason");lt(this,"aborted",!1)}addEventListener(n,a){this._onabort.push(a)}},hE=class{constructor(){lt(this,"signal",new Ak);e()}abort(n){var a,s;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const o of this.signal._onabort)o(n);(s=(a=this.signal).onabort)==null||s.call(a,n)}}};let t=((qU=e6.env)==null?void 0:qU.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,BJ("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const kIe=t=>!MJ.has(t),Mf=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),kJ=t=>Mf(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?iT:null:null;let iT=class extends Array{constructor(e){super(e),this.fill(0)}};var PN,oy;let bb=(PN=class{constructor(e,r){lt(this,"heap");lt(this,"length");if(!x(bb,oy))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}static create(e){const r=kJ(e);if(!r)return[];Fe(bb,oy,!0);const n=new bb(e,r);return Fe(bb,oy,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},oy=new WeakMap,Ue(PN,oy,!1),PN);var Wu,Ro,oc,Ku,uy,Ki,Xu,Xi,Nn,vr,Cs,Io,ns,ma,Ju,Ba,Ed,Ad,Yu,uc,lh,eo,U_,t6,Hp,xd,V_,Po,IE,UJ,qp,ly,H_,lc,Bf,cc,kf,q_,r6,cy,aT,dy,sT,Sn,Xn,z_,n6,zp,_b,zU;let $J=(zU=class{constructor(e){Ue(this,U_);Ue(this,IE);Ue(this,lc);Ue(this,cc);Ue(this,q_);Ue(this,cy);Ue(this,dy);Ue(this,Sn);Ue(this,z_);Ue(this,zp);Ue(this,Wu,void 0);Ue(this,Ro,void 0);Ue(this,oc,void 0);Ue(this,Ku,void 0);Ue(this,uy,void 0);lt(this,"ttl");lt(this,"ttlResolution");lt(this,"ttlAutopurge");lt(this,"updateAgeOnGet");lt(this,"updateAgeOnHas");lt(this,"allowStale");lt(this,"noDisposeOnSet");lt(this,"noUpdateTTL");lt(this,"maxEntrySize");lt(this,"sizeCalculation");lt(this,"noDeleteOnFetchRejection");lt(this,"noDeleteOnStaleGet");lt(this,"allowStaleOnFetchAbort");lt(this,"allowStaleOnFetchRejection");lt(this,"ignoreFetchAbort");Ue(this,Ki,void 0);Ue(this,Xu,void 0);Ue(this,Xi,void 0);Ue(this,Nn,void 0);Ue(this,vr,void 0);Ue(this,Cs,void 0);Ue(this,Io,void 0);Ue(this,ns,void 0);Ue(this,ma,void 0);Ue(this,Ju,void 0);Ue(this,Ba,void 0);Ue(this,Ed,void 0);Ue(this,Ad,void 0);Ue(this,Yu,void 0);Ue(this,uc,void 0);Ue(this,lh,void 0);Ue(this,eo,void 0);Ue(this,Hp,()=>{});Ue(this,xd,()=>{});Ue(this,V_,()=>{});Ue(this,Po,()=>!1);Ue(this,qp,e=>{});Ue(this,ly,(e,r,n)=>{});Ue(this,H_,(e,r,n,a)=>{if(n||a)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});const{max:r=0,ttl:n,ttlResolution:a=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:u,allowStale:l,dispose:c,disposeAfter:d,noDisposeOnSet:f,noUpdateTTL:h,maxSize:p=0,maxEntrySize:g=0,sizeCalculation:y,fetchMethod:S,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:T,ignoreFetchAbort:R}=e;if(r!==0&&!Mf(r))throw new TypeError("max option must be a nonnegative integer");const I=r?kJ(r):Array;if(!I)throw new Error("invalid max value: "+r);if(Fe(this,Wu,r),Fe(this,Ro,p),this.maxEntrySize=g||x(this,Ro),this.sizeCalculation=y,this.sizeCalculation){if(!x(this,Ro)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("fetchMethod must be a function if specified");if(Fe(this,uy,S),Fe(this,lh,!!S),Fe(this,Xi,new Map),Fe(this,Nn,new Array(r).fill(void 0)),Fe(this,vr,new Array(r).fill(void 0)),Fe(this,Cs,new I(r)),Fe(this,Io,new I(r)),Fe(this,ns,0),Fe(this,ma,0),Fe(this,Ju,bb.create(r)),Fe(this,Ki,0),Fe(this,Xu,0),typeof c=="function"&&Fe(this,oc,c),typeof d=="function"?(Fe(this,Ku,d),Fe(this,Ba,[])):(Fe(this,Ku,void 0),Fe(this,Ba,void 0)),Fe(this,uc,!!x(this,oc)),Fe(this,eo,!!x(this,Ku)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!E,this.allowStaleOnFetchAbort=!!T,this.ignoreFetchAbort=!!R,this.maxEntrySize!==0){if(x(this,Ro)!==0&&!Mf(x(this,Ro)))throw new TypeError("maxSize must be a positive integer if specified");if(!Mf(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");xe(this,IE,UJ).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!u,this.ttlResolution=Mf(a)||a===0?a:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!Mf(this.ttl))throw new TypeError("ttl must be a positive integer if specified");xe(this,U_,t6).call(this)}if(x(this,Wu)===0&&this.ttl===0&&x(this,Ro)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!x(this,Wu)&&!x(this,Ro)){const D="LRU_CACHE_UNBOUNDED";kIe(D)&&(MJ.add(D),BJ("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,$J))}}static unsafeExposeInternals(e){return{starts:x(e,Ad),ttls:x(e,Yu),sizes:x(e,Ed),keyMap:x(e,Xi),keyList:x(e,Nn),valList:x(e,vr),next:x(e,Cs),prev:x(e,Io),get head(){return x(e,ns)},get tail(){return x(e,ma)},free:x(e,Ju),isBackgroundFetch:r=>{var n;return xe(n=e,Sn,Xn).call(n,r)},backgroundFetch:(r,n,a,s)=>{var o;return xe(o=e,dy,sT).call(o,r,n,a,s)},moveToTail:r=>{var n;return xe(n=e,zp,_b).call(n,r)},indexes:r=>{var n;return xe(n=e,lc,Bf).call(n,r)},rindexes:r=>{var n;return xe(n=e,cc,kf).call(n,r)},isStale:r=>{var n;return x(n=e,Po).call(n,r)}}}get max(){return x(this,Wu)}get maxSize(){return x(this,Ro)}get calculatedSize(){return x(this,Xu)}get size(){return x(this,Ki)}get fetchMethod(){return x(this,uy)}get dispose(){return x(this,oc)}get disposeAfter(){return x(this,Ku)}getRemainingTTL(e){return x(this,Xi).has(e)?1/0:0}*entries(){for(const e of xe(this,lc,Bf).call(this))x(this,vr)[e]!==void 0&&x(this,Nn)[e]!==void 0&&!xe(this,Sn,Xn).call(this,x(this,vr)[e])&&(yield[x(this,Nn)[e],x(this,vr)[e]])}*rentries(){for(const e of xe(this,cc,kf).call(this))x(this,vr)[e]!==void 0&&x(this,Nn)[e]!==void 0&&!xe(this,Sn,Xn).call(this,x(this,vr)[e])&&(yield[x(this,Nn)[e],x(this,vr)[e]])}*keys(){for(const e of xe(this,lc,Bf).call(this)){const r=x(this,Nn)[e];r!==void 0&&!xe(this,Sn,Xn).call(this,x(this,vr)[e])&&(yield r)}}*rkeys(){for(const e of xe(this,cc,kf).call(this)){const r=x(this,Nn)[e];r!==void 0&&!xe(this,Sn,Xn).call(this,x(this,vr)[e])&&(yield r)}}*values(){for(const e of xe(this,lc,Bf).call(this))x(this,vr)[e]!==void 0&&!xe(this,Sn,Xn).call(this,x(this,vr)[e])&&(yield x(this,vr)[e])}*rvalues(){for(const e of xe(this,cc,kf).call(this))x(this,vr)[e]!==void 0&&!xe(this,Sn,Xn).call(this,x(this,vr)[e])&&(yield x(this,vr)[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(const n of xe(this,lc,Bf).call(this)){const a=x(this,vr)[n],s=xe(this,Sn,Xn).call(this,a)?a.__staleWhileFetching:a;if(s!==void 0&&e(s,x(this,Nn)[n],this))return this.get(x(this,Nn)[n],r)}}forEach(e,r=this){for(const n of xe(this,lc,Bf).call(this)){const a=x(this,vr)[n],s=xe(this,Sn,Xn).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,x(this,Nn)[n],this)}}rforEach(e,r=this){for(const n of xe(this,cc,kf).call(this)){const a=x(this,vr)[n],s=xe(this,Sn,Xn).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,x(this,Nn)[n],this)}}purgeStale(){let e=!1;for(const r of xe(this,cc,kf).call(this,{allowStale:!0}))x(this,Po).call(this,r)&&(this.delete(x(this,Nn)[r]),e=!0);return e}dump(){const e=[];for(const r of xe(this,lc,Bf).call(this,{allowStale:!0})){const n=x(this,Nn)[r],a=x(this,vr)[r],s=xe(this,Sn,Xn).call(this,a)?a.__staleWhileFetching:a;if(s===void 0||n===void 0)continue;const o={value:s};if(x(this,Yu)&&x(this,Ad)){o.ttl=x(this,Yu)[r];const u=kv.now()-x(this,Ad)[r];o.start=Math.floor(Date.now()-u)}x(this,Ed)&&(o.size=x(this,Ed)[r]),e.unshift([n,o])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const a=Date.now()-n.start;n.start=kv.now()-a}this.set(r,n.value,n)}}set(e,r,n={}){var h,p,g;if(r===void 0)return this.delete(e),this;const{ttl:a=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:l}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const d=x(this,H_).call(this,e,r,n.size||0,u);if(this.maxEntrySize&&d>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let f=x(this,Ki)===0?void 0:x(this,Xi).get(e);if(f===void 0)f=x(this,Ki)===0?x(this,ma):x(this,Ju).length!==0?x(this,Ju).pop():x(this,Ki)===x(this,Wu)?xe(this,cy,aT).call(this,!1):x(this,Ki),x(this,Nn)[f]=e,x(this,vr)[f]=r,x(this,Xi).set(e,f),x(this,Cs)[x(this,ma)]=f,x(this,Io)[f]=x(this,ma),Fe(this,ma,f),Ya(this,Ki)._++,x(this,ly).call(this,f,d,l),l&&(l.set="add"),c=!1;else{xe(this,zp,_b).call(this,f);const y=x(this,vr)[f];if(r!==y){if(x(this,lh)&&xe(this,Sn,Xn).call(this,y)?y.__abortController.abort(new Error("replaced")):o||(x(this,uc)&&((h=x(this,oc))==null||h.call(this,y,e,"set")),x(this,eo)&&((p=x(this,Ba))==null||p.push([y,e,"set"]))),x(this,qp).call(this,f),x(this,ly).call(this,f,d,l),x(this,vr)[f]=r,l){l.set="replace";const S=y&&xe(this,Sn,Xn).call(this,y)?y.__staleWhileFetching:y;S!==void 0&&(l.oldValue=S)}}else l&&(l.set="update")}if(a!==0&&!x(this,Yu)&&xe(this,U_,t6).call(this),x(this,Yu)&&(c||x(this,V_).call(this,f,a,s),l&&x(this,xd).call(this,l,f)),!o&&x(this,eo)&&x(this,Ba)){const y=x(this,Ba);let S;for(;S=y==null?void 0:y.shift();)(g=x(this,Ku))==null||g.call(this,...S)}return this}pop(){var e;try{for(;x(this,Ki);){const r=x(this,vr)[x(this,ns)];if(xe(this,cy,aT).call(this,!0),xe(this,Sn,Xn).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(x(this,eo)&&x(this,Ba)){const r=x(this,Ba);let n;for(;n=r==null?void 0:r.shift();)(e=x(this,Ku))==null||e.call(this,...n)}}}has(e,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:a}=r,s=x(this,Xi).get(e);if(s!==void 0){const o=x(this,vr)[s];if(xe(this,Sn,Xn).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(x(this,Po).call(this,s))a&&(a.has="stale",x(this,xd).call(this,a,s));else return n&&x(this,Hp).call(this,s),a&&(a.has="hit",x(this,xd).call(this,a,s)),!0}else a&&(a.has="miss");return!1}peek(e,r={}){const{allowStale:n=this.allowStale}=r,a=x(this,Xi).get(e);if(a!==void 0&&(n||!x(this,Po).call(this,a))){const s=x(this,vr)[a];return xe(this,Sn,Xn).call(this,s)?s.__staleWhileFetching:s}}async fetch(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:u=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:S=!1,status:v,signal:A}=r;if(!x(this,lh))return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,status:v});const E={allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:u,size:l,sizeCalculation:c,noUpdateTTL:d,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:g,ignoreFetchAbort:p,status:v,signal:A};let T=x(this,Xi).get(e);if(T===void 0){v&&(v.fetch="miss");const R=xe(this,dy,sT).call(this,e,T,E,y);return R.__returned=R}else{const R=x(this,vr)[T];if(xe(this,Sn,Xn).call(this,R)){const O=n&&R.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",O&&(v.returnedStale=!0)),O?R.__staleWhileFetching:R.__returned=R}const I=x(this,Po).call(this,T);if(!S&&!I)return v&&(v.fetch="hit"),xe(this,zp,_b).call(this,T),a&&x(this,Hp).call(this,T),v&&x(this,xd).call(this,v,T),R;const D=xe(this,dy,sT).call(this,e,T,E,y),N=D.__staleWhileFetching!==void 0&&n;return v&&(v.fetch=I?"stale":"refresh",N&&I&&(v.returnedStale=!0)),N?D.__staleWhileFetching:D.__returned=D}}get(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,u=x(this,Xi).get(e);if(u!==void 0){const l=x(this,vr)[u],c=xe(this,Sn,Xn).call(this,l);return o&&x(this,xd).call(this,o,u),x(this,Po).call(this,u)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.delete(e),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(xe(this,zp,_b).call(this,u),a&&x(this,Hp).call(this,u),l))}else o&&(o.get="miss")}delete(e){var n,a,s,o;let r=!1;if(x(this,Ki)!==0){const u=x(this,Xi).get(e);if(u!==void 0)if(r=!0,x(this,Ki)===1)this.clear();else{x(this,qp).call(this,u);const l=x(this,vr)[u];xe(this,Sn,Xn).call(this,l)?l.__abortController.abort(new Error("deleted")):(x(this,uc)||x(this,eo))&&(x(this,uc)&&((n=x(this,oc))==null||n.call(this,l,e,"delete")),x(this,eo)&&((a=x(this,Ba))==null||a.push([l,e,"delete"]))),x(this,Xi).delete(e),x(this,Nn)[u]=void 0,x(this,vr)[u]=void 0,u===x(this,ma)?Fe(this,ma,x(this,Io)[u]):u===x(this,ns)?Fe(this,ns,x(this,Cs)[u]):(x(this,Cs)[x(this,Io)[u]]=x(this,Cs)[u],x(this,Io)[x(this,Cs)[u]]=x(this,Io)[u]),Ya(this,Ki)._--,x(this,Ju).push(u)}}if(x(this,eo)&&((s=x(this,Ba))!=null&&s.length)){const u=x(this,Ba);let l;for(;l=u==null?void 0:u.shift();)(o=x(this,Ku))==null||o.call(this,...l)}return r}clear(){var e,r,n;for(const a of xe(this,cc,kf).call(this,{allowStale:!0})){const s=x(this,vr)[a];if(xe(this,Sn,Xn).call(this,s))s.__abortController.abort(new Error("deleted"));else{const o=x(this,Nn)[a];x(this,uc)&&((e=x(this,oc))==null||e.call(this,s,o,"delete")),x(this,eo)&&((r=x(this,Ba))==null||r.push([s,o,"delete"]))}}if(x(this,Xi).clear(),x(this,vr).fill(void 0),x(this,Nn).fill(void 0),x(this,Yu)&&x(this,Ad)&&(x(this,Yu).fill(0),x(this,Ad).fill(0)),x(this,Ed)&&x(this,Ed).fill(0),Fe(this,ns,0),Fe(this,ma,0),x(this,Ju).length=0,Fe(this,Xu,0),Fe(this,Ki,0),x(this,eo)&&x(this,Ba)){const a=x(this,Ba);let s;for(;s=a==null?void 0:a.shift();)(n=x(this,Ku))==null||n.call(this,...s)}}},Wu=new WeakMap,Ro=new WeakMap,oc=new WeakMap,Ku=new WeakMap,uy=new WeakMap,Ki=new WeakMap,Xu=new WeakMap,Xi=new WeakMap,Nn=new WeakMap,vr=new WeakMap,Cs=new WeakMap,Io=new WeakMap,ns=new WeakMap,ma=new WeakMap,Ju=new WeakMap,Ba=new WeakMap,Ed=new WeakMap,Ad=new WeakMap,Yu=new WeakMap,uc=new WeakMap,lh=new WeakMap,eo=new WeakMap,U_=new WeakSet,t6=function(){const e=new iT(x(this,Wu)),r=new iT(x(this,Wu));Fe(this,Yu,e),Fe(this,Ad,r),Fe(this,V_,(s,o,u=kv.now())=>{if(r[s]=o!==0?u:0,e[s]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{x(this,Po).call(this,s)&&this.delete(x(this,Nn)[s])},o+1);l.unref&&l.unref()}}),Fe(this,Hp,s=>{r[s]=e[s]!==0?kv.now():0}),Fe(this,xd,(s,o)=>{if(e[o]){const u=e[o],l=r[o];s.ttl=u,s.start=l,s.now=n||a();const c=s.now-l;s.remainingTTL=u-c}});let n=0;const a=()=>{const s=kv.now();if(this.ttlResolution>0){n=s;const o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=x(this,Xi).get(s);if(o===void 0)return 0;const u=e[o],l=r[o];if(u===0||l===0)return 1/0;const c=(n||a())-l;return u-c},Fe(this,Po,s=>e[s]!==0&&r[s]!==0&&(n||a())-r[s]>e[s])},Hp=new WeakMap,xd=new WeakMap,V_=new WeakMap,Po=new WeakMap,IE=new WeakSet,UJ=function(){const e=new iT(x(this,Wu));Fe(this,Xu,0),Fe(this,Ed,e),Fe(this,qp,r=>{Fe(this,Xu,x(this,Xu)-e[r]),e[r]=0}),Fe(this,H_,(r,n,a,s)=>{if(xe(this,Sn,Xn).call(this,n))return 0;if(!Mf(a))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(a=s(n,r),!Mf(a))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return a}),Fe(this,ly,(r,n,a)=>{if(e[r]=n,x(this,Ro)){const s=x(this,Ro)-e[r];for(;x(this,Xu)>s;)xe(this,cy,aT).call(this,!0)}Fe(this,Xu,x(this,Xu)+e[r]),a&&(a.entrySize=n,a.totalCalculatedSize=x(this,Xu))})},qp=new WeakMap,ly=new WeakMap,H_=new WeakMap,lc=new WeakSet,Bf=function*({allowStale:e=this.allowStale}={}){if(x(this,Ki))for(let r=x(this,ma);!(!xe(this,q_,r6).call(this,r)||((e||!x(this,Po).call(this,r))&&(yield r),r===x(this,ns)));)r=x(this,Io)[r]},cc=new WeakSet,kf=function*({allowStale:e=this.allowStale}={}){if(x(this,Ki))for(let r=x(this,ns);!(!xe(this,q_,r6).call(this,r)||((e||!x(this,Po).call(this,r))&&(yield r),r===x(this,ma)));)r=x(this,Cs)[r]},q_=new WeakSet,r6=function(e){return e!==void 0&&x(this,Xi).get(x(this,Nn)[e])===e},cy=new WeakSet,aT=function(e){var s,o;const r=x(this,ns),n=x(this,Nn)[r],a=x(this,vr)[r];return x(this,lh)&&xe(this,Sn,Xn).call(this,a)?a.__abortController.abort(new Error("evicted")):(x(this,uc)||x(this,eo))&&(x(this,uc)&&((s=x(this,oc))==null||s.call(this,a,n,"evict")),x(this,eo)&&((o=x(this,Ba))==null||o.push([a,n,"evict"]))),x(this,qp).call(this,r),e&&(x(this,Nn)[r]=void 0,x(this,vr)[r]=void 0,x(this,Ju).push(r)),x(this,Ki)===1?(Fe(this,ns,Fe(this,ma,0)),x(this,Ju).length=0):Fe(this,ns,x(this,Cs)[r]),x(this,Xi).delete(n),Ya(this,Ki)._--,r},dy=new WeakSet,sT=function(e,r,n,a){const s=r===void 0?void 0:x(this,vr)[r];if(xe(this,Sn,Xn).call(this,s))return s;const o=new hE,{signal:u}=n;u==null||u.addEventListener("abort",()=>o.abort(u.reason),{signal:o.signal});const l={signal:o.signal,options:n,context:a},c=(y,S=!1)=>{const{aborted:v}=o.signal,A=n.ignoreFetchAbort&&y!==void 0;if(n.status&&(v&&!S?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,A&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),v&&!A&&!S)return f(o.signal.reason);const E=p;return x(this,vr)[r]===p&&(y===void 0?E.__staleWhileFetching?x(this,vr)[r]=E.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,y,l.options))),y},d=y=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=y),f(y)),f=y=>{const{aborted:S}=o.signal,v=S&&n.allowStaleOnFetchAbort,A=v||n.allowStaleOnFetchRejection,E=A||n.noDeleteOnFetchRejection,T=p;if(x(this,vr)[r]===p&&(!E||T.__staleWhileFetching===void 0?this.delete(e):v||(x(this,vr)[r]=T.__staleWhileFetching)),A)return n.status&&T.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),T.__staleWhileFetching;if(T.__returned===T)throw y},h=(y,S)=>{var A;const v=(A=x(this,uy))==null?void 0:A.call(this,e,s,l);v&&v instanceof Promise&&v.then(E=>y(E===void 0?void 0:E),S),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(y(void 0),n.allowStaleOnFetchAbort&&(y=E=>c(E,!0)))})};n.status&&(n.status.fetchDispatched=!0);const p=new Promise(h).then(c,d),g=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,g,{...l.options,status:void 0}),r=x(this,Xi).get(e)):x(this,vr)[r]=g,g},Sn=new WeakSet,Xn=function(e){if(!x(this,lh))return!1;const r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof hE},z_=new WeakSet,n6=function(e,r){x(this,Io)[r]=e,x(this,Cs)[e]=r},zp=new WeakSet,_b=function(e){e!==x(this,ma)&&(e===x(this,ns)?Fe(this,ns,x(this,Cs)[e]):xe(this,z_,n6).call(this,x(this,Io)[e],x(this,Cs)[e]),xe(this,z_,n6).call(this,x(this,ma),e),Fe(this,ma,e))},zU);jR.LRUCache=$J;Object.defineProperty(DR,"__esModule",{value:!0});DR.RdfSourceSparql=void 0;const $Ie=Qa,xk=Gr,UIe=NR,VIe=jR,HIe=lr,xg=Oa,i6=Cr,wp=new HIe.DataFactory,qIe=new $Ie.BindingsFactory,zIe=wp.variable("count");class ga{constructor(e,r,n,a,s){this.url=e,this.context=r,this.mediatorHttp=n,this.endpointFetcher=new UIe.SparqlEndpointFetcher({method:a?"GET":"POST",fetch:(o,u)=>this.mediatorHttp.mediate({input:o,init:u,context:this.context}),prefixVariableQuestionMark:!0}),this.cache=s>0?new VIe.LRUCache({max:s}):void 0}static replaceBlankNodes(e){const r=(0,xg.getVariables)((0,xg.getTerms)(e)).map(o=>o.value),n={};let a=!1;const s=(0,xg.mapTermsNested)(e,o=>{if(o.termType==="BlankNode"){let u=o.value;if(n[u])u=n[u];else{if(r.includes(u)){let l=0;for(;r.includes(`${u}${l}`);)++l;u+=l}n[o.value]=u,r.push(u)}return a=!0,wp.variable(u)}return o});return a?s:e}static patternToBgp(e){return ga.FACTORY.createBgp([ga.FACTORY.createPattern(e.subject,e.predicate,e.object,e.graph)])}static patternToSelectQuery(e){const r=(0,xg.getVariables)((0,xg.getTerms)(e));return(0,i6.toSparql)(ga.FACTORY.createProject(ga.patternToBgp(e),r),{sparqlStar:!0})}static patternToCountQuery(e){return(0,i6.toSparql)(ga.FACTORY.createProject(ga.FACTORY.createExtend(ga.FACTORY.createGroup(ga.patternToBgp(e),[],[ga.FACTORY.createBoundAggregate(wp.variable("var0"),"count",ga.FACTORY.createWildcardExpression(),!1)]),wp.variable("count"),ga.FACTORY.createTermExpression(wp.variable("var0"))),[wp.variable("count")]),{sparqlStar:!0})}queryBindings(e,r){const n=this.endpointFetcher.fetchBindings(e,r);return(0,xk.wrap)(n,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(a=>qIe.bindings(Object.entries(a).map(([s,o])=>[wp.variable(s.slice(1)),o])))}match(e,r,n,a){const s=ga.replaceBlankNodes(ga.FACTORY.createPattern(e,r,n,a)),o=ga.patternToCountQuery(s),u=ga.patternToSelectQuery(s);new Promise(c=>{var h;const d=(h=this.cache)==null?void 0:h.get(o);if(d!==void 0)return c(d);const f=this.queryBindings(this.url,o);f.on("data",p=>{var S;const g=p.get(zIe),y={type:"estimate",value:Number.POSITIVE_INFINITY};if(g){const v=Number.parseInt(g.value,10);Number.isNaN(v)||(y.type="exact",y.value=v,(S=this.cache)==null||S.set(o,y))}return c(y)}),f.on("error",()=>c({type:"estimate",value:Number.POSITIVE_INFINITY})),f.on("end",()=>c({type:"estimate",value:Number.POSITIVE_INFINITY}))}).then(c=>l.setProperty("metadata",{cardinality:c,canContainUndefs:!1}));const l=new xk.TransformIterator(async()=>this.queryBindings(this.url,u),{autoStart:!1}).transform({map:c=>(0,xg.mapTermsNested)(s,d=>{if(d.termType==="Variable"){const f=c.get(d);return f||l.destroy(new Error(`The endpoint ${this.url} failed to provide a binding for ${d.value}.`)),f}return d}),autoStart:!1});return l}}DR.RdfSourceSparql=ga;ga.FACTORY=new i6.Factory;Object.defineProperty(CR,"__esModule",{value:!0});CR.ActorRdfResolveHypermediaSparql=void 0;const GIe=TO,QIe=DR;class WIe extends GIe.ActorRdfResolveHypermedia{constructor(e){super(e,"sparql")}async testMetadata(e){if(!e.forceSourceType&&!e.metadata.sparqlService&&!(this.checkUrlSuffix&&e.url.endsWith("/sparql")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`);return{filterFactor:1}}async run(e){return this.logInfo(e.context,`Identified as sparql source: ${e.url}`),{source:new QIe.RdfSourceSparql(e.metadata.sparqlService||e.url,e.context,this.mediatorHttp,this.forceHttpGet,this.cacheSize)}}}CR.ActorRdfResolveHypermediaSparql=WIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(CR,t)})(LJ);var VJ={},MR={},BR={},kR={};Object.defineProperty(kR,"__esModule",{value:!0});kR.ActorRdfUpdateHypermedia=void 0;const KIe=Ut;class XIe extends KIe.Actor{constructor(e,r){super(e),this.destinationType=r}async test(e){if(e.forceDestinationType&&this.destinationType!==e.forceDestinationType)throw new Error(`Actor ${this.name} is not able to handle destination type ${e.forceDestinationType}.`);return this.testMetadata(e)}}kR.ActorRdfUpdateHypermedia=XIe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kR,t)})(BR);var Nw={},om={},JIe={get exports(){return om},set exports(t){om=t}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof F<"u"&&F,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var u=typeof s<"u"&&s||typeof self<"u"&&self||typeof u<"u"&&u,l={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function c(H){return H&&DataView.prototype.isPrototypeOf(H)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(H){return H&&d.indexOf(Object.prototype.toString.call(H))>-1};function h(H){if(typeof H!="string"&&(H=String(H)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(H)||H==="")throw new TypeError('Invalid character in header field name: "'+H+'"');return H.toLowerCase()}function p(H){return typeof H!="string"&&(H=String(H)),H}function g(H){var J={next:function(){var se=H.shift();return{done:se===void 0,value:se}}};return l.iterable&&(J[Symbol.iterator]=function(){return J}),J}function y(H){this.map={},H instanceof y?H.forEach(function(J,se){this.append(se,J)},this):Array.isArray(H)?H.forEach(function(J){this.append(J[0],J[1])},this):H&&Object.getOwnPropertyNames(H).forEach(function(J){this.append(J,H[J])},this)}y.prototype.append=function(H,J){H=h(H),J=p(J);var se=this.map[H];this.map[H]=se?se+", "+J:J},y.prototype.delete=function(H){delete this.map[h(H)]},y.prototype.get=function(H){return H=h(H),this.has(H)?this.map[H]:null},y.prototype.has=function(H){return this.map.hasOwnProperty(h(H))},y.prototype.set=function(H,J){this.map[h(H)]=p(J)},y.prototype.forEach=function(H,J){for(var se in this.map)this.map.hasOwnProperty(se)&&H.call(J,this.map[se],se,this)},y.prototype.keys=function(){var H=[];return this.forEach(function(J,se){H.push(se)}),g(H)},y.prototype.values=function(){var H=[];return this.forEach(function(J){H.push(J)}),g(H)},y.prototype.entries=function(){var H=[];return this.forEach(function(J,se){H.push([se,J])}),g(H)},l.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function S(H){if(H.bodyUsed)return Promise.reject(new TypeError("Already read"));H.bodyUsed=!0}function v(H){return new Promise(function(J,se){H.onload=function(){J(H.result)},H.onerror=function(){se(H.error)}})}function A(H){var J=new FileReader,se=v(J);return J.readAsArrayBuffer(H),se}function E(H){var J=new FileReader,se=v(J);return J.readAsText(H),se}function T(H){for(var J=new Uint8Array(H),se=new Array(J.length),ue=0;ue<J.length;ue++)se[ue]=String.fromCharCode(J[ue]);return se.join("")}function R(H){if(H.slice)return H.slice(0);var J=new Uint8Array(H.byteLength);return J.set(new Uint8Array(H)),J.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(H){this.bodyUsed=this.bodyUsed,this._bodyInit=H,H?typeof H=="string"?this._bodyText=H:l.blob&&Blob.prototype.isPrototypeOf(H)?this._bodyBlob=H:l.formData&&FormData.prototype.isPrototypeOf(H)?this._bodyFormData=H:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)?this._bodyText=H.toString():l.arrayBuffer&&l.blob&&c(H)?(this._bodyArrayBuffer=R(H.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(H)||f(H))?this._bodyArrayBuffer=R(H):this._bodyText=H=Object.prototype.toString.call(H):this._bodyText="",this.headers.get("content-type")||(typeof H=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var H=S(this);if(H)return H;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var H=S(this);return H||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(A)}),this.text=function(){var H=S(this);if(H)return H;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(H){var J=H.toUpperCase();return D.indexOf(J)>-1?J:H}function N(H,J){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');J=J||{};var se=J.body;if(H instanceof N){if(H.bodyUsed)throw new TypeError("Already read");this.url=H.url,this.credentials=H.credentials,J.headers||(this.headers=new y(H.headers)),this.method=H.method,this.mode=H.mode,this.signal=H.signal,!se&&H._bodyInit!=null&&(se=H._bodyInit,H.bodyUsed=!0)}else this.url=String(H);if(this.credentials=J.credentials||this.credentials||"same-origin",(J.headers||!this.headers)&&(this.headers=new y(J.headers)),this.method=M(J.method||this.method||"GET"),this.mode=J.mode||this.mode||null,this.signal=J.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&se)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(se),(this.method==="GET"||this.method==="HEAD")&&(J.cache==="no-store"||J.cache==="no-cache")){var ue=/([?&])_=[^&]*/;if(ue.test(this.url))this.url=this.url.replace(ue,"$1_="+new Date().getTime());else{var Se=/\?/;this.url+=(Se.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function O(H){var J=new FormData;return H.trim().split("&").forEach(function(se){if(se){var ue=se.split("="),Se=ue.shift().replace(/\+/g," "),ve=ue.join("=").replace(/\+/g," ");J.append(decodeURIComponent(Se),decodeURIComponent(ve))}}),J}function k(H){var J=new y,se=H.replace(/\r?\n[\t ]+/g," ");return se.split("\r").map(function(ue){return ue.indexOf(`
`)===0?ue.substr(1,ue.length):ue}).forEach(function(ue){var Se=ue.split(":"),ve=Se.shift().trim();if(ve){var Le=Se.join(":").trim();J.append(ve,Le)}}),J}I.call(N.prototype);function Y(H,J){if(!(this instanceof Y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');J||(J={}),this.type="default",this.status=J.status===void 0?200:J.status,this.ok=this.status>=200&&this.status<300,this.statusText=J.statusText===void 0?"":""+J.statusText,this.headers=new y(J.headers),this.url=J.url||"",this._initBody(H)}I.call(Y.prototype),Y.prototype.clone=function(){return new Y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},Y.error=function(){var H=new Y(null,{status:0,statusText:""});return H.type="error",H};var ne=[301,302,303,307,308];Y.redirect=function(H,J){if(ne.indexOf(J)===-1)throw new RangeError("Invalid status code");return new Y(null,{status:J,headers:{location:H}})},o.DOMException=u.DOMException;try{new o.DOMException}catch{o.DOMException=function(J,se){this.message=J,this.name=se;var ue=Error(J);this.stack=ue.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function q(H,J){return new Promise(function(se,ue){var Se=new N(H,J);if(Se.signal&&Se.signal.aborted)return ue(new o.DOMException("Aborted","AbortError"));var ve=new XMLHttpRequest;function Le(){ve.abort()}ve.onload=function(){var Ne={status:ve.status,statusText:ve.statusText,headers:k(ve.getAllResponseHeaders()||"")};Ne.url="responseURL"in ve?ve.responseURL:Ne.headers.get("X-Request-URL");var ye="response"in ve?ve.response:ve.responseText;setTimeout(function(){se(new Y(ye,Ne))},0)},ve.onerror=function(){setTimeout(function(){ue(new TypeError("Network request failed"))},0)},ve.ontimeout=function(){setTimeout(function(){ue(new TypeError("Network request failed"))},0)},ve.onabort=function(){setTimeout(function(){ue(new o.DOMException("Aborted","AbortError"))},0)};function Xe(Ne){try{return Ne===""&&u.location.href?u.location.href:Ne}catch{return Ne}}ve.open(Se.method,Xe(Se.url),!0),Se.credentials==="include"?ve.withCredentials=!0:Se.credentials==="omit"&&(ve.withCredentials=!1),"responseType"in ve&&(l.blob?ve.responseType="blob":l.arrayBuffer&&Se.headers.get("Content-Type")&&Se.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(ve.responseType="arraybuffer")),J&&typeof J.headers=="object"&&!(J.headers instanceof y)?Object.getOwnPropertyNames(J.headers).forEach(function(Ne){ve.setRequestHeader(Ne,p(J.headers[Ne]))}):Se.headers.forEach(function(Ne,ye){ve.setRequestHeader(ye,Ne)}),Se.signal&&(Se.signal.addEventListener("abort",Le),ve.onreadystatechange=function(){ve.readyState===4&&Se.signal.removeEventListener("abort",Le)}),ve.send(typeof Se._bodyInit>"u"?null:Se._bodyInit)})}return q.polyfill=!0,u.fetch||(u.fetch=q,u.Headers=y,u.Request=N,u.Response=Y),o.Headers=y,o.Request=N,o.Response=Y,o.fetch=q,o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,t.exports=e})(JIe,om);Object.defineProperty(Nw,"__esModule",{value:!0});Nw.QuadDestinationPatchSparqlUpdate=void 0;const YIe=td,ZIe=Vm,ePe=om,h2=ow,tPe=zr;class rPe{constructor(e,r,n){this.url=e,this.context=r,this.mediatorHttp=n}insert(e){return this.wrapSparqlUpdateRequest("INSERT",e)}async delete(e){return this.wrapSparqlUpdateRequest("DELETE",e)}async wrapSparqlUpdateRequest(e,r){const n=r.map(u=>{let l=`${(0,h2.termToString)(u.subject)} ${(0,h2.termToString)(u.predicate)} ${(0,h2.termToString)(u.object)} .`;return u.graph.termType!=="DefaultGraph"?l=`  GRAPH ${(0,h2.termToString)(u.graph)} { ${l} }
`:l=`  ${l}
`,l}).prepend([`${e} DATA {
`]).append(["}"]),a=new tPe.Readable;a._read=()=>!0,n.on("data",u=>a.push(u)),n.on("end",()=>a.push(null));const s=new ePe.Headers({"content-type":"application/sparql-update"}),o=await this.mediatorHttp.mediate({context:this.context,init:{headers:s,method:"PATCH",body:YIe.ActorHttp.toWebReadableStream(a)},input:this.url});await(0,ZIe.validateHttpResponse)(this.url,o)}async deleteGraphs(e,r,n){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(e,r){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}}Nw.QuadDestinationPatchSparqlUpdate=rPe;Object.defineProperty(MR,"__esModule",{value:!0});MR.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const nPe=BR,iPe=Nw;class aPe extends nPe.ActorRdfUpdateHypermedia{constructor(e){super(e,"patchSparqlUpdate")}async testMetadata(e){if(!e.forceDestinationType&&!e.metadata.patchSparqlUpdate)throw new Error(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`);if(!e.forceDestinationType&&!e.exists)throw new Error(`Actor ${this.name} can only patch a destination that already exists.`);return!0}async run(e){return this.logInfo(e.context,`Identified as patchSparqlUpdate destination: ${e.url}`),{destination:new iPe.QuadDestinationPatchSparqlUpdate(e.url,e.context,this.mediatorHttp)}}}MR.ActorRdfUpdateHypermediaPatchSparqlUpdate=aPe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(MR,t),r(Nw,t)})(VJ);var HJ={},$R={},Fw={};Object.defineProperty(Fw,"__esModule",{value:!0});Fw.QuadDestinationPutLdp=void 0;const sPe=td,oPe=Vm,uPe=om;class lPe{constructor(e,r,n,a,s,o){this.url=e,this.context=r,this.mediaTypes=n,this.mediatorHttp=a,this.mediatorRdfSerializeMediatypes=s,this.mediatorRdfSerialize=o}insert(e){return this.wrapRdfUpdateRequest("INSERT",e)}async delete(e){throw new Error("Put-based LDP destinations don't support deletions")}async wrapRdfUpdateRequest(e,r){const{mediaTypes:n}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),a=this.mediaTypes.filter(c=>c in n),s=a.length>0?a[0]:Object.keys(n).sort((c,d)=>n[d]-n[c])[0],{handle:{data:o}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:r,context:this.context},handleMediaType:s}),u=new uPe.Headers({"content-type":s}),l=await this.mediatorHttp.mediate({context:this.context,init:{headers:u,method:"PUT",body:sPe.ActorHttp.toWebReadableStream(o)},input:this.url});await(0,oPe.validateHttpResponse)(this.url,l)}async deleteGraphs(e,r,n){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(e,r){throw new Error("Put-based LDP destinations don't support named graphs")}}Fw.QuadDestinationPutLdp=lPe;Object.defineProperty($R,"__esModule",{value:!0});$R.ActorRdfUpdateHypermediaPutLdp=void 0;const cPe=BR,dPe=Fw;class fPe extends cPe.ActorRdfUpdateHypermedia{constructor(e){super(e,"putLdp")}async testMetadata(e){if(!e.forceDestinationType){if(!e.metadata.allowHttpMethods||!e.metadata.allowHttpMethods.includes("PUT"))throw new Error(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(e.exists)throw new Error(`Actor ${this.name} can only put on a destination that does not already exists.`)}return!0}async run(e){return this.logInfo(e.context,`Identified as putLdp destination: ${e.url}`),{destination:new dPe.QuadDestinationPutLdp(e.url,e.context,e.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}}$R.ActorRdfUpdateHypermediaPutLdp=fPe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($R,t),r(Fw,t)})(HJ);var qJ={},UR={},Lw={};Object.defineProperty(Lw,"__esModule",{value:!0});Lw.QuadDestinationSparql=void 0;const hPe=NR,p2=ow,pPe=V0;class gPe{constructor(e,r,n){this.url=e,this.context=r,this.mediatorHttp=n,this.endpointFetcher=new hPe.SparqlEndpointFetcher({fetch:(a,s)=>this.mediatorHttp.mediate({input:a,init:s,context:this.context}),prefixVariableQuestionMark:!0})}insert(e){return this.wrapSparqlUpdateRequest("INSERT",e)}async delete(e){return this.wrapSparqlUpdateRequest("DELETE",e)}async wrapSparqlUpdateRequest(e,r){const n=r.map(s=>{let o=`${(0,p2.termToString)(s.subject)} ${(0,p2.termToString)(s.predicate)} ${(0,p2.termToString)(s.object)} .`;return s.graph.termType!=="DefaultGraph"?o=`  GRAPH ${(0,p2.termToString)(s.graph)} { ${o} }
`:o=`  ${o}
`,o}).prepend([`${e} DATA {
`]).append(["}"]),a=await pPe(n);await this.endpointFetcher.fetchUpdate(this.url,a)}async deleteGraphs(e,r,n){const a=Array.isArray(e)?e:[e],s=[];for(const o of a){let u;typeof o=="string"?u=o:o.termType==="DefaultGraph"?u="DEFAULT":u=`GRAPH <${o.value}>`,s.push(`${n?"DROP":"CLEAR"} ${r?"":"SILENT "}${u}`)}await this.endpointFetcher.fetchUpdate(this.url,s.join("; "))}async createGraphs(e,r){const n=[];for(const a of e)n.push(`CREATE${r?"":" SILENT"} GRAPH <${a.value}>`);await this.endpointFetcher.fetchUpdate(this.url,n.join("; "))}}Lw.QuadDestinationSparql=gPe;Object.defineProperty(UR,"__esModule",{value:!0});UR.ActorRdfUpdateHypermediaSparql=void 0;const yPe=BR,mPe=Lw;class vPe extends yPe.ActorRdfUpdateHypermedia{constructor(e){super(e,"sparql")}async testMetadata(e){if(!e.forceDestinationType&&!e.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&e.url.endsWith("/sparql"))&&!(this.checkUrlSuffixUpdate&&e.url.endsWith("/update")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`);return!0}async run(e){return this.logInfo(e.context,`Identified as sparql destination: ${e.url}`),{destination:new mPe.QuadDestinationSparql(e.metadata.sparqlService||e.url,e.context,this.mediatorHttp)}}}UR.ActorRdfUpdateHypermediaSparql=vPe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(UR,t),r(Lw,t)})(qJ);var zJ={},VR={},HR={};Object.defineProperty(HR,"__esModule",{value:!0});HR.LazyCardinalityIterator=void 0;const Lp=Gr;class bPe extends Lp.AsyncIterator{constructor(e){super(),this._source=e,this._count=0,this._buffering=!0,e[Lp.DESTINATION]=this,e.on("readable",Og),e.on("end",Og),e.on("error",Ok),this.readable=e.readable}read(){if(this._buffer)return this._buffer.empty?(this._buffering||this.close(),this.readable=!1,null):this._buffer.shift();let e=null;return this._source.readable&&(e=this._source.read())!==null?this._count+=1:(this.readable=!1,this._source.done&&this.close()),e}getCardinality(){return this._cardinality?this._cardinality:this._error?Promise.reject(this._error):(this._source.done&&this.close(),this.done?this._cardinality=Promise.resolve(this._count):(this._buffer=new Lp.LinkedList,this._cardinality=new Promise((e,r)=>{this._source.removeListener("readable",Og),this._source.removeListener("end",Og);const n=()=>{this._source.removeListener("data",a),this._source.removeListener("end",s),this._source.removeListener("error",o)},a=u=>{this._buffer.push(u),this._count+=1,this.readable=!0},s=()=>{this._buffering=!1,n(),e(this._count)},o=u=>{this._buffering=!1,n(),r(u)};this._source.on("data",a),this._source.on("end",s),this._source.on("error",o)})),this._cardinality)}close(){this._source.removeListener("readable",Og),this._source.removeListener("end",Og),this._source.removeListener("error",Ok),delete this._source[Lp.DESTINATION],this._source.destroy(),super.close()}}HR.LazyCardinalityIterator=bPe;function Og(){this[Lp.DESTINATION].readable=!0}function Ok(t){this[Lp.DESTINATION]._error=t,this[Lp.DESTINATION].emit("error",t)}Object.defineProperty(VR,"__esModule",{value:!0});VR.ActorQueryOperationSparqlEndpoint=void 0;const _Pe=Qa,wPe=tr,$v=q0,UD=Vm,SPe=cn,TPe=So,EPe=Gr,APe=NR,xPe=lr,$f=Cr,OPe=HR,RPe=new _Pe.BindingsFactory,IPe=new xPe.DataFactory;class P_ extends wPe.ActorQueryOperation{constructor(e){super(e),this.endpointFetcher=new APe.SparqlEndpointFetcher({method:e.forceHttpGet?"GET":"POST",fetch:(r,n)=>this.mediatorHttp.mediate({input:r,init:n,context:this.lastContext}),prefixVariableQuestionMark:!0})}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in a query operation action.");const r=(0,$v.getContextSourceFirst)(e.context),n=(0,UD.getContextDestinationFirst)(e.context),a=r?(0,$v.getDataSourceType)(r):void 0,s=n?(0,UD.getDataDestinationType)(n):void 0,o=r?(0,$v.getDataSourceValue)(r):void 0,u=n?(0,UD.getDataDestinationValue)(n):void 0;if(r&&a==="sparql"&&(!n||s==="sparql"&&u===o)||r&&!a&&(!n||!s&&u===o)&&typeof o=="string"&&(this.checkUrlSuffixSparql&&o.endsWith("/sparql")||this.checkUrlSuffixUpdate&&o.endsWith("/update")))return{httpRequests:1};throw new Error(`${this.name} requires a single source with a 'sparql' endpoint to be present in the context or URL ending on /sparql or /update.`)}async run(e){const r=(0,$v.getContextSourceFirst)(e.context);if(!r)throw new Error("Illegal state: undefined sparql endpoint source.");const n=(0,$v.getDataSourceValue)(r);this.lastContext=e.context;let a,s,o;try{a=e.context.get(SPe.KeysInitQuery.queryString)??(0,$f.toSparql)(e.operation),s=this.endpointFetcher.getQueryType(a),s==="UNKNOWN"&&(s=this.endpointFetcher.getUpdateTypes(a))}catch{}(!s||s==="UNKNOWN")&&(o=$f.Util.inScopeVariables(e.operation),a=(0,$f.toSparql)(P_.FACTORY.createProject(e.operation,o)),s="SELECT");const u=this.canOperationContainUndefs(e.operation);switch(s){case"SELECT":return o||(o=$f.Util.inScopeVariables(e.operation)),this.executeQuery(n,a,!1,o,u);case"CONSTRUCT":return this.executeQuery(n,a,!0,void 0,!1);case"ASK":return{type:"boolean",execute:()=>this.endpointFetcher.fetchAsk(n,a)};default:return{type:"void",execute:()=>this.endpointFetcher.fetchUpdate(n,a)}}}executeQuery(e,r,n,a,s){const o=n?this.endpointFetcher.fetchTriples(e,r):this.endpointFetcher.fetchBindings(e,r),u=(0,EPe.wrap)(o,{autoStart:!1}).map(d=>n?d:RPe.bindings(Object.entries(d).map(([f,h])=>[IPe.variable(f.slice(1)),h]))),l=new OPe.LazyCardinalityIterator(u),c=P_.cachifyMetadata(async()=>({state:new TPe.MetadataValidationState,cardinality:{type:"exact",value:await l.getCardinality()},canContainUndefs:s,variables:a}));return n?{type:"quads",quadStream:l,metadata:c}:{type:"bindings",bindingsStream:l,metadata:c}}canOperationContainUndefs(e){let r=!1;return $f.Util.recurseOperation(e,{[$f.Algebra.types.LEFT_JOIN](){return r=!0,!1},[$f.Algebra.types.VALUES](n){for(const a of n.bindings){const s=Object.keys(a);n.variables.every(o=>s.includes(`?${o.value}`))||(r=!0)}return!1}}),r}}VR.ActorQueryOperationSparqlEndpoint=P_;P_.FACTORY=new $f.Factory;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(VR,t)})(zJ);var GJ={},qR={};Object.defineProperty(qR,"__esModule",{value:!0});qR.ActorQueryOperationAsk=void 0;const Rk=tr;class PPe extends Rk.ActorQueryOperationTypedMediated{constructor(e){super(e,"ask")}async testOperation(e,r){return!0}async runOperation(e,r){const n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r}),{bindingsStream:a}=Rk.ActorQueryOperation.getSafeBindings(n);return{type:"boolean",execute:async()=>(await a.take(1).toArray()).length===1}}}qR.ActorQueryOperationAsk=PPe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(qR,t)})(GJ);var X8={},zR={},jw={};Object.defineProperty(jw,"__esModule",{value:!0});jw.BindingsToQuadsIterator=void 0;const Ik=Gr,CPe=lr,Pk=Oa,DPe=new CPe.DataFactory;class Qg extends Ik.MultiTransformIterator{constructor(e,r){super(r,{autoStart:!1}),this.template=e,this.blankNodeCounter=0}static bindTerm(e,r){return r.termType==="Variable"?e.get(r):r}static bindQuad(e,r){try{return(0,Pk.mapTermsNested)(r,n=>{const a=Qg.bindTerm(e,n);if(!a)throw new Error("Unbound term");return a})}catch{}}static localizeBlankNode(e,r){return r.termType==="BlankNode"?DPe.blankNode(`${r.value}${e}`):r}static localizeQuad(e,r){return(0,Pk.mapTermsNested)(r,n=>Qg.localizeBlankNode(e,n))}bindTemplate(e,r,n){return r.map(Qg.localizeQuad.bind(null,n)).map(s=>Qg.bindQuad.bind(null,e)(s)).filter(Boolean)}_createTransformer(e){return new Ik.ArrayIterator(this.bindTemplate(e,this.template,this.blankNodeCounter++),{autoStart:!1})}}jw.BindingsToQuadsIterator=Qg;Object.defineProperty(zR,"__esModule",{value:!0});zR.ActorQueryOperationConstruct=void 0;const Ck=tr,VD=Oa,NPe=Cr,FPe=jw;class J8 extends Ck.ActorQueryOperationTypedMediated{constructor(e){super(e,"construct")}static getVariables(e){return(0,VD.uniqTerms)([].concat.apply([],e.map(r=>(0,VD.getVariables)((0,VD.getTermsNested)(r)))))}async testOperation(e,r){return!0}async runOperation(e,r){const n=J8.getVariables(e.template),a={type:NPe.Algebra.types.PROJECT,input:e.input,variables:n},s=Ck.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a,context:r})),o=new FPe.BindingsToQuadsIterator(e.template,s.bindingsStream);return{metadata:()=>s.metadata().then(l=>({...l,order:void 0,cardinality:{type:l.cardinality.type,value:l.cardinality.value*e.template.length},canContainUndefs:!1,availableOrders:void 0})),quadStream:o,type:"quads"}}}zR.ActorQueryOperationConstruct=J8;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(zR,t),r(jw,t)})(X8);var QJ={},GR={};Object.defineProperty(GR,"__esModule",{value:!0});GR.ActorQueryOperationBgpJoin=void 0;const LPe=tr,jPe=Cr;class QR extends LPe.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}async testOperation(e,r){return!0}async runOperation(e,r){return this.mediatorQueryOperation.mediate({operation:QR.FACTORY.createJoin(e.patterns),context:r})}}GR.ActorQueryOperationBgpJoin=QR;QR.FACTORY=new jPe.Factory;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(GR,t)})(QJ);var WJ={},WR={},KR={},XR={};Object.defineProperty(XR,"__esModule",{value:!0});XR.ActorQueryOperationUnion=void 0;const Dk=tr,MPe=So,BPe=Gr,kPe=Oa;class pE extends Dk.ActorQueryOperationTypedMediated{constructor(e){super(e,"union")}static unionVariables(e){return(0,kPe.uniqTerms)(e.flat())}static unionMetadata(e,r){const n={type:"exact",value:0};for(const o of e)if(o.cardinality.value&&Number.isFinite(o.cardinality.value)||o.cardinality.value===0)o.cardinality.type==="estimate"&&(n.type="estimate"),n.value+=o.cardinality.value;else{n.type="estimate",n.value=Number.POSITIVE_INFINITY;break}const a={state:new MPe.MetadataValidationState,cardinality:n,canContainUndefs:e.some(o=>o.canContainUndefs)},s=()=>a.state.invalidate();for(const o of e)o.state.addInvalidateListener(s);return r&&(a.variables=pE.unionVariables(e.map(o=>o.variables))),a}async testOperation(e,r){return!0}async runOperation(e,r){const n=(await Promise.all(e.input.map(o=>this.mediatorQueryOperation.mediate({operation:o,context:r})))).map(Dk.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new BPe.UnionIterator(n.map(o=>o.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(n.map(o=>o.metadata())).then(o=>pE.unionMetadata(o,!0))}}}XR.ActorQueryOperationUnion=pE;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(XR,t)})(KR);Object.defineProperty(WR,"__esModule",{value:!0});WR.ActorQueryOperationDescribeSubject=void 0;const $Pe=KR,Nk=tr,UPe=Gr,VPe=lr,g2=Cr,Rg=new VPe.DataFactory;class HPe extends Nk.ActorQueryOperationTypedMediated{constructor(e){super(e,"describe")}async testOperation(e,r){return!0}async runOperation(e,r){const n=e.terms.filter(u=>u.termType!=="Variable").map(u=>{const l=[Rg.quad(u,Rg.variable("__predicate"),Rg.variable("__object"))];return l.forEach(d=>d.type="pattern"),{input:{type:g2.Algebra.types.BGP,patterns:l},template:l,type:"construct"}});if(n.length!==e.terms.length){let u=[];e.terms.filter(l=>l.termType==="Variable").forEach((l,c)=>{const d=[Rg.quad(l,Rg.variable(`__predicate${c}`),Rg.variable(`__object${c}`))];d.forEach(f=>f.type="pattern"),u=[...u,...d]}),n.push({input:{type:g2.Algebra.types.JOIN,input:[e.input,{type:g2.Algebra.types.BGP,patterns:u}]},template:u,type:g2.Algebra.types.CONSTRUCT})}const a=(await Promise.all(n.map(u=>this.mediatorQueryOperation.mediate({operation:u,context:r})))).map(Nk.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new UPe.UnionIterator(a.map(u=>u.quadStream),{autoStart:!1}),metadata:()=>Promise.all(a.map(u=>u.metadata())).then(u=>$Pe.ActorQueryOperationUnion.unionMetadata(u,!1))}}}WR.ActorQueryOperationDescribeSubject=HPe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(WR,t)})(WJ);var KJ={},JR={};Object.defineProperty(JR,"__esModule",{value:!0});JR.ActorQueryOperationDistinctHash=void 0;const Fk=tr;class qPe extends Fk.ActorQueryOperationTypedMediated{constructor(e){super(e,"distinct")}async testOperation(e,r){return!0}async runOperation(e,r){const n=Fk.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:r}));return{type:"bindings",bindingsStream:n.bindingsStream.filter(await this.newHashFilter(r)),metadata:n.metadata}}async newHashFilter(e){const{hashFunction:r}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:e}),n={};return a=>{const s=r(a);return!(s in n)&&(n[s]=!0)}}}JR.ActorQueryOperationDistinctHash=qPe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(JR,t)})(KJ);var XJ={},YR={},G0={},Mw={},HD,Lk;function zPe(){return Lk||(Lk=1,HD=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),HD}var GPe=Yr;Yr.Node=w0;Yr.create=Yr;function Yr(t){var e=this;if(e instanceof Yr||(e=new Yr),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(a){e.push(a)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Yr.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Yr.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Yr.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Yr.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)WPe(this,arguments[t]);return this.length};Yr.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)KPe(this,arguments[t]);return this.length};Yr.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Yr.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Yr.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Yr.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Yr.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Yr.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Yr.prototype.map=function(t,e){e=e||this;for(var r=new Yr,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Yr.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Yr,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Yr.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=0;n!==null;a++)r=t(r,n.value,a),n=n.next;return r};Yr.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;n!==null;a--)r=t(r,n.value,a),n=n.prev;return r};Yr.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Yr.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Yr.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Yr;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,a=this.head;a!==null&&n<t;n++)a=a.next;for(;a!==null&&n<e;n++,a=a.next)r.push(a.value);return r};Yr.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Yr;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,a=this.tail;a!==null&&n>e;n--)a=a.prev;for(;a!==null&&n>t;n--,a=a.prev)r.push(a.value);return r};Yr.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,a=this.head;a!==null&&n<t;n++)a=a.next;for(var s=[],n=0;a&&n<e;n++)s.push(a.value),a=this.removeNode(a);a===null&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var n=0;n<r.length;n++)a=QPe(this,a,r[n]);return s};Yr.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function QPe(t,e,r){var n=e===t.head?new w0(r,null,e,t):new w0(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function WPe(t,e){t.tail=new w0(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function KPe(t,e){t.head=new w0(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function w0(t,e,r,n){if(!(this instanceof w0))return new w0(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{zPe()(Yr)}catch{}const XPe=GPe,Dp=Symbol("max"),Td=Symbol("length"),Ig=Symbol("lengthCalculator"),Kb=Symbol("allowStale"),jp=Symbol("maxAge"),_d=Symbol("dispose"),jk=Symbol("noDisposeOnSet"),ya=Symbol("lruList"),Gu=Symbol("cache"),JJ=Symbol("updateAgeOnGet"),qD=()=>1;let JPe=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[Dp]=e.max||1/0;const r=e.length||qD;if(this[Ig]=typeof r!="function"?qD:r,this[Kb]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[jp]=e.maxAge||0,this[_d]=e.dispose,this[jk]=e.noDisposeOnSet||!1,this[JJ]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Dp]=e||1/0,Uv(this)}get max(){return this[Dp]}set allowStale(e){this[Kb]=!!e}get allowStale(){return this[Kb]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[jp]=e,Uv(this)}get maxAge(){return this[jp]}set lengthCalculator(e){typeof e!="function"&&(e=qD),e!==this[Ig]&&(this[Ig]=e,this[Td]=0,this[ya].forEach(r=>{r.length=this[Ig](r.value,r.key),this[Td]+=r.length})),Uv(this)}get lengthCalculator(){return this[Ig]}get length(){return this[Td]}get itemCount(){return this[ya].length}rforEach(e,r){r=r||this;for(let n=this[ya].tail;n!==null;){const a=n.prev;Mk(this,e,n,r),n=a}}forEach(e,r){r=r||this;for(let n=this[ya].head;n!==null;){const a=n.next;Mk(this,e,n,r),n=a}}keys(){return this[ya].toArray().map(e=>e.key)}values(){return this[ya].toArray().map(e=>e.value)}reset(){this[_d]&&this[ya]&&this[ya].length&&this[ya].forEach(e=>this[_d](e.key,e.value)),this[Gu]=new Map,this[ya]=new XPe,this[Td]=0}dump(){return this[ya].map(e=>gE(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ya]}set(e,r,n){if(n=n||this[jp],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const a=n?Date.now():0,s=this[Ig](r,e);if(this[Gu].has(e)){if(s>this[Dp])return iy(this,this[Gu].get(e)),!1;const l=this[Gu].get(e).value;return this[_d]&&(this[jk]||this[_d](e,l.value)),l.now=a,l.maxAge=n,l.value=r,this[Td]+=s-l.length,l.length=s,this.get(e),Uv(this),!0}const o=new YPe(e,r,s,a,n);return o.length>this[Dp]?(this[_d]&&this[_d](e,r),!1):(this[Td]+=o.length,this[ya].unshift(o),this[Gu].set(e,this[ya].head),Uv(this),!0)}has(e){if(!this[Gu].has(e))return!1;const r=this[Gu].get(e).value;return!gE(this,r)}get(e){return zD(this,e,!0)}peek(e){return zD(this,e,!1)}pop(){const e=this[ya].tail;return e?(iy(this,e),e.value):null}del(e){iy(this,this[Gu].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const a=e[n],s=a.e||0;if(s===0)this.set(a.k,a.v);else{const o=s-r;o>0&&this.set(a.k,a.v,o)}}}prune(){this[Gu].forEach((e,r)=>zD(this,r,!1))}};const zD=(t,e,r)=>{const n=t[Gu].get(e);if(n){const a=n.value;if(gE(t,a)){if(iy(t,n),!t[Kb])return}else r&&(t[JJ]&&(n.value.now=Date.now()),t[ya].unshiftNode(n));return a.value}},gE=(t,e)=>{if(!e||!e.maxAge&&!t[jp])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[jp]&&r>t[jp]},Uv=t=>{if(t[Td]>t[Dp])for(let e=t[ya].tail;t[Td]>t[Dp]&&e!==null;){const r=e.prev;iy(t,e),e=r}},iy=(t,e)=>{if(e){const r=e.value;t[_d]&&t[_d](r.key,r.value),t[Td]-=r.length,t[Gu].delete(r.key),t[ya].removeNode(e)}};class YPe{constructor(e,r,n,a,s){this.key=e,this.value=r,this.length=n,this.now=a,this.maxAge=s||0}}const Mk=(t,e,r,n)=>{let a=r.value;gE(t,a)&&(iy(t,r),t[Kb]||(a=void 0)),a&&e.call(n,a.value,a.key,t)};var Y8=JPe,Bw={},GD={},$l={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.asTermType=t.ExpressionType=void 0,function(r){r.Aggregate="aggregate",r.Existence="existence",r.Named="named",r.Operator="operator",r.SpecialOperator="specialOperator",r.Term="term",r.Variable="variable",r.AsyncExtension="asyncExtension",r.SyncExtension="syncExtension"}(t.ExpressionType||(t.ExpressionType={}));function e(r){if(r==="namedNode"||r==="literal"||r==="blankNode"||r==="quad")return r}t.asTermType=e})($l);var ZR={};Object.defineProperty(ZR,"__esModule",{value:!0});ZR.Variable=void 0;const ZPe=$l;class eCe{constructor(e){this.expressionType=ZPe.ExpressionType.Variable,this.name=e}}ZR.Variable=eCe;var sr={},Vv={},ms={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NamedOperators=t.SetFunctions=t.SetFunction=t.Operators=t.SpecialOperators=t.RegularOperators=t.SpecialOperator=t.RegularOperator=t.TypeURL=t.TypeAlias=void 0,function(s){s.SPARQL_NUMERIC="SPARQL_NUMERIC",s.SPARQL_STRINGLY="SPARQL_STRINGLY"}(t.TypeAlias||(t.TypeAlias={}));var e;(function(s){s.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",s.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",s.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",s.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",s.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",s.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",s.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",s.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",s.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",s.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",s.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",s.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",s.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",s.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",s.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",s.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",s.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",s.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",s.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",s.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",s.XSD_INT="http://www.w3.org/2001/XMLSchema#int",s.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",s.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",s.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",s.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",s.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",s.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",s.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",s.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",s.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",s.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",s.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",s.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",s.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",s.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",s.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",s.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",s.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",s.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",s.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",s.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(e=t.TypeURL||(t.TypeURL={}));var r;(function(s){s.NOT="!",s.UMINUS="uminus",s.UPLUS="uplus",s.EQUAL="=",s.NOT_EQUAL="!=",s.LT="<",s.GT=">",s.LTE="<=",s.GTE=">=",s.MULTIPLICATION="*",s.DIVISION="/",s.ADDITION="+",s.SUBTRACTION="-",s.IS_IRI="isiri",s.IS_URI="isuri",s.IS_BLANK="isblank",s.IS_LITERAL="isliteral",s.IS_NUMERIC="isnumeric",s.STR="str",s.LANG="lang",s.DATATYPE="datatype",s.IRI="iri",s.URI="uri",s.STRDT="strdt",s.STRLANG="strlang",s.UUID="uuid",s.STRUUID="struuid",s.STRLEN="strlen",s.SUBSTR="substr",s.UCASE="ucase",s.LCASE="lcase",s.STRSTARTS="strstarts",s.STRENDS="strends",s.CONTAINS="contains",s.STRBEFORE="strbefore",s.STRAFTER="strafter",s.ENCODE_FOR_URI="encode_for_uri",s.LANG_MATCHES="langmatches",s.REGEX="regex",s.REPLACE="replace",s.ABS="abs",s.ROUND="round",s.CEIL="ceil",s.FLOOR="floor",s.RAND="rand",s.NOW="now",s.YEAR="year",s.MONTH="month",s.DAY="day",s.HOURS="hours",s.MINUTES="minutes",s.SECONDS="seconds",s.TIMEZONE="timezone",s.TZ="tz",s.MD5="md5",s.SHA1="sha1",s.SHA256="sha256",s.SHA384="sha384",s.SHA512="sha512",s.TRIPLE="triple",s.SUBJECT="subject",s.PREDICATE="predicate",s.OBJECT="object",s.IS_TRIPLE="istriple"})(r=t.RegularOperator||(t.RegularOperator={}));var n;(function(s){s.BOUND="bound",s.IF="if",s.COALESCE="coalesce",s.LOGICAL_OR="||",s.LOGICAL_AND="&&",s.SAME_TERM="sameterm",s.IN="in",s.NOT_IN="notin",s.CONCAT="concat",s.BNODE="bnode"})(n=t.SpecialOperator||(t.SpecialOperator={})),t.RegularOperators=new Set(Object.values(r)),t.SpecialOperators=new Set(Object.values(n)),t.Operators=new Set([...t.RegularOperators,...t.SpecialOperators]);var a;(function(s){s.COUNT="count",s.SUM="sum",s.MIN="min",s.MAX="max",s.AVG="avg",s.GROUP_CONCAT="group_concat",s.SAMPLE="sample"})(a=t.SetFunction||(t.SetFunction={})),t.SetFunctions=new Set(Object.values(a)),t.NamedOperators=new Set([e.XSD_STRING,e.XSD_FLOAT,e.XSD_DOUBLE,e.XSD_DECIMAL,e.XSD_INTEGER,e.XSD_DATE_TIME,e.XSD_DATE,e.XSD_BOOLEAN,e.XSD_TIME,e.XSD_DURATION,e.XSD_DAY_TIME_DURATION,e.XSD_YEAR_MONTH_DURATION])})(ms);var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.NoExistenceHook=Lt.NoAggregator=Lt.ExtensionFunctionError=Lt.UnknownNamedOperator=Lt.UnknownOperator=Lt.InvalidTermType=Lt.InvalidExpressionType=Lt.InvalidExpression=Lt.InvalidArity=Lt.UnexpectedError=Lt.ParseError=Lt.EmptyAggregateError=Lt.IncompatibleLanguageOperation=Lt.InvalidTimezoneCall=Lt.CastError=Lt.InvalidCompareArgumentTypes=Lt.InvalidArgumentTypes=Lt.InError=Lt.CoalesceError=Lt.RDFEqualTypeError=Lt.EBVCoercionError=Lt.UnboundVariableError=Lt.InvalidLexicalForm=Lt.isExpressionError=Lt.ExpressionError=void 0;class Ks extends Error{}Lt.ExpressionError=Ks;function tCe(t){return t instanceof Ks}Lt.isExpressionError=tCe;class rCe extends Ks{constructor(e){super(`Invalid lexical form '${vs(e)}'`),this.arg=e}}Lt.InvalidLexicalForm=rCe;class nCe extends Ks{constructor(e,r){super(`Unbound variable '${vs(e)}'`),this.variable=e,this.bindings=r}}Lt.UnboundVariableError=nCe;class iCe extends Ks{constructor(e){super(`Cannot coerce term to EBV '${vs(e)}'`),this.arg=e}}Lt.EBVCoercionError=iCe;class aCe extends Ks{constructor(e){super("Equality test for literals with unsupported datatypes"),this.args=e}}Lt.RDFEqualTypeError=aCe;class sCe extends Ks{constructor(e){super("All COALESCE arguments threw errors"),this.errors=e}}Lt.CoalesceError=sCe;class oCe extends Ks{constructor(e){super(`Some argument to IN errorred and none where equal. ${e.map(r=>`(${r.toString()}) `).join("and ")}`),this.errors=e}}Lt.InError=oCe;class uCe extends Ks{constructor(e,r){super(`Argument types not valid for operator: '${vs(r)}' with '${vs(e)}`),this.args=e,this.op=r}}Lt.InvalidArgumentTypes=uCe;class lCe extends Ks{constructor(e,r){super(`Compared argument types are supported: '${e.termType}' and '${r.termType}'`),this.arg0=e,this.arg1=r}}Lt.InvalidCompareArgumentTypes=lCe;class cCe extends Ks{constructor(e,r){super(`Invalid cast: '${vs(e)}' to '${vs(r)}'`),this.arg=e}}Lt.CastError=cCe;class dCe extends Ks{constructor(e){super(`TIMEZONE call on ${e} which has no timezone`),this.dateString=e}}Lt.InvalidTimezoneCall=dCe;class fCe extends Ks{constructor(e,r){super(`Operation on incompatible language literals '${vs(e)}' and '${vs(r)}'`),this.arg1=e,this.arg2=r}}Lt.IncompatibleLanguageOperation=fCe;class hCe extends Ks{constructor(){super("Empty aggregate expression")}}Lt.EmptyAggregateError=hCe;class pCe extends Ks{constructor(e,r){super(`Failed to parse ${e} as ${r}.`)}}Lt.ParseError=pCe;class gCe extends Error{constructor(e,r){super(`Programmer Error '${e}'`),this.payload=r}}Lt.UnexpectedError=gCe;class yCe extends Error{constructor(e,r){super(`The number of args does not match the arity of the operator '${vs(r)}'.`),this.args=e,this.op=r}}Lt.InvalidArity=yCe;class mCe extends Error{constructor(e){super(`Invalid SPARQL Expression '${vs(e)}'`)}}Lt.InvalidExpression=mCe;class vCe extends Error{constructor(e){super(`Invalid expression type for SPARQL Expression '${vs(e)}'`),this.expr=e}}Lt.InvalidExpressionType=vCe;class bCe extends Error{constructor(e){super(`Invalid term type for term '${vs(e)}'`),this.term=e}}Lt.InvalidTermType=bCe;class _Ce extends Error{constructor(e){super(`Unknown operator: '${vs(e)}`)}}Lt.UnknownOperator=_Ce;class wCe extends Error{constructor(e){super(`Unknown named operator: '${vs(e)}'`)}}Lt.UnknownNamedOperator=wCe;class SCe extends Error{constructor(e,r){r instanceof Error?super(`Error thrown in ${e}: ${r.message}${r.stack?`
${r.stack}`:""}`):super(`Error thrown in ${e}`)}}Lt.ExtensionFunctionError=SCe;class TCe extends Error{constructor(e){super(`Aggregate expression ${vs(e)} found, but no aggregate hook provided.`)}}Lt.NoAggregator=TCe;class ECe extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}Lt.NoExistenceHook=ECe;function vs(t){return JSON.stringify(t)}var mi={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.extractTimeZone=Nr.extractRawTimeZone=Nr.dayTimeDurationsToSeconds=Nr.yearMonthDurationsToMonths=Nr.trimToDayTimeDuration=Nr.trimToYearMonthDuration=Nr.toUTCDate=Nr.toJSDate=Nr.negateDuration=Nr.toDateTimeRepresentation=Nr.defaultedDateTimeRepresentation=Nr.simplifyDurationRepresentation=Nr.defaultedDurationRepresentation=Nr.defaultedYearMonthDurationRepresentation=Nr.defaultedDayTimeDurationRepresentation=void 0;function YJ(t){return{day:t.day||0,hours:t.hours||0,minutes:t.minutes||0,seconds:t.seconds||0}}Nr.defaultedDayTimeDurationRepresentation=YJ;function ZJ(t){return{year:t.year||0,month:t.month||0}}Nr.defaultedYearMonthDurationRepresentation=ZJ;function eY(t){return Object.assign(Object.assign({},YJ(t)),ZJ(t))}Nr.defaultedDurationRepresentation=eY;function ACe(t){const e=eY(t),r={},n=e.year+Math.trunc(e.month/12);n&&(r.year=n,e.month%=12),e.month&&(r.month=e.month);const a=e.day+Math.trunc(e.hours/24)+Math.trunc(e.minutes/(24*60))+Math.trunc(e.seconds/(24*60*60));a&&(r.day=a,e.hours%=24,e.minutes%=24*60,e.seconds%=24*60*60);const s=e.hours+Math.trunc(e.minutes/60)+Math.trunc(e.seconds/(60*60));s&&(r.hours=s,e.minutes%=60,e.seconds%=60*60);const o=e.minutes+Math.trunc(e.seconds/60);return o&&(r.minutes=o,e.seconds%=60),e.seconds&&(r.seconds=e.seconds),r}Nr.simplifyDurationRepresentation=ACe;function tY(t){return Object.assign(Object.assign({},t),{day:t.day||1,hours:t.hours||0,month:t.month||1,year:t.year||0,seconds:t.seconds||0,minutes:t.minutes||0})}Nr.defaultedDateTimeRepresentation=tY;function xCe({date:t,timeZone:e}){return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),zoneHours:e.zoneHours,zoneMinutes:e.zoneMinutes}}Nr.toDateTimeRepresentation=xCe;function OCe(t){return{year:t.year!==void 0?-1*t.year:void 0,month:t.month!==void 0?-1*t.month:void 0,day:t.day!==void 0?-1*t.day:void 0,hours:t.hours!==void 0?-1*t.hours:void 0,minutes:t.minutes!==void 0?-1*t.minutes:void 0,seconds:t.seconds!==void 0?-1*t.seconds:void 0}}Nr.negateDuration=OCe;function rY(t){const e=new Date(t.year,t.month-1,t.day,t.hours,t.minutes,Math.trunc(t.seconds),t.seconds%1*1e3);return 0<=t.year&&t.year<100&&e.setFullYear(e.getFullYear()-1900),e}Nr.toJSDate=rY;function RCe(t,e){const r=rY(tY(t)),n=r.getTimezoneOffset(),a=t.zoneHours===void 0?e.zoneHours:t.zoneHours,s=t.zoneMinutes===void 0?e.zoneMinutes:t.zoneMinutes;return new Date(r.getTime()-(n+a*60+s)*60*1e3)}Nr.toUTCDate=RCe;function ICe(t){return{year:t.year,month:t.month}}Nr.trimToYearMonthDuration=ICe;function PCe(t){return{day:t.day,hours:t.hours,minutes:t.minutes,seconds:t.seconds}}Nr.trimToDayTimeDuration=PCe;function CCe(t){return t.year*12+t.month}Nr.yearMonthDurationsToMonths=CCe;function DCe(t){return((t.day*24+t.hours)*60+t.minutes)*60+t.seconds}Nr.dayTimeDurationsToSeconds=DCe;function NCe(t){return/(Z|([+-]\d\d:\d\d))?$/u.exec(t)[0]}Nr.extractRawTimeZone=NCe;function FCe(t){return{zoneHours:t.getTimezoneOffset()/60,zoneMinutes:t.getTimezoneOffset()%60}}Nr.extractTimeZone=FCe;var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.elapsedDuration=Wd.addDurationToDateTime=Wd.maximumDayInMonthFor=void 0;const Bk=Nr;function kd(t,e,r=0){const n=t-r,a=e-r,s=Math.floor(n/a);return{intDiv:s,remainder:t-s*a}}function oT(t,e){const{intDiv:r,remainder:n}=kd(e,13,1),a=t+r;return[1,3,5,7,8,10,12].includes(n)?31:[4,6,9,11].includes(n)?30:n===2&&(kd(a,400).remainder===0||kd(a,100).remainder!==0&&kd(a,4).remainder===0)?29:28}Wd.maximumDayInMonthFor=oT;function LCe(t,e){const r=Object.assign({},t);let n=kd(t.month+e.month,13,1);for(r.month=n.remainder,r.year=t.year+e.year+n.intDiv,n=kd(t.seconds+e.seconds,60),r.seconds=n.remainder,n=kd(t.minutes+e.minutes+n.intDiv,60),r.minutes=n.remainder,n=kd(t.hours+e.hours+n.intDiv,24),r.hours=n.remainder,r.day=t.day+e.day+n.intDiv;;){let a;if(r.day<1)r.day+=oT(r.year,r.month-1),a=-1;else if(r.day>oT(r.year,r.month))r.day-=oT(r.year,r.month),a=1;else break;n=kd(r.month+a,13,1),r.month=n.remainder,r.year+=n.intDiv}return r}Wd.addDurationToDateTime=LCe;function jCe(t,e,r){const n=(0,Bk.toUTCDate)(t,r),a=(0,Bk.toUTCDate)(e,r),s=n.getTime()-a.getTime();return{day:Math.floor(s/(1e3*60*60*24)),hours:Math.floor(s%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(s%(1e3*60*60)/(1e3*60)),seconds:s%(1e3*60)}}Wd.elapsedDuration=jCe;Object.defineProperty(mi,"__esModule",{value:!0});mi.parseDayTimeDuration=mi.parseYearMonthDuration=mi.parseDuration=mi.parseTime=mi.parseDate=mi.parseDateTime=mi.parseXSDInteger=mi.parseXSDDecimal=mi.parseXSDFloat=void 0;const MCe=Nr,Kd=Lt,BCe=Wd;function kCe(t){const e=Number(t);return Number.isNaN(e)?t==="NaN"?Number.NaN:t==="INF"||t==="+INF"?Number.POSITIVE_INFINITY:t==="-INF"?Number.NEGATIVE_INFINITY:void 0:e}mi.parseXSDFloat=kCe;function $Ce(t){const e=Number(t);return Number.isNaN(e)?void 0:e}mi.parseXSDDecimal=$Ce;function UCe(t){const e=Number.parseInt(t,10);return Number.isNaN(e)?void 0:e}mi.parseXSDInteger=UCe;function VCe(t){const[e,r]=t.split("T");return Object.assign(Object.assign({},iY(e)),aY(r))}mi.parseDateTime=VCe;function nY(t){if(t==="")return{zoneHours:void 0,zoneMinutes:void 0};if(t==="Z")return{zoneHours:0,zoneMinutes:0};const r=t.replace(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(n=>Number(n));return{zoneHours:r[0]*r[1],zoneMinutes:r[0]*r[2]}}function iY(t){const e=t.replace(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(e===t)throw new Kd.ParseError(t,"date");const r=e.split("!"),n=r.slice(0,-1).map(s=>Number(s)),a=Object.assign({year:n[0]*n[1],month:n[2],day:n[3]},nY(r[4]));if(!(1<=a.month&&a.month<=12)||!(1<=a.day&&a.day<=(0,BCe.maximumDayInMonthFor)(a.year,a.month)))throw new Kd.ParseError(t,"date");return a}mi.parseDate=iY;function aY(t){const e=t.replace(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(e===t)throw new Kd.ParseError(t,"time");const r=e.split("!"),n=r.slice(0,-1).map(s=>Number(s)),a=Object.assign({hours:n[0],minutes:n[1],seconds:n[2]},nY(r[3]));if(a.seconds>=60||a.minutes>=60||a.hours>24||a.hours===24&&(a.minutes!==0||a.seconds!==0))throw new Kd.ParseError(t,"time");return a}function HCe(t){const e=aY(t);return e.hours%=24,e}mi.parseTime=HCe;function Z8(t){const[e,r]=t.split("T"),n=e.replace(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(n===e)throw new Kd.ParseError(t,"duration");const a=n.split("!");if(r!==void 0){const u=r.replace(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(r===""||r===u)throw new Kd.ParseError(t,"duration");a.push(...u.split("!"))}const s=a.map(u=>u.slice(0,-1));if(!s.slice(1).some(u=>u))throw new Kd.ParseError(t,"duration");const o=Number(s[0]);return(0,MCe.simplifyDurationRepresentation)({year:s[1]?o*Number(s[1]):void 0,month:s[2]?o*Number(s[2]):void 0,day:s[3]?o*Number(s[3]):void 0,hours:s[4]?o*Number(s[4]):void 0,minutes:s[5]?o*Number(s[5]):void 0,seconds:s[6]?o*Number(s[6]):void 0})}mi.parseDuration=Z8;function qCe(t){const e=Z8(t);if(["hours","minutes","seconds","day"].some(r=>!!e[r]))throw new Kd.ParseError(t,"yearMonthDuration");return e}mi.parseYearMonthDuration=qCe;function zCe(t){const e=Z8(t);if(["year","month"].some(r=>!!e[r]))throw new Kd.ParseError(t,"dayTimeDuration");return e}mi.parseDayTimeDuration=zCe;var QD={},Dn={},Hv={},kk;function sY(){if(kk)return Hv;kk=1,Object.defineProperty(Hv,"__esModule",{value:!0}),Hv.OverloadTree=void 0;const t=vo(),e=kw();let r=class{constructor(a,s){this.identifier=a,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=s||0,this.promotionCount=void 0}getSubtree(a){const s=(0,e.asGeneralType)(a);if(s)return this.generalOverloads[s];for(const[o,u]of this.literalOverLoads)if(a===o)return u}getImplementationExact(a){let s=this;for(const o of a)if(s=s.getSubtree(o),!s)return;return s.implementation}search(a,s,o){let u=o[this.identifier],l=0;for(;l<a.length&&(u!=null&&u.cache);){const f=a[l],h=(0,t.isLiteralTermExpression)(f);u=u.cache[h?h.dataType:f.termType],l++}if(l===a.length&&(u!=null&&u.func))return u.func;const c=[],d=0;if(a.length===0)return this.implementation;for(c.push(...this.getSubTreeWithArg(a[d],s).map(f=>({node:f,index:d+1})));c.length>0;){const{index:f,node:h}=c.pop();if(f===a.length&&h.implementation)return this.addToCache(o,a,h.implementation),h.implementation;c.push(...h.getSubTreeWithArg(a[f],s).map(p=>({node:p,index:f+1})))}}addToCache(a,s,o){function u(c,d){return d in c||(c[d]={}),c[d]}let l=u(a,this.identifier);for(const c of s){const d=(0,t.isLiteralTermExpression)(c),f=d?d.dataType:c.termType;l.cache=l.cache||{},l=u(l.cache,f)}l.func=o}addOverload(a,s){this._addOverload([...a],s,0)}_addOverload(a,s,o){var u;const[l,...c]=a;if(!l){(this.promotionCount===void 0||o<=this.promotionCount)&&(this.promotionCount=o,this.implementation=s);return}let d=this.getSubtree(l);if(!d){const f=new r(this.identifier,this.depth+1),h=(0,e.asGeneralType)(l);h&&(this.generalOverloads[h]=f);const p=(0,e.asOverrideType)(l);p&&this.literalOverLoads.push([p,f]),d=f}d._addOverload(c,s,o),(u=e.typePromotion[l])===null||u===void 0||u.forEach(f=>this.addPromotedOverload(f.typeToPromote,s,f.conversionFunction,c,o))}addPromotedOverload(a,s,o,u,l){let c=this.getSubtree(a);if(!c){const d=new r(this.identifier,this.depth+1);this.literalOverLoads.push([a,d]),c=d}c._addOverload(u,d=>f=>s(d)([...f.slice(0,this.depth),o(f[this.depth]),...f.slice(this.depth+1,f.length)]),l+1)}getSubTreeWithArg(a,s){const o=[],u=(0,t.isLiteralTermExpression)(a);if(this.generalOverloads.term&&o.push(this.generalOverloads.term),this.generalOverloads[a.termType]&&o.push(this.generalOverloads[a.termType]),u){const l=(0,e.asKnownLiteralType)(u.dataType);let c;l?c=e.superTypeDictTable[l]:c=(0,e.getSuperTypes)(u.dataType,s);const d=this.literalOverLoads.filter(([f,h])=>f in c).map(([f,h])=>[c[f],h]);d.sort(([f,h],[p,g])=>f-p),o.push(...d.map(([f,h])=>h))}return o}};return Hv.OverloadTree=r,Hv}var $k;function rd(){if($k)return Dn;$k=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.expressionToVar=Dn.dateTime=Dn.langString=Dn.string=Dn.double=Dn.float=Dn.decimal=Dn.integer=Dn.bool=Dn.Builder=Dn.declare=void 0;const t=lr,e=vo(),r=vo(),n=ms,a=ms,s=Lt,o=sY(),u=new t.DataFactory;function l(E){return new c(E)}Dn.declare=l;class c{constructor(T){this.overloadTree=new o.OverloadTree(T),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(T){return R=>I=>(I.forEach((D,M)=>{if(D instanceof r.NonLexicalLiteral)throw new s.InvalidLexicalForm(I[M].toRDF())}),T(R)(I))}set(T,R,I=!0){return this.overloadTree.addOverload(T,I?c.wrapInvalidLexicalProtected(R):R),this}copy({from:T,to:R}){const I=this.overloadTree.getImplementationExact(T);if(!I)throw new s.UnexpectedError("Tried to copy implementation, but types not found",{from:T,to:R});return this.set(R,I)}onUnary(T,R,I=!0){return this.set([T],D=>([M])=>R(D)(M))}onUnaryTyped(T,R,I=!0){return this.set([T],D=>([M])=>R(D)(M.typedValue),I)}onBinary(T,R,I=!0){return this.set(T,D=>([M,N])=>R(D)(M,N),I)}onBinaryTyped(T,R,I=!0){return this.set(T,D=>([M,N])=>R(D)(M.typedValue,N.typedValue),I)}onTernaryTyped(T,R,I=!0){return this.set(T,D=>([M,N,O])=>R(D)(M.typedValue,N.typedValue,O.typedValue),I)}onTernary(T,R,I=!0){return this.set(T,D=>([M,N,O])=>R(D)(M,N,O),I)}onQuaternaryTyped(T,R,I=!0){return this.set(T,D=>([M,N,O,k])=>R(D)(M.typedValue,N.typedValue,O.typedValue,k.typedValue),I)}onTerm1(T,R=!1){return this.set(["term"],I=>([D])=>T(I)(D),R)}onTerm3(T){return this.set(["term","term","term"],R=>([I,D,M])=>T(R)(I,D,M))}onQuad1(T){return this.set(["quad"],R=>([I])=>T(R)(I))}onLiteral1(T,R=!0){return this.set(["literal"],I=>([D])=>T(I)(D),R)}onBoolean1(T,R=!0){return this.set([n.TypeURL.XSD_BOOLEAN],I=>([D])=>T(I)(D),R)}onBoolean1Typed(T,R=!0){return this.set([n.TypeURL.XSD_BOOLEAN],I=>([D])=>T(I)(D.typedValue),R)}onString1(T,R=!0){return this.set([n.TypeURL.XSD_STRING],I=>([D])=>T(I)(D),R)}onString1Typed(T,R=!0){return this.set([n.TypeURL.XSD_STRING],I=>([D])=>T(I)(D.typedValue),R)}onLangString1(T,R=!0){return this.set([n.TypeURL.RDF_LANG_STRING],I=>([D])=>T(I)(D),R)}onStringly1(T,R=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],I=>([D])=>T(I)(D),R)}onStringly1Typed(T,R=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],I=>([D])=>T(I)(D.typedValue),R)}onNumeric1(T,R=!0){return this.set([n.TypeAlias.SPARQL_NUMERIC],I=>([D])=>T(I)(D),R)}onDateTime1(T,R=!0){return this.set([n.TypeURL.XSD_DATE_TIME],I=>([D])=>T(I)(D),R)}numericConverter(T,R=!0){const I=D=>M=>T(D)(M.typedValue);return this.onBinary([a.TypeURL.XSD_INTEGER],D=>M=>f(I(D)(M)),R).onBinary([a.TypeURL.XSD_DECIMAL],D=>M=>h(I(D)(M)),R).onBinary([a.TypeURL.XSD_FLOAT],D=>M=>p(I(D)(M)),R).onBinary([a.TypeURL.XSD_DOUBLE],D=>M=>g(I(D)(M)),R)}arithmetic(T,R=!0){const I=D=>(M,N)=>T(D)(M.typedValue,N.typedValue);return this.onBinary([a.TypeURL.XSD_INTEGER,a.TypeURL.XSD_INTEGER],D=>(M,N)=>f(I(D)(M,N)),R).onBinary([a.TypeURL.XSD_DECIMAL,a.TypeURL.XSD_DECIMAL],D=>(M,N)=>h(I(D)(M,N)),R).onBinary([a.TypeURL.XSD_FLOAT,a.TypeURL.XSD_FLOAT],D=>(M,N)=>p(I(D)(M,N)),R).onBinary([a.TypeURL.XSD_DOUBLE,a.TypeURL.XSD_DOUBLE],D=>(M,N)=>g(I(D)(M,N)),R)}numberTest(T){return this.numeric(R=>([I,D])=>{const M=T(R)(I.typedValue,D.typedValue);return d(M)})}stringTest(T,R=!0){return this.set([n.TypeURL.XSD_STRING,n.TypeURL.XSD_STRING],I=>([D,M])=>{const N=T(I)(D.typedValue,M.typedValue);return d(N)},R)}booleanTest(T,R=!0){return this.set([n.TypeURL.XSD_BOOLEAN,n.TypeURL.XSD_BOOLEAN],I=>([D,M])=>{const N=T(I)(D.typedValue,M.typedValue);return d(N)},R)}dateTimeTest(T,R=!0){return this.set([n.TypeURL.XSD_DATE_TIME,n.TypeURL.XSD_DATE_TIME],I=>([D,M])=>{const N=T(I)(D.typedValue,M.typedValue);return d(N)})}numeric(T){return this.set([n.TypeAlias.SPARQL_NUMERIC,n.TypeAlias.SPARQL_NUMERIC],T)}}Dn.Builder=c;function d(E){return new e.BooleanLiteral(E)}Dn.bool=d;function f(E){return new e.IntegerLiteral(E)}Dn.integer=f;function h(E){return new e.DecimalLiteral(E)}Dn.decimal=h;function p(E){return new e.FloatLiteral(E)}Dn.float=p;function g(E){return new e.DoubleLiteral(E)}Dn.double=g;function y(E){return new e.StringLiteral(E)}Dn.string=y;function S(E,T){return new e.LangStringLiteral(E,T)}Dn.langString=S;function v(E,T){return new e.DateTimeLiteral(E,T)}Dn.dateTime=v;function A(E){return u.variable(E.name.slice(1))}return Dn.expressionToVar=A,Dn}var Uk;function kw(){return Uk||(Uk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.typePromotion=t.isSubTypeOf=t.getSuperTypeDict=t.isInternalSubType=t.asGeneralType=t.asOverrideType=t.asKnownLiteralType=t.asTypeAlias=t.typeAliasCheck=t.extensionTableInit=t.getSuperTypes=t.superTypeDictTable=t.extensionTableInput=void 0;const e=vo(),r=rd(),n=ms;t.extensionTableInput={[n.TypeURL.XSD_DATE_TIME_STAMP]:n.TypeURL.XSD_DATE_TIME,[n.TypeURL.XSD_DAY_TIME_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.XSD_YEAR_MONTH_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.RDF_LANG_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_NORMALIZED_STRING]:n.TypeURL.XSD_STRING,[n.TypeURL.XSD_TOKEN]:n.TypeURL.XSD_NORMALIZED_STRING,[n.TypeURL.XSD_LANGUAGE]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NM_TOKEN]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NAME]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NC_NAME]:n.TypeURL.XSD_NAME,[n.TypeURL.XSD_ENTITY]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID_REF]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_DOUBLE]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_FLOAT]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_DECIMAL]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_INTEGER]:n.TypeURL.XSD_DECIMAL,[n.TypeURL.XSD_NON_POSITIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_NEGATIVE_INTEGER]:n.TypeURL.XSD_NON_POSITIVE_INTEGER,[n.TypeURL.XSD_LONG]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_INT]:n.TypeURL.XSD_LONG,[n.TypeURL.XSD_SHORT]:n.TypeURL.XSD_INT,[n.TypeURL.XSD_BYTE]:n.TypeURL.XSD_SHORT,[n.TypeURL.XSD_NON_NEGATIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_NON_NEGATIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_POSITIVE_INTEGER]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_LONG]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_INT]:n.TypeURL.XSD_UNSIGNED_LONG,[n.TypeURL.XSD_UNSIGNED_SHORT]:n.TypeURL.XSD_UNSIGNED_INT,[n.TypeURL.XSD_UNSIGNED_BYTE]:n.TypeURL.XSD_UNSIGNED_SHORT,[n.TypeURL.XSD_DATE_TIME]:"term",[n.TypeURL.XSD_BOOLEAN]:"term",[n.TypeURL.XSD_DATE]:"term",[n.TypeURL.XSD_G_MONTH]:"term",[n.TypeURL.XSD_G_MONTHDAY]:"term",[n.TypeURL.XSD_G_YEAR]:"term",[n.TypeURL.XSD_G_YEAR_MONTH]:"term",[n.TypeURL.XSD_TIME]:"term",[n.TypeURL.XSD_G_DAY]:"term",[n.TypeURL.XSD_DURATION]:"term",[n.TypeAlias.SPARQL_NUMERIC]:"term",[n.TypeAlias.SPARQL_STRINGLY]:"term",[n.TypeURL.XSD_ANY_URI]:"term"};function a(y,S){const v=S.cache.get(y);if(v)return v;const A=S.discoverer(y);if(A==="term"){const R=Object.create(null);return R.__depth=0,R[y]=0,S.cache.set(y,R),R}let E;const T=c(A);return T?E=Object.assign({},t.superTypeDictTable[T]):E=Object.assign({},a(A,S)),E.__depth++,E[y]=E.__depth,S.cache.set(y,E),E}t.getSuperTypes=a;function s(){const y=Object.create(null);for(const[S,v]of Object.entries(t.extensionTableInput)){const A=S;y[A]||o(A,v,y)}t.superTypeDictTable=y}t.extensionTableInit=s,s();function o(y,S,v){if(S==="term"||S===void 0){const A=Object.create(null);A.__depth=0,A[y]=0,v[y]=A;return}v[S]||o(S,t.extensionTableInput[S],v),v[y]=Object.assign(Object.assign({},v[S]),{[y]:v[S].__depth+1,__depth:v[S].__depth+1})}function u(){t.typeAliasCheck=Object.create(null);for(const y of Object.values(n.TypeAlias))t.typeAliasCheck[y]=!0}u();function l(y){if(y in t.typeAliasCheck)return y}t.asTypeAlias=l;function c(y){if(y in t.superTypeDictTable)return y}t.asKnownLiteralType=c;function d(y){if(c(y)||y==="term")return y}t.asOverrideType=d;function f(y){if(y==="term"||(0,e.asTermType)(y))return y}t.asGeneralType=f;function h(y,S){return y!=="term"&&t.superTypeDictTable[y]&&t.superTypeDictTable[y][S]!==void 0}t.isInternalSubType=h;function p(y,S){const v=c(y);return v?t.superTypeDictTable[v]:a(y,S)}t.getSuperTypeDict=p;function g(y,S,v){return y==="term"?!1:p(y,v)[S]!==void 0}t.isSubTypeOf=g,t.typePromotion={[n.TypeURL.XSD_STRING]:[{typeToPromote:n.TypeURL.XSD_ANY_URI,conversionFunction:y=>(0,r.string)(y.str())}],[n.TypeURL.XSD_DOUBLE]:[{typeToPromote:n.TypeURL.XSD_FLOAT,conversionFunction:y=>(0,r.double)(y.typedValue)},{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:y=>(0,r.double)(y.typedValue)}],[n.TypeURL.XSD_FLOAT]:[{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:y=>(0,r.float)(y.typedValue)}]}}(QD)),QD}var Vk;function Q0(){if(Vk)return Vv;Vk=1,Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.TermTransformer=void 0;const t=dn,e=Cr,r=vo(),n=ms,a=Lt,s=Lt,o=mi,u=mi,l=kw();let c=class{constructor(f){this.superTypeProvider=f}transformRDFTermUnsafe(f){return this.transformTerm({term:f,type:e.Algebra.types.EXPRESSION,expressionType:e.Algebra.expressionTypes.TERM})}transformTerm(f){if(!f.term)throw new a.InvalidExpression(f);switch(f.term.termType){case"Variable":return new r.Variable(t.termToString(f.term));case"Literal":return this.transformLiteral(f.term);case"NamedNode":return new r.NamedNode(f.term.value);case"BlankNode":return new r.BlankNode(f.term.value);case"Quad":return new r.Quad(f.term,this.superTypeProvider);default:throw new a.InvalidTermType(f)}}transformLiteral(f){if(!f.datatype||[null,void 0,""].includes(f.datatype.value))return f.language?new r.LangStringLiteral(f.value,f.language):new r.StringLiteral(f.value);const h=f.datatype.value,p=(0,l.getSuperTypeDict)(h,this.superTypeProvider);try{if(n.TypeURL.XSD_STRING in p)return new r.StringLiteral(f.value,h);if(n.TypeURL.RDF_LANG_STRING in p)return new r.LangStringLiteral(f.value,f.language);if(n.TypeURL.XSD_YEAR_MONTH_DURATION in p)return new r.YearMonthDurationLiteral((0,o.parseYearMonthDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DAY_TIME_DURATION in p)return new r.DayTimeDurationLiteral((0,o.parseDayTimeDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DURATION in p)return new r.DurationLiteral((0,o.parseDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DATE_TIME in p){const S=new Date(f.value);return Number.isNaN(S.getTime())?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):new r.DateTimeLiteral((0,o.parseDateTime)(f.value),f.value,h)}if(n.TypeURL.XSD_DATE in p)return new r.DateLiteral((0,o.parseDate)(f.value),f.value,h);if(n.TypeURL.XSD_TIME in p)return new r.TimeLiteral((0,o.parseTime)(f.value),f.value,h);if(n.TypeURL.XSD_BOOLEAN in p)return f.value!=="true"&&f.value!=="false"&&f.value!=="1"&&f.value!=="0"?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):new r.BooleanLiteral(f.value==="true"||f.value==="1",f.value);if(n.TypeURL.XSD_DECIMAL in p){const S=u.parseXSDDecimal(f.value);return S===void 0?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):n.TypeURL.XSD_INTEGER in p?new r.IntegerLiteral(S,h,f.value):new r.DecimalLiteral(S,h,f.value)}const g=n.TypeURL.XSD_FLOAT in p,y=n.TypeURL.XSD_DOUBLE in p;if(g||y){const S=u.parseXSDFloat(f.value);return S===void 0?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):g?new r.FloatLiteral(S,h,f.value):new r.DoubleLiteral(S,h,f.value)}return new r.Literal(f.value,h,f.value)}catch(g){if(g instanceof Error&&(0,s.isExpressionError)(g))return new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value);throw g}}};return Vv.TermTransformer=c,Vv}var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.serializeDuration=Lc.serializeTime=Lc.serializeDate=Lc.serializeDateTime=void 0;function Xd(t,e=2){return t.toLocaleString(void 0,{minimumIntegerDigits:e,useGrouping:!1})}function GCe(t){return`${uY({year:t.year,month:t.month,day:t.day})}T${lY(t)}`}Lc.serializeDateTime=GCe;function oY(t){return t.zoneHours===void 0||t.zoneMinutes===void 0?"":t.zoneHours===0&&t.zoneMinutes===0?"Z":`${t.zoneHours>=0?`+${Xd(t.zoneHours)}`:Xd(t.zoneHours)}:${Xd(Math.abs(t.zoneMinutes))}`}function uY(t){return`${Xd(t.year,4)}-${Xd(t.month)}-${Xd(t.day)}${oY(t)}`}Lc.serializeDate=uY;function lY(t){return`${Xd(t.hours)}:${Xd(t.minutes)}:${Xd(t.seconds)}${oY(t)}`}Lc.serializeTime=lY;function QCe(t,e="PT0S"){if(!Object.values(t).some(d=>(d||0)!==0))return e;const r=Object.values(t).some(d=>(d||0)<0)?"-":"",n=t.year?`${Math.abs(t.year)}Y`:"",a=t.month?`${Math.abs(t.month)}M`:"",s=t.day?`${Math.abs(t.day)}D`:"",o=`${r}P${n}${a}${s}`;if(!(t.hours||t.minutes||t.seconds))return o;const u=t.hours?`${Math.abs(t.hours)}H`:"",l=t.minutes?`${Math.abs(t.minutes)}M`:"",c=t.seconds?`${Math.abs(t.seconds)}S`:"";return`${o}T${u}${l}${c}`}Lc.serializeDuration=QCe;var Hk;function WCe(){if(Hk)return sr;Hk=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.isNonLexicalLiteral=sr.NonLexicalLiteral=sr.YearMonthDurationLiteral=sr.DayTimeDurationLiteral=sr.DurationLiteral=sr.DateLiteral=sr.TimeLiteral=sr.DateTimeLiteral=sr.StringLiteral=sr.LangStringLiteral=sr.BooleanLiteral=sr.DoubleLiteral=sr.FloatLiteral=sr.DecimalLiteral=sr.IntegerLiteral=sr.NumericLiteral=sr.Literal=sr.isLiteralTermExpression=sr.Quad=sr.BlankNode=sr.NamedNode=sr.Term=void 0;const t=lr,e=Q0(),r=ms,n=ms,a=Lt,s=Lc,o=kw(),u=$l,l=new t.DataFactory;let c=class{constructor(){this.expressionType=u.ExpressionType.Term}str(){throw new a.InvalidArgumentTypes([this],r.RegularOperator.STR)}coerceEBV(){throw new a.EBVCoercionError(this)}};sr.Term=c;class d extends c{constructor(J){super(),this.value=J,this.termType="namedNode"}toRDF(){return l.namedNode(this.value)}str(){return this.value}}sr.NamedNode=d;class f extends c{constructor(J){super(),this.termType="blankNode",this.value=typeof J=="string"?l.blankNode(J):J}toRDF(){return this.value}}sr.BlankNode=f;class h extends c{constructor(J,se){super(),this.termType="quad",this.transformer=new e.TermTransformer(se),this.valueTerm=J}toRDF(){return this.valueTerm}get subject(){return this.transformer.transformRDFTermUnsafe(this.RDFsubject)}get predicate(){return this.transformer.transformRDFTermUnsafe(this.RDFpredicate)}get object(){return this.transformer.transformRDFTermUnsafe(this.RDFobject)}get RDFsubject(){return this.toRDF().subject}get RDFpredicate(){return this.toRDF().predicate}get RDFobject(){return this.toRDF().object}}sr.Quad=h;function p(H){if(H.termType==="literal")return H}sr.isLiteralTermExpression=p;class g extends c{constructor(J,se,ue,Se){super(),this.typedValue=J,this.dataType=se,this.strValue=ue,this.language=Se,this.termType="literal"}toRDF(){return l.literal(this.strValue||this.str(),this.language||l.namedNode(this.dataType))}str(){return this.strValue||this.typedValue.toString()}}sr.Literal=g;class y extends g{constructor(J,se,ue,Se){super(J,se,ue,Se),this.typedValue=J,this.strValue=ue,this.language=Se}coerceEBV(){return!!this.typedValue}toRDF(){const J=super.toRDF();return Number.isFinite(this.typedValue)||(J.value=J.value.replace("Infinity","INF")),J}str(){return this.strValue||this.specificFormatter(this.typedValue)}}sr.NumericLiteral=y;class S extends y{constructor(J,se,ue,Se){super(J,se||n.TypeURL.XSD_INTEGER,ue,Se),this.typedValue=J,this.strValue=ue,this.language=Se}specificFormatter(J){return J.toFixed(0)}}sr.IntegerLiteral=S;class v extends y{constructor(J,se,ue,Se){super(J,se||n.TypeURL.XSD_DECIMAL,ue,Se),this.typedValue=J,this.strValue=ue,this.language=Se}specificFormatter(J){return J.toString()}}sr.DecimalLiteral=v;class A extends y{constructor(J,se,ue,Se){super(J,se||n.TypeURL.XSD_FLOAT,ue,Se),this.typedValue=J,this.strValue=ue,this.language=Se}specificFormatter(J){return J.toString()}}sr.FloatLiteral=A;class E extends y{constructor(J,se,ue,Se){super(J,se||n.TypeURL.XSD_DOUBLE,ue,Se),this.typedValue=J,this.strValue=ue,this.language=Se}specificFormatter(J){if(!Number.isFinite(J))return J>0?"INF":J<0?"-INF":"NaN";const se=J.toExponential(),[ue,Se]=se.split("e"),ve=Se.replace(/\+/u,"");return`${ue.includes(".")?ue:`${ue}.0`}E${ve}`}}sr.DoubleLiteral=E;class T extends g{constructor(J,se,ue){super(J,ue||n.TypeURL.XSD_BOOLEAN,se),this.typedValue=J,this.strValue=se}coerceEBV(){return this.typedValue}}sr.BooleanLiteral=T;class R extends g{constructor(J,se,ue){super(J,ue||n.TypeURL.RDF_LANG_STRING,J,se),this.typedValue=J,this.language=se}coerceEBV(){return this.str().length>0}}sr.LangStringLiteral=R;class I extends g{constructor(J,se){super(J,se||n.TypeURL.XSD_STRING,J),this.typedValue=J}coerceEBV(){return this.str().length>0}}sr.StringLiteral=I;class D extends g{constructor(J,se,ue){super(J,ue||n.TypeURL.XSD_DATE_TIME,se),this.typedValue=J,this.strValue=se}str(){return(0,s.serializeDateTime)(this.typedValue)}}sr.DateTimeLiteral=D;class M extends g{constructor(J,se,ue){super(J,ue||n.TypeURL.XSD_TIME,se),this.typedValue=J,this.strValue=se}str(){return(0,s.serializeTime)(this.typedValue)}}sr.TimeLiteral=M;class N extends g{constructor(J,se,ue){super(J,ue||n.TypeURL.XSD_DATE,se),this.typedValue=J,this.strValue=se}str(){return(0,s.serializeDate)(this.typedValue)}}sr.DateLiteral=N;class O extends g{constructor(J,se,ue){super(J,ue||n.TypeURL.XSD_DURATION,se),this.typedValue=J,this.strValue=se}str(){return(0,s.serializeDuration)(this.typedValue)}}sr.DurationLiteral=O;class k extends O{constructor(J,se,ue){super(J,se,ue||n.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=J,this.strValue=se}}sr.DayTimeDurationLiteral=k;class Y extends g{constructor(J,se,ue){super(J,ue||n.TypeURL.XSD_YEAR_MONTH_DURATION,se),this.typedValue=J,this.strValue=se}str(){return(0,s.serializeDuration)(this.typedValue,"P0M")}}sr.YearMonthDurationLiteral=Y;class ne extends g{constructor(J,se,ue,Se,ve){super({toString:()=>"undefined"},se,Se,ve),this.openWorldType=ue}coerceEBV(){if((0,o.isSubTypeOf)(this.dataType,n.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,o.isSubTypeOf)(this.dataType,n.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new a.EBVCoercionError(this)}toRDF(){return l.literal(this.str(),this.language||l.namedNode(this.dataType))}str(){return this.strValue||""}}sr.NonLexicalLiteral=ne;function q(H){if(H instanceof ne)return H}return sr.isNonLexicalLiteral=q,sr}var eI={};Object.defineProperty(eI,"__esModule",{value:!0});eI.Operator=void 0;const KCe=$l;class XCe{constructor(e,r){this.args=e,this.apply=r,this.expressionType=KCe.ExpressionType.Operator}}eI.Operator=XCe;var tI={};Object.defineProperty(tI,"__esModule",{value:!0});tI.SpecialOperator=void 0;const JCe=$l;class YCe{constructor(e,r,n){this.args=e,this.applyAsync=r,this.applySync=n,this.expressionType=JCe.ExpressionType.SpecialOperator}}tI.SpecialOperator=YCe;var rI={};Object.defineProperty(rI,"__esModule",{value:!0});rI.Named=void 0;const ZCe=$l;class eDe{constructor(e,r,n){this.name=e,this.args=r,this.apply=n,this.expressionType=ZCe.ExpressionType.Named}}rI.Named=eDe;var nI={};Object.defineProperty(nI,"__esModule",{value:!0});nI.Aggregate=void 0;const tDe=$l;class rDe{constructor(e,r){this.name=e,this.expression=r,this.expressionType=tDe.ExpressionType.Aggregate}}nI.Aggregate=rDe;var iI={};Object.defineProperty(iI,"__esModule",{value:!0});iI.Existence=void 0;const nDe=$l;class iDe{constructor(e){this.expression=e,this.expressionType=nDe.ExpressionType.Existence}}iI.Existence=iDe;var aI={};Object.defineProperty(aI,"__esModule",{value:!0});aI.AsyncExtension=void 0;const aDe=$l;class sDe{constructor(e,r,n){this.name=e,this.args=r,this.apply=n,this.expressionType=aDe.ExpressionType.AsyncExtension}}aI.AsyncExtension=sDe;var sI={};Object.defineProperty(sI,"__esModule",{value:!0});sI.SyncExtension=void 0;const oDe=$l;class uDe{constructor(e,r,n){this.name=e,this.args=r,this.apply=n,this.expressionType=oDe.ExpressionType.SyncExtension}}sI.SyncExtension=uDe;var qk;function vo(){return qk||(qk=1,function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($l,t),r(ZR,t),r(WCe(),t),r(eI,t),r(tI,t),r(rI,t),r(nI,t),r(iI,t),r(aI,t),r(sI,t)}(GD)),GD}var WD={},vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.SpecialFunction=vu.NamedFunction=vu.RegularFunction=vu.BaseFunction=void 0;const cY=Lt;class eL{constructor(e,r){this.operator=e,this.apply=(n,a)=>(this.monomorph(n,a.superTypeProvider,a.functionArgumentsCache)||this.handleInvalidTypes(n))(a)(n),this.arity=r.arity,this.overloads=r.overloads}monomorph(e,r,n){return this.overloads.search(e,r,n)}}vu.BaseFunction=eL;class lDe extends eL{constructor(e,r){super(e,r),this.functionClass="regular"}handleInvalidTypes(e){throw new cY.InvalidArgumentTypes(e,this.operator)}}vu.RegularFunction=lDe;class cDe extends eL{constructor(e,r){super(e,r),this.functionClass="named"}handleInvalidTypes(e){throw new cY.InvalidArgumentTypes(e,this.operator)}}vu.NamedFunction=cDe;class dDe{constructor(e,r){this.operator=e,this.functionClass="special",this.arity=r.arity,this.applySync=r.applySync,this.applyAsync=r.applyAsync,this.checkArity=r.checkArity||fDe(this.arity)}}vu.SpecialFunction=dDe;function fDe(t){return e=>t===Number.POSITIVE_INFINITY?!0:e.length===t}var oI={};Object.defineProperty(oI,"__esModule",{value:!0});oI.namedDefinitions=void 0;const wu=vo(),hDe=vo(),cr=ms,dY=Nr,S0=Lt,xu=mi,kr=rd(),pDe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_STRING).onNumeric1(()=>t=>(0,kr.string)((0,kr.float)(t.typedValue).str())).onBoolean1Typed(()=>t=>(0,kr.string)((0,kr.bool)(t).str())).onTerm1(()=>t=>(0,kr.string)(t.str())).collect()},gDe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_FLOAT).onNumeric1(()=>t=>(0,kr.float)(t.typedValue)).onBoolean1Typed(()=>t=>(0,kr.float)(t?1:0)).onUnary(cr.TypeURL.XSD_STRING,()=>t=>{const e=(0,xu.parseXSDFloat)(t.str());if(e===void 0)throw new S0.CastError(t,cr.TypeURL.XSD_FLOAT);return(0,kr.float)(e)},!1).collect()},yDe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_DOUBLE).onNumeric1(()=>t=>(0,kr.double)(t.typedValue)).onBoolean1Typed(()=>t=>(0,kr.double)(t?1:0)).onUnary(cr.TypeURL.XSD_STRING,()=>t=>{const e=(0,xu.parseXSDFloat)(t.str());if(e===void 0)throw new S0.CastError(t,cr.TypeURL.XSD_DOUBLE);return(0,kr.double)(e)},!1).collect()},mDe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_DECIMAL).onNumeric1(()=>t=>{const e=(0,xu.parseXSDDecimal)(t.str());if(e===void 0)throw new S0.CastError(t,cr.TypeURL.XSD_DECIMAL);return(0,kr.decimal)(e)}).onString1(()=>t=>{const e=t.str(),r=/^([+-])?(\d+(\.\d+)?)$/u.test(e)?(0,xu.parseXSDDecimal)(e):void 0;if(r===void 0)throw new S0.CastError(t,cr.TypeURL.XSD_DECIMAL);return(0,kr.decimal)(r)},!1).onBoolean1Typed(()=>t=>(0,kr.decimal)(t?1:0)).collect()},vDe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>t=>(0,kr.integer)(t?1:0)).onNumeric1(()=>t=>{const e=(0,xu.parseXSDInteger)(t.str());if(e===void 0)throw new S0.CastError(t,cr.TypeURL.XSD_INTEGER);return(0,kr.integer)(e)},!1).onString1(()=>t=>{const e=t.str(),r=/^\d+$/u.test(e)?(0,xu.parseXSDInteger)(e):void 0;if(r===void 0)throw new S0.CastError(t,cr.TypeURL.XSD_INTEGER);return(0,kr.integer)(r)}).collect()},bDe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_DATE_TIME).onUnary(cr.TypeURL.XSD_DATE_TIME,()=>t=>t).onUnary(cr.TypeURL.XSD_STRING,()=>t=>(0,kr.dateTime)((0,xu.parseDateTime)(t.str()),t.str()),!1).onUnary(cr.TypeURL.XSD_DATE,()=>t=>new wu.DateTimeLiteral(Object.assign(Object.assign({},t.typedValue),{hours:0,minutes:0,seconds:0}))).collect()},_De={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_BOOLEAN).onNumeric1(()=>t=>(0,kr.bool)(t.coerceEBV()),!0).onUnary(cr.TypeURL.XSD_BOOLEAN,()=>t=>(0,kr.bool)(t.coerceEBV()),!0).onUnary(cr.TypeURL.XSD_STRING,()=>t=>{switch(t.str()){case"true":return(0,kr.bool)(!0);case"false":return(0,kr.bool)(!1);case"1":return(0,kr.bool)(!0);case"0":return(0,kr.bool)(!1);default:throw new S0.CastError(t,cr.TypeURL.XSD_BOOLEAN)}},!1).collect()},wDe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_TIME).onUnary(cr.TypeURL.XSD_TIME,()=>t=>new wu.TimeLiteral(t.typedValue,t.strValue)).onUnary(cr.TypeURL.XSD_DATE_TIME,()=>t=>new wu.TimeLiteral(t.typedValue)).onStringly1(()=>t=>new wu.TimeLiteral((0,xu.parseTime)(t.str()))).collect()},SDe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_DATE).onUnary(cr.TypeURL.XSD_DATE,()=>t=>new wu.DateLiteral(t.typedValue,t.strValue)).onUnary(cr.TypeURL.XSD_DATE_TIME,()=>t=>new wu.DateLiteral(t.typedValue)).onStringly1(()=>t=>new wu.DateLiteral((0,xu.parseDate)(t.str()))).collect()},TDe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_DURATION).onUnary(cr.TypeURL.XSD_DURATION,()=>t=>new wu.DurationLiteral(t.typedValue,t.strValue)).onStringly1(()=>t=>new hDe.DurationLiteral((0,xu.parseDuration)(t.str()))).collect()},EDe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_DAY_TIME_DURATION).onUnary(cr.TypeURL.XSD_DURATION,()=>t=>new wu.DayTimeDurationLiteral((0,dY.trimToDayTimeDuration)(t.typedValue))).onStringly1(()=>t=>new wu.DayTimeDurationLiteral((0,xu.parseDayTimeDuration)(t.str()))).collect()},ADe={arity:1,overloads:(0,kr.declare)(cr.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(cr.TypeURL.XSD_DURATION,()=>t=>new wu.YearMonthDurationLiteral((0,dY.trimToYearMonthDuration)(t.typedValue))).onStringly1(()=>t=>new wu.YearMonthDurationLiteral((0,xu.parseYearMonthDuration)(t.str()))).collect()};oI.namedDefinitions={[cr.TypeURL.XSD_STRING]:pDe,[cr.TypeURL.XSD_FLOAT]:gDe,[cr.TypeURL.XSD_DOUBLE]:yDe,[cr.TypeURL.XSD_DECIMAL]:mDe,[cr.TypeURL.XSD_INTEGER]:vDe,[cr.TypeURL.XSD_DATE_TIME]:bDe,[cr.TypeURL.XSD_DATE]:SDe,[cr.TypeURL.XSD_BOOLEAN]:_De,[cr.TypeURL.XSD_TIME]:wDe,[cr.TypeURL.XSD_DURATION]:TDe,[cr.TypeURL.XSD_DAY_TIME_DURATION]:EDe,[cr.TypeURL.XSD_YEAR_MONTH_DURATION]:ADe};var uI={},a6={},xDe={get exports(){return a6},set exports(t){a6=t}};(function(t){(function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,o="[BigNumber Error] ",u=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function g(I){var D,M,N,O=ye.prototype={constructor:ye,toString:null,valueOf:null},k=new ye(1),Y=20,ne=4,q=-7,H=21,J=-1e7,se=1e7,ue=!1,Se=1,ve=0,Le={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Xe="0123456789abcdefghijklmnopqrstuvwxyz",Ne=!0;function ye(ee,j){var b,m,C,B,z,Q,ae,ce,fe=this;if(!(fe instanceof ye))return new ye(ee,j);if(j==null){if(ee&&ee._isBigNumber===!0){fe.s=ee.s,!ee.c||ee.e>se?fe.c=fe.e=null:ee.e<J?fe.c=[fe.e=0]:(fe.e=ee.e,fe.c=ee.c.slice());return}if((Q=typeof ee=="number")&&ee*0==0){if(fe.s=1/ee<0?(ee=-ee,-1):1,ee===~~ee){for(B=0,z=ee;z>=10;z/=10,B++);B>se?fe.c=fe.e=null:(fe.e=B,fe.c=[ee]);return}ce=String(ee)}else{if(!n.test(ce=String(ee)))return N(fe,ce,Q);fe.s=ce.charCodeAt(0)==45?(ce=ce.slice(1),-1):1}(B=ce.indexOf("."))>-1&&(ce=ce.replace(".","")),(z=ce.search(/e/i))>0?(B<0&&(B=z),B+=+ce.slice(z+1),ce=ce.substring(0,z)):B<0&&(B=ce.length)}else{if(A(j,2,Xe.length,"Base"),j==10&&Ne)return fe=new ye(ee),Be(fe,Y+fe.e+1,ne);if(ce=String(ee),Q=typeof ee=="number"){if(ee*0!=0)return N(fe,ce,Q,j);if(fe.s=1/ee<0?(ce=ce.slice(1),-1):1,ye.DEBUG&&ce.replace(/^0\.0*|\./,"").length>15)throw Error(u+ee)}else fe.s=ce.charCodeAt(0)===45?(ce=ce.slice(1),-1):1;for(b=Xe.slice(0,j),B=z=0,ae=ce.length;z<ae;z++)if(b.indexOf(m=ce.charAt(z))<0){if(m=="."){if(z>B){B=ae;continue}}else if(!C&&(ce==ce.toUpperCase()&&(ce=ce.toLowerCase())||ce==ce.toLowerCase()&&(ce=ce.toUpperCase()))){C=!0,z=-1,B=0;continue}return N(fe,String(ee),Q,j)}Q=!1,ce=M(ce,j,10,fe.s),(B=ce.indexOf("."))>-1?ce=ce.replace(".",""):B=ce.length}for(z=0;ce.charCodeAt(z)===48;z++);for(ae=ce.length;ce.charCodeAt(--ae)===48;);if(ce=ce.slice(z,++ae)){if(ae-=z,Q&&ye.DEBUG&&ae>15&&(ee>d||ee!==s(ee)))throw Error(u+fe.s*ee);if((B=B-z-1)>se)fe.c=fe.e=null;else if(B<J)fe.c=[fe.e=0];else{if(fe.e=B,fe.c=[],z=(B+1)%c,B<0&&(z+=c),z<ae){for(z&&fe.c.push(+ce.slice(0,z)),ae-=c;z<ae;)fe.c.push(+ce.slice(z,z+=c));z=c-(ce=ce.slice(z)).length}else z-=ae;for(;z--;ce+="0");fe.c.push(+ce)}}else fe.c=[fe.e=0]}ye.clone=g,ye.ROUND_UP=0,ye.ROUND_DOWN=1,ye.ROUND_CEIL=2,ye.ROUND_FLOOR=3,ye.ROUND_HALF_UP=4,ye.ROUND_HALF_DOWN=5,ye.ROUND_HALF_EVEN=6,ye.ROUND_HALF_CEIL=7,ye.ROUND_HALF_FLOOR=8,ye.EUCLID=9,ye.config=ye.set=function(ee){var j,b;if(ee!=null)if(typeof ee=="object"){if(ee.hasOwnProperty(j="DECIMAL_PLACES")&&(b=ee[j],A(b,0,p,j),Y=b),ee.hasOwnProperty(j="ROUNDING_MODE")&&(b=ee[j],A(b,0,8,j),ne=b),ee.hasOwnProperty(j="EXPONENTIAL_AT")&&(b=ee[j],b&&b.pop?(A(b[0],-p,0,j),A(b[1],0,p,j),q=b[0],H=b[1]):(A(b,-p,p,j),q=-(H=b<0?-b:b))),ee.hasOwnProperty(j="RANGE"))if(b=ee[j],b&&b.pop)A(b[0],-p,-1,j),A(b[1],1,p,j),J=b[0],se=b[1];else if(A(b,-p,p,j),b)J=-(se=b<0?-b:b);else throw Error(o+j+" cannot be zero: "+b);if(ee.hasOwnProperty(j="CRYPTO"))if(b=ee[j],b===!!b)if(b)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ue=b;else throw ue=!b,Error(o+"crypto unavailable");else ue=b;else throw Error(o+j+" not true or false: "+b);if(ee.hasOwnProperty(j="MODULO_MODE")&&(b=ee[j],A(b,0,9,j),Se=b),ee.hasOwnProperty(j="POW_PRECISION")&&(b=ee[j],A(b,0,p,j),ve=b),ee.hasOwnProperty(j="FORMAT"))if(b=ee[j],typeof b=="object")Le=b;else throw Error(o+j+" not an object: "+b);if(ee.hasOwnProperty(j="ALPHABET"))if(b=ee[j],typeof b=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(b))Ne=b.slice(0,10)=="0123456789",Xe=b;else throw Error(o+j+" invalid: "+b)}else throw Error(o+"Object expected: "+ee);return{DECIMAL_PLACES:Y,ROUNDING_MODE:ne,EXPONENTIAL_AT:[q,H],RANGE:[J,se],CRYPTO:ue,MODULO_MODE:Se,POW_PRECISION:ve,FORMAT:Le,ALPHABET:Xe}},ye.isBigNumber=function(ee){if(!ee||ee._isBigNumber!==!0)return!1;if(!ye.DEBUG)return!0;var j,b,m=ee.c,C=ee.e,B=ee.s;e:if({}.toString.call(m)=="[object Array]"){if((B===1||B===-1)&&C>=-p&&C<=p&&C===s(C)){if(m[0]===0){if(C===0&&m.length===1)return!0;break e}if(j=(C+1)%c,j<1&&(j+=c),String(m[0]).length==j){for(j=0;j<m.length;j++)if(b=m[j],b<0||b>=l||b!==s(b))break e;if(b!==0)return!0}}}else if(m===null&&C===null&&(B===null||B===1||B===-1))return!0;throw Error(o+"Invalid BigNumber: "+ee)},ye.maximum=ye.max=function(){return Te(arguments,O.lt)},ye.minimum=ye.min=function(){return Te(arguments,O.gt)},ye.random=function(){var ee=9007199254740992,j=Math.random()*ee&2097151?function(){return s(Math.random()*ee)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(b){var m,C,B,z,Q,ae=0,ce=[],fe=new ye(k);if(b==null?b=Y:A(b,0,p),z=a(b/c),ue)if(crypto.getRandomValues){for(m=crypto.getRandomValues(new Uint32Array(z*=2));ae<z;)Q=m[ae]*131072+(m[ae+1]>>>11),Q>=9e15?(C=crypto.getRandomValues(new Uint32Array(2)),m[ae]=C[0],m[ae+1]=C[1]):(ce.push(Q%1e14),ae+=2);ae=z/2}else if(crypto.randomBytes){for(m=crypto.randomBytes(z*=7);ae<z;)Q=(m[ae]&31)*281474976710656+m[ae+1]*1099511627776+m[ae+2]*4294967296+m[ae+3]*16777216+(m[ae+4]<<16)+(m[ae+5]<<8)+m[ae+6],Q>=9e15?crypto.randomBytes(7).copy(m,ae):(ce.push(Q%1e14),ae+=7);ae=z/7}else throw ue=!1,Error(o+"crypto unavailable");if(!ue)for(;ae<z;)Q=j(),Q<9e15&&(ce[ae++]=Q%1e14);for(z=ce[--ae],b%=c,z&&b&&(Q=f[c-b],ce[ae]=s(z/Q)*Q);ce[ae]===0;ce.pop(),ae--);if(ae<0)ce=[B=0];else{for(B=-1;ce[0]===0;ce.splice(0,1),B-=c);for(ae=1,Q=ce[0];Q>=10;Q/=10,ae++);ae<c&&(B-=c-ae)}return fe.e=B,fe.c=ce,fe}}(),ye.sum=function(){for(var ee=1,j=arguments,b=new ye(j[0]);ee<j.length;)b=b.plus(j[ee++]);return b},M=function(){var ee="0123456789";function j(b,m,C,B){for(var z,Q=[0],ae,ce=0,fe=b.length;ce<fe;){for(ae=Q.length;ae--;Q[ae]*=m);for(Q[0]+=B.indexOf(b.charAt(ce++)),z=0;z<Q.length;z++)Q[z]>C-1&&(Q[z+1]==null&&(Q[z+1]=0),Q[z+1]+=Q[z]/C|0,Q[z]%=C)}return Q.reverse()}return function(b,m,C,B,z){var Q,ae,ce,fe,be,je,$e,Ke,re=b.indexOf("."),le=Y,X=ne;for(re>=0&&(fe=ve,ve=0,b=b.replace(".",""),Ke=new ye(m),je=Ke.pow(b.length-re),ve=fe,Ke.c=j(R(S(je.c),je.e,"0"),10,C,ee),Ke.e=Ke.c.length),$e=j(b,m,C,z?(Q=Xe,ee):(Q=ee,Xe)),ce=fe=$e.length;$e[--fe]==0;$e.pop());if(!$e[0])return Q.charAt(0);if(re<0?--ce:(je.c=$e,je.e=ce,je.s=B,je=D(je,Ke,le,X,C),$e=je.c,be=je.r,ce=je.e),ae=ce+le+1,re=$e[ae],fe=C/2,be=be||ae<0||$e[ae+1]!=null,be=X<4?(re!=null||be)&&(X==0||X==(je.s<0?3:2)):re>fe||re==fe&&(X==4||be||X==6&&$e[ae-1]&1||X==(je.s<0?8:7)),ae<1||!$e[0])b=be?R(Q.charAt(1),-le,Q.charAt(0)):Q.charAt(0);else{if($e.length=ae,be)for(--C;++$e[--ae]>C;)$e[ae]=0,ae||(++ce,$e=[1].concat($e));for(fe=$e.length;!$e[--fe];);for(re=0,b="";re<=fe;b+=Q.charAt($e[re++]));b=R(b,ce,Q.charAt(0))}return b}}(),D=function(){function ee(m,C,B){var z,Q,ae,ce,fe=0,be=m.length,je=C%h,$e=C/h|0;for(m=m.slice();be--;)ae=m[be]%h,ce=m[be]/h|0,z=$e*ae+ce*je,Q=je*ae+z%h*h+fe,fe=(Q/B|0)+(z/h|0)+$e*ce,m[be]=Q%B;return fe&&(m=[fe].concat(m)),m}function j(m,C,B,z){var Q,ae;if(B!=z)ae=B>z?1:-1;else for(Q=ae=0;Q<B;Q++)if(m[Q]!=C[Q]){ae=m[Q]>C[Q]?1:-1;break}return ae}function b(m,C,B,z){for(var Q=0;B--;)m[B]-=Q,Q=m[B]<C[B]?1:0,m[B]=Q*z+m[B]-C[B];for(;!m[0]&&m.length>1;m.splice(0,1));}return function(m,C,B,z,Q){var ae,ce,fe,be,je,$e,Ke,re,le,X,$,U,V,Ie,ke,Pe,ht,_t=m.s==C.s?1:-1,Rt=m.c,Et=C.c;if(!Rt||!Rt[0]||!Et||!Et[0])return new ye(!m.s||!C.s||(Rt?Et&&Rt[0]==Et[0]:!Et)?NaN:Rt&&Rt[0]==0||!Et?_t*0:_t/0);for(re=new ye(_t),le=re.c=[],ce=m.e-C.e,_t=B+ce+1,Q||(Q=l,ce=y(m.e/c)-y(C.e/c),_t=_t/c|0),fe=0;Et[fe]==(Rt[fe]||0);fe++);if(Et[fe]>(Rt[fe]||0)&&ce--,_t<0)le.push(1),be=!0;else{for(Ie=Rt.length,Pe=Et.length,fe=0,_t+=2,je=s(Q/(Et[0]+1)),je>1&&(Et=ee(Et,je,Q),Rt=ee(Rt,je,Q),Pe=Et.length,Ie=Rt.length),V=Pe,X=Rt.slice(0,Pe),$=X.length;$<Pe;X[$++]=0);ht=Et.slice(),ht=[0].concat(ht),ke=Et[0],Et[1]>=Q/2&&ke++;do{if(je=0,ae=j(Et,X,Pe,$),ae<0){if(U=X[0],Pe!=$&&(U=U*Q+(X[1]||0)),je=s(U/ke),je>1)for(je>=Q&&(je=Q-1),$e=ee(Et,je,Q),Ke=$e.length,$=X.length;j($e,X,Ke,$)==1;)je--,b($e,Pe<Ke?ht:Et,Ke,Q),Ke=$e.length,ae=1;else je==0&&(ae=je=1),$e=Et.slice(),Ke=$e.length;if(Ke<$&&($e=[0].concat($e)),b(X,$e,$,Q),$=X.length,ae==-1)for(;j(Et,X,Pe,$)<1;)je++,b(X,Pe<$?ht:Et,$,Q),$=X.length}else ae===0&&(je++,X=[0]);le[fe++]=je,X[0]?X[$++]=Rt[V]||0:(X=[Rt[V]],$=1)}while((V++<Ie||X[0]!=null)&&_t--);be=X[0]!=null,le[0]||le.splice(0,1)}if(Q==l){for(fe=1,_t=le[0];_t>=10;_t/=10,fe++);Be(re,B+(re.e=fe+ce*c-1)+1,z,be)}else re.e=ce,re.r=+be;return re}}();function qe(ee,j,b,m){var C,B,z,Q,ae;if(b==null?b=ne:A(b,0,8),!ee.c)return ee.toString();if(C=ee.c[0],z=ee.e,j==null)ae=S(ee.c),ae=m==1||m==2&&(z<=q||z>=H)?T(ae,z):R(ae,z,"0");else if(ee=Be(new ye(ee),j,b),B=ee.e,ae=S(ee.c),Q=ae.length,m==1||m==2&&(j<=B||B<=q)){for(;Q<j;ae+="0",Q++);ae=T(ae,B)}else if(j-=z,ae=R(ae,B,"0"),B+1>Q){if(--j>0)for(ae+=".";j--;ae+="0");}else if(j+=B-Q,j>0)for(B+1==Q&&(ae+=".");j--;ae+="0");return ee.s<0&&C?"-"+ae:ae}function Te(ee,j){for(var b,m=1,C=new ye(ee[0]);m<ee.length;m++)if(b=new ye(ee[m]),b.s)j.call(C,b)&&(C=b);else{C=b;break}return C}function Oe(ee,j,b){for(var m=1,C=j.length;!j[--C];j.pop());for(C=j[0];C>=10;C/=10,m++);return(b=m+b*c-1)>se?ee.c=ee.e=null:b<J?ee.c=[ee.e=0]:(ee.e=b,ee.c=j),ee}N=function(){var ee=/^(-?)0([xbo])(?=\w[\w.]*$)/i,j=/^([^.]+)\.$/,b=/^\.([^.]+)$/,m=/^-?(Infinity|NaN)$/,C=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(B,z,Q,ae){var ce,fe=Q?z:z.replace(C,"");if(m.test(fe))B.s=isNaN(fe)?null:fe<0?-1:1;else{if(!Q&&(fe=fe.replace(ee,function(be,je,$e){return ce=($e=$e.toLowerCase())=="x"?16:$e=="b"?2:8,!ae||ae==ce?je:be}),ae&&(ce=ae,fe=fe.replace(j,"$1").replace(b,"0.$1")),z!=fe))return new ye(fe,ce);if(ye.DEBUG)throw Error(o+"Not a"+(ae?" base "+ae:"")+" number: "+z);B.s=null}B.c=B.e=null}}();function Be(ee,j,b,m){var C,B,z,Q,ae,ce,fe,be=ee.c,je=f;if(be){e:{for(C=1,Q=be[0];Q>=10;Q/=10,C++);if(B=j-C,B<0)B+=c,z=j,ae=be[ce=0],fe=ae/je[C-z-1]%10|0;else if(ce=a((B+1)/c),ce>=be.length)if(m){for(;be.length<=ce;be.push(0));ae=fe=0,C=1,B%=c,z=B-c+1}else break e;else{for(ae=Q=be[ce],C=1;Q>=10;Q/=10,C++);B%=c,z=B-c+C,fe=z<0?0:ae/je[C-z-1]%10|0}if(m=m||j<0||be[ce+1]!=null||(z<0?ae:ae%je[C-z-1]),m=b<4?(fe||m)&&(b==0||b==(ee.s<0?3:2)):fe>5||fe==5&&(b==4||m||b==6&&(B>0?z>0?ae/je[C-z]:0:be[ce-1])%10&1||b==(ee.s<0?8:7)),j<1||!be[0])return be.length=0,m?(j-=ee.e+1,be[0]=je[(c-j%c)%c],ee.e=-j||0):be[0]=ee.e=0,ee;if(B==0?(be.length=ce,Q=1,ce--):(be.length=ce+1,Q=je[c-B],be[ce]=z>0?s(ae/je[C-z]%je[z])*Q:0),m)for(;;)if(ce==0){for(B=1,z=be[0];z>=10;z/=10,B++);for(z=be[0]+=Q,Q=1;z>=10;z/=10,Q++);B!=Q&&(ee.e++,be[0]==l&&(be[0]=1));break}else{if(be[ce]+=Q,be[ce]!=l)break;be[ce--]=0,Q=1}for(B=be.length;be[--B]===0;be.pop());}ee.e>se?ee.c=ee.e=null:ee.e<J&&(ee.c=[ee.e=0])}return ee}function He(ee){var j,b=ee.e;return b===null?ee.toString():(j=S(ee.c),j=b<=q||b>=H?T(j,b):R(j,b,"0"),ee.s<0?"-"+j:j)}return O.absoluteValue=O.abs=function(){var ee=new ye(this);return ee.s<0&&(ee.s=1),ee},O.comparedTo=function(ee,j){return v(this,new ye(ee,j))},O.decimalPlaces=O.dp=function(ee,j){var b,m,C,B=this;if(ee!=null)return A(ee,0,p),j==null?j=ne:A(j,0,8),Be(new ye(B),ee+B.e+1,j);if(!(b=B.c))return null;if(m=((C=b.length-1)-y(this.e/c))*c,C=b[C])for(;C%10==0;C/=10,m--);return m<0&&(m=0),m},O.dividedBy=O.div=function(ee,j){return D(this,new ye(ee,j),Y,ne)},O.dividedToIntegerBy=O.idiv=function(ee,j){return D(this,new ye(ee,j),0,1)},O.exponentiatedBy=O.pow=function(ee,j){var b,m,C,B,z,Q,ae,ce,fe,be=this;if(ee=new ye(ee),ee.c&&!ee.isInteger())throw Error(o+"Exponent not an integer: "+He(ee));if(j!=null&&(j=new ye(j)),Q=ee.e>14,!be.c||!be.c[0]||be.c[0]==1&&!be.e&&be.c.length==1||!ee.c||!ee.c[0])return fe=new ye(Math.pow(+He(be),Q?ee.s*(2-E(ee)):+He(ee))),j?fe.mod(j):fe;if(ae=ee.s<0,j){if(j.c?!j.c[0]:!j.s)return new ye(NaN);m=!ae&&be.isInteger()&&j.isInteger(),m&&(be=be.mod(j))}else{if(ee.e>9&&(be.e>0||be.e<-1||(be.e==0?be.c[0]>1||Q&&be.c[1]>=24e7:be.c[0]<8e13||Q&&be.c[0]<=9999975e7)))return B=be.s<0&&E(ee)?-0:0,be.e>-1&&(B=1/B),new ye(ae?1/B:B);ve&&(B=a(ve/c+2))}for(Q?(b=new ye(.5),ae&&(ee.s=1),ce=E(ee)):(C=Math.abs(+He(ee)),ce=C%2),fe=new ye(k);;){if(ce){if(fe=fe.times(be),!fe.c)break;B?fe.c.length>B&&(fe.c.length=B):m&&(fe=fe.mod(j))}if(C){if(C=s(C/2),C===0)break;ce=C%2}else if(ee=ee.times(b),Be(ee,ee.e+1,1),ee.e>14)ce=E(ee);else{if(C=+He(ee),C===0)break;ce=C%2}be=be.times(be),B?be.c&&be.c.length>B&&(be.c.length=B):m&&(be=be.mod(j))}return m?fe:(ae&&(fe=k.div(fe)),j?fe.mod(j):B?Be(fe,ve,ne,z):fe)},O.integerValue=function(ee){var j=new ye(this);return ee==null?ee=ne:A(ee,0,8),Be(j,j.e+1,ee)},O.isEqualTo=O.eq=function(ee,j){return v(this,new ye(ee,j))===0},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(ee,j){return v(this,new ye(ee,j))>0},O.isGreaterThanOrEqualTo=O.gte=function(ee,j){return(j=v(this,new ye(ee,j)))===1||j===0},O.isInteger=function(){return!!this.c&&y(this.e/c)>this.c.length-2},O.isLessThan=O.lt=function(ee,j){return v(this,new ye(ee,j))<0},O.isLessThanOrEqualTo=O.lte=function(ee,j){return(j=v(this,new ye(ee,j)))===-1||j===0},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&this.c[0]==0},O.minus=function(ee,j){var b,m,C,B,z=this,Q=z.s;if(ee=new ye(ee,j),j=ee.s,!Q||!j)return new ye(NaN);if(Q!=j)return ee.s=-j,z.plus(ee);var ae=z.e/c,ce=ee.e/c,fe=z.c,be=ee.c;if(!ae||!ce){if(!fe||!be)return fe?(ee.s=-j,ee):new ye(be?z:NaN);if(!fe[0]||!be[0])return be[0]?(ee.s=-j,ee):new ye(fe[0]?z:ne==3?-0:0)}if(ae=y(ae),ce=y(ce),fe=fe.slice(),Q=ae-ce){for((B=Q<0)?(Q=-Q,C=fe):(ce=ae,C=be),C.reverse(),j=Q;j--;C.push(0));C.reverse()}else for(m=(B=(Q=fe.length)<(j=be.length))?Q:j,Q=j=0;j<m;j++)if(fe[j]!=be[j]){B=fe[j]<be[j];break}if(B&&(C=fe,fe=be,be=C,ee.s=-ee.s),j=(m=be.length)-(b=fe.length),j>0)for(;j--;fe[b++]=0);for(j=l-1;m>Q;){if(fe[--m]<be[m]){for(b=m;b&&!fe[--b];fe[b]=j);--fe[b],fe[m]+=l}fe[m]-=be[m]}for(;fe[0]==0;fe.splice(0,1),--ce);return fe[0]?Oe(ee,fe,ce):(ee.s=ne==3?-1:1,ee.c=[ee.e=0],ee)},O.modulo=O.mod=function(ee,j){var b,m,C=this;return ee=new ye(ee,j),!C.c||!ee.s||ee.c&&!ee.c[0]?new ye(NaN):!ee.c||C.c&&!C.c[0]?new ye(C):(Se==9?(m=ee.s,ee.s=1,b=D(C,ee,0,3),ee.s=m,b.s*=m):b=D(C,ee,0,Se),ee=C.minus(b.times(ee)),!ee.c[0]&&Se==1&&(ee.s=C.s),ee)},O.multipliedBy=O.times=function(ee,j){var b,m,C,B,z,Q,ae,ce,fe,be,je,$e,Ke,re,le,X=this,$=X.c,U=(ee=new ye(ee,j)).c;if(!$||!U||!$[0]||!U[0])return!X.s||!ee.s||$&&!$[0]&&!U||U&&!U[0]&&!$?ee.c=ee.e=ee.s=null:(ee.s*=X.s,!$||!U?ee.c=ee.e=null:(ee.c=[0],ee.e=0)),ee;for(m=y(X.e/c)+y(ee.e/c),ee.s*=X.s,ae=$.length,be=U.length,ae<be&&(Ke=$,$=U,U=Ke,C=ae,ae=be,be=C),C=ae+be,Ke=[];C--;Ke.push(0));for(re=l,le=h,C=be;--C>=0;){for(b=0,je=U[C]%le,$e=U[C]/le|0,z=ae,B=C+z;B>C;)ce=$[--z]%le,fe=$[z]/le|0,Q=$e*ce+fe*je,ce=je*ce+Q%le*le+Ke[B]+b,b=(ce/re|0)+(Q/le|0)+$e*fe,Ke[B--]=ce%re;Ke[B]=b}return b?++m:Ke.splice(0,1),Oe(ee,Ke,m)},O.negated=function(){var ee=new ye(this);return ee.s=-ee.s||null,ee},O.plus=function(ee,j){var b,m=this,C=m.s;if(ee=new ye(ee,j),j=ee.s,!C||!j)return new ye(NaN);if(C!=j)return ee.s=-j,m.minus(ee);var B=m.e/c,z=ee.e/c,Q=m.c,ae=ee.c;if(!B||!z){if(!Q||!ae)return new ye(C/0);if(!Q[0]||!ae[0])return ae[0]?ee:new ye(Q[0]?m:C*0)}if(B=y(B),z=y(z),Q=Q.slice(),C=B-z){for(C>0?(z=B,b=ae):(C=-C,b=Q),b.reverse();C--;b.push(0));b.reverse()}for(C=Q.length,j=ae.length,C-j<0&&(b=ae,ae=Q,Q=b,j=C),C=0;j;)C=(Q[--j]=Q[j]+ae[j]+C)/l|0,Q[j]=l===Q[j]?0:Q[j]%l;return C&&(Q=[C].concat(Q),++z),Oe(ee,Q,z)},O.precision=O.sd=function(ee,j){var b,m,C,B=this;if(ee!=null&&ee!==!!ee)return A(ee,1,p),j==null?j=ne:A(j,0,8),Be(new ye(B),ee,j);if(!(b=B.c))return null;if(C=b.length-1,m=C*c+1,C=b[C]){for(;C%10==0;C/=10,m--);for(C=b[0];C>=10;C/=10,m++);}return ee&&B.e+1>m&&(m=B.e+1),m},O.shiftedBy=function(ee){return A(ee,-d,d),this.times("1e"+ee)},O.squareRoot=O.sqrt=function(){var ee,j,b,m,C,B=this,z=B.c,Q=B.s,ae=B.e,ce=Y+4,fe=new ye("0.5");if(Q!==1||!z||!z[0])return new ye(!Q||Q<0&&(!z||z[0])?NaN:z?B:1/0);if(Q=Math.sqrt(+He(B)),Q==0||Q==1/0?(j=S(z),(j.length+ae)%2==0&&(j+="0"),Q=Math.sqrt(+j),ae=y((ae+1)/2)-(ae<0||ae%2),Q==1/0?j="5e"+ae:(j=Q.toExponential(),j=j.slice(0,j.indexOf("e")+1)+ae),b=new ye(j)):b=new ye(Q+""),b.c[0]){for(ae=b.e,Q=ae+ce,Q<3&&(Q=0);;)if(C=b,b=fe.times(C.plus(D(B,C,ce,1))),S(C.c).slice(0,Q)===(j=S(b.c)).slice(0,Q))if(b.e<ae&&--Q,j=j.slice(Q-3,Q+1),j=="9999"||!m&&j=="4999"){if(!m&&(Be(C,C.e+Y+2,0),C.times(C).eq(B))){b=C;break}ce+=4,Q+=4,m=1}else{(!+j||!+j.slice(1)&&j.charAt(0)=="5")&&(Be(b,b.e+Y+2,1),ee=!b.times(b).eq(B));break}}return Be(b,b.e+Y+1,ne,ee)},O.toExponential=function(ee,j){return ee!=null&&(A(ee,0,p),ee++),qe(this,ee,j,1)},O.toFixed=function(ee,j){return ee!=null&&(A(ee,0,p),ee=ee+this.e+1),qe(this,ee,j)},O.toFormat=function(ee,j,b){var m,C=this;if(b==null)ee!=null&&j&&typeof j=="object"?(b=j,j=null):ee&&typeof ee=="object"?(b=ee,ee=j=null):b=Le;else if(typeof b!="object")throw Error(o+"Argument not an object: "+b);if(m=C.toFixed(ee,j),C.c){var B,z=m.split("."),Q=+b.groupSize,ae=+b.secondaryGroupSize,ce=b.groupSeparator||"",fe=z[0],be=z[1],je=C.s<0,$e=je?fe.slice(1):fe,Ke=$e.length;if(ae&&(B=Q,Q=ae,ae=B,Ke-=B),Q>0&&Ke>0){for(B=Ke%Q||Q,fe=$e.substr(0,B);B<Ke;B+=Q)fe+=ce+$e.substr(B,Q);ae>0&&(fe+=ce+$e.slice(B)),je&&(fe="-"+fe)}m=be?fe+(b.decimalSeparator||"")+((ae=+b.fractionGroupSize)?be.replace(new RegExp("\\d{"+ae+"}\\B","g"),"$&"+(b.fractionGroupSeparator||"")):be):fe}return(b.prefix||"")+m+(b.suffix||"")},O.toFraction=function(ee){var j,b,m,C,B,z,Q,ae,ce,fe,be,je,$e=this,Ke=$e.c;if(ee!=null&&(Q=new ye(ee),!Q.isInteger()&&(Q.c||Q.s!==1)||Q.lt(k)))throw Error(o+"Argument "+(Q.isInteger()?"out of range: ":"not an integer: ")+He(Q));if(!Ke)return new ye($e);for(j=new ye(k),ce=b=new ye(k),m=ae=new ye(k),je=S(Ke),B=j.e=je.length-$e.e-1,j.c[0]=f[(z=B%c)<0?c+z:z],ee=!ee||Q.comparedTo(j)>0?B>0?j:ce:Q,z=se,se=1/0,Q=new ye(je),ae.c[0]=0;fe=D(Q,j,0,1),C=b.plus(fe.times(m)),C.comparedTo(ee)!=1;)b=m,m=C,ce=ae.plus(fe.times(C=ce)),ae=C,j=Q.minus(fe.times(C=j)),Q=C;return C=D(ee.minus(b),m,0,1),ae=ae.plus(C.times(ce)),b=b.plus(C.times(m)),ae.s=ce.s=$e.s,B=B*2,be=D(ce,m,B,ne).minus($e).abs().comparedTo(D(ae,b,B,ne).minus($e).abs())<1?[ce,m]:[ae,b],se=z,be},O.toNumber=function(){return+He(this)},O.toPrecision=function(ee,j){return ee!=null&&A(ee,1,p),qe(this,ee,j,2)},O.toString=function(ee){var j,b=this,m=b.s,C=b.e;return C===null?m?(j="Infinity",m<0&&(j="-"+j)):j="NaN":(ee==null?j=C<=q||C>=H?T(S(b.c),C):R(S(b.c),C,"0"):ee===10&&Ne?(b=Be(new ye(b),Y+C+1,ne),j=R(S(b.c),b.e,"0")):(A(ee,2,Xe.length,"Base"),j=M(R(S(b.c),C,"0"),10,ee,m,!0)),m<0&&b.c[0]&&(j="-"+j)),j},O.valueOf=O.toJSON=function(){return He(this)},O._isBigNumber=!0,I!=null&&ye.set(I),ye}function y(I){var D=I|0;return I>0||I===D?D:D-1}function S(I){for(var D,M,N=1,O=I.length,k=I[0]+"";N<O;){for(D=I[N++]+"",M=c-D.length;M--;D="0"+D);k+=D}for(O=k.length;k.charCodeAt(--O)===48;);return k.slice(0,O+1||1)}function v(I,D){var M,N,O=I.c,k=D.c,Y=I.s,ne=D.s,q=I.e,H=D.e;if(!Y||!ne)return null;if(M=O&&!O[0],N=k&&!k[0],M||N)return M?N?0:-ne:Y;if(Y!=ne)return Y;if(M=Y<0,N=q==H,!O||!k)return N?0:!O^M?1:-1;if(!N)return q>H^M?1:-1;for(ne=(q=O.length)<(H=k.length)?q:H,Y=0;Y<ne;Y++)if(O[Y]!=k[Y])return O[Y]>k[Y]^M?1:-1;return q==H?0:q>H^M?1:-1}function A(I,D,M,N){if(I<D||I>M||I!==s(I))throw Error(o+(N||"Argument")+(typeof I=="number"?I<D||I>M?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function E(I){var D=I.c.length-1;return y(I.e/c)==D&&I.c[D]%2!=0}function T(I,D){return(I.length>1?I.charAt(0)+"."+I.slice(1):I)+(D<0?"e":"e+")+D}function R(I,D,M){var N,O;if(D<0){for(O=M+".";++D;O+=M);I=O+I}else if(N=I.length,++D>N){for(O=M,D-=N;--D;O+=M);I+=O}else D<N&&(I=I.slice(0,D)+"."+I.slice(D));return I}r=g(),r.default=r.BigNumber=r,t.exports?t.exports=r:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=r)})(F)})(xDe);var s6={},ODe={get exports(){return s6},set exports(t){s6=t}};(function(t,e){(function(r){t.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(v,A){var E=v[0],T=v[1],R=v[2],I=v[3];E+=(T&R|~T&I)+A[0]-680876936|0,E=(E<<7|E>>>25)+T|0,I+=(E&T|~E&R)+A[1]-389564586|0,I=(I<<12|I>>>20)+E|0,R+=(I&E|~I&T)+A[2]+606105819|0,R=(R<<17|R>>>15)+I|0,T+=(R&I|~R&E)+A[3]-1044525330|0,T=(T<<22|T>>>10)+R|0,E+=(T&R|~T&I)+A[4]-176418897|0,E=(E<<7|E>>>25)+T|0,I+=(E&T|~E&R)+A[5]+1200080426|0,I=(I<<12|I>>>20)+E|0,R+=(I&E|~I&T)+A[6]-1473231341|0,R=(R<<17|R>>>15)+I|0,T+=(R&I|~R&E)+A[7]-45705983|0,T=(T<<22|T>>>10)+R|0,E+=(T&R|~T&I)+A[8]+1770035416|0,E=(E<<7|E>>>25)+T|0,I+=(E&T|~E&R)+A[9]-1958414417|0,I=(I<<12|I>>>20)+E|0,R+=(I&E|~I&T)+A[10]-42063|0,R=(R<<17|R>>>15)+I|0,T+=(R&I|~R&E)+A[11]-1990404162|0,T=(T<<22|T>>>10)+R|0,E+=(T&R|~T&I)+A[12]+1804603682|0,E=(E<<7|E>>>25)+T|0,I+=(E&T|~E&R)+A[13]-40341101|0,I=(I<<12|I>>>20)+E|0,R+=(I&E|~I&T)+A[14]-1502002290|0,R=(R<<17|R>>>15)+I|0,T+=(R&I|~R&E)+A[15]+1236535329|0,T=(T<<22|T>>>10)+R|0,E+=(T&I|R&~I)+A[1]-165796510|0,E=(E<<5|E>>>27)+T|0,I+=(E&R|T&~R)+A[6]-1069501632|0,I=(I<<9|I>>>23)+E|0,R+=(I&T|E&~T)+A[11]+643717713|0,R=(R<<14|R>>>18)+I|0,T+=(R&E|I&~E)+A[0]-373897302|0,T=(T<<20|T>>>12)+R|0,E+=(T&I|R&~I)+A[5]-701558691|0,E=(E<<5|E>>>27)+T|0,I+=(E&R|T&~R)+A[10]+38016083|0,I=(I<<9|I>>>23)+E|0,R+=(I&T|E&~T)+A[15]-660478335|0,R=(R<<14|R>>>18)+I|0,T+=(R&E|I&~E)+A[4]-405537848|0,T=(T<<20|T>>>12)+R|0,E+=(T&I|R&~I)+A[9]+568446438|0,E=(E<<5|E>>>27)+T|0,I+=(E&R|T&~R)+A[14]-1019803690|0,I=(I<<9|I>>>23)+E|0,R+=(I&T|E&~T)+A[3]-187363961|0,R=(R<<14|R>>>18)+I|0,T+=(R&E|I&~E)+A[8]+1163531501|0,T=(T<<20|T>>>12)+R|0,E+=(T&I|R&~I)+A[13]-1444681467|0,E=(E<<5|E>>>27)+T|0,I+=(E&R|T&~R)+A[2]-51403784|0,I=(I<<9|I>>>23)+E|0,R+=(I&T|E&~T)+A[7]+1735328473|0,R=(R<<14|R>>>18)+I|0,T+=(R&E|I&~E)+A[12]-1926607734|0,T=(T<<20|T>>>12)+R|0,E+=(T^R^I)+A[5]-378558|0,E=(E<<4|E>>>28)+T|0,I+=(E^T^R)+A[8]-2022574463|0,I=(I<<11|I>>>21)+E|0,R+=(I^E^T)+A[11]+1839030562|0,R=(R<<16|R>>>16)+I|0,T+=(R^I^E)+A[14]-35309556|0,T=(T<<23|T>>>9)+R|0,E+=(T^R^I)+A[1]-1530992060|0,E=(E<<4|E>>>28)+T|0,I+=(E^T^R)+A[4]+1272893353|0,I=(I<<11|I>>>21)+E|0,R+=(I^E^T)+A[7]-155497632|0,R=(R<<16|R>>>16)+I|0,T+=(R^I^E)+A[10]-1094730640|0,T=(T<<23|T>>>9)+R|0,E+=(T^R^I)+A[13]+681279174|0,E=(E<<4|E>>>28)+T|0,I+=(E^T^R)+A[0]-358537222|0,I=(I<<11|I>>>21)+E|0,R+=(I^E^T)+A[3]-722521979|0,R=(R<<16|R>>>16)+I|0,T+=(R^I^E)+A[6]+76029189|0,T=(T<<23|T>>>9)+R|0,E+=(T^R^I)+A[9]-640364487|0,E=(E<<4|E>>>28)+T|0,I+=(E^T^R)+A[12]-421815835|0,I=(I<<11|I>>>21)+E|0,R+=(I^E^T)+A[15]+530742520|0,R=(R<<16|R>>>16)+I|0,T+=(R^I^E)+A[2]-995338651|0,T=(T<<23|T>>>9)+R|0,E+=(R^(T|~I))+A[0]-198630844|0,E=(E<<6|E>>>26)+T|0,I+=(T^(E|~R))+A[7]+1126891415|0,I=(I<<10|I>>>22)+E|0,R+=(E^(I|~T))+A[14]-1416354905|0,R=(R<<15|R>>>17)+I|0,T+=(I^(R|~E))+A[5]-57434055|0,T=(T<<21|T>>>11)+R|0,E+=(R^(T|~I))+A[12]+1700485571|0,E=(E<<6|E>>>26)+T|0,I+=(T^(E|~R))+A[3]-1894986606|0,I=(I<<10|I>>>22)+E|0,R+=(E^(I|~T))+A[10]-1051523|0,R=(R<<15|R>>>17)+I|0,T+=(I^(R|~E))+A[1]-2054922799|0,T=(T<<21|T>>>11)+R|0,E+=(R^(T|~I))+A[8]+1873313359|0,E=(E<<6|E>>>26)+T|0,I+=(T^(E|~R))+A[15]-30611744|0,I=(I<<10|I>>>22)+E|0,R+=(E^(I|~T))+A[6]-1560198380|0,R=(R<<15|R>>>17)+I|0,T+=(I^(R|~E))+A[13]+1309151649|0,T=(T<<21|T>>>11)+R|0,E+=(R^(T|~I))+A[4]-145523070|0,E=(E<<6|E>>>26)+T|0,I+=(T^(E|~R))+A[11]-1120210379|0,I=(I<<10|I>>>22)+E|0,R+=(E^(I|~T))+A[2]+718787259|0,R=(R<<15|R>>>17)+I|0,T+=(I^(R|~E))+A[9]-343485551|0,T=(T<<21|T>>>11)+R|0,v[0]=E+v[0]|0,v[1]=T+v[1]|0,v[2]=R+v[2]|0,v[3]=I+v[3]|0}function s(v){var A=[],E;for(E=0;E<64;E+=4)A[E>>2]=v.charCodeAt(E)+(v.charCodeAt(E+1)<<8)+(v.charCodeAt(E+2)<<16)+(v.charCodeAt(E+3)<<24);return A}function o(v){var A=[],E;for(E=0;E<64;E+=4)A[E>>2]=v[E]+(v[E+1]<<8)+(v[E+2]<<16)+(v[E+3]<<24);return A}function u(v){var A=v.length,E=[1732584193,-271733879,-1732584194,271733878],T,R,I,D,M,N;for(T=64;T<=A;T+=64)a(E,s(v.substring(T-64,T)));for(v=v.substring(T-64),R=v.length,I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0;T<R;T+=1)I[T>>2]|=v.charCodeAt(T)<<(T%4<<3);if(I[T>>2]|=128<<(T%4<<3),T>55)for(a(E,I),T=0;T<16;T+=1)I[T]=0;return D=A*8,D=D.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(D[2],16),N=parseInt(D[1],16)||0,I[14]=M,I[15]=N,a(E,I),E}function l(v){var A=v.length,E=[1732584193,-271733879,-1732584194,271733878],T,R,I,D,M,N;for(T=64;T<=A;T+=64)a(E,o(v.subarray(T-64,T)));for(v=T-64<A?v.subarray(T-64):new Uint8Array(0),R=v.length,I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0;T<R;T+=1)I[T>>2]|=v[T]<<(T%4<<3);if(I[T>>2]|=128<<(T%4<<3),T>55)for(a(E,I),T=0;T<16;T+=1)I[T]=0;return D=A*8,D=D.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(D[2],16),N=parseInt(D[1],16)||0,I[14]=M,I[15]=N,a(E,I),E}function c(v){var A="",E;for(E=0;E<4;E+=1)A+=n[v>>E*8+4&15]+n[v>>E*8&15];return A}function d(v){var A;for(A=0;A<v.length;A+=1)v[A]=c(v[A]);return v.join("")}d(u("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function v(A,E){return A=A|0||0,A<0?Math.max(A+E,0):Math.min(A,E)}ArrayBuffer.prototype.slice=function(A,E){var T=this.byteLength,R=v(A,T),I=T,D,M,N,O;return E!==r&&(I=v(E,T)),R>I?new ArrayBuffer(0):(D=I-R,M=new ArrayBuffer(D),N=new Uint8Array(M),O=new Uint8Array(this,R,D),N.set(O),M)}}();function f(v){return/[\u0080-\uFFFF]/.test(v)&&(v=unescape(encodeURIComponent(v))),v}function h(v,A){var E=v.length,T=new ArrayBuffer(E),R=new Uint8Array(T),I;for(I=0;I<E;I+=1)R[I]=v.charCodeAt(I);return A?R:T}function p(v){return String.fromCharCode.apply(null,new Uint8Array(v))}function g(v,A,E){var T=new Uint8Array(v.byteLength+A.byteLength);return T.set(new Uint8Array(v)),T.set(new Uint8Array(A),v.byteLength),E?T:T.buffer}function y(v){var A=[],E=v.length,T;for(T=0;T<E-1;T+=2)A.push(parseInt(v.substr(T,2),16));return String.fromCharCode.apply(String,A)}function S(){this.reset()}return S.prototype.append=function(v){return this.appendBinary(f(v)),this},S.prototype.appendBinary=function(v){this._buff+=v,this._length+=v.length;var A=this._buff.length,E;for(E=64;E<=A;E+=64)a(this._hash,s(this._buff.substring(E-64,E)));return this._buff=this._buff.substring(E-64),this},S.prototype.end=function(v){var A=this._buff,E=A.length,T,R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I;for(T=0;T<E;T+=1)R[T>>2]|=A.charCodeAt(T)<<(T%4<<3);return this._finish(R,E),I=d(this._hash),v&&(I=y(I)),this.reset(),I},S.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},S.prototype.setState=function(v){return this._buff=v.buff,this._length=v.length,this._hash=v.hash,this},S.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},S.prototype._finish=function(v,A){var E=A,T,R,I;if(v[E>>2]|=128<<(E%4<<3),E>55)for(a(this._hash,v),E=0;E<16;E+=1)v[E]=0;T=this._length*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),R=parseInt(T[2],16),I=parseInt(T[1],16)||0,v[14]=R,v[15]=I,a(this._hash,v)},S.hash=function(v,A){return S.hashBinary(f(v),A)},S.hashBinary=function(v,A){var E=u(v),T=d(E);return A?y(T):T},S.ArrayBuffer=function(){this.reset()},S.ArrayBuffer.prototype.append=function(v){var A=g(this._buff.buffer,v,!0),E=A.length,T;for(this._length+=v.byteLength,T=64;T<=E;T+=64)a(this._hash,o(A.subarray(T-64,T)));return this._buff=T-64<E?new Uint8Array(A.buffer.slice(T-64)):new Uint8Array(0),this},S.ArrayBuffer.prototype.end=function(v){var A=this._buff,E=A.length,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R,I;for(R=0;R<E;R+=1)T[R>>2]|=A[R]<<(R%4<<3);return this._finish(T,E),I=d(this._hash),v&&(I=y(I)),this.reset(),I},S.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.ArrayBuffer.prototype.getState=function(){var v=S.prototype.getState.call(this);return v.buff=p(v.buff),v},S.ArrayBuffer.prototype.setState=function(v){return v.buff=h(v.buff,!0),S.prototype.setState.call(this,v)},S.ArrayBuffer.prototype.destroy=S.prototype.destroy,S.ArrayBuffer.prototype._finish=S.prototype._finish,S.ArrayBuffer.hash=function(v,A){var E=l(new Uint8Array(v)),T=d(E);return A?y(T):T},S})})(ODe);var y2,RDe=new Uint8Array(16);function fY(){if(!y2&&(y2=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!y2))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y2(RDe)}const IDe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function lI(t){return typeof t=="string"&&IDe.test(t)}var Ma=[];for(var KD=0;KD<256;++KD)Ma.push((KD+256).toString(16).substr(1));function cI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Ma[t[e+0]]+Ma[t[e+1]]+Ma[t[e+2]]+Ma[t[e+3]]+"-"+Ma[t[e+4]]+Ma[t[e+5]]+"-"+Ma[t[e+6]]+Ma[t[e+7]]+"-"+Ma[t[e+8]]+Ma[t[e+9]]+"-"+Ma[t[e+10]]+Ma[t[e+11]]+Ma[t[e+12]]+Ma[t[e+13]]+Ma[t[e+14]]+Ma[t[e+15]]).toLowerCase();if(!lI(r))throw TypeError("Stringified UUID is invalid");return r}var zk,XD,JD=0,YD=0;function PDe(t,e,r){var n=e&&r||0,a=e||new Array(16);t=t||{};var s=t.node||zk,o=t.clockseq!==void 0?t.clockseq:XD;if(s==null||o==null){var u=t.random||(t.rng||fY)();s==null&&(s=zk=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),o==null&&(o=XD=(u[6]<<8|u[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:YD+1,d=l-JD+(c-YD)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||l>JD)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");JD=l,YD=c,XD=o,l+=122192928e5;var f=((l&268435455)*1e4+c)%4294967296;a[n++]=f>>>24&255,a[n++]=f>>>16&255,a[n++]=f>>>8&255,a[n++]=f&255;var h=l/4294967296*1e4&268435455;a[n++]=h>>>8&255,a[n++]=h&255,a[n++]=h>>>24&15|16,a[n++]=h>>>16&255,a[n++]=o>>>8|128,a[n++]=o&255;for(var p=0;p<6;++p)a[n+p]=s[p];return e||cI(a)}function hY(t){if(!lI(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function CDe(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var DDe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",NDe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function pY(t,e,r){function n(a,s,o,u){if(typeof a=="string"&&(a=CDe(a)),typeof s=="string"&&(s=hY(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+a.length);if(l.set(s),l.set(a,s.length),l=r(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){u=u||0;for(var c=0;c<16;++c)o[u+c]=l[c];return o}return cI(l)}try{n.name=t}catch{}return n.DNS=DDe,n.URL=NDe,n}function FDe(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return LDe(jDe(MDe(t),t.length*8))}function LDe(t){for(var e=[],r=t.length*32,n="0123456789abcdef",a=0;a<r;a+=8){var s=t[a>>5]>>>a%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function gY(t){return(t+64>>>9<<4)+14+1}function jDe(t,e){t[e>>5]|=128<<e%32,t[gY(e)-1]=e;for(var r=1732584193,n=-271733879,a=-1732584194,s=271733878,o=0;o<t.length;o+=16){var u=r,l=n,c=a,d=s;r=Za(r,n,a,s,t[o],7,-680876936),s=Za(s,r,n,a,t[o+1],12,-389564586),a=Za(a,s,r,n,t[o+2],17,606105819),n=Za(n,a,s,r,t[o+3],22,-1044525330),r=Za(r,n,a,s,t[o+4],7,-176418897),s=Za(s,r,n,a,t[o+5],12,1200080426),a=Za(a,s,r,n,t[o+6],17,-1473231341),n=Za(n,a,s,r,t[o+7],22,-45705983),r=Za(r,n,a,s,t[o+8],7,1770035416),s=Za(s,r,n,a,t[o+9],12,-1958414417),a=Za(a,s,r,n,t[o+10],17,-42063),n=Za(n,a,s,r,t[o+11],22,-1990404162),r=Za(r,n,a,s,t[o+12],7,1804603682),s=Za(s,r,n,a,t[o+13],12,-40341101),a=Za(a,s,r,n,t[o+14],17,-1502002290),n=Za(n,a,s,r,t[o+15],22,1236535329),r=es(r,n,a,s,t[o+1],5,-165796510),s=es(s,r,n,a,t[o+6],9,-1069501632),a=es(a,s,r,n,t[o+11],14,643717713),n=es(n,a,s,r,t[o],20,-373897302),r=es(r,n,a,s,t[o+5],5,-701558691),s=es(s,r,n,a,t[o+10],9,38016083),a=es(a,s,r,n,t[o+15],14,-660478335),n=es(n,a,s,r,t[o+4],20,-405537848),r=es(r,n,a,s,t[o+9],5,568446438),s=es(s,r,n,a,t[o+14],9,-1019803690),a=es(a,s,r,n,t[o+3],14,-187363961),n=es(n,a,s,r,t[o+8],20,1163531501),r=es(r,n,a,s,t[o+13],5,-1444681467),s=es(s,r,n,a,t[o+2],9,-51403784),a=es(a,s,r,n,t[o+7],14,1735328473),n=es(n,a,s,r,t[o+12],20,-1926607734),r=ts(r,n,a,s,t[o+5],4,-378558),s=ts(s,r,n,a,t[o+8],11,-2022574463),a=ts(a,s,r,n,t[o+11],16,1839030562),n=ts(n,a,s,r,t[o+14],23,-35309556),r=ts(r,n,a,s,t[o+1],4,-1530992060),s=ts(s,r,n,a,t[o+4],11,1272893353),a=ts(a,s,r,n,t[o+7],16,-155497632),n=ts(n,a,s,r,t[o+10],23,-1094730640),r=ts(r,n,a,s,t[o+13],4,681279174),s=ts(s,r,n,a,t[o],11,-358537222),a=ts(a,s,r,n,t[o+3],16,-722521979),n=ts(n,a,s,r,t[o+6],23,76029189),r=ts(r,n,a,s,t[o+9],4,-640364487),s=ts(s,r,n,a,t[o+12],11,-421815835),a=ts(a,s,r,n,t[o+15],16,530742520),n=ts(n,a,s,r,t[o+2],23,-995338651),r=rs(r,n,a,s,t[o],6,-198630844),s=rs(s,r,n,a,t[o+7],10,1126891415),a=rs(a,s,r,n,t[o+14],15,-1416354905),n=rs(n,a,s,r,t[o+5],21,-57434055),r=rs(r,n,a,s,t[o+12],6,1700485571),s=rs(s,r,n,a,t[o+3],10,-1894986606),a=rs(a,s,r,n,t[o+10],15,-1051523),n=rs(n,a,s,r,t[o+1],21,-2054922799),r=rs(r,n,a,s,t[o+8],6,1873313359),s=rs(s,r,n,a,t[o+15],10,-30611744),a=rs(a,s,r,n,t[o+6],15,-1560198380),n=rs(n,a,s,r,t[o+13],21,1309151649),r=rs(r,n,a,s,t[o+4],6,-145523070),s=rs(s,r,n,a,t[o+11],10,-1120210379),a=rs(a,s,r,n,t[o+2],15,718787259),n=rs(n,a,s,r,t[o+9],21,-343485551),r=gh(r,u),n=gh(n,l),a=gh(a,c),s=gh(s,d)}return[r,n,a,s]}function MDe(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(gY(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function gh(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function BDe(t,e){return t<<e|t>>>32-e}function dI(t,e,r,n,a,s){return gh(BDe(gh(gh(e,t),gh(n,s)),a),r)}function Za(t,e,r,n,a,s,o){return dI(e&r|~e&n,t,e,a,s,o)}function es(t,e,r,n,a,s,o){return dI(e&n|r&~n,t,e,a,s,o)}function ts(t,e,r,n,a,s,o){return dI(e^r^n,t,e,a,s,o)}function rs(t,e,r,n,a,s,o){return dI(r^(e|~n),t,e,a,s,o)}var kDe=pY("v3",48,FDe);const $De=kDe;function UDe(t,e,r){t=t||{};var n=t.random||(t.rng||fY)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var a=0;a<16;++a)e[r+a]=n[a];return e}return cI(n)}function VDe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function ZD(t,e){return t<<e|t>>>32-e}function HDe(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var a=0;a<n.length;++a)t.push(n.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),u=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];u[l]=c}u[o-1][14]=(t.length-1)*8/Math.pow(2,32),u[o-1][14]=Math.floor(u[o-1][14]),u[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=u[f][p];for(var g=16;g<80;++g)h[g]=ZD(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var y=r[0],S=r[1],v=r[2],A=r[3],E=r[4],T=0;T<80;++T){var R=Math.floor(T/20),I=ZD(y,5)+VDe(R,S,v,A)+E+e[R]+h[T]>>>0;E=A,A=v,v=ZD(S,30)>>>0,S=y,y=I}r[0]=r[0]+y>>>0,r[1]=r[1]+S>>>0,r[2]=r[2]+v>>>0,r[3]=r[3]+A>>>0,r[4]=r[4]+E>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var qDe=pY("v5",80,HDe);const zDe=qDe,GDe="00000000-0000-0000-0000-000000000000";function QDe(t){if(!lI(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const WDe=Object.freeze(Object.defineProperty({__proto__:null,v1:PDe,v3:$De,v4:UDe,v5:zDe,NIL:GDe,version:QDe,validate:lI,stringify:cI,parse:hY},Symbol.toStringTag,{value:"Module"})),yY=h1(WDe);var $w={};Object.defineProperty($w,"__esModule",{value:!0});$w.orderTypes=void 0;const KDe=Y8,Gk=vo(),XDe=Q0(),tc=ms,Qk=Nr,JDe=Lt,Wk=kw();function wb(t,e,r=!1,n,a,s){if(t===e)return 0;if(t===void 0)return-1;if(e===void 0)return 1;if(t.termType!==e.termType)return Kk[t.termType]<Kk[e.termType]?-1:1;if(t.equals(e))return 0;if(t.termType==="Quad"&&e.termType==="Quad"){const o=wb(t.subject,e.subject,r,n,a);if(o!==0)return o;const u=wb(t.predicate,e.predicate,r,n,a);if(u!==0)return u;const l=wb(t.object,e.object,r,n,a);return l!==0?l:wb(t.graph,e.graph,r,n,a)}if(t.termType==="Literal")return YDe(t,e,n,a);if(r)throw new JDe.InvalidCompareArgumentTypes(t,e);return Sp(t.value,e.value)}$w.orderTypes=wb;function YDe(t,e,r,n){const a={zoneHours:0,zoneMinutes:0},s={discoverer:r||(()=>"term"),cache:n||new KDe},o=new XDe.TermTransformer(s),u=o.transformLiteral(t),l=o.transformLiteral(e),c=u.dataType,d=l.dataType,f=(0,Wk.getSuperTypeDict)(c,s),h=(0,Wk.getSuperTypeDict)(d,s);if(!(0,Gk.isNonLexicalLiteral)(u)&&!(0,Gk.isNonLexicalLiteral)(l)){if(tc.TypeURL.XSD_BOOLEAN in f&&tc.TypeURL.XSD_BOOLEAN in h||tc.TypeAlias.SPARQL_NUMERIC in f&&tc.TypeAlias.SPARQL_NUMERIC in h||tc.TypeURL.XSD_STRING in f&&tc.TypeURL.XSD_STRING in h)return Sp(u.typedValue,l.typedValue);if(tc.TypeURL.XSD_DATE_TIME in f&&tc.TypeURL.XSD_DATE_TIME in h)return Sp((0,Qk.toUTCDate)(u.typedValue,a).getTime(),(0,Qk.toUTCDate)(l.typedValue,a).getTime());if(tc.TypeURL.RDF_LANG_STRING in f&&tc.TypeURL.RDF_LANG_STRING in h){const g=Sp(u.typedValue,l.typedValue);return g!==0?g:Sp(u.language,l.language)}}const p=Sp(c,d);return p!==0?p:Sp(u.str(),l.str())}function Sp(t,e){return t===e?0:t<e?-1:1}const Kk={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5};var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});Eh.langMatches=Eh.replace=Eh.matches=void 0;function ZDe(t,e,r){return new RegExp(e,r).test(t)}Eh.matches=ZDe;function eNe(t,e,r,n){let a=new RegExp(e,n);if(!a.global){const s=n||"";a=new RegExp(e,`${s}g`)}return t.replace(a,r)}Eh.replace=eNe;function tNe(t,e){const r=t.split("-"),n=e.split("-");if(!Jk(n[0],r[0])&&!Xk(r[0]))return!1;let a=1,s=1;for(;s<n.length;){if(Xk(n[s])){s++;continue}if(a===r.length)return!1;if(Jk(n[s],r[a])){a++,s++;continue}if(r[a].length===1)return!1;a++}return!0}Eh.langMatches=tNe;function Xk(t){return t==="*"}function Jk(t,e){return new RegExp(`/${t}/`,"iu").test(`/${e}/`)}Object.defineProperty(uI,"__esModule",{value:!0});uI.definitions=void 0;const C_=a6,fI=yA,rNe=lr,Yk=Ru,nNe=s6,mY=yY,Us=vo(),iNe=Q0(),Vt=ms,ze=ms,ft=Nr,Wh=Lt,vY=$w,Mp=Wd,um=vu,Ze=rd(),Bp=Eh,o6=new rNe.DataFactory,aNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.NOT).onTerm1(()=>t=>(0,Ze.bool)(!t.coerceEBV())).collect()},sNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.UPLUS).numericConverter(()=>t=>t).collect()},oNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.UMINUS).numericConverter(()=>t=>-t).collect()},uNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.MULTIPLICATION).arithmetic(()=>(t,e)=>new C_.BigNumber(t).times(e).toNumber()).collect()},lNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.DIVISION).arithmetic(()=>(t,e)=>new C_.BigNumber(t).div(e).toNumber()).onBinaryTyped([ze.TypeURL.XSD_INTEGER,ze.TypeURL.XSD_INTEGER],()=>(t,e)=>{if(e===0)throw new Wh.ExpressionError("Integer division by 0");return(0,Ze.decimal)(new C_.BigNumber(t).div(e).toNumber())}).collect()},cNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.ADDITION).arithmetic(()=>(t,e)=>new C_.BigNumber(t).plus(e).toNumber()).set([ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,e])=>new Us.DateTimeLiteral((0,Mp.addDurationToDateTime)(t.typedValue,(0,ft.defaultedDurationRepresentation)(e.typedValue)))).copy({from:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DAY_TIME_DURATION],to:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,e])=>new Us.DateLiteral((0,Mp.addDurationToDateTime)((0,ft.defaultedDateTimeRepresentation)(t.typedValue),(0,ft.defaultedDurationRepresentation)(e.typedValue)))).copy({from:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DAY_TIME_DURATION],to:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,e])=>new Us.TimeLiteral((0,Mp.addDurationToDateTime)((0,ft.defaultedDateTimeRepresentation)(t.typedValue),(0,ft.defaultedDurationRepresentation)(e.typedValue)))).copy({from:[ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_DAY_TIME_DURATION],to:[ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()},dNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.SUBTRACTION).arithmetic(()=>(t,e)=>new C_.BigNumber(t).minus(e).toNumber()).set([ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DATE_TIME],({defaultTimeZone:t})=>([e,r])=>new Us.DayTimeDurationLiteral((0,Mp.elapsedDuration)(e.typedValue,r.typedValue,t))).copy({from:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DATE]}).copy({from:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_TIME]}).set([ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,e])=>new Us.DateTimeLiteral((0,Mp.addDurationToDateTime)(t.typedValue,(0,ft.defaultedDurationRepresentation)((0,ft.negateDuration)(e.typedValue))))).copy({from:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DAY_TIME_DURATION],to:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,e])=>new Us.DateLiteral((0,Mp.addDurationToDateTime)((0,ft.defaultedDateTimeRepresentation)(t.typedValue),(0,ft.defaultedDurationRepresentation)((0,ft.negateDuration)(e.typedValue))))).copy({from:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DAY_TIME_DURATION],to:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,e])=>new Us.TimeLiteral((0,Mp.addDurationToDateTime)((0,ft.defaultedDateTimeRepresentation)(t.typedValue),(0,ft.defaultedDurationRepresentation)((0,ft.negateDuration)(e.typedValue))))).collect()},hI={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.EQUAL).numberTest(()=>(t,e)=>t===e).stringTest(()=>(t,e)=>t.localeCompare(e)===0).set([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.RDF_LANG_STRING],()=>([t,e])=>(0,Ze.bool)(t.str()===e.str()&&t.language===e.language)).set([ze.TypeAlias.SPARQL_STRINGLY,ze.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,Ze.bool)(!1)).booleanTest(()=>(t,e)=>t===e).dateTimeTest(({defaultTimeZone:t})=>(e,r)=>(0,ft.toUTCDate)(e,t).getTime()===(0,ft.toUTCDate)(r,t).getTime()).copy({from:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DATE]}).set(["quad","quad"],t=>([e,r])=>{const n=new um.RegularFunction(ze.RegularOperator.EQUAL,hI);return(0,Ze.bool)(n.apply([e.subject,r.subject],t).coerceEBV()&&n.apply([e.predicate,r.predicate],t).coerceEBV()&&n.apply([e.object,r.object],t).coerceEBV())},!1).set(["term","term"],()=>([t,e])=>(0,Ze.bool)(bY(t,e)),!1).set([ze.TypeURL.XSD_DURATION,ze.TypeURL.XSD_DURATION],()=>([t,e])=>(0,Ze.bool)((0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(t.typedValue))===(0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(e.typedValue))&&(0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(t.typedValue))===(0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(e.typedValue)))).set([ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_TIME],({defaultTimeZone:t})=>([e,r])=>(0,Ze.bool)((0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(e.typedValue),t).getTime()===(0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(r.typedValue),t).getTime())).collect()};function bY(t,e){const r=t.toRDF(),n=e.toRDF(),a=r.equals(n);if(!a&&r.termType==="Literal"&&n.termType==="Literal")throw new Wh.RDFEqualTypeError([t,e]);return a}const _Y={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.NOT_EQUAL).numberTest(()=>(t,e)=>t!==e).stringTest(()=>(t,e)=>t.localeCompare(e)!==0).booleanTest(()=>(t,e)=>t!==e).dateTimeTest(({defaultTimeZone:t})=>(e,r)=>(0,ft.toUTCDate)(e,t).getTime()!==(0,ft.toUTCDate)(r,t).getTime()).set(["quad","quad"],t=>([e,r])=>{const n=new um.RegularFunction(ze.RegularOperator.NOT_EQUAL,_Y);return(0,Ze.bool)(n.apply([e.subject,r.subject],t).coerceEBV()||n.apply([e.predicate,r.predicate],t).coerceEBV()||n.apply([e.object,r.object],t).coerceEBV())},!1).set(["term","term"],()=>([t,e])=>(0,Ze.bool)(!bY(t,e))).set([ze.TypeURL.XSD_DURATION,ze.TypeURL.XSD_DURATION],()=>([t,e])=>(0,Ze.bool)((0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(t.typedValue))!==(0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(e.typedValue))||(0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(t.typedValue))!==(0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(e.typedValue)))).copy({from:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DATE]}).set([ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_TIME],({defaultTimeZone:t})=>([e,r])=>(0,Ze.bool)((0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(e.typedValue),t).getTime()!==(0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(r.typedValue),t).getTime())).collect()},wY={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.LT).numberTest(()=>(t,e)=>t<e).stringTest(()=>(t,e)=>t.localeCompare(e)===-1).booleanTest(()=>(t,e)=>t<e).set(["quad","quad"],t=>([e,r])=>(0,Ze.bool)((0,vY.orderTypes)(e.toRDF(),r.toRDF(),!0)===-1),!1).dateTimeTest(({defaultTimeZone:t})=>(e,r)=>(0,ft.toUTCDate)(e,t).getTime()<(0,ft.toUTCDate)(r,t).getTime()).copy({from:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DATE]}).set([ze.TypeURL.XSD_YEAR_MONTH_DURATION,ze.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([t,e])=>(0,Ze.bool)((0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(t.typedValue))<(0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(e.typedValue)))).set([ze.TypeURL.XSD_DAY_TIME_DURATION,ze.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,e])=>(0,Ze.bool)((0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(t.typedValue))<(0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(e.typedValue)))).set([ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_TIME],({defaultTimeZone:t})=>([e,r])=>(0,Ze.bool)((0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(e.typedValue),t).getTime()<(0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(r.typedValue),t).getTime())).collect()},SY={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.GT).numberTest(()=>(t,e)=>t>e).stringTest(()=>(t,e)=>t.localeCompare(e)===1).booleanTest(()=>(t,e)=>t>e).set(["quad","quad"],t=>([e,r])=>(0,Ze.bool)((0,vY.orderTypes)(e.toRDF(),r.toRDF(),!0)===1),!1).dateTimeTest(({defaultTimeZone:t})=>(e,r)=>(0,ft.toUTCDate)(e,t).getTime()>(0,ft.toUTCDate)(r,t).getTime()).copy({from:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DATE]}).set([ze.TypeURL.XSD_YEAR_MONTH_DURATION,ze.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([t,e])=>(0,Ze.bool)((0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(t.typedValue))>(0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(e.typedValue)))).set([ze.TypeURL.XSD_DAY_TIME_DURATION,ze.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,e])=>(0,Ze.bool)((0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(t.typedValue))>(0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(e.typedValue)))).set([ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_TIME],({defaultTimeZone:t})=>([e,r])=>(0,Ze.bool)((0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(e.typedValue),t).getTime()>(0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(r.typedValue),t).getTime())).collect()},fNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.LTE).numberTest(()=>(t,e)=>t<=e).stringTest(()=>(t,e)=>t.localeCompare(e)!==1).booleanTest(()=>(t,e)=>t<=e).set(["quad","quad"],t=>([e,r])=>{const n=new um.RegularFunction(ze.RegularOperator.EQUAL,hI),a=new um.RegularFunction(ze.RegularOperator.LT,wY);return(0,Ze.bool)(n.apply([e,r],t).coerceEBV()||a.apply([e,r],t).coerceEBV())},!1).dateTimeTest(({defaultTimeZone:t})=>(e,r)=>(0,ft.toUTCDate)(e,t).getTime()<=(0,ft.toUTCDate)(r,t).getTime()).set([ze.TypeURL.XSD_YEAR_MONTH_DURATION,ze.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([t,e])=>(0,Ze.bool)((0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(t.typedValue))<=(0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(e.typedValue)))).set([ze.TypeURL.XSD_DAY_TIME_DURATION,ze.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,e])=>(0,Ze.bool)((0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(t.typedValue))<=(0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(e.typedValue)))).copy({from:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DATE]}).set([ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_TIME],({defaultTimeZone:t})=>([e,r])=>(0,Ze.bool)((0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(e.typedValue),t).getTime()<=(0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(r.typedValue),t).getTime())).collect()},hNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.GTE).numberTest(()=>(t,e)=>t>=e).stringTest(()=>(t,e)=>t.localeCompare(e)!==-1).booleanTest(()=>(t,e)=>t>=e).set(["quad","quad"],t=>([e,r])=>{const n=new um.RegularFunction(ze.RegularOperator.EQUAL,hI),a=new um.RegularFunction(ze.RegularOperator.GT,SY);return(0,Ze.bool)(n.apply([e,r],t).coerceEBV()||a.apply([e,r],t).coerceEBV())},!1).dateTimeTest(({defaultTimeZone:t})=>(e,r)=>(0,ft.toUTCDate)(e,t).getTime()>=(0,ft.toUTCDate)(r,t).getTime()).set([ze.TypeURL.XSD_YEAR_MONTH_DURATION,ze.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([t,e])=>(0,Ze.bool)((0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(t.typedValue))>=(0,ft.yearMonthDurationsToMonths)((0,ft.defaultedYearMonthDurationRepresentation)(e.typedValue)))).set([ze.TypeURL.XSD_DAY_TIME_DURATION,ze.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,e])=>(0,Ze.bool)((0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(t.typedValue))>=(0,ft.dayTimeDurationsToSeconds)((0,ft.defaultedDayTimeDurationRepresentation)(e.typedValue)))).copy({from:[ze.TypeURL.XSD_DATE_TIME,ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_DATE,ze.TypeURL.XSD_DATE]}).set([ze.TypeURL.XSD_TIME,ze.TypeURL.XSD_TIME],({defaultTimeZone:t})=>([e,r])=>(0,Ze.bool)((0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(e.typedValue),t).getTime()>=(0,ft.toUTCDate)((0,ft.defaultedDateTimeRepresentation)(r.typedValue),t).getTime())).collect()},Zk={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.IS_IRI).onTerm1(()=>t=>(0,Ze.bool)(t.termType==="namedNode")).collect()},pNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.IS_BLANK).onTerm1(()=>t=>(0,Ze.bool)(t.termType==="blankNode")).collect()},gNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.IS_LITERAL).onTerm1(()=>t=>(0,Ze.bool)(t.termType==="literal")).collect()},yNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.IS_NUMERIC).onNumeric1(()=>t=>(0,Ze.bool)(!0)).onTerm1(()=>t=>(0,Ze.bool)(!1)).collect()},mNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.STR).onTerm1(()=>t=>(0,Ze.string)(t.str())).collect()},vNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.LANG).onLiteral1(()=>t=>(0,Ze.string)(t.language||"")).collect()},bNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.DATATYPE).onLiteral1(()=>t=>new Us.NamedNode(t.dataType)).collect()},e$={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.IRI).set(["namedNode"],t=>e=>{const r=e[0],n=(0,Yk.resolve)(r.str(),t.baseIRI||"");return new Us.NamedNode(n)}).onString1(t=>e=>{const r=(0,Yk.resolve)(e.str(),t.baseIRI||"");return new Us.NamedNode(r)}).collect()},_Ne={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.STRDT).set([ze.TypeURL.XSD_STRING,"namedNode"],({superTypeProvider:t})=>([e,r])=>{const n=o6.literal(e.typedValue,o6.namedNode(r.value));return new iNe.TermTransformer(t).transformLiteral(n)}).collect()},wNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.STRLANG).onBinaryTyped([ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING],()=>(t,e)=>new Us.LangStringLiteral(t,e.toLowerCase())).collect()},SNe={arity:0,overloads:(0,Ze.declare)(Vt.RegularOperator.UUID).set([],()=>()=>new Us.NamedNode(`urn:uuid:${mY.v4()}`)).collect()},TNe={arity:0,overloads:(0,Ze.declare)(Vt.RegularOperator.STRUUID).set([],()=>()=>(0,Ze.string)(mY.v4())).collect()},ENe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.STRLEN).onStringly1(()=>t=>(0,Ze.integer)([...t.typedValue].length)).collect()},ANe={arity:[2,3],overloads:(0,Ze.declare)(Vt.RegularOperator.SUBSTR).onBinaryTyped([ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_INTEGER],()=>(t,e)=>(0,Ze.string)([...t].slice(e-1).join(""))).onBinary([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.XSD_INTEGER],()=>(t,e)=>{const r=[...t.typedValue].slice(e.typedValue-1).join("");return(0,Ze.langString)(r,t.language)}).onTernaryTyped([ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_INTEGER,ze.TypeURL.XSD_INTEGER],()=>(t,e,r)=>(0,Ze.string)([...t].slice(e-1,r+e-1).join(""))).onTernary([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.XSD_INTEGER,ze.TypeURL.XSD_INTEGER],()=>(t,e,r)=>{const n=[...t.typedValue].slice(e.typedValue-1,r.typedValue+e.typedValue-1).join("");return(0,Ze.langString)(n,t.language)}).collect()},xNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.UCASE).onString1Typed(()=>t=>(0,Ze.string)(t.toUpperCase())).onLangString1(()=>t=>(0,Ze.langString)(t.typedValue.toUpperCase(),t.language)).collect()},ONe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.LCASE).onString1Typed(()=>t=>(0,Ze.string)(t.toLowerCase())).onLangString1(()=>t=>(0,Ze.langString)(t.typedValue.toLowerCase(),t.language)).collect()},RNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.STRSTARTS).onBinaryTyped([ze.TypeAlias.SPARQL_STRINGLY,ze.TypeURL.XSD_STRING],()=>(t,e)=>(0,Ze.bool)(t.startsWith(e))).onBinary([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.RDF_LANG_STRING],()=>(t,e)=>{if(t.language!==e.language)throw new Wh.IncompatibleLanguageOperation(t,e);return(0,Ze.bool)(t.typedValue.startsWith(e.typedValue))}).collect()},INe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.STRENDS).onBinaryTyped([ze.TypeAlias.SPARQL_STRINGLY,ze.TypeURL.XSD_STRING],()=>(t,e)=>(0,Ze.bool)(t.endsWith(e))).onBinary([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.RDF_LANG_STRING],()=>(t,e)=>{if(t.language!==e.language)throw new Wh.IncompatibleLanguageOperation(t,e);return(0,Ze.bool)(t.typedValue.endsWith(e.typedValue))}).collect()},PNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.CONTAINS).onBinaryTyped([ze.TypeAlias.SPARQL_STRINGLY,ze.TypeURL.XSD_STRING],()=>(t,e)=>(0,Ze.bool)(t.includes(e))).onBinary([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.RDF_LANG_STRING],()=>(t,e)=>{if(t.language!==e.language)throw new Wh.IncompatibleLanguageOperation(t,e);return(0,Ze.bool)(t.typedValue.includes(e.typedValue))}).collect()},CNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.STRBEFORE).onBinaryTyped([ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING],()=>(t,e)=>(0,Ze.string)(t.slice(0,Math.max(0,t.indexOf(e))))).onBinary([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.XSD_STRING],()=>(t,e)=>{const[r,n]=[t.typedValue,e.typedValue],a=t.typedValue.slice(0,Math.max(0,r.indexOf(n)));return a||!n?(0,Ze.langString)(a,t.language):(0,Ze.string)(a)}).onBinary([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.RDF_LANG_STRING],()=>(t,e)=>{if(t.language!==e.language)throw new Wh.IncompatibleLanguageOperation(t,e);const[r,n]=[t.typedValue,e.typedValue],a=t.typedValue.slice(0,Math.max(0,r.indexOf(n)));return a||!n?(0,Ze.langString)(a,t.language):(0,Ze.string)(a)}).collect()},DNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.STRAFTER).onBinaryTyped([ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING],()=>(t,e)=>(0,Ze.string)(t.slice(t.indexOf(e)).slice(e.length))).onBinary([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.XSD_STRING],()=>(t,e)=>{const[r,n]=[t.typedValue,e.typedValue],a=r.slice(r.indexOf(n)).slice(n.length);return a||!n?(0,Ze.langString)(a,t.language):(0,Ze.string)(a)}).onBinary([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.RDF_LANG_STRING],()=>(t,e)=>{if(t.language!==e.language)throw new Wh.IncompatibleLanguageOperation(t,e);const[r,n]=[t.typedValue,e.typedValue],a=r.slice(r.indexOf(n)).slice(n.length);return a||!n?(0,Ze.langString)(a,t.language):(0,Ze.string)(a)}).collect()},NNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.ENCODE_FOR_URI).onStringly1Typed(()=>t=>(0,Ze.string)(encodeURI(t))).collect()},FNe={arity:2,overloads:(0,Ze.declare)(Vt.RegularOperator.LANG_MATCHES).onBinaryTyped([ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING],()=>(t,e)=>(0,Ze.bool)(Bp.langMatches(t,e))).collect()},LNe=()=>(t,e)=>(0,Ze.bool)(Bp.matches(t,e)),jNe=()=>(t,e,r)=>(0,Ze.bool)(Bp.matches(t,e,r)),MNe={arity:[2,3],overloads:(0,Ze.declare)(Vt.RegularOperator.REGEX).onBinaryTyped([ze.TypeAlias.SPARQL_STRINGLY,ze.TypeURL.XSD_STRING],LNe).onTernaryTyped([ze.TypeAlias.SPARQL_STRINGLY,ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING],jNe).collect()},BNe={arity:[3,4],overloads:(0,Ze.declare)(Vt.RegularOperator.REPLACE).onTernaryTyped([ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING],()=>(t,e,r)=>(0,Ze.string)(Bp.replace(t,e,r))).set([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING],()=>([t,e,r])=>{const n=Bp.replace(t.typedValue,e.typedValue,r.typedValue);return(0,Ze.langString)(n,t.language)}).onQuaternaryTyped([ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING],()=>(t,e,r,n)=>(0,Ze.string)(Bp.replace(t,e,r,n))).set([ze.TypeURL.RDF_LANG_STRING,ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING,ze.TypeURL.XSD_STRING],()=>([t,e,r,n])=>{const a=Bp.replace(t.typedValue,e.typedValue,r.typedValue,n.typedValue);return(0,Ze.langString)(a,t.language)}).collect()},kNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.ABS).numericConverter(()=>t=>Math.abs(t)).collect()},$Ne={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.ROUND).numericConverter(()=>t=>Math.round(t)).collect()},UNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.CEIL).numericConverter(()=>t=>Math.ceil(t)).collect()},VNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.FLOOR).numericConverter(()=>t=>Math.floor(t)).collect()},HNe={arity:0,overloads:(0,Ze.declare)(Vt.RegularOperator.RAND).set([],()=>()=>(0,Ze.double)(Math.random())).collect()},qNe={arity:0,overloads:(0,Ze.declare)(Vt.RegularOperator.NOW).set([],t=>()=>new Us.DateTimeLiteral((0,ft.toDateTimeRepresentation)({date:t.now,timeZone:t.defaultTimeZone}))).collect()},zNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.YEAR).onDateTime1(()=>t=>(0,Ze.integer)(t.typedValue.year)).set([ze.TypeURL.XSD_DATE],()=>([t])=>(0,Ze.integer)(t.typedValue.year)).collect()},GNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.MONTH).onDateTime1(()=>t=>(0,Ze.integer)(t.typedValue.month)).set([ze.TypeURL.XSD_DATE],()=>([t])=>(0,Ze.integer)(t.typedValue.month)).collect()},QNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.DAY).onDateTime1(()=>t=>(0,Ze.integer)(t.typedValue.day)).set([ze.TypeURL.XSD_DATE],()=>([t])=>(0,Ze.integer)(t.typedValue.day)).collect()},WNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.HOURS).onDateTime1(()=>t=>(0,Ze.integer)(t.typedValue.hours)).set([ze.TypeURL.XSD_TIME],()=>([t])=>(0,Ze.integer)(t.typedValue.hours)).collect()},KNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.MINUTES).onDateTime1(()=>t=>(0,Ze.integer)(t.typedValue.minutes)).set([ze.TypeURL.XSD_TIME],()=>([t])=>(0,Ze.integer)(t.typedValue.minutes)).collect()},XNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.SECONDS).onDateTime1(()=>t=>(0,Ze.decimal)(t.typedValue.seconds)).set([ze.TypeURL.XSD_TIME],()=>([t])=>(0,Ze.integer)(t.typedValue.seconds)).collect()},JNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.TIMEZONE).onDateTime1(()=>t=>{const e={hours:t.typedValue.zoneHours,minutes:t.typedValue.zoneMinutes};if(e.hours===void 0&&e.minutes===void 0)throw new Wh.InvalidTimezoneCall(t.str());return new Us.DayTimeDurationLiteral(e)}).copy({from:[ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_DATE]}).copy({from:[ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_TIME]}).collect()},YNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.TZ).onDateTime1(()=>t=>(0,Ze.string)((0,ft.extractRawTimeZone)(t.str()))).copy({from:[ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_DATE]}).copy({from:[ze.TypeURL.XSD_DATE_TIME],to:[ze.TypeURL.XSD_TIME]}).collect()},ZNe={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.MD5).onString1Typed(()=>t=>(0,Ze.string)((0,nNe.hash)(t))).collect()},e4e={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.SHA1).onString1Typed(()=>t=>(0,Ze.string)((0,fI.sha1)().update(t).digest("hex"))).collect()},t4e={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.SHA256).onString1Typed(()=>t=>(0,Ze.string)((0,fI.sha256)().update(t).digest("hex"))).collect()},r4e={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.SHA384).onString1Typed(()=>t=>(0,Ze.string)((0,fI.sha384)().update(t).digest("hex"))).collect()},n4e={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.SHA512).onString1Typed(()=>t=>(0,Ze.string)((0,fI.sha512)().update(t).digest("hex"))).collect()},i4e={arity:3,overloads:(0,Ze.declare)(Vt.RegularOperator.TRIPLE).onTerm3(t=>(...e)=>new Us.Quad(o6.quad(e[0].toRDF(),e[1].toRDF(),e[2].toRDF()),t.superTypeProvider)).collect()},a4e={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.SUBJECT).onQuad1(()=>t=>t.subject).collect()},s4e={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.PREDICATE).onQuad1(()=>t=>t.predicate).collect()},o4e={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.OBJECT).onQuad1(()=>t=>t.object).collect()},u4e={arity:1,overloads:(0,Ze.declare)(Vt.RegularOperator.IS_TRIPLE).onTerm1(()=>t=>(0,Ze.bool)(t.termType==="quad")).collect()};uI.definitions={"!":aNe,uplus:sNe,uminus:oNe,"*":uNe,"/":lNe,"+":cNe,"-":dNe,"=":hI,"!=":_Y,"<":wY,">":SY,"<=":fNe,">=":hNe,isiri:Zk,isuri:Zk,isblank:pNe,isliteral:gNe,isnumeric:yNe,str:mNe,lang:vNe,datatype:bNe,iri:e$,uri:e$,strdt:_Ne,strlang:wNe,uuid:SNe,struuid:TNe,strlen:ENe,substr:ANe,ucase:xNe,lcase:ONe,strstarts:RNe,strends:INe,contains:PNe,strbefore:CNe,strafter:DNe,encode_for_uri:NNe,langmatches:FNe,regex:MNe,replace:BNe,abs:kNe,round:$Ne,ceil:UNe,floor:VNe,rand:HNe,now:qNe,year:zNe,month:GNe,day:QNe,hours:WNe,minutes:KNe,seconds:XNe,timezone:JNe,tz:YNe,md5:ZNe,sha1:e4e,sha256:t4e,sha384:r4e,sha512:n4e,triple:i4e,subject:a4e,predicate:s4e,object:o4e,istriple:u4e};var qv={},t$;function l4e(){if(t$)return qv;t$=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.specialDefinitions=void 0;const t=yY,e=vo(),r=ms,n=Lt,a=rd(),s=pI(),o={arity:1,async applyAsync({args:D,mapping:M}){return u({args:D,mapping:M})},applySync({args:D,mapping:M}){return u({args:D,mapping:M})}};function u({args:D,mapping:M}){const N=D[0];if(N.expressionType!==e.ExpressionType.Variable)throw new n.InvalidArgumentTypes(D,r.SpecialOperator.BOUND);const O=M.has((0,a.expressionToVar)(N));return(0,a.bool)(O)}const l={arity:3,async applyAsync({args:D,mapping:M,evaluate:N}){const k=(await N(D[0],M)).coerceEBV();return N(k?D[1]:D[2],M)},applySync({args:D,mapping:M,evaluate:N}){const k=N(D[0],M).coerceEBV();return N(k?D[1]:D[2],M)}},c={arity:Number.POSITIVE_INFINITY,async applyAsync({args:D,mapping:M,evaluate:N}){const O=[];for(const k of D)try{return await N(k,M)}catch(Y){O.push(Y)}throw new n.CoalesceError(O)},applySync({args:D,mapping:M,evaluate:N}){const O=[];for(const k of D)try{return N(k,M)}catch(Y){O.push(Y)}throw new n.CoalesceError(O)}},d={arity:2,async applyAsync({args:D,mapping:M,evaluate:N}){const[O,k]=D;try{if((await N(O,M)).coerceEBV())return(0,a.bool)(!0);const H=(await N(k,M)).coerceEBV();return(0,a.bool)(H)}catch(Y){if(!(await N(k,M)).coerceEBV())throw Y;return(0,a.bool)(!0)}},applySync({args:D,mapping:M,evaluate:N}){const[O,k]=D;try{if(N(O,M).coerceEBV())return(0,a.bool)(!0);const H=N(k,M).coerceEBV();return(0,a.bool)(H)}catch(Y){if(!N(k,M).coerceEBV())throw Y;return(0,a.bool)(!0)}}},f={arity:2,async applyAsync({args:D,mapping:M,evaluate:N}){const[O,k]=D;try{if(!(await N(O,M)).coerceEBV())return(0,a.bool)(!1);const H=(await N(k,M)).coerceEBV();return(0,a.bool)(H)}catch(Y){if((await N(k,M)).coerceEBV())throw Y;return(0,a.bool)(!1)}},applySync({args:D,mapping:M,evaluate:N}){const[O,k]=D;try{if(!N(O,M).coerceEBV())return(0,a.bool)(!1);const H=N(k,M).coerceEBV();return(0,a.bool)(H)}catch(Y){if(N(k,M).coerceEBV())throw Y;return(0,a.bool)(!1)}}},h={arity:2,async applyAsync({args:D,mapping:M,evaluate:N}){const[O,k]=D.map(q=>N(q,M)),[Y,ne]=await Promise.all([O,k]);return(0,a.bool)(Y.toRDF().equals(ne.toRDF()))},applySync({args:D,mapping:M,evaluate:N}){const[O,k]=D.map(Y=>N(Y,M));return(0,a.bool)(O.toRDF().equals(k.toRDF()))}},p={arity:Number.POSITIVE_INFINITY,checkArity(D){return D.length>0},async applyAsync(D){const{args:M,mapping:N,evaluate:O}=D,[k,...Y]=M,ne=await O(k,N);return g(ne,Object.assign(Object.assign({},D),{args:Y}),[])},applySync(D){const{args:M,mapping:N,evaluate:O}=D,[k,...Y]=M,ne=O(k,N);return y(ne,Object.assign(Object.assign({},D),{args:Y}),[])}};async function g(D,M,N){const{args:O,mapping:k,evaluate:Y}=M;if(O.length===0)return N.every(q=>!q)?(0,a.bool)(!1):Promise.reject(new n.InError(N));try{const ne=O.shift(),q=await Y(ne,k);return s.regularFunctions[r.RegularOperator.EQUAL].apply([D,q],M).typedValue?(0,a.bool)(!0):g(D,M,[...N,!1])}catch(ne){return g(D,M,[...N,ne])}}function y(D,M,N){const{args:O,mapping:k,evaluate:Y}=M;if(O.length===0){if(N.every(q=>!q))return(0,a.bool)(!1);throw new n.InError(N)}try{const ne=O.shift(),q=Y(ne,k);return s.regularFunctions[r.RegularOperator.EQUAL].apply([D,q],M).typedValue?(0,a.bool)(!0):y(D,M,[...N,!1])}catch(ne){return y(D,M,[...N,ne])}}const S={arity:Number.POSITIVE_INFINITY,checkArity(D){return D.length>0},async applyAsync(D){const N=await s.specialFunctions[r.SpecialOperator.IN].applyAsync(D);return(0,a.bool)(!N.typedValue)},applySync(D){const N=s.specialFunctions[r.SpecialOperator.IN].applySync(D);return(0,a.bool)(!N.typedValue)}},v=(0,a.declare)(r.SpecialOperator.CONCAT).onStringly1(()=>D=>D).collect(),A={arity:Number.POSITIVE_INFINITY,async applyAsync(D){const{args:M,mapping:N,evaluate:O,functionArgumentsCache:k,superTypeProvider:Y}=D,ne=M.map(async ue=>O(ue,N)).map(async ue=>{const Se=v.search([await ue],Y,k);if(!Se)throw new n.InvalidArgumentTypes(M,r.SpecialOperator.CONCAT);return Se(D)([await ue])}),q=await Promise.all(ne),J=q.map(ue=>ue.typedValue).join(""),se=E(q)?q[0].language:void 0;return se?(0,a.langString)(J,se):(0,a.string)(J)},applySync(D){const{args:M,mapping:N,evaluate:O,superTypeProvider:k,functionArgumentsCache:Y}=D,ne=M.map(se=>O(se,N)).map(se=>{const ue=v.search([se],k,Y);if(!ue)throw new n.InvalidArgumentTypes(M,r.SpecialOperator.CONCAT);return ue(D)([se])}),H=ne.map(se=>se.typedValue).join(""),J=E(ne)?ne[0].language:void 0;return J?(0,a.langString)(H,J):(0,a.string)(H)}};function E(D){return D.length>0&&D.every(M=>M.language===D[0].language)}const T=(0,a.declare)(r.SpecialOperator.BNODE).onString1(()=>D=>D).collect(),R={arity:Number.POSITIVE_INFINITY,checkArity(D){return D.length===0||D.length===1},async applyAsync(D){const{args:M,mapping:N,evaluate:O,superTypeProvider:k,functionArgumentsCache:Y}=D,ne=M.length===1?await O(M[0],N):void 0;let q;if(ne){const H=T.search([ne],k,Y);if(!H)throw new n.InvalidArgumentTypes(M,r.SpecialOperator.BNODE);q=H(D)([ne]).str()}if(D.bnode){const H=await D.bnode(q);return new e.BlankNode(H)}return I(q)},applySync(D){const{args:M,mapping:N,evaluate:O,superTypeProvider:k,functionArgumentsCache:Y}=D,ne=M.length===1?O(M[0],N):void 0;let q;if(ne){const H=T.search([ne],k,Y);if(!H)throw new n.InvalidArgumentTypes(M,r.SpecialOperator.BNODE);q=H(D)([ne]).str()}if(D.bnode){const H=D.bnode(q);return new e.BlankNode(H)}return I(q)}};function I(D){return new e.BlankNode(D||t.v4())}return qv.specialDefinitions={bound:o,if:l,coalesce:c,"&&":f,"||":d,sameterm:h,in:p,notin:S,concat:A,bnode:R},qv}var r$;function pI(){return r$||(r$=1,function(t){var e=F&&F.__createBinding||(Object.create?function(l,c,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(c,d);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(l,f,h)}:function(l,c,d,f){f===void 0&&(f=d),l[f]=c[d]}),r=F&&F.__exportStar||function(l,c){for(var d in l)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&e(c,l,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.OverloadTree=t.namedFunctions=t.specialFunctions=t.regularFunctions=void 0;const n=vu,a=oI,s=uI,o=l4e();r(vu,t),t.regularFunctions=Object.fromEntries(Object.entries(s.definitions).map(([l,c])=>[l,new n.RegularFunction(l,c)])),t.specialFunctions=Object.fromEntries(Object.entries(o.specialDefinitions).map(([l,c])=>[l,new n.SpecialFunction(l,c)])),t.namedFunctions=Object.fromEntries(Object.entries(a.namedDefinitions).map(([l,c])=>[l,new n.NamedFunction(l,c)]));var u=sY();Object.defineProperty(t,"OverloadTree",{enumerable:!0,get:function(){return u.OverloadTree}})}(WD)),WD}Object.defineProperty(Bw,"__esModule",{value:!0});Bw.AlgebraTransformer=void 0;const c4e=Cr,Df=vo(),eN=pI(),tN=ms,m2=Lt,n$=Lt,d4e=Q0();class Wg extends d4e.TermTransformer{constructor(e){super(e.superTypeProvider),this.algebraConfig=e,this.creatorConfig={type:e.type,creator:e.creator}}transformAlgebra(e){const r=c4e.Algebra.expressionTypes;switch(e.expressionType){case r.TERM:return this.transformTerm(e);case r.OPERATOR:return this.transformOperator(e);case r.NAMED:return this.transformNamed(e);case r.EXISTENCE:return Wg.transformExistence(e);case r.AGGREGATE:return Wg.transformAggregate(e);case r.WILDCARD:return Wg.transformWildcard(e)}}static transformWildcard(e){return new Df.NamedNode(e.wildcard.value)}transformOperator(e){const r=e.operator.toLowerCase();if(tN.SpecialOperators.has(r)){const o=r,u=e.args.map(c=>this.transformAlgebra(c)),l=eN.specialFunctions[o];if(!l.checkArity(u))throw new m2.InvalidArity(u,o);return new Df.SpecialOperator(u,l.applyAsync,l.applySync)}if(!tN.Operators.has(r))throw new m2.UnknownOperator(e.operator);const n=r,a=e.args.map(o=>this.transformAlgebra(o)),s=eN.regularFunctions[n];if(!Wg.hasCorrectArity(a,s.arity))throw new m2.InvalidArity(a,n);return new Df.Operator(a,o=>s.apply(o,this.algebraConfig))}wrapSyncFunction(e,r){return n=>{try{const a=e(n.map(s=>s.toRDF()));return this.transformRDFTermUnsafe(a)}catch(a){throw new n$.ExtensionFunctionError(r,a)}}}wrapAsyncFunction(e,r){return async n=>{try{const a=await e(n.map(s=>s.toRDF()));return this.transformRDFTermUnsafe(a)}catch(a){throw new n$.ExtensionFunctionError(r,a)}}}transformNamed(e){const r=e.name.value,n=e.args.map(a=>this.transformAlgebra(a));if(tN.NamedOperators.has(r)){const a=e.name.value,s=eN.namedFunctions[a];return new Df.Named(e.name,n,o=>s.apply(o,this.algebraConfig))}if(this.creatorConfig.type==="sync"){const a=this.creatorConfig.creator(e.name);if(a){const s=this.wrapSyncFunction(a,e.name.value);return new Df.SyncExtension(e.name,n,s)}}else{const a=this.creatorConfig.creator(e.name);if(a){const s=this.wrapAsyncFunction(a,e.name.value);return new Df.AsyncExtension(e.name,n,s)}}throw new m2.UnknownNamedOperator(e.name.value)}static hasCorrectArity(e,r){return Array.isArray(r)?r.includes(e.length):e.length===r}static transformAggregate(e){const r=e.aggregator;return new Df.Aggregate(r,e)}static transformExistence(e){return new Df.Existence(e)}}Bw.AlgebraTransformer=Wg;var gI={},Uw={};Object.defineProperty(Uw,"__esModule",{value:!0});Uw.BaseExpressionEvaluator=void 0;const f4e=rd(),h4e=Lt;class p4e{constructor(e){this.termTransformer=e}term(e,r){return e}variable(e,r){const n=r.get((0,f4e.expressionToVar)(e));if(!n)throw new h4e.UnboundVariableError(e.name,r);return this.termTransformer.transformRDFTermUnsafe(n)}}Uw.BaseExpressionEvaluator=p4e;Object.defineProperty(gI,"__esModule",{value:!0});gI.AsyncRecursiveEvaluator=void 0;const gd=vo(),g4e=Q0(),rN=Lt,y4e=Uw;class m4e extends y4e.BaseExpressionEvaluator{constructor(e,r){super(r||new g4e.TermTransformer(e.superTypeProvider)),this.context=e,this.subEvaluators={[gd.ExpressionType.Term]:this.term.bind(this),[gd.ExpressionType.Variable]:this.variable.bind(this),[gd.ExpressionType.Operator]:this.evalOperator.bind(this),[gd.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[gd.ExpressionType.Named]:this.evalNamed.bind(this),[gd.ExpressionType.Existence]:this.evalExistence.bind(this),[gd.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[gd.ExpressionType.AsyncExtension]:this.evalAsyncExtension.bind(this)}}async evaluate(e,r){const n=this.subEvaluators[e.expressionType];if(!n)throw new rN.InvalidExpressionType(e);return n.bind(this)(e,r)}async evalOperator(e,r){const n=e.args.map(s=>this.evaluate(s,r)),a=await Promise.all(n);return e.apply(a)}async evalSpecialOperator(e,r){const n=this.evaluate.bind(this),a={args:e.args,mapping:r,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:n,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return e.applyAsync(a)}async _evalAsyncArgs(e,r){const n=e.map(a=>this.evaluate(a,r));return await Promise.all(n)}async evalNamed(e,r){return e.apply(await this._evalAsyncArgs(e.args,r))}async evalAsyncExtension(e,r){return await e.apply(await this._evalAsyncArgs(e.args,r))}async evalExistence(e,r){if(!this.context.exists)throw new rN.NoExistenceHook;return new gd.BooleanLiteral(await this.context.exists(e.expression,r))}async evalAggregate(e,r){if(!this.context.aggregate)throw new rN.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(e.expression))}}gI.AsyncRecursiveEvaluator=m4e;Object.defineProperty(Mw,"__esModule",{value:!0});Mw.AsyncEvaluator=void 0;const v4e=Y8,b4e=Bw,_4e=Nr,w4e=gI;class tL{constructor(e,r={}){this.algExpr=e;const n=r.extensionFunctionCreator||(()=>{}),a=tL.completeContext(r),s=new b4e.AlgebraTransformer(Object.assign({type:"async",creator:n},a));this.expr=s.transformAlgebra(e),this.evaluator=new w4e.AsyncRecursiveEvaluator(a,s)}static completeContext(e){const r=e.now||new Date(Date.now());return{now:r,baseIRI:e.baseIRI||void 0,functionArgumentsCache:e.functionArgumentsCache||{},superTypeProvider:{cache:e.typeCache||new v4e,discoverer:e.getSuperType||(()=>"term")},extensionFunctionCreator:e.extensionFunctionCreator,exists:e.exists,aggregate:e.aggregate,bnode:e.bnode,defaultTimeZone:e.defaultTimeZone||(0,_4e.extractTimeZone)(r)}}async evaluate(e){return(await this.evaluator.evaluate(this.expr,e)).toRDF()}async evaluateAsEBV(e){return(await this.evaluator.evaluate(this.expr,e)).coerceEBV()}async evaluateAsInternal(e){return await this.evaluator.evaluate(this.expr,e)}}Mw.AsyncEvaluator=tL;var Vw={},yI={};Object.defineProperty(yI,"__esModule",{value:!0});yI.SyncRecursiveEvaluator=void 0;const yd=vo(),S4e=Q0(),nN=Lt,T4e=Uw;class E4e extends T4e.BaseExpressionEvaluator{constructor(e,r){super(r||new S4e.TermTransformer(e.superTypeProvider)),this.context=e,this.subEvaluators={[yd.ExpressionType.Term]:this.term.bind(this),[yd.ExpressionType.Variable]:this.variable.bind(this),[yd.ExpressionType.Operator]:this.evalOperator.bind(this),[yd.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[yd.ExpressionType.Named]:this.evalNamed.bind(this),[yd.ExpressionType.Existence]:this.evalExistence.bind(this),[yd.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[yd.ExpressionType.SyncExtension]:this.evalSyncExtension.bind(this)}}evaluate(e,r){const n=this.subEvaluators[e.expressionType];if(!n)throw new nN.InvalidExpressionType(e);return n.bind(this)(e,r)}evalOperator(e,r){const n=e.args.map(a=>this.evaluate(a,r));return e.apply(n)}evalSpecialOperator(e,r){const n=this.evaluate.bind(this),a={args:e.args,mapping:r,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:n,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return e.applySync(a)}evalNamed(e,r){const n=e.args.map(a=>this.evaluate(a,r));return e.apply(n)}evalSyncExtension(e,r){const n=e.args.map(a=>this.evaluate(a,r));return e.apply(n)}evalExistence(e,r){if(!this.context.exists)throw new nN.NoExistenceHook;return new yd.BooleanLiteral(this.context.exists(e.expression,r))}evalAggregate(e,r){if(!this.context.aggregate)throw new nN.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(e.expression))}}yI.SyncRecursiveEvaluator=E4e;Object.defineProperty(Vw,"__esModule",{value:!0});Vw.SyncEvaluator=void 0;const A4e=Y8,x4e=Bw,O4e=Nr,R4e=yI;class rL{constructor(e,r={}){this.algExpr=e,this.context=r;const n=r.extensionFunctionCreator||(()=>{}),a=rL.completeContext(r),s=new x4e.AlgebraTransformer(Object.assign({type:"sync",creator:n},a));this.expr=s.transformAlgebra(e),this.evaluator=new R4e.SyncRecursiveEvaluator(a,s)}static completeContext(e){const r=e.now||new Date(Date.now());return{now:r,baseIRI:e.baseIRI||void 0,functionArgumentsCache:e.functionArgumentsCache||{},superTypeProvider:{cache:e.typeCache||new A4e,discoverer:e.getSuperType||(()=>"term")},extensionFunctionCreator:e.extensionFunctionCreator,exists:e.exists,aggregate:e.aggregate,bnode:e.bnode,defaultTimeZone:e.defaultTimeZone||(0,O4e.extractTimeZone)(r)}}evaluate(e){return this.evaluator.evaluate(this.expr,e).toRDF()}evaluateAsEBV(e){return this.evaluator.evaluate(this.expr,e).coerceEBV()}evaluateAsInternal(e){return this.evaluator.evaluate(this.expr,e)}}Vw.SyncEvaluator=rL;var mI={},Hw={},vI={},bI={},eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.Aggregator=eu.AggregatorComponent=void 0;const i$=dn,I4e=Q0(),P4e=ms,C4e=kw();class D4e{constructor(e,r){this.sharedContext=r,this.separator=e.separator||" ",this.termTransformer=new I4e.TermTransformer(r.superTypeProvider)}static emptyValue(){}termToNumericOrError(e){if(e.termType!=="Literal")throw new Error(`Term with value ${e.value} has type ${e.termType} and is not a numeric literal`);if(!(0,C4e.isSubTypeOf)(e.datatype.value,P4e.TypeAlias.SPARQL_NUMERIC,this.sharedContext.superTypeProvider))throw new Error(`Term datatype ${e.datatype.value} with value ${e.value} has type ${e.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(e)}extractValue(e){if(e.termType!=="Literal")throw new Error(`Term with value ${e.value} has type ${e.termType} and is not a literal`);const r=this.termTransformer.transformLiteral(e);return{type:r.dataType,value:r.typedValue}}}eu.AggregatorComponent=D4e;class N4e{constructor(e,r){this.aggregatorComponent=r,this.variableValues=new Map,this.distinct=e.distinct}static emptyValue(e){return e.emptyValue()}result(){return this.aggregatorComponent.result()}put(e,r=""){this.canSkip(e,r)||(this.aggregatorComponent.put(e),this.addSeen(e,r))}canSkip(e,r){const n=this.variableValues.get(r);return this.distinct&&!!n&&n.has(i$.termToString(e))}addSeen(e,r){this.distinct&&(this.variableValues.has(r)||this.variableValues.set(r,new Set),this.variableValues.get(r).add(i$.termToString(e)))}}eu.Aggregator=N4e;Object.defineProperty(bI,"__esModule",{value:!0});bI.Average=void 0;const F4e=vo(),a$=pI(),L4e=rd(),s$=ms,j4e=eu;class nL extends j4e.AggregatorComponent{constructor(){super(...arguments),this.summer=a$.regularFunctions[s$.RegularOperator.ADDITION],this.divider=a$.regularFunctions[s$.RegularOperator.DIVISION],this.state=void 0}static emptyValue(){return(0,L4e.integer)(0).toRDF()}put(e){if(this.state===void 0){const r=this.termToNumericOrError(e);this.state={sum:r,count:1}}else{const r=this.termToNumericOrError(e);this.state.sum=this.summer.apply([this.state.sum,r],this.sharedContext),this.state.count++}}result(){if(this.state===void 0)return nL.emptyValue();const e=new F4e.IntegerLiteral(this.state.count);return this.divider.apply([this.state.sum,e],this.sharedContext).toRDF()}}bI.Average=nL;var _I={};Object.defineProperty(_I,"__esModule",{value:!0});_I.Count=void 0;const o$=rd(),M4e=eu;class iL extends M4e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}static emptyValue(){return(0,o$.integer)(0).toRDF()}put(e){this.state===void 0&&(this.state=0),this.state++}result(){return this.state===void 0?iL.emptyValue():(0,o$.integer)(this.state).toRDF()}}_I.Count=iL;var wI={};Object.defineProperty(wI,"__esModule",{value:!0});wI.GroupConcat=void 0;const u$=rd(),B4e=eu;class aL extends B4e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}static emptyValue(){return(0,u$.string)("").toRDF()}put(e){this.state===void 0?this.state=e.value:this.state+=this.separator+e.value}result(){return this.state===void 0?aL.emptyValue():(0,u$.string)(this.state).toRDF()}}wI.GroupConcat=aL;var SI={};Object.defineProperty(SI,"__esModule",{value:!0});SI.Max=void 0;const k4e=eu;class sL extends k4e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(e){if(this.state===void 0){const{value:r}=this.extractValue(e);this.state={extremeValue:r,term:e}}else{const r=this.extractValue(e);r.value>this.state.extremeValue&&(this.state={extremeValue:r.value,term:e})}}result(){return this.state===void 0?sL.emptyValue():this.state.term}}SI.Max=sL;var TI={};Object.defineProperty(TI,"__esModule",{value:!0});TI.Min=void 0;const $4e=eu;class oL extends $4e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(e){if(this.state===void 0){const{value:r}=this.extractValue(e);this.state={extremeValue:r,term:e}}else{const r=this.extractValue(e);r.value<this.state.extremeValue&&(this.state={extremeValue:r.value,term:e})}}result(){return this.state===void 0?oL.emptyValue():this.state.term}}TI.Min=oL;var EI={};Object.defineProperty(EI,"__esModule",{value:!0});EI.Sample=void 0;const U4e=eu;class uL extends U4e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(e){this.state===void 0&&(this.state=e)}result(){return this.state===void 0?uL.emptyValue():this.state}}EI.Sample=uL;var AI={};Object.defineProperty(AI,"__esModule",{value:!0});AI.Sum=void 0;const V4e=pI(),H4e=rd(),q4e=ms,z4e=eu;class lL extends z4e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0,this.summer=V4e.regularFunctions[q4e.RegularOperator.ADDITION]}static emptyValue(){return(0,H4e.integer)(0).toRDF()}put(e){if(this.state===void 0)this.state=this.termToNumericOrError(e);else{const r=this.termToNumericOrError(e);this.state=this.summer.apply([this.state,r],this.sharedContext)}}result(){return this.state===void 0?lL.emptyValue():this.state.toRDF()}}AI.Sum=lL;Object.defineProperty(vI,"__esModule",{value:!0});vI.aggregators=void 0;const G4e=bI,Q4e=_I,W4e=wI,K4e=SI,X4e=TI,J4e=EI,Y4e=AI;vI.aggregators={count:Q4e.Count,sum:Y4e.Sum,min:X4e.Min,max:K4e.Max,avg:G4e.Average,group_concat:W4e.GroupConcat,sample:J4e.Sample};var xI={};Object.defineProperty(xI,"__esModule",{value:!0});xI.WildcardCountAggregator=void 0;const Z4e=dn,l$=rd();class e6e{constructor(e){this.bindingValues=new Map,this.counter=0,this.distinct=e.distinct}putBindings(e){this.handleDistinct(e)||(this.counter+=1)}static emptyValue(){return(0,l$.integer)(0).toRDF()}result(){return(0,l$.integer)(this.counter).toRDF()}handleDistinct(e){if(this.distinct){const r=[...e];r.sort((u,l)=>u[0].value.localeCompare(l[0].value));const n=r.map(([u])=>u.value).join(","),a=r.map(([,u])=>Z4e.termToString(u)).join(","),s=this.bindingValues.get(n),o=!!s&&s.has(a);return s||this.bindingValues.set(n,new Set),this.bindingValues.get(n).add(a),o}return!1}}xI.WildcardCountAggregator=e6e;Object.defineProperty(Hw,"__esModule",{value:!0});Hw.BaseAggregateEvaluator=void 0;const c$=Cr,d$=vI,f$=eu,h$=xI,t6e=Lt;class r6e{constructor(e,r,n){this.throwError=!1,this.isWildcard=!1,this.errorOccurred=!1,this.expression=e,this.aggregator=new f$.Aggregator(e,new d$.aggregators[e.aggregator](e,r)),this.throwError=n||!1,this.isWildcard=e.expression.expressionType===c$.Algebra.expressionTypes.WILDCARD,this.isWildcard&&(this.wildcardAggregator=new h$.WildcardCountAggregator(e))}static emptyValue(e,r=!1){let n;if(e.expression.expressionType===c$.Algebra.expressionTypes.WILDCARD?n=h$.WildcardCountAggregator.emptyValue():n=f$.Aggregator.emptyValue(d$.aggregators[e.aggregator]),n===void 0&&r)throw new t6e.EmptyAggregateError;return n}result(){if(!this.errorOccurred)return this.isWildcard?this.wildcardAggregator.result():this.aggregator.result()}}Hw.BaseAggregateEvaluator=r6e;Object.defineProperty(mI,"__esModule",{value:!0});mI.AggregateEvaluator=void 0;const n6e=Hw,p$=Vw;class i6e extends n6e.BaseAggregateEvaluator{constructor(e,r,n){super(e,p$.SyncEvaluator.completeContext(r||{}),n),this.evaluator=new p$.SyncEvaluator(e.expression,r)}put(e){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(e);else try{const r=this.evaluator.evaluate(e);this.aggregator.put(r)}catch(r){this.safeThrow(r)}}safeThrow(e){if(this.throwError)throw e;this.errorOccurred=!0}}mI.AggregateEvaluator=i6e;var OI={};Object.defineProperty(OI,"__esModule",{value:!0});OI.AsyncAggregateEvaluator=void 0;const g$=Mw,a6e=Hw;class s6e extends a6e.BaseAggregateEvaluator{constructor(e,r,n){super(e,g$.AsyncEvaluator.completeContext(r||{}),n),this.evaluator=new g$.AsyncEvaluator(e.expression,r),this.errorOccurred=!1}async put(e){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(e);else try{const r=await this.evaluator.evaluate(e);if(!r||this.errorOccurred)return;this.aggregator.put(r)}catch(r){this.safeThrow(r)}}safeThrow(e){if(this.throwError)throw e;this.errorOccurred=!0}}OI.AsyncAggregateEvaluator=s6e;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAggregateEvaluator=t.orderTypes=t.isExpressionError=t.ExpressionError=t.AggregateEvaluator=t.SyncEvaluator=t.AsyncEvaluator=void 0;var e=Mw;Object.defineProperty(t,"AsyncEvaluator",{enumerable:!0,get:function(){return e.AsyncEvaluator}});var r=Vw;Object.defineProperty(t,"SyncEvaluator",{enumerable:!0,get:function(){return r.SyncEvaluator}});var n=mI;Object.defineProperty(t,"AggregateEvaluator",{enumerable:!0,get:function(){return n.AggregateEvaluator}});var a=Lt;Object.defineProperty(t,"ExpressionError",{enumerable:!0,get:function(){return a.ExpressionError}}),Object.defineProperty(t,"isExpressionError",{enumerable:!0,get:function(){return a.isExpressionError}});var s=$w;Object.defineProperty(t,"orderTypes",{enumerable:!0,get:function(){return s.orderTypes}});var o=OI;Object.defineProperty(t,"AsyncAggregateEvaluator",{enumerable:!0,get:function(){return o.AsyncAggregateEvaluator}})})(G0);Object.defineProperty(YR,"__esModule",{value:!0});YR.ActorQueryOperationFilterSparqlee=void 0;const o6e=Qa,zv=tr,iN=G0;class u6e extends zv.ActorQueryOperationTypedMediated{constructor(e){super(e,"filter")}async testOperation(e,r){const n={...zv.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)};return new iN.AsyncEvaluator(e.expression,n),!0}async runOperation(e,r){const n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r}),a=zv.ActorQueryOperation.getSafeBindings(n);zv.ActorQueryOperation.validateQueryOutput(a,"bindings");const s={...zv.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)},o=new iN.AsyncEvaluator(e.expression,s),u=async(c,d,f)=>{try{await o.evaluateAsEBV(c)&&f(c)}catch(h){(0,iN.isExpressionError)(h)?this.logWarn(r,"Error occurred while filtering.",()=>({error:h,bindings:(0,o6e.bindingsToString)(c)})):l.emit("error",h)}d()},l=a.bindingsStream.transform({transform:u});return{type:"bindings",bindingsStream:l,metadata:a.metadata}}}YR.ActorQueryOperationFilterSparqlee=u6e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(YR,t)})(XJ);var TY={},RI={};Object.defineProperty(RI,"__esModule",{value:!0});RI.ActorQueryOperationExtend=void 0;const l6e=Qa,v2=tr,aN=G0;class c6e extends v2.ActorQueryOperationTypedMediated{constructor(e){super(e,"extend")}async testOperation(e,r){return Boolean(new aN.AsyncEvaluator(e.expression,v2.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation))),!0}async runOperation(e,r){const{expression:n,input:a,variable:s}=e,o=v2.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a,context:r})),u={...v2.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)},l=new aN.AsyncEvaluator(n,u),c=async(f,h,p)=>{try{const g=await l.evaluate(f),y=f.set(s,g);p(y)}catch(g){(0,aN.isExpressionError)(g)?(p(f),this.logWarn(r,`Expression error for extend operation with bindings '${(0,l6e.bindingsToString)(f)}'`)):d.emit("error",g)}h()},d=o.bindingsStream.transform({autoStart:!1,transform:c});return{type:"bindings",bindingsStream:d,async metadata(){const f=await o.metadata();return{...f,variables:[...f.variables,s]}}}}}RI.ActorQueryOperationExtend=c6e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(RI,t)})(TY);var EY={},II={};Object.defineProperty(II,"__esModule",{value:!0});II.ActorQueryOperationFromQuad=void 0;const d6e=tr,D_=Cr;class gn extends d6e.ActorQueryOperationTypedMediated{constructor(e){super(e,"from")}static copyOperation(e,r){const n={};for(const a of Object.keys(e))Array.isArray(e[a])&&a!=="template"?a==="variables"?n[a]=e[a]:n[a]=e[a].map(r):gn.ALGEBRA_TYPES.includes(e[a].type)?n[a]=r(e[a]):n[a]=e[a];return n}static applyOperationDefaultGraph(e,r){if(e.type==="bgp"&&e.patterns.length>0||e.type==="path"||e.type==="pattern"){if(e.type==="bgp")return gn.joinOperations(e.patterns.map(a=>{if(a.graph.termType!=="DefaultGraph")return gn.FACTORY.createBgp([a]);const s=r.map(o=>gn.FACTORY.createBgp([gn.FACTORY.createPattern(a.subject,a.predicate,a.object,o)]));return gn.unionOperations(s)}));if(e.graph.termType!=="DefaultGraph")return e;const n=r.map(a=>e.type==="path"?gn.FACTORY.createPath(e.subject,e.predicate,e.object,a):gn.FACTORY.createPattern(e.subject,e.predicate,e.object,a));return gn.unionOperations(n)}return gn.copyOperation(e,n=>this.applyOperationDefaultGraph(n,r))}static applyOperationNamedGraph(e,r,n){if(e.type==="bgp"&&e.patterns.length>0||e.type==="path"||e.type==="pattern"){const a=e.type==="bgp"?e.patterns[0].graph:e.graph;if(a.termType==="DefaultGraph")return{type:D_.Algebra.types.BGP,patterns:[]};if(a.termType==="Variable"){if(r.length===1){const o=r[0],u={};u[`?${a.value}`]=o;const l=gn.FACTORY.createValues([a],[u]);let c;return e.type==="bgp"?c=gn.FACTORY.createBgp(e.patterns.map(d=>gn.FACTORY.createPattern(d.subject,d.predicate,d.object,o))):e.type==="path"?c=gn.FACTORY.createPath(e.subject,e.predicate,e.object,o):c=gn.FACTORY.createPattern(e.subject,e.predicate,e.object,o),gn.FACTORY.createJoin([l,c])}return gn.unionOperations(r.map(o=>gn.applyOperationNamedGraph(e,[o],n)))}return[...r,...n].some(o=>o.equals(a))?e:{type:D_.Algebra.types.BGP,patterns:[]}}return gn.copyOperation(e,a=>this.applyOperationNamedGraph(a,r,n))}static joinOperations(e){if(e.length===1)return e[0];if(e.length>1)return gn.FACTORY.createJoin(e);throw new Error("A join can only be applied on at least one operation")}static unionOperations(e){if(e.length===1)return e[0];if(e.length>1)return gn.FACTORY.createUnion(e);throw new Error("A union can only be applied on at least one operation")}static createOperation(e){let r=e.input;return e.default.length>0&&(r=gn.applyOperationDefaultGraph(r,e.default)),(e.named.length>0||e.default.length>0)&&(r=gn.applyOperationNamedGraph(r,e.named,e.default)),r}async testOperation(e,r){return!0}async runOperation(e,r){const n=gn.createOperation(e);return this.mediatorQueryOperation.mediate({operation:n,context:r})}}II.ActorQueryOperationFromQuad=gn;gn.FACTORY=new D_.Factory;gn.ALGEBRA_TYPES=Object.keys(D_.Algebra.types).map(t=>D_.Algebra.types[t]);(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(II,t)})(EY);var AY={},PI={},CI={};Object.defineProperty(CI,"__esModule",{value:!0});CI.GroupsState=void 0;const f6e=Qa,h6e=lr,y$=G0,p6e=new h6e.DataFactory,g6e=new f6e.BindingsFactory;class y6e{constructor(e,r,n){this.hashFunction=e,this.pattern=r,this.sparqleeConfig=n,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(a=>a.value)),this.distinctHashes=r.aggregates.some(({distinct:a})=>a)?new Map:null,this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(e){const r=this.resultCheck();if(r)return r;this.waitCounter++;const n=e.filter((u,l)=>this.groupVariables.has(l.value)),a=this.hashBindings(n);let s=this.groupsInitializer.get(a),o;if(!s)s=(async()=>{const u={};if(await Promise.all(this.pattern.aggregates.map(async c=>{const d=c.variable.value;u[d]=new y$.AsyncAggregateEvaluator(c,this.sparqleeConfig),await u[d].put(e)})),this.distinctHashes){const c=this.hashBindings(e);this.distinctHashes.set(a,new Set([c]))}const l={aggregators:u,bindings:n};return this.groups.set(a,l),this.subtractWaitCounterAndCollect(),l})(),this.groupsInitializer.set(a,s),o=s;else{const u=s;o=(async()=>{const l=await u;await Promise.all(this.pattern.aggregates.map(async c=>{if(c.distinct){const f=this.hashBindings(e);if(this.distinctHashes.get(a).has(f))return;this.distinctHashes.get(a).add(f)}const d=c.variable.value;await l.aggregators[d].put(e)}))})().then(()=>{this.subtractWaitCounterAndCollect()})}return o}subtractWaitCounterAndCollect(){--this.waitCounter===0&&this.handleResultCollection()}handleResultCollection(){let e=[...this.groups].map(([r,n])=>{const{bindings:a,aggregators:s}=n;let o=a;for(const u in s){const l=s[u].result();l&&(o=o.set(p6e.variable(u),l))}return o});if(e.length===0&&this.groupVariables.size===0){const r=[];for(const n of this.pattern.aggregates){const a=n.variable,s=y$.AsyncAggregateEvaluator.emptyValue(n);s!==void 0&&r.push([a,s])}e=[g6e.bindings(r)]}this.waitResolver(e)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}collectResults(){const e=this.resultCheck();if(e)return e;this.resultHasBeenCalled=!0;const r=new Promise(n=>{this.waitResolver=n});return this.subtractWaitCounterAndCollect(),r}hashBindings(e){return this.hashFunction(e)}}CI.GroupsState=y6e;Object.defineProperty(PI,"__esModule",{value:!0});PI.ActorQueryOperationGroup=void 0;const b2=tr,m$=Gr,m6e=G0,v6e=CI;class b6e extends b2.ActorQueryOperationTypedMediated{constructor(e){super(e,"group")}async testOperation(e,r){for(const n of e.aggregates)new m6e.AsyncEvaluator(n.expression,b2.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation));return!0}async runOperation(e,r){const{hashFunction:n}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:r}),{input:a,aggregates:s}=e,o=await this.mediatorQueryOperation.mediate({operation:a,context:r}),u=b2.ActorQueryOperation.getSafeBindings(o),l=[...e.variables,...s.map(f=>f.variable)],c=b2.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation);return{type:"bindings",bindingsStream:new m$.TransformIterator(()=>new Promise((f,h)=>{const p=new v6e.GroupsState(n,e,c);u.bindingsStream.on("end",async()=>{try{const g=new m$.ArrayIterator(await p.collectResults(),{autoStart:!1});f(g)}catch(g){h(g)}}),u.bindingsStream.on("error",h),u.bindingsStream.on("data",g=>{p.consumeBindings(g).catch(h)})}),{autoStart:!1}),metadata:async()=>({...await u.metadata(),variables:l})}}}PI.ActorQueryOperationGroup=b6e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(PI,t)})(AY);var xY={},DI={},NI={};Object.defineProperty(NI,"__esModule",{value:!0});NI.SortIterator=void 0;const _6e=Gr;class w6e extends _6e.TransformIterator{constructor(e,r,n){super(e,n);const a=n&&n.window;this.windowLength=Number.isFinite(a)&&a>0?a:Number.POSITIVE_INFINITY,this.sort=r,this.sorted=[]}_read(e,r){let n,{length:a}=this.sorted;for(;a!==this.windowLength&&(n=this.source.read(),n!==null);){let s=0,o=a-1,u,l;for(;s<=o;)u=Math.trunc((s+o)/2),l=this.sort(n,this.sorted[u]),l<0?s=u+1:l>0?o=u-1:(s=u,o=-1);this.sorted.splice(s,0,n),a++}a===this.windowLength&&this._push(this.sorted.pop()),r()}_flush(e){let{length:r}=this.sorted;for(;r--;)this._push(this.sorted.pop());e()}}NI.SortIterator=w6e;Object.defineProperty(DI,"__esModule",{value:!0});DI.ActorQueryOperationOrderBySparqlee=void 0;const _2=tr,v$=Cr,w2=G0,S6e=NI;class T6e extends _2.ActorQueryOperationTypedMediated{constructor(e){super(e,"orderby"),this.window=e.window??Number.POSITIVE_INFINITY}async testOperation(e,r){for(let n of e.expressions)n=this.extractSortExpression(n),new w2.AsyncEvaluator(n,_2.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation));return!0}async runOperation(e,r){const n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r}),a=_2.ActorQueryOperation.getSafeBindings(n),s={window:this.window},o={..._2.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)};let{bindingsStream:u}=a;for(let l=e.expressions.length-1;l>=0;l--){let c=e.expressions[l];const d=this.isAscending(c);c=this.extractSortExpression(c);const f=new w2.AsyncEvaluator(c,o),h=async(y,S,v)=>{try{const A=await f.evaluate(y);v({bindings:y,result:A})}catch(A){(0,w2.isExpressionError)(A)||u.emit("error",A),v({bindings:y,result:void 0})}S()},p=u.transform({transform:h});u=new S6e.SortIterator(p,(y,S)=>{let v=(0,w2.orderTypes)(y.result,S.result);return d||(v*=-1),v},s).map(({bindings:y,result:S})=>y)}return{type:"bindings",bindingsStream:u,metadata:a.metadata}}extractSortExpression(e){const{expressionType:r,operator:n}=e;return r!==v$.Algebra.expressionTypes.OPERATOR?e:n==="desc"?e.args[0]:e}isAscending(e){const{expressionType:r,operator:n}=e;return r!==v$.Algebra.expressionTypes.OPERATOR?!0:n!=="desc"}}DI.ActorQueryOperationOrderBySparqlee=T6e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(DI,t)})(xY);var OY={},FI={};Object.defineProperty(FI,"__esModule",{value:!0});FI.ActorQueryOperationProject=void 0;const b$=tr,E6e=cA,A6e=lr,x6e=new A6e.DataFactory;class O6e extends b$.ActorQueryOperationTypedMediated{constructor(e){super(e,"project")}async testOperation(e,r){return!0}async runOperation(e,r){const n=b$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:r})),a=await n.metadata(),s=e.variables,o=a.variables.filter(d=>!s.some(f=>d.value===f.value)),u=s.filter(d=>!a.variables.some(f=>d.value===f.value));if(u.length>0)throw new Error(`Variables '${u.map(d=>`?${d.value}`)}' are used in the projection result, but are not assigned.`);let l=o.length===0?n.bindingsStream:n.bindingsStream.transform({map(d){for(const f of o)d=d.delete(f);return d},autoStart:!1}),c=0;return l=l.transform({map(d){c++;const f=new Map;return d.map(h=>{if(h instanceof E6e.BlankNodeBindingsScoped){let p=f.get(h.value);return p||(p=x6e.blankNode(`${h.value}${c}`),f.set(h.value,p)),p}return h})},autoStart:!1}),{type:"bindings",bindingsStream:l,metadata:async()=>({...a,variables:s})}}}FI.ActorQueryOperationProject=O6e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(FI,t)})(OY);var RY={},LI={};Object.defineProperty(LI,"__esModule",{value:!0});LI.ActorQueryOperationNop=void 0;const R6e=Qa,I6e=tr,P6e=So,C6e=Gr,D6e=new R6e.BindingsFactory;class N6e extends I6e.ActorQueryOperationTypedMediated{constructor(e){super(e,"nop")}async testOperation(e,r){return!0}async runOperation(e,r){return{bindingsStream:new C6e.SingletonIterator(D6e.bindings()),metadata:()=>Promise.resolve({state:new P6e.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}LI.ActorQueryOperationNop=N6e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(LI,t)})(RY);var IY={},jI={},MI={};Object.defineProperty(MI,"__esModule",{value:!0});MI.LRUCache=void 0;const Gv=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,PY=new Set,u6=typeof process=="object"&&process?process:{},CY=(t,e,r,n)=>{typeof u6.emitWarning=="function"?u6.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let yE=globalThis.AbortController,_$=globalThis.AbortSignal;var GU;if(typeof yE>"u"){_$=class{constructor(){lt(this,"onabort");lt(this,"_onabort",[]);lt(this,"reason");lt(this,"aborted",!1)}addEventListener(n,a){this._onabort.push(a)}},yE=class{constructor(){lt(this,"signal",new _$);e()}abort(n){var a,s;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const o of this.signal._onabort)o(n);(s=(a=this.signal).onabort)==null||s.call(a,n)}}};let t=((GU=u6.env)==null?void 0:GU.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,CY("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const F6e=t=>!PY.has(t),Uf=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),DY=t=>Uf(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?uT:null:null;let uT=class extends Array{constructor(e){super(e),this.fill(0)}};var CN,fy;let Sb=(CN=class{constructor(e,r){lt(this,"heap");lt(this,"length");if(!x(Sb,fy))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}static create(e){const r=DY(e);if(!r)return[];Fe(Sb,fy,!0);const n=new Sb(e,r);return Fe(Sb,fy,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},fy=new WeakMap,Ue(CN,fy,!1),CN);var Zu,Co,dc,el,hy,Ji,tl,Yi,Fn,br,Ds,Do,is,va,rl,ka,Od,Rd,nl,fc,ch,to,G_,l6,Gp,Id,Q_,No,PE,FY,Qp,py,W_,hc,Vf,pc,Hf,K_,c6,gy,lT,yy,cT,Tn,Jn,X_,d6,Wp,Tb,QU;let NY=(QU=class{constructor(e){Ue(this,G_);Ue(this,PE);Ue(this,hc);Ue(this,pc);Ue(this,K_);Ue(this,gy);Ue(this,yy);Ue(this,Tn);Ue(this,X_);Ue(this,Wp);Ue(this,Zu,void 0);Ue(this,Co,void 0);Ue(this,dc,void 0);Ue(this,el,void 0);Ue(this,hy,void 0);lt(this,"ttl");lt(this,"ttlResolution");lt(this,"ttlAutopurge");lt(this,"updateAgeOnGet");lt(this,"updateAgeOnHas");lt(this,"allowStale");lt(this,"noDisposeOnSet");lt(this,"noUpdateTTL");lt(this,"maxEntrySize");lt(this,"sizeCalculation");lt(this,"noDeleteOnFetchRejection");lt(this,"noDeleteOnStaleGet");lt(this,"allowStaleOnFetchAbort");lt(this,"allowStaleOnFetchRejection");lt(this,"ignoreFetchAbort");Ue(this,Ji,void 0);Ue(this,tl,void 0);Ue(this,Yi,void 0);Ue(this,Fn,void 0);Ue(this,br,void 0);Ue(this,Ds,void 0);Ue(this,Do,void 0);Ue(this,is,void 0);Ue(this,va,void 0);Ue(this,rl,void 0);Ue(this,ka,void 0);Ue(this,Od,void 0);Ue(this,Rd,void 0);Ue(this,nl,void 0);Ue(this,fc,void 0);Ue(this,ch,void 0);Ue(this,to,void 0);Ue(this,Gp,()=>{});Ue(this,Id,()=>{});Ue(this,Q_,()=>{});Ue(this,No,()=>!1);Ue(this,Qp,e=>{});Ue(this,py,(e,r,n)=>{});Ue(this,W_,(e,r,n,a)=>{if(n||a)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});const{max:r=0,ttl:n,ttlResolution:a=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:u,allowStale:l,dispose:c,disposeAfter:d,noDisposeOnSet:f,noUpdateTTL:h,maxSize:p=0,maxEntrySize:g=0,sizeCalculation:y,fetchMethod:S,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:T,ignoreFetchAbort:R}=e;if(r!==0&&!Uf(r))throw new TypeError("max option must be a nonnegative integer");const I=r?DY(r):Array;if(!I)throw new Error("invalid max value: "+r);if(Fe(this,Zu,r),Fe(this,Co,p),this.maxEntrySize=g||x(this,Co),this.sizeCalculation=y,this.sizeCalculation){if(!x(this,Co)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("fetchMethod must be a function if specified");if(Fe(this,hy,S),Fe(this,ch,!!S),Fe(this,Yi,new Map),Fe(this,Fn,new Array(r).fill(void 0)),Fe(this,br,new Array(r).fill(void 0)),Fe(this,Ds,new I(r)),Fe(this,Do,new I(r)),Fe(this,is,0),Fe(this,va,0),Fe(this,rl,Sb.create(r)),Fe(this,Ji,0),Fe(this,tl,0),typeof c=="function"&&Fe(this,dc,c),typeof d=="function"?(Fe(this,el,d),Fe(this,ka,[])):(Fe(this,el,void 0),Fe(this,ka,void 0)),Fe(this,fc,!!x(this,dc)),Fe(this,to,!!x(this,el)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!E,this.allowStaleOnFetchAbort=!!T,this.ignoreFetchAbort=!!R,this.maxEntrySize!==0){if(x(this,Co)!==0&&!Uf(x(this,Co)))throw new TypeError("maxSize must be a positive integer if specified");if(!Uf(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");xe(this,PE,FY).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!u,this.ttlResolution=Uf(a)||a===0?a:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!Uf(this.ttl))throw new TypeError("ttl must be a positive integer if specified");xe(this,G_,l6).call(this)}if(x(this,Zu)===0&&this.ttl===0&&x(this,Co)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!x(this,Zu)&&!x(this,Co)){const D="LRU_CACHE_UNBOUNDED";F6e(D)&&(PY.add(D),CY("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,NY))}}static unsafeExposeInternals(e){return{starts:x(e,Rd),ttls:x(e,nl),sizes:x(e,Od),keyMap:x(e,Yi),keyList:x(e,Fn),valList:x(e,br),next:x(e,Ds),prev:x(e,Do),get head(){return x(e,is)},get tail(){return x(e,va)},free:x(e,rl),isBackgroundFetch:r=>{var n;return xe(n=e,Tn,Jn).call(n,r)},backgroundFetch:(r,n,a,s)=>{var o;return xe(o=e,yy,cT).call(o,r,n,a,s)},moveToTail:r=>{var n;return xe(n=e,Wp,Tb).call(n,r)},indexes:r=>{var n;return xe(n=e,hc,Vf).call(n,r)},rindexes:r=>{var n;return xe(n=e,pc,Hf).call(n,r)},isStale:r=>{var n;return x(n=e,No).call(n,r)}}}get max(){return x(this,Zu)}get maxSize(){return x(this,Co)}get calculatedSize(){return x(this,tl)}get size(){return x(this,Ji)}get fetchMethod(){return x(this,hy)}get dispose(){return x(this,dc)}get disposeAfter(){return x(this,el)}getRemainingTTL(e){return x(this,Yi).has(e)?1/0:0}*entries(){for(const e of xe(this,hc,Vf).call(this))x(this,br)[e]!==void 0&&x(this,Fn)[e]!==void 0&&!xe(this,Tn,Jn).call(this,x(this,br)[e])&&(yield[x(this,Fn)[e],x(this,br)[e]])}*rentries(){for(const e of xe(this,pc,Hf).call(this))x(this,br)[e]!==void 0&&x(this,Fn)[e]!==void 0&&!xe(this,Tn,Jn).call(this,x(this,br)[e])&&(yield[x(this,Fn)[e],x(this,br)[e]])}*keys(){for(const e of xe(this,hc,Vf).call(this)){const r=x(this,Fn)[e];r!==void 0&&!xe(this,Tn,Jn).call(this,x(this,br)[e])&&(yield r)}}*rkeys(){for(const e of xe(this,pc,Hf).call(this)){const r=x(this,Fn)[e];r!==void 0&&!xe(this,Tn,Jn).call(this,x(this,br)[e])&&(yield r)}}*values(){for(const e of xe(this,hc,Vf).call(this))x(this,br)[e]!==void 0&&!xe(this,Tn,Jn).call(this,x(this,br)[e])&&(yield x(this,br)[e])}*rvalues(){for(const e of xe(this,pc,Hf).call(this))x(this,br)[e]!==void 0&&!xe(this,Tn,Jn).call(this,x(this,br)[e])&&(yield x(this,br)[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(const n of xe(this,hc,Vf).call(this)){const a=x(this,br)[n],s=xe(this,Tn,Jn).call(this,a)?a.__staleWhileFetching:a;if(s!==void 0&&e(s,x(this,Fn)[n],this))return this.get(x(this,Fn)[n],r)}}forEach(e,r=this){for(const n of xe(this,hc,Vf).call(this)){const a=x(this,br)[n],s=xe(this,Tn,Jn).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,x(this,Fn)[n],this)}}rforEach(e,r=this){for(const n of xe(this,pc,Hf).call(this)){const a=x(this,br)[n],s=xe(this,Tn,Jn).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,x(this,Fn)[n],this)}}purgeStale(){let e=!1;for(const r of xe(this,pc,Hf).call(this,{allowStale:!0}))x(this,No).call(this,r)&&(this.delete(x(this,Fn)[r]),e=!0);return e}dump(){const e=[];for(const r of xe(this,hc,Vf).call(this,{allowStale:!0})){const n=x(this,Fn)[r],a=x(this,br)[r],s=xe(this,Tn,Jn).call(this,a)?a.__staleWhileFetching:a;if(s===void 0||n===void 0)continue;const o={value:s};if(x(this,nl)&&x(this,Rd)){o.ttl=x(this,nl)[r];const u=Gv.now()-x(this,Rd)[r];o.start=Math.floor(Date.now()-u)}x(this,Od)&&(o.size=x(this,Od)[r]),e.unshift([n,o])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const a=Date.now()-n.start;n.start=Gv.now()-a}this.set(r,n.value,n)}}set(e,r,n={}){var h,p,g;if(r===void 0)return this.delete(e),this;const{ttl:a=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:l}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const d=x(this,W_).call(this,e,r,n.size||0,u);if(this.maxEntrySize&&d>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let f=x(this,Ji)===0?void 0:x(this,Yi).get(e);if(f===void 0)f=x(this,Ji)===0?x(this,va):x(this,rl).length!==0?x(this,rl).pop():x(this,Ji)===x(this,Zu)?xe(this,gy,lT).call(this,!1):x(this,Ji),x(this,Fn)[f]=e,x(this,br)[f]=r,x(this,Yi).set(e,f),x(this,Ds)[x(this,va)]=f,x(this,Do)[f]=x(this,va),Fe(this,va,f),Ya(this,Ji)._++,x(this,py).call(this,f,d,l),l&&(l.set="add"),c=!1;else{xe(this,Wp,Tb).call(this,f);const y=x(this,br)[f];if(r!==y){if(x(this,ch)&&xe(this,Tn,Jn).call(this,y)?y.__abortController.abort(new Error("replaced")):o||(x(this,fc)&&((h=x(this,dc))==null||h.call(this,y,e,"set")),x(this,to)&&((p=x(this,ka))==null||p.push([y,e,"set"]))),x(this,Qp).call(this,f),x(this,py).call(this,f,d,l),x(this,br)[f]=r,l){l.set="replace";const S=y&&xe(this,Tn,Jn).call(this,y)?y.__staleWhileFetching:y;S!==void 0&&(l.oldValue=S)}}else l&&(l.set="update")}if(a!==0&&!x(this,nl)&&xe(this,G_,l6).call(this),x(this,nl)&&(c||x(this,Q_).call(this,f,a,s),l&&x(this,Id).call(this,l,f)),!o&&x(this,to)&&x(this,ka)){const y=x(this,ka);let S;for(;S=y==null?void 0:y.shift();)(g=x(this,el))==null||g.call(this,...S)}return this}pop(){var e;try{for(;x(this,Ji);){const r=x(this,br)[x(this,is)];if(xe(this,gy,lT).call(this,!0),xe(this,Tn,Jn).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(x(this,to)&&x(this,ka)){const r=x(this,ka);let n;for(;n=r==null?void 0:r.shift();)(e=x(this,el))==null||e.call(this,...n)}}}has(e,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:a}=r,s=x(this,Yi).get(e);if(s!==void 0){const o=x(this,br)[s];if(xe(this,Tn,Jn).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(x(this,No).call(this,s))a&&(a.has="stale",x(this,Id).call(this,a,s));else return n&&x(this,Gp).call(this,s),a&&(a.has="hit",x(this,Id).call(this,a,s)),!0}else a&&(a.has="miss");return!1}peek(e,r={}){const{allowStale:n=this.allowStale}=r,a=x(this,Yi).get(e);if(a!==void 0&&(n||!x(this,No).call(this,a))){const s=x(this,br)[a];return xe(this,Tn,Jn).call(this,s)?s.__staleWhileFetching:s}}async fetch(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:u=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:S=!1,status:v,signal:A}=r;if(!x(this,ch))return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,status:v});const E={allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:u,size:l,sizeCalculation:c,noUpdateTTL:d,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:g,ignoreFetchAbort:p,status:v,signal:A};let T=x(this,Yi).get(e);if(T===void 0){v&&(v.fetch="miss");const R=xe(this,yy,cT).call(this,e,T,E,y);return R.__returned=R}else{const R=x(this,br)[T];if(xe(this,Tn,Jn).call(this,R)){const O=n&&R.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",O&&(v.returnedStale=!0)),O?R.__staleWhileFetching:R.__returned=R}const I=x(this,No).call(this,T);if(!S&&!I)return v&&(v.fetch="hit"),xe(this,Wp,Tb).call(this,T),a&&x(this,Gp).call(this,T),v&&x(this,Id).call(this,v,T),R;const D=xe(this,yy,cT).call(this,e,T,E,y),N=D.__staleWhileFetching!==void 0&&n;return v&&(v.fetch=I?"stale":"refresh",N&&I&&(v.returnedStale=!0)),N?D.__staleWhileFetching:D.__returned=D}}get(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,u=x(this,Yi).get(e);if(u!==void 0){const l=x(this,br)[u],c=xe(this,Tn,Jn).call(this,l);return o&&x(this,Id).call(this,o,u),x(this,No).call(this,u)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.delete(e),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(xe(this,Wp,Tb).call(this,u),a&&x(this,Gp).call(this,u),l))}else o&&(o.get="miss")}delete(e){var n,a,s,o;let r=!1;if(x(this,Ji)!==0){const u=x(this,Yi).get(e);if(u!==void 0)if(r=!0,x(this,Ji)===1)this.clear();else{x(this,Qp).call(this,u);const l=x(this,br)[u];xe(this,Tn,Jn).call(this,l)?l.__abortController.abort(new Error("deleted")):(x(this,fc)||x(this,to))&&(x(this,fc)&&((n=x(this,dc))==null||n.call(this,l,e,"delete")),x(this,to)&&((a=x(this,ka))==null||a.push([l,e,"delete"]))),x(this,Yi).delete(e),x(this,Fn)[u]=void 0,x(this,br)[u]=void 0,u===x(this,va)?Fe(this,va,x(this,Do)[u]):u===x(this,is)?Fe(this,is,x(this,Ds)[u]):(x(this,Ds)[x(this,Do)[u]]=x(this,Ds)[u],x(this,Do)[x(this,Ds)[u]]=x(this,Do)[u]),Ya(this,Ji)._--,x(this,rl).push(u)}}if(x(this,to)&&((s=x(this,ka))!=null&&s.length)){const u=x(this,ka);let l;for(;l=u==null?void 0:u.shift();)(o=x(this,el))==null||o.call(this,...l)}return r}clear(){var e,r,n;for(const a of xe(this,pc,Hf).call(this,{allowStale:!0})){const s=x(this,br)[a];if(xe(this,Tn,Jn).call(this,s))s.__abortController.abort(new Error("deleted"));else{const o=x(this,Fn)[a];x(this,fc)&&((e=x(this,dc))==null||e.call(this,s,o,"delete")),x(this,to)&&((r=x(this,ka))==null||r.push([s,o,"delete"]))}}if(x(this,Yi).clear(),x(this,br).fill(void 0),x(this,Fn).fill(void 0),x(this,nl)&&x(this,Rd)&&(x(this,nl).fill(0),x(this,Rd).fill(0)),x(this,Od)&&x(this,Od).fill(0),Fe(this,is,0),Fe(this,va,0),x(this,rl).length=0,Fe(this,tl,0),Fe(this,Ji,0),x(this,to)&&x(this,ka)){const a=x(this,ka);let s;for(;s=a==null?void 0:a.shift();)(n=x(this,el))==null||n.call(this,...s)}}},Zu=new WeakMap,Co=new WeakMap,dc=new WeakMap,el=new WeakMap,hy=new WeakMap,Ji=new WeakMap,tl=new WeakMap,Yi=new WeakMap,Fn=new WeakMap,br=new WeakMap,Ds=new WeakMap,Do=new WeakMap,is=new WeakMap,va=new WeakMap,rl=new WeakMap,ka=new WeakMap,Od=new WeakMap,Rd=new WeakMap,nl=new WeakMap,fc=new WeakMap,ch=new WeakMap,to=new WeakMap,G_=new WeakSet,l6=function(){const e=new uT(x(this,Zu)),r=new uT(x(this,Zu));Fe(this,nl,e),Fe(this,Rd,r),Fe(this,Q_,(s,o,u=Gv.now())=>{if(r[s]=o!==0?u:0,e[s]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{x(this,No).call(this,s)&&this.delete(x(this,Fn)[s])},o+1);l.unref&&l.unref()}}),Fe(this,Gp,s=>{r[s]=e[s]!==0?Gv.now():0}),Fe(this,Id,(s,o)=>{if(e[o]){const u=e[o],l=r[o];s.ttl=u,s.start=l,s.now=n||a();const c=s.now-l;s.remainingTTL=u-c}});let n=0;const a=()=>{const s=Gv.now();if(this.ttlResolution>0){n=s;const o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=x(this,Yi).get(s);if(o===void 0)return 0;const u=e[o],l=r[o];if(u===0||l===0)return 1/0;const c=(n||a())-l;return u-c},Fe(this,No,s=>e[s]!==0&&r[s]!==0&&(n||a())-r[s]>e[s])},Gp=new WeakMap,Id=new WeakMap,Q_=new WeakMap,No=new WeakMap,PE=new WeakSet,FY=function(){const e=new uT(x(this,Zu));Fe(this,tl,0),Fe(this,Od,e),Fe(this,Qp,r=>{Fe(this,tl,x(this,tl)-e[r]),e[r]=0}),Fe(this,W_,(r,n,a,s)=>{if(xe(this,Tn,Jn).call(this,n))return 0;if(!Uf(a))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(a=s(n,r),!Uf(a))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return a}),Fe(this,py,(r,n,a)=>{if(e[r]=n,x(this,Co)){const s=x(this,Co)-e[r];for(;x(this,tl)>s;)xe(this,gy,lT).call(this,!0)}Fe(this,tl,x(this,tl)+e[r]),a&&(a.entrySize=n,a.totalCalculatedSize=x(this,tl))})},Qp=new WeakMap,py=new WeakMap,W_=new WeakMap,hc=new WeakSet,Vf=function*({allowStale:e=this.allowStale}={}){if(x(this,Ji))for(let r=x(this,va);!(!xe(this,K_,c6).call(this,r)||((e||!x(this,No).call(this,r))&&(yield r),r===x(this,is)));)r=x(this,Do)[r]},pc=new WeakSet,Hf=function*({allowStale:e=this.allowStale}={}){if(x(this,Ji))for(let r=x(this,is);!(!xe(this,K_,c6).call(this,r)||((e||!x(this,No).call(this,r))&&(yield r),r===x(this,va)));)r=x(this,Ds)[r]},K_=new WeakSet,c6=function(e){return e!==void 0&&x(this,Yi).get(x(this,Fn)[e])===e},gy=new WeakSet,lT=function(e){var s,o;const r=x(this,is),n=x(this,Fn)[r],a=x(this,br)[r];return x(this,ch)&&xe(this,Tn,Jn).call(this,a)?a.__abortController.abort(new Error("evicted")):(x(this,fc)||x(this,to))&&(x(this,fc)&&((s=x(this,dc))==null||s.call(this,a,n,"evict")),x(this,to)&&((o=x(this,ka))==null||o.push([a,n,"evict"]))),x(this,Qp).call(this,r),e&&(x(this,Fn)[r]=void 0,x(this,br)[r]=void 0,x(this,rl).push(r)),x(this,Ji)===1?(Fe(this,is,Fe(this,va,0)),x(this,rl).length=0):Fe(this,is,x(this,Ds)[r]),x(this,Yi).delete(n),Ya(this,Ji)._--,r},yy=new WeakSet,cT=function(e,r,n,a){const s=r===void 0?void 0:x(this,br)[r];if(xe(this,Tn,Jn).call(this,s))return s;const o=new yE,{signal:u}=n;u==null||u.addEventListener("abort",()=>o.abort(u.reason),{signal:o.signal});const l={signal:o.signal,options:n,context:a},c=(y,S=!1)=>{const{aborted:v}=o.signal,A=n.ignoreFetchAbort&&y!==void 0;if(n.status&&(v&&!S?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,A&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),v&&!A&&!S)return f(o.signal.reason);const E=p;return x(this,br)[r]===p&&(y===void 0?E.__staleWhileFetching?x(this,br)[r]=E.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,y,l.options))),y},d=y=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=y),f(y)),f=y=>{const{aborted:S}=o.signal,v=S&&n.allowStaleOnFetchAbort,A=v||n.allowStaleOnFetchRejection,E=A||n.noDeleteOnFetchRejection,T=p;if(x(this,br)[r]===p&&(!E||T.__staleWhileFetching===void 0?this.delete(e):v||(x(this,br)[r]=T.__staleWhileFetching)),A)return n.status&&T.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),T.__staleWhileFetching;if(T.__returned===T)throw y},h=(y,S)=>{var A;const v=(A=x(this,hy))==null?void 0:A.call(this,e,s,l);v&&v instanceof Promise&&v.then(E=>y(E===void 0?void 0:E),S),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(y(void 0),n.allowStaleOnFetchAbort&&(y=E=>c(E,!0)))})};n.status&&(n.status.fetchDispatched=!0);const p=new Promise(h).then(c,d),g=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,g,{...l.options,status:void 0}),r=x(this,Yi).get(e)):x(this,br)[r]=g,g},Tn=new WeakSet,Jn=function(e){if(!x(this,ch))return!1;const r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof yE},X_=new WeakSet,d6=function(e,r){x(this,Do)[r]=e,x(this,Ds)[e]=r},Wp=new WeakSet,Tb=function(e){e!==x(this,va)&&(e===x(this,is)?Fe(this,is,x(this,Ds)[e]):xe(this,X_,d6).call(this,x(this,Do)[e],x(this,Ds)[e]),xe(this,X_,d6).call(this,x(this,va),e),Fe(this,va,e))},QU);MI.LRUCache=NY;Object.defineProperty(jI,"__esModule",{value:!0});jI.ActorQueryOperationReducedHash=void 0;const w$=tr,L6e=MI;class j6e extends w$.ActorQueryOperationTypedMediated{constructor(e){super(e,"reduced")}async testOperation(e,r){return!0}async runOperation(e,r){const n=w$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:r}));return{type:"bindings",bindingsStream:n.bindingsStream.filter(await this.newHashFilter(r)),metadata:n.metadata}}async newHashFilter(e){const{hashFunction:r}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:e}),n=new L6e.LRUCache({max:this.cacheSize});return a=>{const s=r(a);return n.has(s)?!1:(n.set(s,!0),!0)}}}jI.ActorQueryOperationReducedHash=j6e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(jI,t)})(IY);var LY={},BI={};Object.defineProperty(BI,"__esModule",{value:!0});BI.ActorQueryOperationSlice=void 0;const M6e=tr,B6e=cn;class k6e extends M6e.ActorQueryOperationTypedMediated{constructor(e){super(e,"slice")}async testOperation(e,r){return!0}async runOperation(e,r){e.length&&(r=r.set(B6e.KeysQueryOperation.limitIndicator,e.length));const n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r});if(n.type==="bindings")return{type:"bindings",bindingsStream:this.sliceStream(n.bindingsStream,e),metadata:this.sliceMetadata(n,e)};if(n.type==="quads")return{type:"quads",quadStream:this.sliceStream(n.quadStream,e),metadata:this.sliceMetadata(n,e)};throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${n.type}'`)}sliceStream(e,r){const n=Boolean(r.length)||r.length===0,{start:a}=r,s=n?r.start+r.length-1:Number.POSITIVE_INFINITY;return e.transform({offset:a,limit:Math.max(s-a+1,0),autoStart:!1})}sliceMetadata(e,r){const n=Boolean(r.length)||r.length===0;return()=>e.metadata().then(a=>{const s={...a.cardinality};return Number.isFinite(s.value)&&(s.value=Math.max(0,s.value-r.start),n&&(s.value=Math.min(s.value,r.length))),{...a,cardinality:s}})}}BI.ActorQueryOperationSlice=k6e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(BI,t)})(LY);var jY={},kI={};Object.defineProperty(kI,"__esModule",{value:!0});kI.ActorQueryOperationService=void 0;const $6e=Qa,S$=tr,S2=cn,U6e=So,V6e=Gr,H6e=new $6e.BindingsFactory;class q6e extends S$.ActorQueryOperationTypedMediated{constructor(e){super(e,"service")}async testOperation(e,r){if(e.name.termType!=="NamedNode")throw new Error(`${this.name} can only query services by IRI, while a ${e.name.termType} was given.`);return!0}async runOperation(e,r){const n=e.name.value;let a=r.delete(S2.KeysRdfResolveQuadPattern.source).delete(S2.KeysRdfResolveQuadPattern.sources).delete(S2.KeysInitQuery.queryString);const s=this.forceSparqlEndpoint?"sparql":void 0;a=a.set(S2.KeysRdfResolveQuadPattern.sources,[{type:s,value:n}]);let o;try{o=S$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:a}))}catch(u){if(e.silent)o={bindingsStream:new V6e.SingletonIterator(H6e.bindings()),type:"bindings",metadata:async()=>({state:new U6e.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};else throw u}return o}}kI.ActorQueryOperationService=q6e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kI,t)})(jY);var MY={},$I={},yf={},UI={},qw={};Object.defineProperty(qw,"__esModule",{value:!0});qw.PathVariableObjectIterator=void 0;const z6e=tr,G6e=Gr,Q6e=lr,W6e=dn,K6e=Cr,X6e=new Q6e.DataFactory,J6e=new K6e.Factory;class Y6e extends G6e.BufferedIterator{constructor(e,r,n,a,s,o,u=16){super({autoStart:!0}),this.subject=e,this.predicate=r,this.graph=n,this.context=a,this.mediatorQueryOperation=s,this.maxRunningOperations=u,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,o)}_end(e){for(const r of this.runningOperations)r.destroy();super._end(e)}_push(e,r=!0){let n;if(r&&(n=(0,W6e.termToString)(e),this.termHashes.has(n)))return;const a=X6e.variable("b");this.pendingOperations.push({variable:a,operation:J6e.createPath(e,this.predicate,a,this.graph)}),n&&(this.termHashes.set(n,e),super._push(e))}_read(e,r){const n=this;(async function(){for(;n.runningOperations.length<n.maxRunningOperations&&n.pendingOperations.length!==0;){const o=n.pendingOperations.pop(),u=z6e.ActorQueryOperation.getSafeBindings(await n.mediatorQueryOperation.mediate({operation:o.operation,context:n.context})),l=u.bindingsStream.transform({autoStart:!1,transform(c,d,f){const h=c.get(o.variable);f(h),d()}});l.done||(n.runningOperations.push(l),l.on("error",c=>n.destroy(c)),l.on("readable",()=>{n.readable=!0,n._fillBufferAsync()}),l.on("end",()=>{n.runningOperations.splice(n.runningOperations.indexOf(l),1),n.readable=!0,n._fillBufferAsync()})),n.setProperty("metadata",u.metadata)}let a=0,s;for(;a!==(a=e);)for(let o=0;o<n.runningOperations.length&&e>0;o++)(s=n.runningOperations[o].read())!==null&&(e--,n._push(s));n.runningOperations.length===0&&n.pendingOperations.length===0&&n.close()})().then(()=>{r()},a=>this.destroy(a))}}qw.PathVariableObjectIterator=Y6e;Object.defineProperty(UI,"__esModule",{value:!0});UI.ActorAbstractPath=void 0;const Z6e=Qa,Qv=tr,sN=cn,T2=Gr,eFe=lr,oN=dn,tFe=Cr,rFe=qw,nFe=new eFe.DataFactory,uN=new Z6e.BindingsFactory;class sc extends Qv.ActorQueryOperationTypedMediated{constructor(e,r){super(e,"path"),this.predicateType=r}async testOperation(e,r){if(e.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(e,r){return r?e&&(e.subject.value===r||e.object.value===r)?this.generateVariable(e,`${r}b`):nFe.variable(r):this.generateVariable(e,"b")}async isPathArbitraryLengthDistinct(e,r){return e.get(sN.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(e=e.set(sN.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:e,operation:void 0}):(e=e.set(sN.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:e,operation:Qv.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:sc.FACTORY.createDistinct(r),context:e}))})}async predicateStarGraphVariable(e,r,n,a,s){const o=this.generateVariable(sc.FACTORY.createPath(e,n,r,a)),u=sc.FACTORY.createUnion([sc.FACTORY.createPattern(e,o,r,a),sc.FACTORY.createPattern(r,o,e,a)]),l=Qv.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:s,operation:u})),c=new Set;return{bindingsStream:new T2.MultiTransformIterator(l.bindingsStream,{multiTransform:f=>{const h=f.get(a);return c.has(h.value)?new T2.EmptyIterator:(c.add(h.value),new T2.TransformIterator(async()=>{const p=new T2.BufferedIterator;return await this.getObjectsPredicateStar(e,n,h,s,{},p,{count:0}),p.transform({transform(g,y,S){S(uN.bindings([[r,g],[a,h]])),y()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:l.metadata}}async getObjectsPredicateStarEval(e,r,n,a,s,o){if(a.termType==="Variable")return this.predicateStarGraphVariable(e,n,r,a,s);const u=new rFe.PathVariableObjectIterator(e,r,a,s,this.mediatorQueryOperation,o);return{bindingsStream:u.transform({autoStart:!1,transform(c,d,f){f(uN.bindings([[n,c]])),d()}}),metadata:()=>new Promise(c=>u.getProperty("metadata",d=>c(d())))}}async getObjectsPredicateStar(e,r,n,a,s,o,u){const l=(0,oN.termToString)(e);if(s[l])return;o._push(e),s[l]=e,u.count++;const c=this.generateVariable(),d=sc.FACTORY.createPath(e,r,c,n),f=Qv.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:d,context:a}));return f.bindingsStream.on("data",async h=>{const p=h.get(c);await this.getObjectsPredicateStar(p,r,n,a,s,o,u)}),f.bindingsStream.on("end",()=>{--u.count===0&&o.close()}),f.metadata}async getSubjectAndObjectBindingsPredicateStar(e,r,n,a,s,o,u,l,c,d,f){const h=(0,oN.termToString)(a)+(0,oN.termToString)(o);if(c[h])return;if(f.count++,c[h]=!0,d._push(uN.bindings([[e,n],[r,a]])),h in l){const g=await l[h];for(const y of g)await this.getSubjectAndObjectBindingsPredicateStar(e,r,n,y,s,o,u,l,c,d,f);--f.count===0&&d.close();return}const p=new Promise(async(g,y)=>{const S=[],v=this.generateVariable(),A=sc.FACTORY.createPath(a,s,v,o),E=Qv.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:A,context:u}));E.bindingsStream.on("data",async T=>{const R=T.get(v);S.push(R),await this.getSubjectAndObjectBindingsPredicateStar(e,r,n,R,s,o,u,l,c,d,f)}),E.bindingsStream.on("error",y),E.bindingsStream.on("end",()=>{--f.count===0&&d.close(),g(S)})});l[h]=p}}UI.ActorAbstractPath=sc;sc.FACTORY=new tFe.Factory;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(UI,t),r(qw,t)})(yf);Object.defineProperty($I,"__esModule",{value:!0});$I.ActorQueryOperationPathAlt=void 0;const T$=yf,iFe=KR,aFe=tr,sFe=Gr,oFe=Cr;class uFe extends T$.ActorAbstractPath{constructor(e){super(e,oFe.Algebra.types.ALT)}async runOperation(e,r){const n=e.predicate,a=(await Promise.all(n.input.map(u=>this.mediatorQueryOperation.mediate({context:r,operation:T$.ActorAbstractPath.FACTORY.createPath(e.subject,u,e.object,e.graph)})))).map(aFe.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new sFe.UnionIterator(a.map(u=>u.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(a.map(u=>u.metadata())).then(u=>iFe.ActorQueryOperationUnion.unionMetadata(u,!0))}}}$I.ActorQueryOperationPathAlt=uFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($I,t)})(MY);var BY={},VI={};Object.defineProperty(VI,"__esModule",{value:!0});VI.ActorQueryOperationPathInv=void 0;const E$=yf,lFe=Cr;class cFe extends E$.ActorAbstractPath{constructor(e){super(e,lFe.Algebra.types.INV)}async runOperation(e,r){const n=e.predicate,a=E$.ActorAbstractPath.FACTORY.createPath(e.object,n.path,e.subject,e.graph);return this.mediatorQueryOperation.mediate({operation:a,context:r})}}VI.ActorQueryOperationPathInv=cFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(VI,t)})(BY);var kY={},HI={};Object.defineProperty(HI,"__esModule",{value:!0});HI.ActorQueryOperationPathNps=void 0;const A$=yf,dFe=tr,fFe=Cr;class hFe extends A$.ActorAbstractPath{constructor(e){super(e,fFe.Algebra.types.NPS)}async runOperation(e,r){const n=e.predicate,a=this.generateVariable(e),s=A$.ActorAbstractPath.FACTORY.createPattern(e.subject,a,e.object,e.graph),o=dFe.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:s,context:r}));return{type:"bindings",bindingsStream:o.bindingsStream.transform({filter(l){return!n.iris.some(c=>c.equals(l.get(a)))},transform(l,c,d){d(l.delete(a)),c()}}),metadata:o.metadata}}}HI.ActorQueryOperationPathNps=hFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(HI,t)})(kY);var $Y={},qI={};Object.defineProperty(qI,"__esModule",{value:!0});qI.ActorQueryOperationPathLink=void 0;const x$=yf,pFe=Cr;class gFe extends x$.ActorAbstractPath{constructor(e){super(e,pFe.Algebra.types.LINK)}async runOperation(e,r){const n=e.predicate,a=x$.ActorAbstractPath.FACTORY.createPattern(e.subject,n.iri,e.object,e.graph);return this.mediatorQueryOperation.mediate({operation:a,context:r})}}qI.ActorQueryOperationPathLink=gFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(qI,t)})($Y);var UY={},zI={};Object.defineProperty(zI,"__esModule",{value:!0});zI.ActorQueryOperationPathOneOrMore=void 0;const fp=yf,yFe=Qa,O$=tr,lN=Gr,mFe=Cr,R$=new yFe.BindingsFactory;class vFe extends fp.ActorAbstractPath{constructor(e){super(e,mFe.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(e,r){const n=await this.isPathArbitraryLengthDistinct(r,e);if(n.operation)return n.operation;r=n.context;const a=e.predicate;if(e.subject.termType!=="Variable"&&e.object.termType==="Variable"){const l=e.object,c=await this.getObjectsPredicateStarEval(e.subject,a.path,l,e.graph,r,!1),d=e.graph.termType==="Variable"?[l,e.graph]:[l];return{type:"bindings",bindingsStream:c.bindingsStream,metadata:async()=>({...await c.metadata(),variables:d})}}if(e.subject.termType==="Variable"&&e.object.termType==="Variable"){const l=fp.ActorAbstractPath.FACTORY.createDistinct(fp.ActorAbstractPath.FACTORY.createPath(e.subject,e.predicate.path,e.object,e.graph)),c=O$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:l})),d=e.subject,f=e.object,h={},p=new lN.MultiTransformIterator(c.bindingsStream,{multiTransform:y=>{const S=y.get(d),v=y.get(f),A=e.graph.termType==="Variable"?y.get(e.graph):e.graph;return new lN.TransformIterator(async()=>{const E=new lN.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(d,f,S,v,a.path,A,r,h,{},E,{count:0}),E.transform({transform(T,R,I){e.graph.termType==="Variable"&&(T=T.set(e.graph,A)),I(T),R()}})},{maxBufferSize:128})},autoStart:!1}),g=e.graph.termType==="Variable"?[d,f,e.graph]:[d,f];return{type:"bindings",bindingsStream:p,metadata:async()=>({...await c.metadata(),variables:g})}}if(e.subject.termType==="Variable"&&e.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:r,operation:fp.ActorAbstractPath.FACTORY.createPath(e.object,fp.ActorAbstractPath.FACTORY.createOneOrMorePath(fp.ActorAbstractPath.FACTORY.createInv(a.path)),e.subject,e.graph)});const s=this.generateVariable(),o=O$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:fp.ActorAbstractPath.FACTORY.createPath(e.subject,a,s,e.graph)}));return{type:"bindings",bindingsStream:o.bindingsStream.transform({filter:l=>e.object.equals(l.get(s)),transform(l,c,d){const f=e.graph.termType==="Variable"?R$.bindings([[e.graph,l.get(e.graph)]]):R$.bindings();d(f),c()}}),metadata:async()=>({...await o.metadata(),variables:e.graph.termType==="Variable"?[e.graph]:[]})}}}zI.ActorQueryOperationPathOneOrMore=vFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(zI,t)})(UY);var VY={},GI={};Object.defineProperty(GI,"__esModule",{value:!0});GI.ActorQueryOperationPathZeroOrMore=void 0;const cN=yf,bFe=Qa,_Fe=tr,E2=Gr,A2=dn,wFe=Cr,I$=new bFe.BindingsFactory;class SFe extends cN.ActorAbstractPath{constructor(e){super(e,wFe.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(e,r){const n=await this.isPathArbitraryLengthDistinct(r,e);if(n.operation)return n.operation;r=n.context;const a=e.predicate,s=e.subject.termType==="Variable",o=e.object.termType==="Variable";if(e.subject.termType==="Variable"&&e.object.termType==="Variable"){const h=this.generateVariable(e),p=cN.ActorAbstractPath.FACTORY.createPattern(e.subject,h,e.object,e.graph),g=_Fe.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:p})),y=e.subject,S=e.object,v=new Set,A={},E=new E2.MultiTransformIterator(g.bindingsStream,{multiTransform:R=>{const I=R.get(y),D=R.get(S),M=e.graph.termType==="Variable"?R.get(e.graph):e.graph,N=(0,A2.termToString)(I)+(0,A2.termToString)(M),O=(0,A2.termToString)(D)+(0,A2.termToString)(M);return new E2.TransformIterator(async()=>{if(v.has(N)&&v.has(O))return new E2.EmptyIterator;const k=new E2.BufferedIterator,Y={count:0};return v.has(N)||(v.add(N),await this.getSubjectAndObjectBindingsPredicateStar(y,S,I,I,a.path,M,r,A,{},k,Y)),v.has(O)||(v.add(O),await this.getSubjectAndObjectBindingsPredicateStar(y,S,D,D,a.path,M,r,A,{},k,Y)),k.transform({transform(ne,q,H){e.graph.termType==="Variable"&&(ne=ne.set(e.graph,M)),H(ne),q()}})})}}),T=e.graph.termType==="Variable"?[y,e.object,e.graph]:[y,e.object];return{type:"bindings",bindingsStream:E,metadata:async()=>({...await g.metadata(),variables:T})}}if(!s&&!o){const h=this.generateVariable(),p=await this.getObjectsPredicateStarEval(e.subject,a.path,h,e.graph,r,!0);return{type:"bindings",bindingsStream:p.bindingsStream.transform({filter:y=>e.object.equals(y.get(h)),transform(y,S,v){const A=e.graph.termType==="Variable"?I$.bindings([[e.graph,y.get(e.graph)]]):I$.bindings();v(A),S()}}),metadata:async()=>({...await p.metadata(),variables:e.graph.termType==="Variable"?[e.graph]:[]})}}const u=s?e.object:e.subject,l=s?e.subject:e.object,c=s?cN.ActorAbstractPath.FACTORY.createInv(a.path):a.path,d=await this.getObjectsPredicateStarEval(u,c,l,e.graph,r,!0),f=e.graph.termType==="Variable"?[l,e.graph]:[l];return{type:"bindings",bindingsStream:d.bindingsStream,metadata:async()=>({...await d.metadata(),variables:f})}}}GI.ActorQueryOperationPathZeroOrMore=SFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(GI,t)})(VY);var HY={},QI={};Object.defineProperty(QI,"__esModule",{value:!0});QI.ActorQueryOperationPathZeroOrOne=void 0;const hp=yf,TFe=Qa,P$=tr,EFe=So,C$=Gr,AFe=Cr,dN=new TFe.BindingsFactory;class xFe extends hp.ActorAbstractPath{constructor(e){super(e,AFe.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(e,r){const n=e.predicate,a=[];if(e.subject.termType!=="Variable"&&e.object.termType!=="Variable"&&e.subject.equals(e.object))return{type:"bindings",bindingsStream:new C$.SingletonIterator(dN.bindings()),metadata:()=>Promise.resolve({state:new EFe.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};const s=await this.isPathArbitraryLengthDistinct(r,e);if(s.operation)return s.operation;r=s.context;const o=P$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:hp.ActorAbstractPath.FACTORY.createPath(e.subject,n.path,e.object,e.graph)}));let u;if(e.subject.termType==="Variable"&&e.object.termType==="Variable"){const l=this.generateVariable(e),c=P$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:hp.ActorAbstractPath.FACTORY.createFilter(hp.ActorAbstractPath.FACTORY.createPattern(e.subject,l,e.object,e.graph),hp.ActorAbstractPath.FACTORY.createOperatorExpression("=",[hp.ActorAbstractPath.FACTORY.createTermExpression(e.subject),hp.ActorAbstractPath.FACTORY.createTermExpression(e.object)]))})).bindingsStream.transform({map(d){return d.delete(l)},autoStart:!1});u=new C$.UnionIterator([c,o.bindingsStream],{autoStart:!1})}else e.subject.termType==="Variable"&&a.push(dN.bindings([[e.subject,e.object]])),e.object.termType==="Variable"&&a.push(dN.bindings([[e.object,e.subject]])),u=o.bindingsStream.prepend(a);return{type:"bindings",bindingsStream:u,metadata:o.metadata}}}QI.ActorQueryOperationPathZeroOrOne=xFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(QI,t)})(HY);var qY={},WI={};Object.defineProperty(WI,"__esModule",{value:!0});WI.ActorQueryOperationClear=void 0;const D$=tr,OFe=lr,RFe=new OFe.DataFactory;class IFe extends D$.ActorQueryOperationTypedMediated{constructor(e){super(e,"clear")}async testOperation(e,r){return D$.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let n;e.source==="DEFAULT"?n=RFe.defaultGraph():typeof e.source=="string"?n=e.source:n=[e.source];const{execute:a}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:n,requireExistence:!e.silent,dropGraphs:!1},context:r});return{type:"void",execute:a}}}WI.ActorQueryOperationClear=IFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(WI,t)})(qY);var zY={},KI={};Object.defineProperty(KI,"__esModule",{value:!0});KI.ActorQueryOperationUpdateCompositeUpdate=void 0;const fN=tr;class PFe extends fN.ActorQueryOperationTypedMediated{constructor(e){super(e,"compositeupdate")}async testOperation(e,r){return fN.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){return{type:"void",execute:()=>(async()=>{for(const a of e.updates)await fN.ActorQueryOperation.getSafeVoid(await this.mediatorQueryOperation.mediate({operation:a,context:r})).execute()})()}}}KI.ActorQueryOperationUpdateCompositeUpdate=PFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(KI,t)})(zY);var GY={},XI={};Object.defineProperty(XI,"__esModule",{value:!0});XI.ActorQueryOperationAddRewrite=void 0;const N$=tr,CFe=lr,DFe=Cr,Nf=new CFe.DataFactory;class NFe extends N$.ActorQueryOperationTypedMediated{constructor(e){super(e,"add"),this.factory=new DFe.Factory}async testOperation(e,r){return N$.ActorQueryOperation.throwOnReadOnly(r),!0}runOperation(e,r){const n=e.destination==="DEFAULT"?Nf.defaultGraph():e.destination,a=e.source==="DEFAULT"?Nf.defaultGraph():e.source,s=this.factory.createDeleteInsert(void 0,[this.factory.createPattern(Nf.variable("s"),Nf.variable("p"),Nf.variable("o"),n)],this.factory.createPattern(Nf.variable("s"),Nf.variable("p"),Nf.variable("o"),a));return this.mediatorQueryOperation.mediate({operation:s,context:r})}}XI.ActorQueryOperationAddRewrite=NFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(XI,t)})(GY);var QY={},JI={};Object.defineProperty(JI,"__esModule",{value:!0});JI.ActorQueryOperationCreate=void 0;const F$=tr;class FFe extends F$.ActorQueryOperationTypedMediated{constructor(e){super(e,"create")}async testOperation(e,r){return F$.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){const{execute:n}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[e.source],requireNonExistence:!e.silent},context:r});return{type:"void",execute:n}}}JI.ActorQueryOperationCreate=FFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(JI,t)})(QY);var WY={},YI={};Object.defineProperty(YI,"__esModule",{value:!0});YI.ActorQueryOperationCopyRewrite=void 0;const L$=tr,LFe=Cr;class jFe extends L$.ActorQueryOperationTypedMediated{constructor(e){super(e,"copy"),this.factory=new LFe.Factory}async testOperation(e,r){return L$.ActorQueryOperation.throwOnReadOnly(r),!0}runOperation(e,r){if(typeof e.destination=="string"&&typeof e.source=="string"&&e.destination===e.source||typeof e.destination!="string"&&typeof e.source!="string"&&e.destination.equals(e.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});const n=this.factory.createCompositeUpdate([this.factory.createDrop(e.destination,!0),this.factory.createAdd(e.source,e.destination,e.silent)]);return this.mediatorQueryOperation.mediate({operation:n,context:r})}}YI.ActorQueryOperationCopyRewrite=jFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(YI,t)})(WY);var KY={},ZI={};Object.defineProperty(ZI,"__esModule",{value:!0});ZI.ActorQueryOperationDrop=void 0;const j$=tr,MFe=lr,BFe=new MFe.DataFactory;class kFe extends j$.ActorQueryOperationTypedMediated{constructor(e){super(e,"drop")}async testOperation(e,r){return j$.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let n;e.source==="DEFAULT"?n=BFe.defaultGraph():typeof e.source=="string"?n=e.source:n=[e.source];const{execute:a}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:n,requireExistence:!e.silent,dropGraphs:!0},context:r});return{type:"void",execute:a}}}ZI.ActorQueryOperationDrop=kFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ZI,t)})(KY);var XY={},eP={};Object.defineProperty(eP,"__esModule",{value:!0});eP.ActorQueryOperationUpdateDeleteInsert=void 0;const x2=X8,$Fe=Qa,hN=tr,UFe=Gr,VFe=new $Fe.BindingsFactory;class HFe extends hN.ActorQueryOperationTypedMediated{constructor(e){super(e,"deleteinsert"),this.blankNodeCounter=0}async testOperation(e,r){return hN.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){const n=e.where?hN.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.where,context:r})).bindingsStream:new UFe.ArrayIterator([VFe.bindings()],{autoStart:!1});let a,s;e.insert&&(a=new x2.BindingsToQuadsIterator(e.insert.map(x2.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),n.clone()),this.blankNodeCounter++),e.delete&&(s=new x2.BindingsToQuadsIterator(e.delete.map(x2.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),n.clone()),this.blankNodeCounter++);const{execute:o}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:a,quadStreamDelete:s,context:r});return{type:"void",execute:o}}}eP.ActorQueryOperationUpdateDeleteInsert=HFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(eP,t)})(XY);var JY={},tP={};Object.defineProperty(tP,"__esModule",{value:!0});tP.ActorQueryOperationLoad=void 0;const M$=tr,B$=cn,qFe=lr,zFe=Cr,pp=new qFe.DataFactory;class cL extends M$.ActorQueryOperationTypedMediated{constructor(e){super(e,"load"),this.factory=new zFe.Factory,this.constructOperation=this.factory.createConstruct(this.factory.createPattern(pp.variable("s"),pp.variable("p"),pp.variable("o")),[this.factory.createPattern(pp.variable("s"),pp.variable("p"),pp.variable("o"))])}async testOperation(e,r){return M$.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let n=r.set(B$.KeysRdfResolveQuadPattern.sources,[e.source.value]);e.silent&&(n=n.set(B$.KeysInitQuery.lenient,!0));let s=cL.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.constructOperation,context:n})).quadStream;e.destination&&(s=s.map(u=>pp.quad(u.subject,u.predicate,u.object,e.destination)));const{execute:o}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:s,context:r});return{type:"void",execute:o}}}tP.ActorQueryOperationLoad=cL;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(tP,t)})(JY);var YY={},rP={};Object.defineProperty(rP,"__esModule",{value:!0});rP.ActorQueryOperationMoveRewrite=void 0;const k$=tr,GFe=Cr;class QFe extends k$.ActorQueryOperationTypedMediated{constructor(e){super(e,"move"),this.factory=new GFe.Factory}async testOperation(e,r){return k$.ActorQueryOperation.throwOnReadOnly(r),!0}runOperation(e,r){if(typeof e.destination=="string"&&typeof e.source=="string"&&e.destination===e.source||typeof e.destination!="string"&&typeof e.source!="string"&&e.destination.equals(e.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});const n=[this.factory.createDrop(e.destination,!0),this.factory.createAdd(e.source,e.destination,e.silent),this.factory.createDrop(e.source)],a=this.factory.createCompositeUpdate(n);return this.mediatorQueryOperation.mediate({operation:a,context:r})}}rP.ActorQueryOperationMoveRewrite=QFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(rP,t)})(YY);var dL={},nP={};Object.defineProperty(nP,"__esModule",{value:!0});nP.ActorRdfJoinMultiBind=void 0;const $$=tr,O2=su,pN=cn,gN=Gr,Eb=Cr;class N_ extends O2.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0})}static createBindStream(e,r,n,a,s){const o=u=>{const l=n.map(d=>(0,$$.materializeOperation)(d,u,{bindFilter:!1})),c=d=>d.merge(u);return new gN.TransformIterator(async()=>(await a(l,u)).transform({map:c}),{maxBufferSize:128,autoStart:!1})};switch(e){case"depth-first":return new gN.MultiTransformIterator(r,{autoStart:!1,multiTransform:o,optional:s});case"breadth-first":return new gN.UnionIterator(r.transform({map:o,optional:s}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${e}`)}}async sortJoinEntries(e,r){if(e.some(u=>u.metadata.canContainUndefs))return e;const a={};for(const u of e)for(const l of u.metadata.variables){let c=a[l.value];c||(c=0),a[l.value]=++c}const s=[];for(const[u,l]of Object.entries(a))l>=2&&s.push(u);if(s.length===0)throw new Error("Bind join can only join entries with at least one common variable");const o=[];for(const u of e){let l=!1;for(const c of u.metadata.variables)if(s.includes(c.value)){l=!0;break}l||o.push(u)}return(await this.mediatorJoinEntriesSort.mediate({entries:e,context:r})).entries.sort((u,l)=>{const c=o.includes(u),d=o.includes(l);return c===d?0:c?1:-1})}async getOutput(e){const r=await O2.ActorRdfJoin.getEntriesWithMetadatas(e.entries),n=await this.sortJoinEntries(r,e.context);this.logDebug(e.context,"First entry for Bind Join: ",()=>({entry:n[0].operation,metadata:n[0].metadata}));for(const[l,c]of n.entries())l!==0&&c.output.bindingsStream.close();const a=n[0].output,s=[...n];s.splice(0,1);const o=e.context.set(pN.KeysQueryOperation.joinLeftMetadata,n[0].metadata).set(pN.KeysQueryOperation.joinRightMetadatas,s.map(l=>l.metadata));return{result:{type:"bindings",bindingsStream:N_.createBindStream(this.bindOrder,a.bindingsStream,s.map(l=>l.operation),async(l,c)=>{const d=l.length===1?l[0]:N_.FACTORY.createJoin(l);return $$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:d,context:o==null?void 0:o.set(pN.KeysQueryOperation.joinBindings,c)})).bindingsStream},!1),metadata:()=>this.constructResultMetadata(n,n.map(l=>l.metadata),e.context)},physicalPlanMetadata:{bindIndex:r.indexOf(n[0]),bindOrder:this.bindOrder}}}canBindWithOperation(e){let r=!0;return Eb.Util.recurseOperation(e,{[Eb.Algebra.types.EXTEND](){return r=!1,!1},[Eb.Algebra.types.GROUP](){return r=!1,!1},[Eb.Algebra.types.FILTER](){return r=!1,!1}}),r}async getJoinCoefficients(e,r){const n=await this.sortJoinEntries(e.entries.map((p,g)=>({...p,metadata:r[g]})),e.context);r=n.map(p=>p.metadata);const a=O2.ActorRdfJoin.getRequestInitialTimes(r),s=O2.ActorRdfJoin.getRequestItemTimes(r),o=[...n],u=[...a],l=[...s];if(o.splice(0,1),u.splice(0,1),l.splice(0,1),o.some(p=>!this.canBindWithOperation(p.operation)))throw new Error(`Actor ${this.name} can not bind on Extend, Group, and Filter operations`);const c=await Promise.all(o.map(async p=>(await this.mediatorJoinSelectivity.mediate({entries:[n[0],p],context:e.context})).selectivity*this.selectivityModifier)),d=o.map((p,g)=>p.metadata.cardinality.value*c[g]).reduce((p,g)=>p+g,0),f=u.reduce((p,g,y)=>p+g*c[y],0),h=l.reduce((p,g,y)=>p+g*c[y],0);return{iterations:r[0].cardinality.value*d,persistedItems:0,blockingItems:0,requestTime:a[0]+r[0].cardinality.value*(s[0]+f+d*h)}}}nP.ActorRdfJoinMultiBind=N_;N_.FACTORY=new Eb.Factory;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(nP,t)})(dL);var ZY={},iP={};Object.defineProperty(iP,"__esModule",{value:!0});iP.ActorRdfJoinOptionalBind=void 0;const WFe=dL,KFe=tr,R2=su,yN=cn,U$=Cr;class XFe extends R2.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){e.entries[1].output.bindingsStream.close();const r=e.context.set(yN.KeysQueryOperation.joinLeftMetadata,await e.entries[0].output.metadata()).set(yN.KeysQueryOperation.joinRightMetadatas,[await e.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:WFe.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,e.entries[0].output.bindingsStream,[e.entries[1].operation],async(a,s)=>{const o=a[0];return KFe.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o,context:r==null?void 0:r.set(yN.KeysQueryOperation.joinBindings,s)})).bindingsStream},!0),metadata:async()=>await this.constructResultMetadata(e.entries,await R2.ActorRdfJoin.getMetadatas(e.entries),e.context,{canContainUndefs:!0})}}}async getJoinCoefficients(e,r){const n=R2.ActorRdfJoin.getRequestInitialTimes(r),a=R2.ActorRdfJoin.getRequestItemTimes(r);if(e.entries[1].operation.type===U$.Algebra.types.EXTEND||e.entries[1].operation.type===U$.Algebra.types.GROUP)throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);const s=(await this.mediatorJoinSelectivity.mediate({entries:e.entries,context:e.context})).selectivity*this.selectivityModifier;return{iterations:r[0].cardinality.value*r[1].cardinality.value*s,persistedItems:0,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*s*(a[0]+n[1]+r[1].cardinality.value*a[1])}}}iP.ActorRdfJoinOptionalBind=XFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(iP,t)})(ZY);var eZ={},aP={};Object.defineProperty(aP,"__esModule",{value:!0});aP.ActorQueryOperationJoin=void 0;const V$=tr;class JFe extends V$.ActorQueryOperationTypedMediated{constructor(e){super(e,"join")}async testOperation(e,r){return!0}async runOperation(e,r){const n=(await Promise.all(e.input.map(async a=>({output:await this.mediatorQueryOperation.mediate({operation:a,context:r}),operation:a})))).map(({output:a,operation:s})=>({output:V$.ActorQueryOperation.getSafeBindings(a),operation:s}));return this.mediatorJoin.mediate({type:"inner",entries:n,context:r})}}aP.ActorQueryOperationJoin=JFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(aP,t)})(eZ);var tZ={},sP={};Object.defineProperty(sP,"__esModule",{value:!0});sP.ActorQueryOperationLeftJoin=void 0;const mN=tr,H$=G0;class YFe extends mN.ActorQueryOperationTypedMediated{constructor(e){super(e,"leftjoin")}async testOperation(e,r){return!0}async runOperation(e,r){const n=(await Promise.all(e.input.map(async s=>({output:await this.mediatorQueryOperation.mediate({operation:s,context:r}),operation:s})))).map(({output:s,operation:o})=>({output:mN.ActorQueryOperation.getSafeBindings(s),operation:o})),a=await this.mediatorJoin.mediate({type:"optional",entries:n,context:r});if(e.expression){const o=(await n[1].output.metadata()).variables,u={...mN.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)},l=new H$.AsyncEvaluator(e.expression,u),c=a.bindingsStream.transform({autoStart:!1,transform:async(d,f,h)=>{if(!o.every(p=>d.has(p.value)))return h(d),f();try{await l.evaluateAsEBV(d)&&h(d)}catch(p){(0,H$.isExpressionError)(p)?this.logWarn(r,"Error occurred while filtering.",()=>({error:p,bindings:d})):c.emit("error",p)}f()}});a.bindingsStream=c}return a}}sP.ActorQueryOperationLeftJoin=YFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sP,t)})(tZ);var rZ={},oP={};Object.defineProperty(oP,"__esModule",{value:!0});oP.ActorQueryOperationMinus=void 0;const q$=tr;class ZFe extends q$.ActorQueryOperationTypedMediated{constructor(e){super(e,"minus")}async testOperation(e,r){return!0}async runOperation(e,r){const n=(await Promise.all(e.input.map(async a=>({output:await this.mediatorQueryOperation.mediate({operation:a,context:r}),operation:a})))).map(({output:a,operation:s})=>({output:q$.ActorQueryOperation.getSafeBindings(a),operation:s}));return this.mediatorJoin.mediate({type:"minus",entries:n,context:r})}}oP.ActorQueryOperationMinus=ZFe;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(oP,t)})(rZ);var nZ={},uP={};Object.defineProperty(uP,"__esModule",{value:!0});uP.ActorQueryOperationPathSeq=void 0;const z$=yf,G$=tr,e5e=Cr;class t5e extends z$.ActorAbstractPath{constructor(e){super(e,e5e.Algebra.types.SEQ)}async runOperation(e,r){const n=e.predicate;let a=e.subject;const s=[],o=await Promise.all(n.input.map((c,d)=>{const f=d===n.input.length-1?e.object:this.generateVariable(e,`b${d}`),h=z$.ActorAbstractPath.FACTORY.createPath(a,c,f,e.graph),p=this.mediatorQueryOperation.mediate({context:r,operation:h});return a=f,d<n.input.length-1&&s.push(f),{output:p,operation:h}}).map(async({output:c,operation:d})=>({output:G$.ActorQueryOperation.getSafeBindings(await c),operation:d}))),u=G$.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:"inner",entries:o,context:r}));return{type:"bindings",bindingsStream:u.bindingsStream.transform({transform(c,d,f){for(const h of s)c=c.delete(h);f(c),d()}}),async metadata(){const c=await u.metadata(),d=c.variables.filter(f=>!s.some(h=>h.value===f.value));return{...c,variables:d}}}}}uP.ActorQueryOperationPathSeq=t5e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(uP,t)})(nZ);var iZ={},lP={};Object.defineProperty(lP,"__esModule",{value:!0});lP.ActorRdfJoinMultiSmallest=void 0;const r5e=tr,I2=su,n5e=Cr;class cP extends I2.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0})}async sortJoinEntries(e,r){return(await this.mediatorJoinEntriesSort.mediate({entries:e,context:r})).entries}async getOutput(e){const r=await this.sortJoinEntries(await I2.ActorRdfJoin.getEntriesWithMetadatas([...e.entries]),e.context),n=r[0],a=r[1];r.splice(0,2);const s={output:r5e.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:e.type,entries:[n,a],context:e.context})),operation:cP.FACTORY.createJoin([n.operation,a.operation],!1)};return r.push(s),{result:await this.mediatorJoin.mediate({type:e.type,entries:r,context:e.context})}}async getJoinCoefficients(e,r){r=[...r],r=(await this.sortJoinEntries(e.entries.map((o,u)=>({...o,metadata:r[u]})),e.context)).map(o=>o.metadata);const a=I2.ActorRdfJoin.getRequestInitialTimes(r),s=I2.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value*r[1].cardinality.value*r.slice(2).reduce((o,u)=>o*u.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:a[0]+r[0].cardinality.value*s[0]+a[1]+r[1].cardinality.value*s[1]+r.slice(2).reduce((o,u,l)=>o+a.slice(2)[l]+u.cardinality.value*s.slice(2)[l],0)}}}lP.ActorRdfJoinMultiSmallest=cP;cP.FACTORY=new n5e.Factory;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lP,t)})(iZ);var aZ={},dP={};Object.defineProperty(dP,"__esModule",{value:!0});dP.ActorQueryOperationQuadpattern=void 0;const i5e=Qa,Q$=tr,a5e=cn,s5e=lr,o5e=dn,gp=Oa,u5e=Cr,l5e=new i5e.BindingsFactory,vN=new s5e.DataFactory,c5e=new u5e.Factory;class ac extends Q$.ActorQueryOperationTyped{constructor(e){super(e,"pattern")}static isTermVariable(e){return e.termType==="Variable"}static getVariables(e){return(0,gp.uniqTerms)((0,gp.getTermsNested)(e).filter(ac.isTermVariable))}static getDuplicateElementLinks(e){const r={};let n=!1;if((0,gp.forEachTermsNested)(e,(s,o)=>{if(s.termType==="Variable"){const u=(0,o5e.termToString)(s),l=(r[u]||(r[u]=[])).push(o);n=n||l>1}}),!n)return;const a={};for(const s in r){const o=r[s],u=o.slice(1);u.length>0&&(a[o[0].join("_")]=u)}return a}static validateMetadata(e){for(const r of["cardinality","canContainUndefs"])if(!(r in e))throw new Error(`Invalid metadata: missing ${r} in ${JSON.stringify(e)}`);return e}static getMetadata(e,r,n){return()=>new Promise((a,s)=>{e.getProperty("metadata",o=>a(o)),e.on("error",s)}).then(a=>("canContainUndefs"in a||(a.canContainUndefs=!1),ac.quadsMetadataToBindingsMetadata(ac.validateMetadata(a),r,n)))}static quadsMetadataToBindingsMetadata(e,r,n){return{...e,order:e.order?ac.quadsOrderToBindingsOrder(e.order,r):void 0,availableOrders:e.availableOrders?e.availableOrders.map(a=>({cost:a.cost,terms:ac.quadsOrderToBindingsOrder(a.terms,r)})):void 0,variables:n}}static quadsOrderToBindingsOrder(e,r){const n={};return e.map(a=>{const s=r[a.term];if(s&&!n[s])return n[s]=!0,{term:vN.variable(s),direction:a.direction}}).filter(a=>Boolean(a))}async testOperation(e,r){return!0}async runOperation(e,r){e.context&&(r=r.merge(e.context));let n=e;const a=this.unionDefaultGraph||r.get(a5e.KeysQueryOperation.unionDefaultGraph);e.graph.termType==="DefaultGraph"&&a&&(n=c5e.createPattern(e.subject,e.predicate,e.object,vN.variable("__comunica:defaultGraph")));const s=await this.mediatorResolveQuadPattern.mediate({pattern:n,context:r}),o=ac.getVariables(e),u=(0,gp.reduceTermsNested)(e,(d,f,h)=>(f.termType==="Variable"&&(d[h.join("_")]=f.value),d),{}),l=ac.getMetadata(s.data,u,o);return{type:"bindings",bindingsStream:new Q$.ClosableTransformIterator(async()=>{let d=s.data;const f=ac.getDuplicateElementLinks(e);return e.graph.termType==="Variable"&&!a&&(d=d.filter(h=>h.graph.termType!=="DefaultGraph")),f&&(d=d.filter(h=>{for(const p in f){const g=p.split("_"),y=(0,gp.getValueNestedPath)(h,g);for(const S of f[p])if(!y.equals((0,gp.getValueNestedPath)(h,S)))return!1}return!0})),d.map(h=>l5e.bindings(Object.keys(u).map(p=>{const g=p.split("_"),y=u[p],S=(0,gp.getValueNestedPath)(h,g);return[vN.variable(y),S]})))},{autoStart:!1,onClose:()=>s.data.destroy()}),metadata:l}}}dP.ActorQueryOperationQuadpattern=ac;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(dP,t)})(aZ);var sZ={},fP={},T0={};Object.defineProperty(T0,"__esModule",{value:!0});T0.ActorDereferenceHttpBase=T0.mediaTypesToAcceptString=void 0;const W$=Rx,K$=td,d5e=om,f5e=Ru,h5e=V0,p5e=/^[^ ;]*/u;function oZ(t,e){const r="*/*;q=0.1",n=[],a=Object.entries(t).map(([o,u])=>({mediaType:o,priority:u})).sort((o,u)=>u.priority===o.priority?o.mediaType.localeCompare(u.mediaType):u.priority-o.priority);let s=a.length-1;for(const{mediaType:o,priority:u}of a){const l=o+(u!==1?`;q=${u.toFixed(3).replace(/0*$/u,"")}`:"");if(s+l.length>e){for(;s+r.length>e;){const c=n.pop()||"";s-=c.length+1}n.push(r);break}n.push(l),s+=l.length}return n.length===0?"*/*":n.join(",")}T0.mediaTypesToAcceptString=oZ;class g5e extends W$.ActorDereference{constructor(e){super(e)}async test({url:e}){if(!/^https?:/u.test(e))throw new Error(`Cannot retrieve ${e} because it is not an HTTP(S) URL.`);return!0}async run(e){var c,d;let r=!0;const n=new d5e.Headers(e.headers);n.append("Accept",oZ(await((c=e.mediaTypes)==null?void 0:c.call(e))??{},this.getMaxAcceptHeaderLength()));let a;const s=Date.now();try{a=await this.mediatorHttp.mediate({context:e.context,init:{headers:n,method:e.method},input:e.url})}catch(f){return this.handleDereferenceErrors(e,f)}const o=(0,f5e.resolve)(a.url,e.url),u=Date.now()-s;if(a.status!==200){r=!1;const f=a.body?await h5e(K$.ActorHttp.toNodeReadable(a.body)):"empty response";if(!e.acceptErrors){const h=new Error(`Could not retrieve ${e.url} (HTTP status ${a.status}):
${f}`);return this.handleDereferenceErrors(e,h,a.headers,u)}}const l=(d=p5e.exec(a.headers.get("content-type")??""))==null?void 0:d[0];return{url:o,data:r?K$.ActorHttp.toNodeReadable(a.body):(0,W$.emptyReadable)(),exists:r,requestTime:u,headers:a.headers,mediaType:l!=="text/plain"?l:void 0}}}T0.ActorDereferenceHttpBase=g5e;Object.defineProperty(fP,"__esModule",{value:!0});fP.ActorDereferenceHttp=void 0;const y5e=T0;class m5e extends y5e.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}fP.ActorDereferenceHttp=m5e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fP,t),r(T0,t)})(sZ);var uZ={},hP={};Object.defineProperty(hP,"__esModule",{value:!0});hP.ActorHttpProxy=void 0;const v5e=td,bN=cn;class b5e extends v5e.ActorHttp{constructor(e){super(e)}async test(e){const r=e.context.get(bN.KeysHttpProxy.httpProxyHandler);if(!r)throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await r.getProxy(e))throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:Number.POSITIVE_INFINITY}}async run(e){const r=typeof e.input=="string"?e.input:e.input.url,n=e.context.get(bN.KeysHttpProxy.httpProxyHandler),a=await this.mediatorHttp.mediate({...await n.getProxy(e),context:e.context.delete(bN.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(a,"url",{configurable:!0,enumerable:!0,get:()=>a.headers.get("x-final-url")??r}),a}}hP.ActorHttpProxy=b5e;var pP={};Object.defineProperty(pP,"__esModule",{value:!0});pP.ProxyHandlerStatic=void 0;class _5e{constructor(e){this.prefixUrl=e}async getProxy(e){return{init:e.init,input:this.modifyInput(e.input)}}modifyInput(e){return typeof e=="string"?this.prefixUrl+e:new Request(this.prefixUrl+e.url,e)}}pP.ProxyHandlerStatic=_5e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hP,t),r(pP,t)})(uZ);var lZ={},gP={},yP={};Object.defineProperty(yP,"__esModule",{value:!0});yP.LRUCache=void 0;const Wv=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,cZ=new Set,f6=typeof process=="object"&&process?process:{},dZ=(t,e,r,n)=>{typeof f6.emitWarning=="function"?f6.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let mE=globalThis.AbortController,X$=globalThis.AbortSignal;var WU;if(typeof mE>"u"){X$=class{constructor(){lt(this,"onabort");lt(this,"_onabort",[]);lt(this,"reason");lt(this,"aborted",!1)}addEventListener(n,a){this._onabort.push(a)}},mE=class{constructor(){lt(this,"signal",new X$);e()}abort(n){var a,s;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const o of this.signal._onabort)o(n);(s=(a=this.signal).onabort)==null||s.call(a,n)}}};let t=((WU=f6.env)==null?void 0:WU.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,dZ("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const w5e=t=>!cZ.has(t),qf=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),fZ=t=>qf(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?dT:null:null;let dT=class extends Array{constructor(e){super(e),this.fill(0)}};var DN,my;let Ab=(DN=class{constructor(e,r){lt(this,"heap");lt(this,"length");if(!x(Ab,my))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}static create(e){const r=fZ(e);if(!r)return[];Fe(Ab,my,!0);const n=new Ab(e,r);return Fe(Ab,my,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},my=new WeakMap,Ue(DN,my,!1),DN);var il,Fo,gc,al,vy,Zi,sl,ea,Ln,_r,Ns,Lo,as,ba,ol,$a,Pd,Cd,ul,yc,dh,ro,J_,h6,Kp,Dd,Y_,jo,CE,pZ,Xp,by,Z_,mc,zf,vc,Gf,e1,p6,_y,fT,wy,hT,En,Yn,t1,g6,Jp,xb,KU;let hZ=(KU=class{constructor(e){Ue(this,J_);Ue(this,CE);Ue(this,mc);Ue(this,vc);Ue(this,e1);Ue(this,_y);Ue(this,wy);Ue(this,En);Ue(this,t1);Ue(this,Jp);Ue(this,il,void 0);Ue(this,Fo,void 0);Ue(this,gc,void 0);Ue(this,al,void 0);Ue(this,vy,void 0);lt(this,"ttl");lt(this,"ttlResolution");lt(this,"ttlAutopurge");lt(this,"updateAgeOnGet");lt(this,"updateAgeOnHas");lt(this,"allowStale");lt(this,"noDisposeOnSet");lt(this,"noUpdateTTL");lt(this,"maxEntrySize");lt(this,"sizeCalculation");lt(this,"noDeleteOnFetchRejection");lt(this,"noDeleteOnStaleGet");lt(this,"allowStaleOnFetchAbort");lt(this,"allowStaleOnFetchRejection");lt(this,"ignoreFetchAbort");Ue(this,Zi,void 0);Ue(this,sl,void 0);Ue(this,ea,void 0);Ue(this,Ln,void 0);Ue(this,_r,void 0);Ue(this,Ns,void 0);Ue(this,Lo,void 0);Ue(this,as,void 0);Ue(this,ba,void 0);Ue(this,ol,void 0);Ue(this,$a,void 0);Ue(this,Pd,void 0);Ue(this,Cd,void 0);Ue(this,ul,void 0);Ue(this,yc,void 0);Ue(this,dh,void 0);Ue(this,ro,void 0);Ue(this,Kp,()=>{});Ue(this,Dd,()=>{});Ue(this,Y_,()=>{});Ue(this,jo,()=>!1);Ue(this,Xp,e=>{});Ue(this,by,(e,r,n)=>{});Ue(this,Z_,(e,r,n,a)=>{if(n||a)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});const{max:r=0,ttl:n,ttlResolution:a=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:u,allowStale:l,dispose:c,disposeAfter:d,noDisposeOnSet:f,noUpdateTTL:h,maxSize:p=0,maxEntrySize:g=0,sizeCalculation:y,fetchMethod:S,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:T,ignoreFetchAbort:R}=e;if(r!==0&&!qf(r))throw new TypeError("max option must be a nonnegative integer");const I=r?fZ(r):Array;if(!I)throw new Error("invalid max value: "+r);if(Fe(this,il,r),Fe(this,Fo,p),this.maxEntrySize=g||x(this,Fo),this.sizeCalculation=y,this.sizeCalculation){if(!x(this,Fo)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("fetchMethod must be a function if specified");if(Fe(this,vy,S),Fe(this,dh,!!S),Fe(this,ea,new Map),Fe(this,Ln,new Array(r).fill(void 0)),Fe(this,_r,new Array(r).fill(void 0)),Fe(this,Ns,new I(r)),Fe(this,Lo,new I(r)),Fe(this,as,0),Fe(this,ba,0),Fe(this,ol,Ab.create(r)),Fe(this,Zi,0),Fe(this,sl,0),typeof c=="function"&&Fe(this,gc,c),typeof d=="function"?(Fe(this,al,d),Fe(this,$a,[])):(Fe(this,al,void 0),Fe(this,$a,void 0)),Fe(this,yc,!!x(this,gc)),Fe(this,ro,!!x(this,al)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!E,this.allowStaleOnFetchAbort=!!T,this.ignoreFetchAbort=!!R,this.maxEntrySize!==0){if(x(this,Fo)!==0&&!qf(x(this,Fo)))throw new TypeError("maxSize must be a positive integer if specified");if(!qf(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");xe(this,CE,pZ).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!u,this.ttlResolution=qf(a)||a===0?a:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!qf(this.ttl))throw new TypeError("ttl must be a positive integer if specified");xe(this,J_,h6).call(this)}if(x(this,il)===0&&this.ttl===0&&x(this,Fo)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!x(this,il)&&!x(this,Fo)){const D="LRU_CACHE_UNBOUNDED";w5e(D)&&(cZ.add(D),dZ("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,hZ))}}static unsafeExposeInternals(e){return{starts:x(e,Cd),ttls:x(e,ul),sizes:x(e,Pd),keyMap:x(e,ea),keyList:x(e,Ln),valList:x(e,_r),next:x(e,Ns),prev:x(e,Lo),get head(){return x(e,as)},get tail(){return x(e,ba)},free:x(e,ol),isBackgroundFetch:r=>{var n;return xe(n=e,En,Yn).call(n,r)},backgroundFetch:(r,n,a,s)=>{var o;return xe(o=e,wy,hT).call(o,r,n,a,s)},moveToTail:r=>{var n;return xe(n=e,Jp,xb).call(n,r)},indexes:r=>{var n;return xe(n=e,mc,zf).call(n,r)},rindexes:r=>{var n;return xe(n=e,vc,Gf).call(n,r)},isStale:r=>{var n;return x(n=e,jo).call(n,r)}}}get max(){return x(this,il)}get maxSize(){return x(this,Fo)}get calculatedSize(){return x(this,sl)}get size(){return x(this,Zi)}get fetchMethod(){return x(this,vy)}get dispose(){return x(this,gc)}get disposeAfter(){return x(this,al)}getRemainingTTL(e){return x(this,ea).has(e)?1/0:0}*entries(){for(const e of xe(this,mc,zf).call(this))x(this,_r)[e]!==void 0&&x(this,Ln)[e]!==void 0&&!xe(this,En,Yn).call(this,x(this,_r)[e])&&(yield[x(this,Ln)[e],x(this,_r)[e]])}*rentries(){for(const e of xe(this,vc,Gf).call(this))x(this,_r)[e]!==void 0&&x(this,Ln)[e]!==void 0&&!xe(this,En,Yn).call(this,x(this,_r)[e])&&(yield[x(this,Ln)[e],x(this,_r)[e]])}*keys(){for(const e of xe(this,mc,zf).call(this)){const r=x(this,Ln)[e];r!==void 0&&!xe(this,En,Yn).call(this,x(this,_r)[e])&&(yield r)}}*rkeys(){for(const e of xe(this,vc,Gf).call(this)){const r=x(this,Ln)[e];r!==void 0&&!xe(this,En,Yn).call(this,x(this,_r)[e])&&(yield r)}}*values(){for(const e of xe(this,mc,zf).call(this))x(this,_r)[e]!==void 0&&!xe(this,En,Yn).call(this,x(this,_r)[e])&&(yield x(this,_r)[e])}*rvalues(){for(const e of xe(this,vc,Gf).call(this))x(this,_r)[e]!==void 0&&!xe(this,En,Yn).call(this,x(this,_r)[e])&&(yield x(this,_r)[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(const n of xe(this,mc,zf).call(this)){const a=x(this,_r)[n],s=xe(this,En,Yn).call(this,a)?a.__staleWhileFetching:a;if(s!==void 0&&e(s,x(this,Ln)[n],this))return this.get(x(this,Ln)[n],r)}}forEach(e,r=this){for(const n of xe(this,mc,zf).call(this)){const a=x(this,_r)[n],s=xe(this,En,Yn).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,x(this,Ln)[n],this)}}rforEach(e,r=this){for(const n of xe(this,vc,Gf).call(this)){const a=x(this,_r)[n],s=xe(this,En,Yn).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,x(this,Ln)[n],this)}}purgeStale(){let e=!1;for(const r of xe(this,vc,Gf).call(this,{allowStale:!0}))x(this,jo).call(this,r)&&(this.delete(x(this,Ln)[r]),e=!0);return e}dump(){const e=[];for(const r of xe(this,mc,zf).call(this,{allowStale:!0})){const n=x(this,Ln)[r],a=x(this,_r)[r],s=xe(this,En,Yn).call(this,a)?a.__staleWhileFetching:a;if(s===void 0||n===void 0)continue;const o={value:s};if(x(this,ul)&&x(this,Cd)){o.ttl=x(this,ul)[r];const u=Wv.now()-x(this,Cd)[r];o.start=Math.floor(Date.now()-u)}x(this,Pd)&&(o.size=x(this,Pd)[r]),e.unshift([n,o])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const a=Date.now()-n.start;n.start=Wv.now()-a}this.set(r,n.value,n)}}set(e,r,n={}){var h,p,g;if(r===void 0)return this.delete(e),this;const{ttl:a=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:l}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const d=x(this,Z_).call(this,e,r,n.size||0,u);if(this.maxEntrySize&&d>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let f=x(this,Zi)===0?void 0:x(this,ea).get(e);if(f===void 0)f=x(this,Zi)===0?x(this,ba):x(this,ol).length!==0?x(this,ol).pop():x(this,Zi)===x(this,il)?xe(this,_y,fT).call(this,!1):x(this,Zi),x(this,Ln)[f]=e,x(this,_r)[f]=r,x(this,ea).set(e,f),x(this,Ns)[x(this,ba)]=f,x(this,Lo)[f]=x(this,ba),Fe(this,ba,f),Ya(this,Zi)._++,x(this,by).call(this,f,d,l),l&&(l.set="add"),c=!1;else{xe(this,Jp,xb).call(this,f);const y=x(this,_r)[f];if(r!==y){if(x(this,dh)&&xe(this,En,Yn).call(this,y)?y.__abortController.abort(new Error("replaced")):o||(x(this,yc)&&((h=x(this,gc))==null||h.call(this,y,e,"set")),x(this,ro)&&((p=x(this,$a))==null||p.push([y,e,"set"]))),x(this,Xp).call(this,f),x(this,by).call(this,f,d,l),x(this,_r)[f]=r,l){l.set="replace";const S=y&&xe(this,En,Yn).call(this,y)?y.__staleWhileFetching:y;S!==void 0&&(l.oldValue=S)}}else l&&(l.set="update")}if(a!==0&&!x(this,ul)&&xe(this,J_,h6).call(this),x(this,ul)&&(c||x(this,Y_).call(this,f,a,s),l&&x(this,Dd).call(this,l,f)),!o&&x(this,ro)&&x(this,$a)){const y=x(this,$a);let S;for(;S=y==null?void 0:y.shift();)(g=x(this,al))==null||g.call(this,...S)}return this}pop(){var e;try{for(;x(this,Zi);){const r=x(this,_r)[x(this,as)];if(xe(this,_y,fT).call(this,!0),xe(this,En,Yn).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(x(this,ro)&&x(this,$a)){const r=x(this,$a);let n;for(;n=r==null?void 0:r.shift();)(e=x(this,al))==null||e.call(this,...n)}}}has(e,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:a}=r,s=x(this,ea).get(e);if(s!==void 0){const o=x(this,_r)[s];if(xe(this,En,Yn).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(x(this,jo).call(this,s))a&&(a.has="stale",x(this,Dd).call(this,a,s));else return n&&x(this,Kp).call(this,s),a&&(a.has="hit",x(this,Dd).call(this,a,s)),!0}else a&&(a.has="miss");return!1}peek(e,r={}){const{allowStale:n=this.allowStale}=r,a=x(this,ea).get(e);if(a!==void 0&&(n||!x(this,jo).call(this,a))){const s=x(this,_r)[a];return xe(this,En,Yn).call(this,s)?s.__staleWhileFetching:s}}async fetch(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:u=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:S=!1,status:v,signal:A}=r;if(!x(this,dh))return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,status:v});const E={allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:u,size:l,sizeCalculation:c,noUpdateTTL:d,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:g,ignoreFetchAbort:p,status:v,signal:A};let T=x(this,ea).get(e);if(T===void 0){v&&(v.fetch="miss");const R=xe(this,wy,hT).call(this,e,T,E,y);return R.__returned=R}else{const R=x(this,_r)[T];if(xe(this,En,Yn).call(this,R)){const O=n&&R.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",O&&(v.returnedStale=!0)),O?R.__staleWhileFetching:R.__returned=R}const I=x(this,jo).call(this,T);if(!S&&!I)return v&&(v.fetch="hit"),xe(this,Jp,xb).call(this,T),a&&x(this,Kp).call(this,T),v&&x(this,Dd).call(this,v,T),R;const D=xe(this,wy,hT).call(this,e,T,E,y),N=D.__staleWhileFetching!==void 0&&n;return v&&(v.fetch=I?"stale":"refresh",N&&I&&(v.returnedStale=!0)),N?D.__staleWhileFetching:D.__returned=D}}get(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,u=x(this,ea).get(e);if(u!==void 0){const l=x(this,_r)[u],c=xe(this,En,Yn).call(this,l);return o&&x(this,Dd).call(this,o,u),x(this,jo).call(this,u)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.delete(e),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(xe(this,Jp,xb).call(this,u),a&&x(this,Kp).call(this,u),l))}else o&&(o.get="miss")}delete(e){var n,a,s,o;let r=!1;if(x(this,Zi)!==0){const u=x(this,ea).get(e);if(u!==void 0)if(r=!0,x(this,Zi)===1)this.clear();else{x(this,Xp).call(this,u);const l=x(this,_r)[u];xe(this,En,Yn).call(this,l)?l.__abortController.abort(new Error("deleted")):(x(this,yc)||x(this,ro))&&(x(this,yc)&&((n=x(this,gc))==null||n.call(this,l,e,"delete")),x(this,ro)&&((a=x(this,$a))==null||a.push([l,e,"delete"]))),x(this,ea).delete(e),x(this,Ln)[u]=void 0,x(this,_r)[u]=void 0,u===x(this,ba)?Fe(this,ba,x(this,Lo)[u]):u===x(this,as)?Fe(this,as,x(this,Ns)[u]):(x(this,Ns)[x(this,Lo)[u]]=x(this,Ns)[u],x(this,Lo)[x(this,Ns)[u]]=x(this,Lo)[u]),Ya(this,Zi)._--,x(this,ol).push(u)}}if(x(this,ro)&&((s=x(this,$a))!=null&&s.length)){const u=x(this,$a);let l;for(;l=u==null?void 0:u.shift();)(o=x(this,al))==null||o.call(this,...l)}return r}clear(){var e,r,n;for(const a of xe(this,vc,Gf).call(this,{allowStale:!0})){const s=x(this,_r)[a];if(xe(this,En,Yn).call(this,s))s.__abortController.abort(new Error("deleted"));else{const o=x(this,Ln)[a];x(this,yc)&&((e=x(this,gc))==null||e.call(this,s,o,"delete")),x(this,ro)&&((r=x(this,$a))==null||r.push([s,o,"delete"]))}}if(x(this,ea).clear(),x(this,_r).fill(void 0),x(this,Ln).fill(void 0),x(this,ul)&&x(this,Cd)&&(x(this,ul).fill(0),x(this,Cd).fill(0)),x(this,Pd)&&x(this,Pd).fill(0),Fe(this,as,0),Fe(this,ba,0),x(this,ol).length=0,Fe(this,sl,0),Fe(this,Zi,0),x(this,ro)&&x(this,$a)){const a=x(this,$a);let s;for(;s=a==null?void 0:a.shift();)(n=x(this,al))==null||n.call(this,...s)}}},il=new WeakMap,Fo=new WeakMap,gc=new WeakMap,al=new WeakMap,vy=new WeakMap,Zi=new WeakMap,sl=new WeakMap,ea=new WeakMap,Ln=new WeakMap,_r=new WeakMap,Ns=new WeakMap,Lo=new WeakMap,as=new WeakMap,ba=new WeakMap,ol=new WeakMap,$a=new WeakMap,Pd=new WeakMap,Cd=new WeakMap,ul=new WeakMap,yc=new WeakMap,dh=new WeakMap,ro=new WeakMap,J_=new WeakSet,h6=function(){const e=new dT(x(this,il)),r=new dT(x(this,il));Fe(this,ul,e),Fe(this,Cd,r),Fe(this,Y_,(s,o,u=Wv.now())=>{if(r[s]=o!==0?u:0,e[s]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{x(this,jo).call(this,s)&&this.delete(x(this,Ln)[s])},o+1);l.unref&&l.unref()}}),Fe(this,Kp,s=>{r[s]=e[s]!==0?Wv.now():0}),Fe(this,Dd,(s,o)=>{if(e[o]){const u=e[o],l=r[o];s.ttl=u,s.start=l,s.now=n||a();const c=s.now-l;s.remainingTTL=u-c}});let n=0;const a=()=>{const s=Wv.now();if(this.ttlResolution>0){n=s;const o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=x(this,ea).get(s);if(o===void 0)return 0;const u=e[o],l=r[o];if(u===0||l===0)return 1/0;const c=(n||a())-l;return u-c},Fe(this,jo,s=>e[s]!==0&&r[s]!==0&&(n||a())-r[s]>e[s])},Kp=new WeakMap,Dd=new WeakMap,Y_=new WeakMap,jo=new WeakMap,CE=new WeakSet,pZ=function(){const e=new dT(x(this,il));Fe(this,sl,0),Fe(this,Pd,e),Fe(this,Xp,r=>{Fe(this,sl,x(this,sl)-e[r]),e[r]=0}),Fe(this,Z_,(r,n,a,s)=>{if(xe(this,En,Yn).call(this,n))return 0;if(!qf(a))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(a=s(n,r),!qf(a))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return a}),Fe(this,by,(r,n,a)=>{if(e[r]=n,x(this,Fo)){const s=x(this,Fo)-e[r];for(;x(this,sl)>s;)xe(this,_y,fT).call(this,!0)}Fe(this,sl,x(this,sl)+e[r]),a&&(a.entrySize=n,a.totalCalculatedSize=x(this,sl))})},Xp=new WeakMap,by=new WeakMap,Z_=new WeakMap,mc=new WeakSet,zf=function*({allowStale:e=this.allowStale}={}){if(x(this,Zi))for(let r=x(this,ba);!(!xe(this,e1,p6).call(this,r)||((e||!x(this,jo).call(this,r))&&(yield r),r===x(this,as)));)r=x(this,Lo)[r]},vc=new WeakSet,Gf=function*({allowStale:e=this.allowStale}={}){if(x(this,Zi))for(let r=x(this,as);!(!xe(this,e1,p6).call(this,r)||((e||!x(this,jo).call(this,r))&&(yield r),r===x(this,ba)));)r=x(this,Ns)[r]},e1=new WeakSet,p6=function(e){return e!==void 0&&x(this,ea).get(x(this,Ln)[e])===e},_y=new WeakSet,fT=function(e){var s,o;const r=x(this,as),n=x(this,Ln)[r],a=x(this,_r)[r];return x(this,dh)&&xe(this,En,Yn).call(this,a)?a.__abortController.abort(new Error("evicted")):(x(this,yc)||x(this,ro))&&(x(this,yc)&&((s=x(this,gc))==null||s.call(this,a,n,"evict")),x(this,ro)&&((o=x(this,$a))==null||o.push([a,n,"evict"]))),x(this,Xp).call(this,r),e&&(x(this,Ln)[r]=void 0,x(this,_r)[r]=void 0,x(this,ol).push(r)),x(this,Zi)===1?(Fe(this,as,Fe(this,ba,0)),x(this,ol).length=0):Fe(this,as,x(this,Ns)[r]),x(this,ea).delete(n),Ya(this,Zi)._--,r},wy=new WeakSet,hT=function(e,r,n,a){const s=r===void 0?void 0:x(this,_r)[r];if(xe(this,En,Yn).call(this,s))return s;const o=new mE,{signal:u}=n;u==null||u.addEventListener("abort",()=>o.abort(u.reason),{signal:o.signal});const l={signal:o.signal,options:n,context:a},c=(y,S=!1)=>{const{aborted:v}=o.signal,A=n.ignoreFetchAbort&&y!==void 0;if(n.status&&(v&&!S?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,A&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),v&&!A&&!S)return f(o.signal.reason);const E=p;return x(this,_r)[r]===p&&(y===void 0?E.__staleWhileFetching?x(this,_r)[r]=E.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,y,l.options))),y},d=y=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=y),f(y)),f=y=>{const{aborted:S}=o.signal,v=S&&n.allowStaleOnFetchAbort,A=v||n.allowStaleOnFetchRejection,E=A||n.noDeleteOnFetchRejection,T=p;if(x(this,_r)[r]===p&&(!E||T.__staleWhileFetching===void 0?this.delete(e):v||(x(this,_r)[r]=T.__staleWhileFetching)),A)return n.status&&T.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),T.__staleWhileFetching;if(T.__returned===T)throw y},h=(y,S)=>{var A;const v=(A=x(this,vy))==null?void 0:A.call(this,e,s,l);v&&v instanceof Promise&&v.then(E=>y(E===void 0?void 0:E),S),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(y(void 0),n.allowStaleOnFetchAbort&&(y=E=>c(E,!0)))})};n.status&&(n.status.fetchDispatched=!0);const p=new Promise(h).then(c,d),g=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,g,{...l.options,status:void 0}),r=x(this,ea).get(e)):x(this,_r)[r]=g,g},En=new WeakSet,Yn=function(e){if(!x(this,dh))return!1;const r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof mE},t1=new WeakSet,g6=function(e,r){x(this,Lo)[r]=e,x(this,Ns)[e]=r},Jp=new WeakSet,xb=function(e){e!==x(this,ba)&&(e===x(this,as)?Fe(this,as,x(this,Ns)[e]):xe(this,t1,g6).call(this,x(this,Lo)[e],x(this,Ns)[e]),xe(this,t1,g6).call(this,x(this,ba),e),Fe(this,ba,e))},KU);yP.LRUCache=hZ;Object.defineProperty(gP,"__esModule",{value:!0});gP.ActorRdfUpdateQuadsHypermedia=void 0;const Pg=Vm,S5e=yP;class T5e extends Pg.ActorRdfUpdateQuadsDestination{constructor(e){super(e),this.cache=this.cacheSize?new S5e.LRUCache({max:this.cacheSize}):void 0;const r=this.cache;r&&this.httpInvalidator.addInvalidateListener(({url:n})=>n?r.delete(n):r.clear())}async test(e){if(!(0,Pg.getContextDestinationUrl)((0,Pg.getContextDestination)(e.context)))throw new Error(`Actor ${this.name} can only update quads against a single destination URL.`);return!0}getDestination(e){const r=(0,Pg.getContextDestination)(e);let n=(0,Pg.getContextDestinationUrl)(r);if(this.cache&&this.cache.has(n))return this.cache.get(n);const a=(async()=>{var l;let s,o;try{const c=await this.mediatorDereferenceRdf.mediate({context:e,url:n,acceptErrors:!0});o=c.exists,n=c.url;const d=await this.mediatorMetadata.mediate({context:e,url:n,quads:c.data,triples:(l=c.metadata)==null?void 0:l.triples});s=(await this.mediatorMetadataExtract.mediate({context:e,url:n,metadata:d.metadata,headers:c.headers,requestTime:c.requestTime})).metadata}catch{s={},o=!1}const{destination:u}=await this.mediatorRdfUpdateHypermedia.mediate({context:e,url:n,metadata:s,exists:o,forceDestinationType:(0,Pg.getDataDestinationType)(r)});return u})();return this.cache&&this.cache.set(n,a),a}}gP.ActorRdfUpdateQuadsHypermedia=T5e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gP,t)})(lZ);var gZ={},mP={},zw={};Object.defineProperty(zw,"__esModule",{value:!0});zw.LRUCache=void 0;const Kv=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,yZ=new Set,y6=typeof process=="object"&&process?process:{},mZ=(t,e,r,n)=>{typeof y6.emitWarning=="function"?y6.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let vE=globalThis.AbortController,J$=globalThis.AbortSignal;var XU;if(typeof vE>"u"){J$=class{constructor(){lt(this,"onabort");lt(this,"_onabort",[]);lt(this,"reason");lt(this,"aborted",!1)}addEventListener(n,a){this._onabort.push(a)}},vE=class{constructor(){lt(this,"signal",new J$);e()}abort(n){var a,s;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const o of this.signal._onabort)o(n);(s=(a=this.signal).onabort)==null||s.call(a,n)}}};let t=((XU=y6.env)==null?void 0:XU.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,mZ("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const E5e=t=>!yZ.has(t),Qf=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),vZ=t=>Qf(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?pT:null:null;let pT=class extends Array{constructor(e){super(e),this.fill(0)}};var NN,Sy;let Ob=(NN=class{constructor(e,r){lt(this,"heap");lt(this,"length");if(!x(Ob,Sy))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}static create(e){const r=vZ(e);if(!r)return[];Fe(Ob,Sy,!0);const n=new Ob(e,r);return Fe(Ob,Sy,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},Sy=new WeakMap,Ue(NN,Sy,!1),NN);var ll,Mo,bc,cl,Ty,ta,dl,ra,jn,wr,Fs,Bo,ss,_a,fl,Ua,Nd,Fd,hl,_c,fh,no,r1,m6,Yp,Ld,n1,ko,DE,_Z,Zp,Ey,i1,wc,Wf,Sc,Kf,a1,v6,Ay,gT,xy,yT,An,Zn,s1,b6,e0,Rb,JU;let bZ=(JU=class{constructor(e){Ue(this,r1);Ue(this,DE);Ue(this,wc);Ue(this,Sc);Ue(this,a1);Ue(this,Ay);Ue(this,xy);Ue(this,An);Ue(this,s1);Ue(this,e0);Ue(this,ll,void 0);Ue(this,Mo,void 0);Ue(this,bc,void 0);Ue(this,cl,void 0);Ue(this,Ty,void 0);lt(this,"ttl");lt(this,"ttlResolution");lt(this,"ttlAutopurge");lt(this,"updateAgeOnGet");lt(this,"updateAgeOnHas");lt(this,"allowStale");lt(this,"noDisposeOnSet");lt(this,"noUpdateTTL");lt(this,"maxEntrySize");lt(this,"sizeCalculation");lt(this,"noDeleteOnFetchRejection");lt(this,"noDeleteOnStaleGet");lt(this,"allowStaleOnFetchAbort");lt(this,"allowStaleOnFetchRejection");lt(this,"ignoreFetchAbort");Ue(this,ta,void 0);Ue(this,dl,void 0);Ue(this,ra,void 0);Ue(this,jn,void 0);Ue(this,wr,void 0);Ue(this,Fs,void 0);Ue(this,Bo,void 0);Ue(this,ss,void 0);Ue(this,_a,void 0);Ue(this,fl,void 0);Ue(this,Ua,void 0);Ue(this,Nd,void 0);Ue(this,Fd,void 0);Ue(this,hl,void 0);Ue(this,_c,void 0);Ue(this,fh,void 0);Ue(this,no,void 0);Ue(this,Yp,()=>{});Ue(this,Ld,()=>{});Ue(this,n1,()=>{});Ue(this,ko,()=>!1);Ue(this,Zp,e=>{});Ue(this,Ey,(e,r,n)=>{});Ue(this,i1,(e,r,n,a)=>{if(n||a)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});const{max:r=0,ttl:n,ttlResolution:a=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:u,allowStale:l,dispose:c,disposeAfter:d,noDisposeOnSet:f,noUpdateTTL:h,maxSize:p=0,maxEntrySize:g=0,sizeCalculation:y,fetchMethod:S,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:T,ignoreFetchAbort:R}=e;if(r!==0&&!Qf(r))throw new TypeError("max option must be a nonnegative integer");const I=r?vZ(r):Array;if(!I)throw new Error("invalid max value: "+r);if(Fe(this,ll,r),Fe(this,Mo,p),this.maxEntrySize=g||x(this,Mo),this.sizeCalculation=y,this.sizeCalculation){if(!x(this,Mo)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("fetchMethod must be a function if specified");if(Fe(this,Ty,S),Fe(this,fh,!!S),Fe(this,ra,new Map),Fe(this,jn,new Array(r).fill(void 0)),Fe(this,wr,new Array(r).fill(void 0)),Fe(this,Fs,new I(r)),Fe(this,Bo,new I(r)),Fe(this,ss,0),Fe(this,_a,0),Fe(this,fl,Ob.create(r)),Fe(this,ta,0),Fe(this,dl,0),typeof c=="function"&&Fe(this,bc,c),typeof d=="function"?(Fe(this,cl,d),Fe(this,Ua,[])):(Fe(this,cl,void 0),Fe(this,Ua,void 0)),Fe(this,_c,!!x(this,bc)),Fe(this,no,!!x(this,cl)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!E,this.allowStaleOnFetchAbort=!!T,this.ignoreFetchAbort=!!R,this.maxEntrySize!==0){if(x(this,Mo)!==0&&!Qf(x(this,Mo)))throw new TypeError("maxSize must be a positive integer if specified");if(!Qf(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");xe(this,DE,_Z).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!u,this.ttlResolution=Qf(a)||a===0?a:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!Qf(this.ttl))throw new TypeError("ttl must be a positive integer if specified");xe(this,r1,m6).call(this)}if(x(this,ll)===0&&this.ttl===0&&x(this,Mo)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!x(this,ll)&&!x(this,Mo)){const D="LRU_CACHE_UNBOUNDED";E5e(D)&&(yZ.add(D),mZ("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,bZ))}}static unsafeExposeInternals(e){return{starts:x(e,Fd),ttls:x(e,hl),sizes:x(e,Nd),keyMap:x(e,ra),keyList:x(e,jn),valList:x(e,wr),next:x(e,Fs),prev:x(e,Bo),get head(){return x(e,ss)},get tail(){return x(e,_a)},free:x(e,fl),isBackgroundFetch:r=>{var n;return xe(n=e,An,Zn).call(n,r)},backgroundFetch:(r,n,a,s)=>{var o;return xe(o=e,xy,yT).call(o,r,n,a,s)},moveToTail:r=>{var n;return xe(n=e,e0,Rb).call(n,r)},indexes:r=>{var n;return xe(n=e,wc,Wf).call(n,r)},rindexes:r=>{var n;return xe(n=e,Sc,Kf).call(n,r)},isStale:r=>{var n;return x(n=e,ko).call(n,r)}}}get max(){return x(this,ll)}get maxSize(){return x(this,Mo)}get calculatedSize(){return x(this,dl)}get size(){return x(this,ta)}get fetchMethod(){return x(this,Ty)}get dispose(){return x(this,bc)}get disposeAfter(){return x(this,cl)}getRemainingTTL(e){return x(this,ra).has(e)?1/0:0}*entries(){for(const e of xe(this,wc,Wf).call(this))x(this,wr)[e]!==void 0&&x(this,jn)[e]!==void 0&&!xe(this,An,Zn).call(this,x(this,wr)[e])&&(yield[x(this,jn)[e],x(this,wr)[e]])}*rentries(){for(const e of xe(this,Sc,Kf).call(this))x(this,wr)[e]!==void 0&&x(this,jn)[e]!==void 0&&!xe(this,An,Zn).call(this,x(this,wr)[e])&&(yield[x(this,jn)[e],x(this,wr)[e]])}*keys(){for(const e of xe(this,wc,Wf).call(this)){const r=x(this,jn)[e];r!==void 0&&!xe(this,An,Zn).call(this,x(this,wr)[e])&&(yield r)}}*rkeys(){for(const e of xe(this,Sc,Kf).call(this)){const r=x(this,jn)[e];r!==void 0&&!xe(this,An,Zn).call(this,x(this,wr)[e])&&(yield r)}}*values(){for(const e of xe(this,wc,Wf).call(this))x(this,wr)[e]!==void 0&&!xe(this,An,Zn).call(this,x(this,wr)[e])&&(yield x(this,wr)[e])}*rvalues(){for(const e of xe(this,Sc,Kf).call(this))x(this,wr)[e]!==void 0&&!xe(this,An,Zn).call(this,x(this,wr)[e])&&(yield x(this,wr)[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(const n of xe(this,wc,Wf).call(this)){const a=x(this,wr)[n],s=xe(this,An,Zn).call(this,a)?a.__staleWhileFetching:a;if(s!==void 0&&e(s,x(this,jn)[n],this))return this.get(x(this,jn)[n],r)}}forEach(e,r=this){for(const n of xe(this,wc,Wf).call(this)){const a=x(this,wr)[n],s=xe(this,An,Zn).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,x(this,jn)[n],this)}}rforEach(e,r=this){for(const n of xe(this,Sc,Kf).call(this)){const a=x(this,wr)[n],s=xe(this,An,Zn).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,x(this,jn)[n],this)}}purgeStale(){let e=!1;for(const r of xe(this,Sc,Kf).call(this,{allowStale:!0}))x(this,ko).call(this,r)&&(this.delete(x(this,jn)[r]),e=!0);return e}dump(){const e=[];for(const r of xe(this,wc,Wf).call(this,{allowStale:!0})){const n=x(this,jn)[r],a=x(this,wr)[r],s=xe(this,An,Zn).call(this,a)?a.__staleWhileFetching:a;if(s===void 0||n===void 0)continue;const o={value:s};if(x(this,hl)&&x(this,Fd)){o.ttl=x(this,hl)[r];const u=Kv.now()-x(this,Fd)[r];o.start=Math.floor(Date.now()-u)}x(this,Nd)&&(o.size=x(this,Nd)[r]),e.unshift([n,o])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const a=Date.now()-n.start;n.start=Kv.now()-a}this.set(r,n.value,n)}}set(e,r,n={}){var h,p,g;if(r===void 0)return this.delete(e),this;const{ttl:a=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:l}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const d=x(this,i1).call(this,e,r,n.size||0,u);if(this.maxEntrySize&&d>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let f=x(this,ta)===0?void 0:x(this,ra).get(e);if(f===void 0)f=x(this,ta)===0?x(this,_a):x(this,fl).length!==0?x(this,fl).pop():x(this,ta)===x(this,ll)?xe(this,Ay,gT).call(this,!1):x(this,ta),x(this,jn)[f]=e,x(this,wr)[f]=r,x(this,ra).set(e,f),x(this,Fs)[x(this,_a)]=f,x(this,Bo)[f]=x(this,_a),Fe(this,_a,f),Ya(this,ta)._++,x(this,Ey).call(this,f,d,l),l&&(l.set="add"),c=!1;else{xe(this,e0,Rb).call(this,f);const y=x(this,wr)[f];if(r!==y){if(x(this,fh)&&xe(this,An,Zn).call(this,y)?y.__abortController.abort(new Error("replaced")):o||(x(this,_c)&&((h=x(this,bc))==null||h.call(this,y,e,"set")),x(this,no)&&((p=x(this,Ua))==null||p.push([y,e,"set"]))),x(this,Zp).call(this,f),x(this,Ey).call(this,f,d,l),x(this,wr)[f]=r,l){l.set="replace";const S=y&&xe(this,An,Zn).call(this,y)?y.__staleWhileFetching:y;S!==void 0&&(l.oldValue=S)}}else l&&(l.set="update")}if(a!==0&&!x(this,hl)&&xe(this,r1,m6).call(this),x(this,hl)&&(c||x(this,n1).call(this,f,a,s),l&&x(this,Ld).call(this,l,f)),!o&&x(this,no)&&x(this,Ua)){const y=x(this,Ua);let S;for(;S=y==null?void 0:y.shift();)(g=x(this,cl))==null||g.call(this,...S)}return this}pop(){var e;try{for(;x(this,ta);){const r=x(this,wr)[x(this,ss)];if(xe(this,Ay,gT).call(this,!0),xe(this,An,Zn).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(x(this,no)&&x(this,Ua)){const r=x(this,Ua);let n;for(;n=r==null?void 0:r.shift();)(e=x(this,cl))==null||e.call(this,...n)}}}has(e,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:a}=r,s=x(this,ra).get(e);if(s!==void 0){const o=x(this,wr)[s];if(xe(this,An,Zn).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(x(this,ko).call(this,s))a&&(a.has="stale",x(this,Ld).call(this,a,s));else return n&&x(this,Yp).call(this,s),a&&(a.has="hit",x(this,Ld).call(this,a,s)),!0}else a&&(a.has="miss");return!1}peek(e,r={}){const{allowStale:n=this.allowStale}=r,a=x(this,ra).get(e);if(a!==void 0&&(n||!x(this,ko).call(this,a))){const s=x(this,wr)[a];return xe(this,An,Zn).call(this,s)?s.__staleWhileFetching:s}}async fetch(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:u=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:S=!1,status:v,signal:A}=r;if(!x(this,fh))return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,status:v});const E={allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:u,size:l,sizeCalculation:c,noUpdateTTL:d,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:g,ignoreFetchAbort:p,status:v,signal:A};let T=x(this,ra).get(e);if(T===void 0){v&&(v.fetch="miss");const R=xe(this,xy,yT).call(this,e,T,E,y);return R.__returned=R}else{const R=x(this,wr)[T];if(xe(this,An,Zn).call(this,R)){const O=n&&R.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",O&&(v.returnedStale=!0)),O?R.__staleWhileFetching:R.__returned=R}const I=x(this,ko).call(this,T);if(!S&&!I)return v&&(v.fetch="hit"),xe(this,e0,Rb).call(this,T),a&&x(this,Yp).call(this,T),v&&x(this,Ld).call(this,v,T),R;const D=xe(this,xy,yT).call(this,e,T,E,y),N=D.__staleWhileFetching!==void 0&&n;return v&&(v.fetch=I?"stale":"refresh",N&&I&&(v.returnedStale=!0)),N?D.__staleWhileFetching:D.__returned=D}}get(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,u=x(this,ra).get(e);if(u!==void 0){const l=x(this,wr)[u],c=xe(this,An,Zn).call(this,l);return o&&x(this,Ld).call(this,o,u),x(this,ko).call(this,u)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.delete(e),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(xe(this,e0,Rb).call(this,u),a&&x(this,Yp).call(this,u),l))}else o&&(o.get="miss")}delete(e){var n,a,s,o;let r=!1;if(x(this,ta)!==0){const u=x(this,ra).get(e);if(u!==void 0)if(r=!0,x(this,ta)===1)this.clear();else{x(this,Zp).call(this,u);const l=x(this,wr)[u];xe(this,An,Zn).call(this,l)?l.__abortController.abort(new Error("deleted")):(x(this,_c)||x(this,no))&&(x(this,_c)&&((n=x(this,bc))==null||n.call(this,l,e,"delete")),x(this,no)&&((a=x(this,Ua))==null||a.push([l,e,"delete"]))),x(this,ra).delete(e),x(this,jn)[u]=void 0,x(this,wr)[u]=void 0,u===x(this,_a)?Fe(this,_a,x(this,Bo)[u]):u===x(this,ss)?Fe(this,ss,x(this,Fs)[u]):(x(this,Fs)[x(this,Bo)[u]]=x(this,Fs)[u],x(this,Bo)[x(this,Fs)[u]]=x(this,Bo)[u]),Ya(this,ta)._--,x(this,fl).push(u)}}if(x(this,no)&&((s=x(this,Ua))!=null&&s.length)){const u=x(this,Ua);let l;for(;l=u==null?void 0:u.shift();)(o=x(this,cl))==null||o.call(this,...l)}return r}clear(){var e,r,n;for(const a of xe(this,Sc,Kf).call(this,{allowStale:!0})){const s=x(this,wr)[a];if(xe(this,An,Zn).call(this,s))s.__abortController.abort(new Error("deleted"));else{const o=x(this,jn)[a];x(this,_c)&&((e=x(this,bc))==null||e.call(this,s,o,"delete")),x(this,no)&&((r=x(this,Ua))==null||r.push([s,o,"delete"]))}}if(x(this,ra).clear(),x(this,wr).fill(void 0),x(this,jn).fill(void 0),x(this,hl)&&x(this,Fd)&&(x(this,hl).fill(0),x(this,Fd).fill(0)),x(this,Nd)&&x(this,Nd).fill(0),Fe(this,ss,0),Fe(this,_a,0),x(this,fl).length=0,Fe(this,dl,0),Fe(this,ta,0),x(this,no)&&x(this,Ua)){const a=x(this,Ua);let s;for(;s=a==null?void 0:a.shift();)(n=x(this,cl))==null||n.call(this,...s)}}},ll=new WeakMap,Mo=new WeakMap,bc=new WeakMap,cl=new WeakMap,Ty=new WeakMap,ta=new WeakMap,dl=new WeakMap,ra=new WeakMap,jn=new WeakMap,wr=new WeakMap,Fs=new WeakMap,Bo=new WeakMap,ss=new WeakMap,_a=new WeakMap,fl=new WeakMap,Ua=new WeakMap,Nd=new WeakMap,Fd=new WeakMap,hl=new WeakMap,_c=new WeakMap,fh=new WeakMap,no=new WeakMap,r1=new WeakSet,m6=function(){const e=new pT(x(this,ll)),r=new pT(x(this,ll));Fe(this,hl,e),Fe(this,Fd,r),Fe(this,n1,(s,o,u=Kv.now())=>{if(r[s]=o!==0?u:0,e[s]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{x(this,ko).call(this,s)&&this.delete(x(this,jn)[s])},o+1);l.unref&&l.unref()}}),Fe(this,Yp,s=>{r[s]=e[s]!==0?Kv.now():0}),Fe(this,Ld,(s,o)=>{if(e[o]){const u=e[o],l=r[o];s.ttl=u,s.start=l,s.now=n||a();const c=s.now-l;s.remainingTTL=u-c}});let n=0;const a=()=>{const s=Kv.now();if(this.ttlResolution>0){n=s;const o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=x(this,ra).get(s);if(o===void 0)return 0;const u=e[o],l=r[o];if(u===0||l===0)return 1/0;const c=(n||a())-l;return u-c},Fe(this,ko,s=>e[s]!==0&&r[s]!==0&&(n||a())-r[s]>e[s])},Yp=new WeakMap,Ld=new WeakMap,n1=new WeakMap,ko=new WeakMap,DE=new WeakSet,_Z=function(){const e=new pT(x(this,ll));Fe(this,dl,0),Fe(this,Nd,e),Fe(this,Zp,r=>{Fe(this,dl,x(this,dl)-e[r]),e[r]=0}),Fe(this,i1,(r,n,a,s)=>{if(xe(this,An,Zn).call(this,n))return 0;if(!Qf(a))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(a=s(n,r),!Qf(a))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return a}),Fe(this,Ey,(r,n,a)=>{if(e[r]=n,x(this,Mo)){const s=x(this,Mo)-e[r];for(;x(this,dl)>s;)xe(this,Ay,gT).call(this,!0)}Fe(this,dl,x(this,dl)+e[r]),a&&(a.entrySize=n,a.totalCalculatedSize=x(this,dl))})},Zp=new WeakMap,Ey=new WeakMap,i1=new WeakMap,wc=new WeakSet,Wf=function*({allowStale:e=this.allowStale}={}){if(x(this,ta))for(let r=x(this,_a);!(!xe(this,a1,v6).call(this,r)||((e||!x(this,ko).call(this,r))&&(yield r),r===x(this,ss)));)r=x(this,Bo)[r]},Sc=new WeakSet,Kf=function*({allowStale:e=this.allowStale}={}){if(x(this,ta))for(let r=x(this,ss);!(!xe(this,a1,v6).call(this,r)||((e||!x(this,ko).call(this,r))&&(yield r),r===x(this,_a)));)r=x(this,Fs)[r]},a1=new WeakSet,v6=function(e){return e!==void 0&&x(this,ra).get(x(this,jn)[e])===e},Ay=new WeakSet,gT=function(e){var s,o;const r=x(this,ss),n=x(this,jn)[r],a=x(this,wr)[r];return x(this,fh)&&xe(this,An,Zn).call(this,a)?a.__abortController.abort(new Error("evicted")):(x(this,_c)||x(this,no))&&(x(this,_c)&&((s=x(this,bc))==null||s.call(this,a,n,"evict")),x(this,no)&&((o=x(this,Ua))==null||o.push([a,n,"evict"]))),x(this,Zp).call(this,r),e&&(x(this,jn)[r]=void 0,x(this,wr)[r]=void 0,x(this,fl).push(r)),x(this,ta)===1?(Fe(this,ss,Fe(this,_a,0)),x(this,fl).length=0):Fe(this,ss,x(this,Fs)[r]),x(this,ra).delete(n),Ya(this,ta)._--,r},xy=new WeakSet,yT=function(e,r,n,a){const s=r===void 0?void 0:x(this,wr)[r];if(xe(this,An,Zn).call(this,s))return s;const o=new vE,{signal:u}=n;u==null||u.addEventListener("abort",()=>o.abort(u.reason),{signal:o.signal});const l={signal:o.signal,options:n,context:a},c=(y,S=!1)=>{const{aborted:v}=o.signal,A=n.ignoreFetchAbort&&y!==void 0;if(n.status&&(v&&!S?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,A&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),v&&!A&&!S)return f(o.signal.reason);const E=p;return x(this,wr)[r]===p&&(y===void 0?E.__staleWhileFetching?x(this,wr)[r]=E.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,y,l.options))),y},d=y=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=y),f(y)),f=y=>{const{aborted:S}=o.signal,v=S&&n.allowStaleOnFetchAbort,A=v||n.allowStaleOnFetchRejection,E=A||n.noDeleteOnFetchRejection,T=p;if(x(this,wr)[r]===p&&(!E||T.__staleWhileFetching===void 0?this.delete(e):v||(x(this,wr)[r]=T.__staleWhileFetching)),A)return n.status&&T.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),T.__staleWhileFetching;if(T.__returned===T)throw y},h=(y,S)=>{var A;const v=(A=x(this,Ty))==null?void 0:A.call(this,e,s,l);v&&v instanceof Promise&&v.then(E=>y(E===void 0?void 0:E),S),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(y(void 0),n.allowStaleOnFetchAbort&&(y=E=>c(E,!0)))})};n.status&&(n.status.fetchDispatched=!0);const p=new Promise(h).then(c,d),g=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,g,{...l.options,status:void 0}),r=x(this,ra).get(e)):x(this,wr)[r]=g,g},An=new WeakSet,Zn=function(e){if(!x(this,fh))return!1;const r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof vE},s1=new WeakSet,b6=function(e,r){x(this,Bo)[r]=e,x(this,Fs)[e]=r},e0=new WeakSet,Rb=function(e){e!==x(this,_a)&&(e===x(this,ss)?Fe(this,ss,x(this,Fs)[e]):xe(this,s1,b6).call(this,x(this,Bo)[e],x(this,Fs)[e]),xe(this,s1,b6).call(this,x(this,_a),e),Fe(this,_a,e))},JU);zw.LRUCache=bZ;var Gw={},vP={},bP={};Object.defineProperty(bP,"__esModule",{value:!0});bP.LinkedRdfSourcesAsyncRdfIterator=void 0;const A5e=So,x5e=Gr,O5e=zw;class R5e extends x5e.BufferedIterator{constructor(e,r,n,a,s,o,u,l){if(super({autoStart:!0,...l}),this.started=!1,this.cacheSize=e,this.subject=r,this.predicate=n,this.object=a,this.graph=s,this.firstUrl=o,this.maxIterators=u,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`);this.currentIterators=[],this.iteratorsPendingCreation=0,this.accumulatedMetadata=Promise.resolve(void 0)}_end(e){for(const r of this.currentIterators)r.destroy();super._end(e)}setSourcesState(e){e?this.sourcesState=e:(this.sourcesState={sources:new O5e.LRUCache({max:this.cacheSize})},this.getSourceCached({url:this.firstUrl},{}).catch(r=>this.destroy(r)))}getSourceCached(e,r){let n=this.sourcesState.sources.get(e.url);return n||(n=this.getSource(e,r),(e.url===this.firstUrl||this.shouldStoreSourcesStates())&&this.sourcesState.sources.set(e.url,n),n)}shouldStoreSourcesStates(){return!0}_read(e,r){if(!this.started)this.started=!0,this.sourcesState||this.setSourcesState(),this.getSourceCached({url:this.firstUrl},{}).then(n=>{this.startIterator(n,!0),r()}).catch(n=>{r()});else{for(const n of this.currentIterators){for(;e>0;){const a=n.read();if(a!==null)e--,this._push(a);else break}if(e<=0)break}e>=0&&this.canStartNewIterator()?this.getSourceCached({url:this.firstUrl},{}).then(n=>{this.startIteratorsForNextUrls(n.handledDatasets,!1),r()}).catch(n=>this.destroy(n)):r()}}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation<this.maxIterators&&!this.readable}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation>0}startIterator(e,r){const n=e.source.match(this.subject,this.predicate,this.object,this.graph);this.currentIterators.push(n);let a=!1;n._destination=this,n.on("error",s=>this.destroy(s)),n.on("readable",()=>this._fillBuffer()),n.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(n),1),a&&this.startIteratorsForNextUrls(e.handledDatasets,!0)}),n.getProperty("metadata",s=>{this.accumulatedMetadata=this.accumulatedMetadata.then(o=>(async()=>(o||(o=e.metadata),this.accumulateMetadata(o,s)))().then(u=>{const l={...e.metadata,...s,...u};return l.state=new A5e.MetadataValidationState,this.updateMetadata(l),this.getSourceLinks(l).then(c=>Promise.all(c)).then(async c=>{const d=await this.getLinkQueue();for(const f of c)d.push(f,e.link);a=!0,this.startIteratorsForNextUrls(e.handledDatasets,!0)}).catch(c=>this.destroy(c)),l})).catch(o=>(this.destroy(o),{}))})}updateMetadata(e){const r=this.getProperty("metadata");this.setProperty("metadata",e),r==null||r.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(e,r){this.getLinkQueue().then(n=>{for(;this.canStartNewIterator()&&this.isRunning();){const a=n.pop();if(a)this.iteratorsPendingCreation++,this.getSourceCached(a,e).then(s=>{this.iteratorsPendingCreation--,this.startIterator(s,!1)}).catch(s=>this.destroy(s));else break}r&&this.isCloseable(n)&&this.close()}).catch(n=>this.destroy(n))}isCloseable(e){return e.isEmpty()&&!this.areIteratorsRunning()}}bP.LinkedRdfSourcesAsyncRdfIterator=R5e;Object.defineProperty(vP,"__esModule",{value:!0});vP.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const I5e=zr,P5e=bP;class C5e extends P5e.LinkedRdfSourcesAsyncRdfIterator{constructor(e,r,n,a,s,o,u,l,c,d,f){super(e,a,s,o,u,l,c,d?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.context=r,this.forceSourceType=n,this.mediatorDereferenceRdf=f.mediatorDereferenceRdf,this.mediatorMetadata=f.mediatorMetadata,this.mediatorMetadataExtract=f.mediatorMetadataExtract,this.mediatorMetadataAccumulate=f.mediatorMetadataAccumulate,this.mediatorRdfResolveHypermedia=f.mediatorRdfResolveHypermedia,this.mediatorRdfResolveHypermediaLinks=f.mediatorRdfResolveHypermediaLinks,this.mediatorRdfResolveHypermediaLinksQueue=f.mediatorRdfResolveHypermediaLinksQueue,this.handledUrls={[l]:!0},this.aggregatedStore=d}close(){this.getLinkQueue().then(e=>{var r;this.isCloseable(e)?((r=this.aggregatedStore)==null||r.end(),super.close()):this.wasForcefullyClosed=!0}).catch(e=>super.destroy(e))}destroy(e){this.getLinkQueue().then(r=>{var n;this.isCloseable(r)?((n=this.aggregatedStore)==null||n.end(),super.destroy(e)):this.wasForcefullyClosed=!0}).catch(r=>super.destroy(r))}isCloseable(e){return(this.wasForcefullyClosed||e.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return!this.wasForcefullyClosed&&this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||super.canStartNewIterator()}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}shouldStoreSourcesStates(){return this.aggregatedStore===void 0}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(e=>e.linkQueue)),this.linkQueue}async getSourceLinks(e){try{const{links:r}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:e});return r.filter(n=>this.handledUrls[n.url]?!1:(this.handledUrls[n.url]=!0,!0))}catch{return[]}}async getSource(e,r){var c,d,f;let n=this.context;e.context&&(n=n.merge(e.context));let a=e.url,s,o;try{const h=await this.mediatorDereferenceRdf.mediate({context:n,url:a});a=h.url;const p=await this.mediatorMetadata.mediate({context:n,url:a,quads:h.data,triples:(c=h.metadata)==null?void 0:c.triples});p.data.on("error",()=>{}),o=(await this.mediatorMetadataExtract.mediate({context:n,url:a,metadata:p.metadata,headers:h.headers,requestTime:h.requestTime})).metadata,s=p.data,e.transform&&(s=await e.transform(s))}catch(h){s=new I5e.Readable,s.read=()=>(setTimeout(()=>s.emit("error",h)),null),o={}}(d=this.aggregatedStore)==null||d.setBaseMetadata(o,!1),(f=this.aggregatedStore)==null||f.import(s);const{source:u,dataset:l}=await this.mediatorRdfResolveHypermedia.mediate({context:n,forceSourceType:this.forceSourceType,handledDatasets:r,metadata:o,quads:s,url:a});return l&&(r[l]=!0),{link:e,source:u,metadata:o,handledDatasets:r}}async accumulateMetadata(e,r){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:e,appendingMetadata:r,context:this.context})).metadata}updateMetadata(e){var r;super.updateMetadata(e),(r=this.aggregatedStore)==null||r.setBaseMetadata(e,!0)}}vP.MediatedLinkedRdfSourcesAsyncRdfIterator=C5e;var _P={},wZ={},Qw={};Object.defineProperty(Qw,"__esModule",{value:!0});Qw.PendingStreamsIndex=void 0;const Y$=dn,Z$=Oa;class Rc{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(e){return e&&e.termType!=="Variable"?(0,Y$.termToString)(e):Rc.ID_VARIABLE}addPatternListener(e,r,n,a,s){this.allStreams.push(e);const o=`${this.termToString(r)}${Rc.ID_SEPARATOR}${this.termToString(n)}${Rc.ID_SEPARATOR}${this.termToString(a)}${Rc.ID_SEPARATOR}${this.termToString(s)}`;let u=this.indexedStreams.get(o);u||(u=[],this.indexedStreams.set(o,u)),u.push(e)}getPendingStreamsForQuad(e){let r=[(0,Z$.getTerms)(e).map(a=>(0,Y$.termToString)(a))];for(let a=0;a<Z$.QUAD_TERM_NAMES.length;a++){const s=r;r=[];for(const o of s){r.push(o);const u=[...o];u[a]=Rc.ID_VARIABLE,r.push(u)}}const n=[];for(const a of r){const s=this.indexedStreams.get(a.join(Rc.ID_SEPARATOR));s&&n.push(...s)}return n}}Qw.PendingStreamsIndex=Rc;Rc.ID_VARIABLE="?";Rc.ID_SEPARATOR=":";var wP={};Object.defineProperty(wP,"__esModule",{value:!0});wP.StreamingStore=void 0;const D5e=zh,N5e=zr,F5e=Qw;class L5e{constructor(e=new D5e.Store){this.pendingStreams=new F5e.PendingStreamsIndex,this.ended=!1,this.store=e}end(){this.ended=!0;for(const e of this.pendingStreams.allStreams)e.push(null),e._pipeSource.unpipe()}importToListeners(e){e.on("data",r=>{for(const n of this.pendingStreams.getPendingStreamsForQuad(r))this.ended||(n.push(r),n.emit("quad",r))})}import(e){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(e),this.store.import(e)}match(e,r,n,a){const s=this.store.match(e,r,n,a);let o=s;if(!this.ended){const u=new N5e.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(u,e,r,n,a),o=s.pipe(u,{end:!1}),o._pipeSource=s}return o}getStore(){return this.store}}wP.StreamingStore=L5e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Qw,t),r(wP,t)})(wZ);Object.defineProperty(_P,"__esModule",{value:!0});_P.StreamingStoreMetadata=void 0;const j5e=tr,P2=So,M5e=wZ;class B5e extends M5e.StreamingStore{constructor(e,r){super(e),this.started=!1,this.runningIterators=new Set,this.baseMetadata={state:new P2.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1},this.metadataAccumulator=r}import(e){return this.ended||super.import(e),e}hasRunningIterators(){return this.runningIterators.size>0}match(e,r,n,a){const s=super.match(e,r,n,a),o=new j5e.ClosableTransformIterator(s,{autoStart:!1,onClose:()=>{this.runningIterators.delete(o)}});let u=this.getStore().countQuads(e,r,n,a);const l={state:new P2.MetadataValidationState,cardinality:{type:"estimate",value:u},canContainUndefs:!1};return o.setProperty("metadata",l),o.setProperty("lastCount",u),s.on("quad",()=>{o.setProperty("lastCount",++u),this.updateMetadataState(o,u)}),this.runningIterators.add(o),o}setBaseMetadata(e,r){if(this.baseMetadata={...e},this.baseMetadata.cardinality={type:"exact",value:0},r)for(const n of this.runningIterators){const a=n.getProperty("lastCount");this.updateMetadataState(n,a)}}updateMetadataState(e,r){const n={state:new P2.MetadataValidationState,cardinality:{type:"estimate",value:r},canContainUndefs:!1};this.metadataAccumulator(this.baseMetadata,n).then(a=>{a.state=new P2.MetadataValidationState;const s=e.getProperty("metadata");e.setProperty("metadata",a),s==null||s.state.invalidate()}).catch(()=>{})}}_P.StreamingStoreMetadata=B5e;Object.defineProperty(Gw,"__esModule",{value:!0});Gw.MediatedQuadSource=void 0;const k5e=cn,$5e=vP,U5e=_P;class Kg{constructor(e,r,n,a,s,o){this.cacheSize=e,this.firstUrl=r,this.forceSourceType=n,this.maxIterators=a,this.aggregateStore=s,this.mediators=o}static nullifyVariables(e){return!e||e.termType==="Variable"?void 0:e}match(e,r,n,a,s){let o;if(this.aggregateStore){const l=s.get(k5e.KeysRdfResolveQuadPattern.hypermediaSourcesAggregatedStores);if(l&&(o=l.get(this.firstUrl),o||(o=new U5e.StreamingStoreMetadata(void 0,(c,d)=>u.accumulateMetadata(c,d)),l.set(this.firstUrl,o)),o.started))return o.match(Kg.nullifyVariables(e),Kg.nullifyVariables(r),Kg.nullifyVariables(n),Kg.nullifyVariables(a))}const u=new $5e.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,s,this.forceSourceType,e,r,n,a,this.firstUrl,this.maxIterators,o,this.mediators);return this.sourcesState?u.setSourcesState(this.sourcesState):(u.setSourcesState(),this.sourcesState=u.sourcesState),o&&(o.started=!0),u}}Gw.MediatedQuadSource=Kg;Object.defineProperty(mP,"__esModule",{value:!0});mP.ActorRdfResolveQuadPatternHypermedia=void 0;const Xv=q0,V5e=zw,H5e=Gw;class q5e extends Xv.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.cache=this.cacheSize?new V5e.LRUCache({max:this.cacheSize}):void 0;const r=this.cache;r&&this.httpInvalidator.addInvalidateListener(({url:n})=>n?r.delete(n):r.clear()),e.mediatorMetadataAccumulate||(this.mediatorMetadataAccumulate={async mediate(n){return{metadata:{...n.accumulatedMetadata,...n.appendingMetadata}}}})}async test(e){if(!(0,Xv.hasContextSingleSource)(e.context))throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a single source.`);return!0}getSource(e,r){const n=(0,Xv.getContextSource)(e),a=(0,Xv.getContextSourceUrl)(n);let s;return this.cache&&this.cache.has(a)?s=this.cache.get(a):(s=new H5e.MediatedQuadSource(this.cacheSize,a,(0,Xv.getDataSourceType)(n),this.maxIterators,this.aggregateStore,{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorRdfResolveHypermedia:this.mediatorRdfResolveHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue}),this.cache&&this.cache.set(a,s)),Promise.resolve(s)}}mP.ActorRdfResolveQuadPatternHypermedia=q5e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mP,t),r(Gw,t)})(gZ);var fL={},SP={};Object.defineProperty(SP,"__esModule",{value:!0});SP.ActionObserverHttp=void 0;const z5e=Ut;let G5e=class extends z5e.ActionObserver{constructor(e){super(e),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(e,r,n){this.requests++}};SP.ActionObserverHttp=G5e;var TP={};Object.defineProperty(TP,"__esModule",{value:!0});TP.ActorQueryResultSerializeSparqlJson=void 0;const Q5e=Bl,W5e=zr;class Xg extends Q5e.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToJsonBindings(e){if(e.termType==="Literal"){const r=e,n={value:r.value,type:"literal"},{language:a}=r,{datatype:s}=r;return a?n["xml:lang"]=a:s&&s.value!=="http://www.w3.org/2001/XMLSchema#string"&&(n.datatype=s.value),n}return e.termType==="BlankNode"?{value:e.value,type:"bnode"}:e.termType==="Quad"?{value:{subject:Xg.bindingToJsonBindings(e.subject),predicate:Xg.bindingToJsonBindings(e.predicate),object:Xg.bindingToJsonBindings(e.object)},type:"triple"}:{value:e.value,type:"uri"}}async testHandleChecked(e,r){if(!["bindings","boolean"].includes(e.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(e,r,n){const a=new W5e.Readable;a._read=()=>{};const s={};if(e.type==="bindings"){const u=await e.metadata();u.variables.length>0&&(s.vars=u.variables.map(l=>l.value))}a.push(`{"head": ${JSON.stringify(s)},
`);let o=!0;if(e.type==="bindings"){const u=e.bindingsStream;u.on("error",l=>{a.emit("error",l)}),u.on("data",l=>{o?a.push(`"results": { "bindings": [
`):a.push(`,
`);const c=Object.fromEntries([...l].map(([d,f])=>[d.value,Xg.bindingToJsonBindings(f)]));a.push(JSON.stringify(c)),o=!1}),u.on("end",()=>{o&&a.push(`"results": { "bindings": [
`),a.push(`
]}`),this.emitMetadata&&a.push(`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`),a.push(`}
`),a.push(null)})}else try{a.push(`"boolean":${await e.execute()}
}
`),a.push(null)}catch(u){a.once("newListener",()=>a.emit("error",u))}return{data:a}}}TP.ActorQueryResultSerializeSparqlJson=Xg;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(SP,t),r(TP,t)})(fL);var hL={},EP={};Object.defineProperty(EP,"__esModule",{value:!0});EP.ActionObserverHttp=void 0;const K5e=Ut;class X5e extends K5e.ActionObserver{constructor(e){super(e),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(e,r,n){this.requests++}}EP.ActionObserverHttp=X5e;var AP={};Object.defineProperty(AP,"__esModule",{value:!0});AP.ActorQueryResultSerializeStats=void 0;const J5e=Bl,Y5e=zr,Z5e=ff();class e8e extends J5e.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,r){if(!["bindings","quads"].includes(e.type))throw new Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(e){const r=["Result","Delay (ms)","HTTP requests"].join(",");e.push(`${r}
`)}pushStat(e,r,n){const a=[n,this.delay(r),this.httpObserver.requests].join(",");e.push(`${a}
`)}pushFooter(e,r){const n=["TOTAL",this.delay(r),this.httpObserver.requests].join(",");e.push(`${n}
`),e.push(null)}async runHandle(e,r,n){const a=new Y5e.Readable;a._read=()=>{};const s=e.type==="bindings"?e.bindingsStream:e.quadStream,o=this.now();let u=1;return this.pushHeader(a),s.on("error",l=>a.emit("error",l)),s.on("data",()=>this.pushStat(a,o,u++)),s.on("end",()=>this.pushFooter(a,o)),{data:a}}now(){if(typeof performance>"u"){const e=Z5e.hrtime();return e[0]*1e3+e[1]/1e6}return performance.now()}delay(e){return this.now()-e}}AP.ActorQueryResultSerializeStats=e8e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(EP,t),r(AP,t)})(hL);var SZ={},xP={},OP={};Object.defineProperty(OP,"__esModule",{value:!0});OP.LRUCache=void 0;const Jv=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,TZ=new Set,_6=typeof process=="object"&&process?process:{},EZ=(t,e,r,n)=>{typeof _6.emitWarning=="function"?_6.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let bE=globalThis.AbortController,eU=globalThis.AbortSignal;var YU;if(typeof bE>"u"){eU=class{constructor(){lt(this,"onabort");lt(this,"_onabort",[]);lt(this,"reason");lt(this,"aborted",!1)}addEventListener(n,a){this._onabort.push(a)}},bE=class{constructor(){lt(this,"signal",new eU);e()}abort(n){var a,s;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const o of this.signal._onabort)o(n);(s=(a=this.signal).onabort)==null||s.call(a,n)}}};let t=((YU=_6.env)==null?void 0:YU.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,EZ("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const t8e=t=>!TZ.has(t),Xf=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),AZ=t=>Xf(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?mT:null:null;class mT extends Array{constructor(e){super(e),this.fill(0)}}var Oy;const Yg=class{constructor(e,r){lt(this,"heap");lt(this,"length");if(!x(Yg,Oy))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}static create(e){const r=AZ(e);if(!r)return[];Fe(Yg,Oy,!0);const n=new Yg(e,r);return Fe(Yg,Oy,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};let vT=Yg;Oy=new WeakMap,Ue(vT,Oy,!1);var pl,$o,Tc,gl,Ry,na,yl,ia,Mn,Sr,Ls,Uo,os,wa,ml,Va,jd,Md,vl,Ec,hh,io,o1,S6,t0,Bd,u1,Vo,NE,xZ,r0,Iy,l1,Ac,Jf,xc,Yf,c1,T6,Py,bT,Cy,_T,xn,ei,d1,E6,n0,Ib;const rj=class{constructor(e){Ue(this,o1);Ue(this,NE);Ue(this,Ac);Ue(this,xc);Ue(this,c1);Ue(this,Py);Ue(this,Cy);Ue(this,xn);Ue(this,d1);Ue(this,n0);Ue(this,pl,void 0);Ue(this,$o,void 0);Ue(this,Tc,void 0);Ue(this,gl,void 0);Ue(this,Ry,void 0);lt(this,"ttl");lt(this,"ttlResolution");lt(this,"ttlAutopurge");lt(this,"updateAgeOnGet");lt(this,"updateAgeOnHas");lt(this,"allowStale");lt(this,"noDisposeOnSet");lt(this,"noUpdateTTL");lt(this,"maxEntrySize");lt(this,"sizeCalculation");lt(this,"noDeleteOnFetchRejection");lt(this,"noDeleteOnStaleGet");lt(this,"allowStaleOnFetchAbort");lt(this,"allowStaleOnFetchRejection");lt(this,"ignoreFetchAbort");Ue(this,na,void 0);Ue(this,yl,void 0);Ue(this,ia,void 0);Ue(this,Mn,void 0);Ue(this,Sr,void 0);Ue(this,Ls,void 0);Ue(this,Uo,void 0);Ue(this,os,void 0);Ue(this,wa,void 0);Ue(this,ml,void 0);Ue(this,Va,void 0);Ue(this,jd,void 0);Ue(this,Md,void 0);Ue(this,vl,void 0);Ue(this,Ec,void 0);Ue(this,hh,void 0);Ue(this,io,void 0);Ue(this,t0,()=>{});Ue(this,Bd,()=>{});Ue(this,u1,()=>{});Ue(this,Vo,()=>!1);Ue(this,r0,e=>{});Ue(this,Iy,(e,r,n)=>{});Ue(this,l1,(e,r,n,a)=>{if(n||a)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});const{max:r=0,ttl:n,ttlResolution:a=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:u,allowStale:l,dispose:c,disposeAfter:d,noDisposeOnSet:f,noUpdateTTL:h,maxSize:p=0,maxEntrySize:g=0,sizeCalculation:y,fetchMethod:S,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:T,ignoreFetchAbort:R}=e;if(r!==0&&!Xf(r))throw new TypeError("max option must be a nonnegative integer");const I=r?AZ(r):Array;if(!I)throw new Error("invalid max value: "+r);if(Fe(this,pl,r),Fe(this,$o,p),this.maxEntrySize=g||x(this,$o),this.sizeCalculation=y,this.sizeCalculation){if(!x(this,$o)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("fetchMethod must be a function if specified");if(Fe(this,Ry,S),Fe(this,hh,!!S),Fe(this,ia,new Map),Fe(this,Mn,new Array(r).fill(void 0)),Fe(this,Sr,new Array(r).fill(void 0)),Fe(this,Ls,new I(r)),Fe(this,Uo,new I(r)),Fe(this,os,0),Fe(this,wa,0),Fe(this,ml,vT.create(r)),Fe(this,na,0),Fe(this,yl,0),typeof c=="function"&&Fe(this,Tc,c),typeof d=="function"?(Fe(this,gl,d),Fe(this,Va,[])):(Fe(this,gl,void 0),Fe(this,Va,void 0)),Fe(this,Ec,!!x(this,Tc)),Fe(this,io,!!x(this,gl)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!E,this.allowStaleOnFetchAbort=!!T,this.ignoreFetchAbort=!!R,this.maxEntrySize!==0){if(x(this,$o)!==0&&!Xf(x(this,$o)))throw new TypeError("maxSize must be a positive integer if specified");if(!Xf(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");xe(this,NE,xZ).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!u,this.ttlResolution=Xf(a)||a===0?a:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!Xf(this.ttl))throw new TypeError("ttl must be a positive integer if specified");xe(this,o1,S6).call(this)}if(x(this,pl)===0&&this.ttl===0&&x(this,$o)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!x(this,pl)&&!x(this,$o)){const D="LRU_CACHE_UNBOUNDED";t8e(D)&&(TZ.add(D),EZ("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,rj))}}static unsafeExposeInternals(e){return{starts:x(e,Md),ttls:x(e,vl),sizes:x(e,jd),keyMap:x(e,ia),keyList:x(e,Mn),valList:x(e,Sr),next:x(e,Ls),prev:x(e,Uo),get head(){return x(e,os)},get tail(){return x(e,wa)},free:x(e,ml),isBackgroundFetch:r=>{var n;return xe(n=e,xn,ei).call(n,r)},backgroundFetch:(r,n,a,s)=>{var o;return xe(o=e,Cy,_T).call(o,r,n,a,s)},moveToTail:r=>{var n;return xe(n=e,n0,Ib).call(n,r)},indexes:r=>{var n;return xe(n=e,Ac,Jf).call(n,r)},rindexes:r=>{var n;return xe(n=e,xc,Yf).call(n,r)},isStale:r=>{var n;return x(n=e,Vo).call(n,r)}}}get max(){return x(this,pl)}get maxSize(){return x(this,$o)}get calculatedSize(){return x(this,yl)}get size(){return x(this,na)}get fetchMethod(){return x(this,Ry)}get dispose(){return x(this,Tc)}get disposeAfter(){return x(this,gl)}getRemainingTTL(e){return x(this,ia).has(e)?1/0:0}*entries(){for(const e of xe(this,Ac,Jf).call(this))x(this,Sr)[e]!==void 0&&x(this,Mn)[e]!==void 0&&!xe(this,xn,ei).call(this,x(this,Sr)[e])&&(yield[x(this,Mn)[e],x(this,Sr)[e]])}*rentries(){for(const e of xe(this,xc,Yf).call(this))x(this,Sr)[e]!==void 0&&x(this,Mn)[e]!==void 0&&!xe(this,xn,ei).call(this,x(this,Sr)[e])&&(yield[x(this,Mn)[e],x(this,Sr)[e]])}*keys(){for(const e of xe(this,Ac,Jf).call(this)){const r=x(this,Mn)[e];r!==void 0&&!xe(this,xn,ei).call(this,x(this,Sr)[e])&&(yield r)}}*rkeys(){for(const e of xe(this,xc,Yf).call(this)){const r=x(this,Mn)[e];r!==void 0&&!xe(this,xn,ei).call(this,x(this,Sr)[e])&&(yield r)}}*values(){for(const e of xe(this,Ac,Jf).call(this))x(this,Sr)[e]!==void 0&&!xe(this,xn,ei).call(this,x(this,Sr)[e])&&(yield x(this,Sr)[e])}*rvalues(){for(const e of xe(this,xc,Yf).call(this))x(this,Sr)[e]!==void 0&&!xe(this,xn,ei).call(this,x(this,Sr)[e])&&(yield x(this,Sr)[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(const n of xe(this,Ac,Jf).call(this)){const a=x(this,Sr)[n],s=xe(this,xn,ei).call(this,a)?a.__staleWhileFetching:a;if(s!==void 0&&e(s,x(this,Mn)[n],this))return this.get(x(this,Mn)[n],r)}}forEach(e,r=this){for(const n of xe(this,Ac,Jf).call(this)){const a=x(this,Sr)[n],s=xe(this,xn,ei).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,x(this,Mn)[n],this)}}rforEach(e,r=this){for(const n of xe(this,xc,Yf).call(this)){const a=x(this,Sr)[n],s=xe(this,xn,ei).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,x(this,Mn)[n],this)}}purgeStale(){let e=!1;for(const r of xe(this,xc,Yf).call(this,{allowStale:!0}))x(this,Vo).call(this,r)&&(this.delete(x(this,Mn)[r]),e=!0);return e}dump(){const e=[];for(const r of xe(this,Ac,Jf).call(this,{allowStale:!0})){const n=x(this,Mn)[r],a=x(this,Sr)[r],s=xe(this,xn,ei).call(this,a)?a.__staleWhileFetching:a;if(s===void 0||n===void 0)continue;const o={value:s};if(x(this,vl)&&x(this,Md)){o.ttl=x(this,vl)[r];const u=Jv.now()-x(this,Md)[r];o.start=Math.floor(Date.now()-u)}x(this,jd)&&(o.size=x(this,jd)[r]),e.unshift([n,o])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const a=Date.now()-n.start;n.start=Jv.now()-a}this.set(r,n.value,n)}}set(e,r,n={}){var h,p,g;if(r===void 0)return this.delete(e),this;const{ttl:a=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:l}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const d=x(this,l1).call(this,e,r,n.size||0,u);if(this.maxEntrySize&&d>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let f=x(this,na)===0?void 0:x(this,ia).get(e);if(f===void 0)f=x(this,na)===0?x(this,wa):x(this,ml).length!==0?x(this,ml).pop():x(this,na)===x(this,pl)?xe(this,Py,bT).call(this,!1):x(this,na),x(this,Mn)[f]=e,x(this,Sr)[f]=r,x(this,ia).set(e,f),x(this,Ls)[x(this,wa)]=f,x(this,Uo)[f]=x(this,wa),Fe(this,wa,f),Ya(this,na)._++,x(this,Iy).call(this,f,d,l),l&&(l.set="add"),c=!1;else{xe(this,n0,Ib).call(this,f);const y=x(this,Sr)[f];if(r!==y){if(x(this,hh)&&xe(this,xn,ei).call(this,y)?y.__abortController.abort(new Error("replaced")):o||(x(this,Ec)&&((h=x(this,Tc))==null||h.call(this,y,e,"set")),x(this,io)&&((p=x(this,Va))==null||p.push([y,e,"set"]))),x(this,r0).call(this,f),x(this,Iy).call(this,f,d,l),x(this,Sr)[f]=r,l){l.set="replace";const S=y&&xe(this,xn,ei).call(this,y)?y.__staleWhileFetching:y;S!==void 0&&(l.oldValue=S)}}else l&&(l.set="update")}if(a!==0&&!x(this,vl)&&xe(this,o1,S6).call(this),x(this,vl)&&(c||x(this,u1).call(this,f,a,s),l&&x(this,Bd).call(this,l,f)),!o&&x(this,io)&&x(this,Va)){const y=x(this,Va);let S;for(;S=y==null?void 0:y.shift();)(g=x(this,gl))==null||g.call(this,...S)}return this}pop(){var e;try{for(;x(this,na);){const r=x(this,Sr)[x(this,os)];if(xe(this,Py,bT).call(this,!0),xe(this,xn,ei).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(x(this,io)&&x(this,Va)){const r=x(this,Va);let n;for(;n=r==null?void 0:r.shift();)(e=x(this,gl))==null||e.call(this,...n)}}}has(e,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:a}=r,s=x(this,ia).get(e);if(s!==void 0){const o=x(this,Sr)[s];if(xe(this,xn,ei).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(x(this,Vo).call(this,s))a&&(a.has="stale",x(this,Bd).call(this,a,s));else return n&&x(this,t0).call(this,s),a&&(a.has="hit",x(this,Bd).call(this,a,s)),!0}else a&&(a.has="miss");return!1}peek(e,r={}){const{allowStale:n=this.allowStale}=r,a=x(this,ia).get(e);if(a!==void 0&&(n||!x(this,Vo).call(this,a))){const s=x(this,Sr)[a];return xe(this,xn,ei).call(this,s)?s.__staleWhileFetching:s}}async fetch(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:u=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:S=!1,status:v,signal:A}=r;if(!x(this,hh))return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,status:v});const E={allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:u,size:l,sizeCalculation:c,noUpdateTTL:d,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:g,ignoreFetchAbort:p,status:v,signal:A};let T=x(this,ia).get(e);if(T===void 0){v&&(v.fetch="miss");const R=xe(this,Cy,_T).call(this,e,T,E,y);return R.__returned=R}else{const R=x(this,Sr)[T];if(xe(this,xn,ei).call(this,R)){const O=n&&R.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",O&&(v.returnedStale=!0)),O?R.__staleWhileFetching:R.__returned=R}const I=x(this,Vo).call(this,T);if(!S&&!I)return v&&(v.fetch="hit"),xe(this,n0,Ib).call(this,T),a&&x(this,t0).call(this,T),v&&x(this,Bd).call(this,v,T),R;const D=xe(this,Cy,_T).call(this,e,T,E,y),N=D.__staleWhileFetching!==void 0&&n;return v&&(v.fetch=I?"stale":"refresh",N&&I&&(v.returnedStale=!0)),N?D.__staleWhileFetching:D.__returned=D}}get(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,u=x(this,ia).get(e);if(u!==void 0){const l=x(this,Sr)[u],c=xe(this,xn,ei).call(this,l);return o&&x(this,Bd).call(this,o,u),x(this,Vo).call(this,u)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.delete(e),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(xe(this,n0,Ib).call(this,u),a&&x(this,t0).call(this,u),l))}else o&&(o.get="miss")}delete(e){var n,a,s,o;let r=!1;if(x(this,na)!==0){const u=x(this,ia).get(e);if(u!==void 0)if(r=!0,x(this,na)===1)this.clear();else{x(this,r0).call(this,u);const l=x(this,Sr)[u];xe(this,xn,ei).call(this,l)?l.__abortController.abort(new Error("deleted")):(x(this,Ec)||x(this,io))&&(x(this,Ec)&&((n=x(this,Tc))==null||n.call(this,l,e,"delete")),x(this,io)&&((a=x(this,Va))==null||a.push([l,e,"delete"]))),x(this,ia).delete(e),x(this,Mn)[u]=void 0,x(this,Sr)[u]=void 0,u===x(this,wa)?Fe(this,wa,x(this,Uo)[u]):u===x(this,os)?Fe(this,os,x(this,Ls)[u]):(x(this,Ls)[x(this,Uo)[u]]=x(this,Ls)[u],x(this,Uo)[x(this,Ls)[u]]=x(this,Uo)[u]),Ya(this,na)._--,x(this,ml).push(u)}}if(x(this,io)&&((s=x(this,Va))!=null&&s.length)){const u=x(this,Va);let l;for(;l=u==null?void 0:u.shift();)(o=x(this,gl))==null||o.call(this,...l)}return r}clear(){var e,r,n;for(const a of xe(this,xc,Yf).call(this,{allowStale:!0})){const s=x(this,Sr)[a];if(xe(this,xn,ei).call(this,s))s.__abortController.abort(new Error("deleted"));else{const o=x(this,Mn)[a];x(this,Ec)&&((e=x(this,Tc))==null||e.call(this,s,o,"delete")),x(this,io)&&((r=x(this,Va))==null||r.push([s,o,"delete"]))}}if(x(this,ia).clear(),x(this,Sr).fill(void 0),x(this,Mn).fill(void 0),x(this,vl)&&x(this,Md)&&(x(this,vl).fill(0),x(this,Md).fill(0)),x(this,jd)&&x(this,jd).fill(0),Fe(this,os,0),Fe(this,wa,0),x(this,ml).length=0,Fe(this,yl,0),Fe(this,na,0),x(this,io)&&x(this,Va)){const a=x(this,Va);let s;for(;s=a==null?void 0:a.shift();)(n=x(this,gl))==null||n.call(this,...s)}}};let w6=rj;pl=new WeakMap,$o=new WeakMap,Tc=new WeakMap,gl=new WeakMap,Ry=new WeakMap,na=new WeakMap,yl=new WeakMap,ia=new WeakMap,Mn=new WeakMap,Sr=new WeakMap,Ls=new WeakMap,Uo=new WeakMap,os=new WeakMap,wa=new WeakMap,ml=new WeakMap,Va=new WeakMap,jd=new WeakMap,Md=new WeakMap,vl=new WeakMap,Ec=new WeakMap,hh=new WeakMap,io=new WeakMap,o1=new WeakSet,S6=function(){const e=new mT(x(this,pl)),r=new mT(x(this,pl));Fe(this,vl,e),Fe(this,Md,r),Fe(this,u1,(s,o,u=Jv.now())=>{if(r[s]=o!==0?u:0,e[s]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{x(this,Vo).call(this,s)&&this.delete(x(this,Mn)[s])},o+1);l.unref&&l.unref()}}),Fe(this,t0,s=>{r[s]=e[s]!==0?Jv.now():0}),Fe(this,Bd,(s,o)=>{if(e[o]){const u=e[o],l=r[o];s.ttl=u,s.start=l,s.now=n||a();const c=s.now-l;s.remainingTTL=u-c}});let n=0;const a=()=>{const s=Jv.now();if(this.ttlResolution>0){n=s;const o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=x(this,ia).get(s);if(o===void 0)return 0;const u=e[o],l=r[o];if(u===0||l===0)return 1/0;const c=(n||a())-l;return u-c},Fe(this,Vo,s=>e[s]!==0&&r[s]!==0&&(n||a())-r[s]>e[s])},t0=new WeakMap,Bd=new WeakMap,u1=new WeakMap,Vo=new WeakMap,NE=new WeakSet,xZ=function(){const e=new mT(x(this,pl));Fe(this,yl,0),Fe(this,jd,e),Fe(this,r0,r=>{Fe(this,yl,x(this,yl)-e[r]),e[r]=0}),Fe(this,l1,(r,n,a,s)=>{if(xe(this,xn,ei).call(this,n))return 0;if(!Xf(a))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(a=s(n,r),!Xf(a))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return a}),Fe(this,Iy,(r,n,a)=>{if(e[r]=n,x(this,$o)){const s=x(this,$o)-e[r];for(;x(this,yl)>s;)xe(this,Py,bT).call(this,!0)}Fe(this,yl,x(this,yl)+e[r]),a&&(a.entrySize=n,a.totalCalculatedSize=x(this,yl))})},r0=new WeakMap,Iy=new WeakMap,l1=new WeakMap,Ac=new WeakSet,Jf=function*({allowStale:e=this.allowStale}={}){if(x(this,na))for(let r=x(this,wa);!(!xe(this,c1,T6).call(this,r)||((e||!x(this,Vo).call(this,r))&&(yield r),r===x(this,os)));)r=x(this,Uo)[r]},xc=new WeakSet,Yf=function*({allowStale:e=this.allowStale}={}){if(x(this,na))for(let r=x(this,os);!(!xe(this,c1,T6).call(this,r)||((e||!x(this,Vo).call(this,r))&&(yield r),r===x(this,wa)));)r=x(this,Ls)[r]},c1=new WeakSet,T6=function(e){return e!==void 0&&x(this,ia).get(x(this,Mn)[e])===e},Py=new WeakSet,bT=function(e){var s,o;const r=x(this,os),n=x(this,Mn)[r],a=x(this,Sr)[r];return x(this,hh)&&xe(this,xn,ei).call(this,a)?a.__abortController.abort(new Error("evicted")):(x(this,Ec)||x(this,io))&&(x(this,Ec)&&((s=x(this,Tc))==null||s.call(this,a,n,"evict")),x(this,io)&&((o=x(this,Va))==null||o.push([a,n,"evict"]))),x(this,r0).call(this,r),e&&(x(this,Mn)[r]=void 0,x(this,Sr)[r]=void 0,x(this,ml).push(r)),x(this,na)===1?(Fe(this,os,Fe(this,wa,0)),x(this,ml).length=0):Fe(this,os,x(this,Ls)[r]),x(this,ia).delete(n),Ya(this,na)._--,r},Cy=new WeakSet,_T=function(e,r,n,a){const s=r===void 0?void 0:x(this,Sr)[r];if(xe(this,xn,ei).call(this,s))return s;const o=new bE,{signal:u}=n;u==null||u.addEventListener("abort",()=>o.abort(u.reason),{signal:o.signal});const l={signal:o.signal,options:n,context:a},c=(y,S=!1)=>{const{aborted:v}=o.signal,A=n.ignoreFetchAbort&&y!==void 0;if(n.status&&(v&&!S?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,A&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),v&&!A&&!S)return f(o.signal.reason);const E=p;return x(this,Sr)[r]===p&&(y===void 0?E.__staleWhileFetching?x(this,Sr)[r]=E.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,y,l.options))),y},d=y=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=y),f(y)),f=y=>{const{aborted:S}=o.signal,v=S&&n.allowStaleOnFetchAbort,A=v||n.allowStaleOnFetchRejection,E=A||n.noDeleteOnFetchRejection,T=p;if(x(this,Sr)[r]===p&&(!E||T.__staleWhileFetching===void 0?this.delete(e):v||(x(this,Sr)[r]=T.__staleWhileFetching)),A)return n.status&&T.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),T.__staleWhileFetching;if(T.__returned===T)throw y},h=(y,S)=>{var A;const v=(A=x(this,Ry))==null?void 0:A.call(this,e,s,l);v&&v instanceof Promise&&v.then(E=>y(E===void 0?void 0:E),S),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(y(void 0),n.allowStaleOnFetchAbort&&(y=E=>c(E,!0)))})};n.status&&(n.status.fetchDispatched=!0);const p=new Promise(h).then(c,d),g=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,g,{...l.options,status:void 0}),r=x(this,ia).get(e)):x(this,Sr)[r]=g,g},xn=new WeakSet,ei=function(e){if(!x(this,hh))return!1;const r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof bE},d1=new WeakSet,E6=function(e,r){x(this,Uo)[r]=e,x(this,Ls)[e]=r},n0=new WeakSet,Ib=function(e){e!==x(this,wa)&&(e===x(this,os)?Fe(this,os,x(this,Ls)[e]):xe(this,d1,E6).call(this,x(this,Uo)[e],x(this,Ls)[e]),xe(this,d1,E6).call(this,x(this,wa),e),Fe(this,wa,e))};OP.LRUCache=w6;Object.defineProperty(xP,"__esModule",{value:!0});xP.ActorRdfResolveQuadPatternStringSource=void 0;const _N=q0,r8e=cn,n8e=OP,i8e=bw,a8e=zr;class RP extends _N.ActorRdfResolveQuadPattern{constructor(e){super(e),this.cache=this.cacheSize?new n8e.LRUCache({max:this.cacheSize}):void 0}async test(e){const r=(0,_N.getContextSource)(e.context);if(!r)throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a source.`);if(!this.isStringSource(r.valueOf()))throw new Error(`Actor ${this.name} can only resolve stringSource quad pattern`);return!0}run(e){var a;const r=(0,_N.getContextSource)(e.context);let n=(a=this.cache)==null?void 0:a.get(r);return n||(n=this.getRdfSource(e.context,r),this.cache&&this.cache.set(r,n)),n.then(s=>this.mediatorRdfResolveQuadPattern.mediate({pattern:e.pattern,context:e.context.set(r8e.KeysRdfResolveQuadPattern.source,{value:s,type:"rdfjsSource"})}))}async getRdfSource(e,r){const n=new a8e.Readable({objectMode:!0});n._read=()=>{},n.push(r.value),n.push(null);const a={context:e,handle:{metadata:{baseIRI:r.baseIRI},data:n,context:e},handleMediaType:r.mediaType},s=await this.mediatorRdfParse.mediate(a);return await(0,i8e.storeStream)(s.handle.data)}isStringSource(e){return"type"in e?e.type===RP.sourceType:typeof e.value!="string"?!1:"mediaType"in e}}xP.ActorRdfResolveQuadPatternStringSource=RP;RP.sourceType="stringSource";(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xP,t)})(SZ);const s8e=new hW.LoggerVoid,o8e=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^2.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),OZ=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^2.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),RZ=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^2.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),IP=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^2.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),pL=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^2.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),ou=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^2.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),gL=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^2.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),IZ=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^2.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),PZ=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^2.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),CZ=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^2.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),yL=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^2.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),mf=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^2.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),Ww=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^2.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),Kh=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^2.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),PP=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^2.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),CP=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia/^2.0.0/components/ActorRdfResolveHypermedia.jsonld#ActorRdfResolveHypermedia_default_bus"}),DZ=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^2.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),NZ=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^2.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),Hm=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^2.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),DP=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^2.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),mL=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^2.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),Kw=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^2.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),FZ=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^2.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),Rr=new tr.BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^2.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),uu=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^2.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),Xw=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/^2.0.0/components/ActorRdfResolveQuadPattern.jsonld#ActorRdfResolveQuadPattern_default_bus"}),Jw=new Ut.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^2.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"});new pW.ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:OZ});const u8e=new s8.MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:OZ});new yW.ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:RZ});const vL=new Ws.MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:RZ});new vW.ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:IP});new bW.ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:IP});new _W.ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:IP});const l8e=new s8.MediatorCombinePipeline({name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:IP});new wW.ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:pL});new SW.ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:pL});const c8e=new Ws.MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:pL});new VW.ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:ou});new HW.ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:ou});new qW.ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:ou});new zW.ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:ou});new JW.ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:ou});new YW.ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:ou});new eK.ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:ou});const d8e=new Ws.MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:ou}),f8e=new qh.MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:ou}),h8e=new qh.MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:ou}),p8e=new aK.ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:gL}),g8e=new Ws.MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:gL}),bL=new Ws.MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:IZ});new lK.ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:PZ});const LZ=new Ws.MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:PZ});new dK.ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:CZ});const Nu=new km.MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:CZ});new hK.ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:yL});new pK.ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:yL});const _L=new Ws.MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:yL});new gK.ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:mf});new yK.ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:mf});new mK.ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:mf});new vK.ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:mf});new bK.ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:mf});new _K.ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:mf});new wK.ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:mf});new SK.ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:mf});const wL=new qh.MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:mf});new TK.ActorRdfMetadataAccumulateCanContainUndefs({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cancontainundefs",bus:Ww});new EK.ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:Ww});new AK.ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:Ww});new xK.ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:Ww});const jZ=new qh.MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:Ww});new OK.ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:Kh});new RK.ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:Kh});new $K.ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:Kh});new mX.ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:Kh});const SL=new Ws.MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:Kh}),MZ=new qh.MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:Kh});new bX.ActorRdfParseHtml({busRdfParseHtml:PP,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:Kh});new wX.ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:PP});new RX.ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:PP});new IX.ActorRdfResolveHypermediaNone({name:"urn:comunica:default:rdf-resolve-hypermedia/actors#none",bus:CP});const y8e=new km.MediatorNumber({field:"filterFactor",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-resolve-hypermedia/mediators#main",bus:CP});new kX.ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:DZ});const m8e=new Ws.MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:DZ});new UX.ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:NZ});const v8e=new Ws.MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:NZ});new qX.ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:Hm});new zX.ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:Hm});new QX.ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:Hm});const BZ=new Ws.MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:Hm}),kZ=new qh.MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:Hm}),b8e=new qh.MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:Hm}),_8e=new Ws.MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:DP});new JX.ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:mL});const Yw=new Ws.MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:mL}),w8e=new hJ.ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:Kw}),S8e=new km.MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:Kw}),Xh=new km.MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#main",bus:FZ});new pJ.ActorQueryOperationValues({name:"urn:comunica:default:query-operation/actors#values",bus:Rr});const Dr=new km.MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:Rr}),Zw=new gJ.MediatorJoinCoefficientsFixed({cpuWeight:1,memoryWeight:1,timeWeight:10,ioWeight:100,name:"urn:comunica:default:rdf-join/mediators#main",bus:uu}),TL=new Ws.MediatorRace({name:"urn:comunica:default:rdf-resolve-quad-pattern/mediators#main",bus:Xw}),T8e=new yJ.MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:Jw}),E8e=new Pw.ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^2.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:Jw}),A8e=new Pw.ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-resolve-quad-pattern-hypermedia/^2.0.0/components/ActorRdfResolveQuadPatternHypermedia.jsonld#IActorRdfResolveQuadPatternHypermediaArgs_default_invalidator",bus:Jw}),x8e=new Pw.ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^2.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:Jw}),O8e=new Pw.ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^2.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:Jw});new mJ.ActorRdfJoinNone({mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:uu});new vJ.ActorRdfJoinSingle({mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:uu});new bJ.ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:uu});new _J.ActorRdfJoinHash({mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:uu});new SJ.ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:uu});new TJ.ActorRdfJoinNestedLoop({mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:uu});new EJ.ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:uu});new AJ.ActorRdfJoinMinusHash({mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:uu});new xJ.ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:uu});new OJ.ActorRdfResolveHypermediaQpf({mediatorMetadata:_L,mediatorMetadataExtract:wL,mediatorDereferenceRdf:bL,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:rdf-resolve-hypermedia/actors#qpf",bus:CP});new IJ.ActorDereferenceRdfParse({mediatorDereference:g8e,mediatorParse:SL,mediatorParseMediatypes:MZ,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:IZ});new CJ.ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:MZ,mediatorRdfParseHandle:SL,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:PP});new DJ.ActorQueryResultSerializeRdf({mediatorRdfSerialize:BZ,mediatorMediaTypeCombiner:kZ,mediatorMediaTypeFormatCombiner:b8e,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:ou});new NJ.ActorHttpWayback({mediatorHttp:S8e,name:"urn:comunica:default:http/actors#wayback",bus:FZ});new FJ.ActorRdfParseJsonLd({mediatorHttp:Xh,mediaTypePriorities:{"application/json":.5,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:Kh});new LJ.ActorRdfResolveHypermediaSparql({mediatorHttp:Xh,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:CP});new VJ.ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:Xh,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:DP});new HJ.ActorRdfUpdateHypermediaPutLdp({mediatorHttp:Xh,mediatorRdfSerializeMediatypes:kZ,mediatorRdfSerialize:BZ,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:DP});new qJ.ActorRdfUpdateHypermediaSparql({mediatorHttp:Xh,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:DP});new zJ.ActorQueryOperationSparqlEndpoint({mediatorHttp:Xh,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,forceHttpGet:!1,name:"urn:comunica:default:query-operation/actors#sparql-endpoint",bus:Rr});new GJ.ActorQueryOperationAsk({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#ask",bus:Rr});new X8.ActorQueryOperationConstruct({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#construct",bus:Rr});new QJ.ActorQueryOperationBgpJoin({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#bgp",bus:Rr});new WJ.ActorQueryOperationDescribeSubject({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#describe",bus:Rr});new KJ.ActorQueryOperationDistinctHash({mediatorHashBindings:vL,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#distinct",bus:Rr});new XJ.ActorQueryOperationFilterSparqlee({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#filter",bus:Rr});new TY.ActorQueryOperationExtend({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#extend",bus:Rr});new EY.ActorQueryOperationFromQuad({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#from",bus:Rr});new AY.ActorQueryOperationGroup({mediatorHashBindings:vL,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#group",bus:Rr});new xY.ActorQueryOperationOrderBySparqlee({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#orderby",bus:Rr});new OY.ActorQueryOperationProject({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#project",bus:Rr});new RY.ActorQueryOperationNop({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#nop",bus:Rr});new IY.ActorQueryOperationReducedHash({mediatorHashBindings:vL,cacheSize:100,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#reduced",bus:Rr});new LY.ActorQueryOperationSlice({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#slice",bus:Rr});new jY.ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#service",bus:Rr});new KR.ActorQueryOperationUnion({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#union",bus:Rr});new MY.ActorQueryOperationPathAlt({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#path-alt",bus:Rr});new BY.ActorQueryOperationPathInv({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#path-inv",bus:Rr});new kY.ActorQueryOperationPathNps({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#path-nps",bus:Rr});new $Y.ActorQueryOperationPathLink({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#path-link",bus:Rr});new UY.ActorQueryOperationPathOneOrMore({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:Rr});new VY.ActorQueryOperationPathZeroOrMore({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:Rr});new HY.ActorQueryOperationPathZeroOrOne({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:Rr});new qY.ActorQueryOperationClear({mediatorUpdateQuads:Yw,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#update-clear",bus:Rr});new zY.ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#update-composite",bus:Rr});new GY.ActorQueryOperationAddRewrite({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#update-add",bus:Rr});new QY.ActorQueryOperationCreate({mediatorUpdateQuads:Yw,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#update-create",bus:Rr});new WY.ActorQueryOperationCopyRewrite({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#update-copy",bus:Rr});new KY.ActorQueryOperationDrop({mediatorUpdateQuads:Yw,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#update-drop",bus:Rr});new XY.ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:Yw,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:Rr});new JY.ActorQueryOperationLoad({mediatorUpdateQuads:Yw,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#update-load",bus:Rr});new YY.ActorQueryOperationMoveRewrite({mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#update-move",bus:Rr});new dL.ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorJoinEntriesSort:LZ,mediatorQueryOperation:Dr,mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:uu});new ZY.ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorQueryOperation:Dr,mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:uu});new eZ.ActorQueryOperationJoin({mediatorJoin:Zw,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#join",bus:Rr});new tZ.ActorQueryOperationLeftJoin({mediatorJoin:Zw,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:Rr});new rZ.ActorQueryOperationMinus({mediatorJoin:Zw,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#minus",bus:Rr});new nZ.ActorQueryOperationPathSeq({mediatorJoin:Zw,mediatorQueryOperation:Dr,name:"urn:comunica:default:query-operation/actors#path-seq",bus:Rr});new iZ.ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:LZ,mediatorJoin:Zw,mediatorJoinSelectivity:Nu,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:uu});new aZ.ActorQueryOperationQuadpattern({mediatorResolveQuadPattern:TL,unionDefaultGraph:!1,name:"urn:comunica:default:query-operation/actors#quadpattern",bus:Rr});new G8.ActorRdfResolveQuadPatternFederated({mediatorResolveQuadPattern:TL,mediatorRdfMetadataAccumulate:jZ,skipEmptyPatterns:!1,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#federated",bus:Xw});new sZ.ActorDereferenceHttp({mediatorHttp:Xh,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:gL,beforeActors:[p8e]});new uZ.ActorHttpProxy({mediatorHttp:Xh,name:"urn:comunica:default:http/actors#proxy",bus:Kw,beforeActors:[w8e]});const R8e=new p5.ActorInitQuery({mediatorOptimizeQueryOperation:l8e,mediatorQueryOperation:Dr,mediatorQueryParse:c8e,mediatorQueryResultSerialize:d8e,mediatorQueryResultSerializeMediaTypeCombiner:f8e,mediatorQueryResultSerializeMediaTypeFormatCombiner:h8e,mediatorContextPreprocess:u8e,mediatorHttpInvalidate:T8e,logger:s8e,defaultQueryInputFormat:"sparql",allowNoSources:!1,contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelay:"@comunica/bus-http:http-retry-delay",httpRetryOnServerError:"@comunica/bus-http:http-retry-on-server-error",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:init/actors#query",bus:o8e});new lZ.ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:E8e,mediatorDereferenceRdf:bL,mediatorMetadata:_L,mediatorMetadataExtract:wL,mediatorRdfUpdateHypermedia:_8e,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:mL});const $Z=new gZ.ActorRdfResolveQuadPatternHypermedia({cacheSize:100,httpInvalidator:A8e,maxIterators:64,aggregateStore:!1,mediatorDereferenceRdf:bL,mediatorMetadata:_L,mediatorMetadataExtract:wL,mediatorMetadataAccumulate:jZ,mediatorRdfResolveHypermedia:y8e,mediatorRdfResolveHypermediaLinks:m8e,mediatorRdfResolveHypermediaLinksQueue:v8e,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#hypermedia",bus:Xw}),I8e=new fL.ActionObserverHttp({httpInvalidator:x8e,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^2.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:Kw}),P8e=new hL.ActionObserverHttp({httpInvalidator:O8e,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^2.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:Kw});new fL.ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:I8e,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:ou});new hL.ActorQueryResultSerializeStats({httpObserver:P8e,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:ou});new D8.ActorRdfResolveQuadPatternRdfJsSource({name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#rdfjs-source",bus:Xw,beforeActors:[$Z]});new SZ.ActorRdfResolveQuadPatternStringSource({cacheSize:100,mediatorRdfParse:SL,mediatorRdfResolveQuadPattern:TL,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#string-source",bus:Xw,beforeActors:[$Z]});var C8e=R8e;Object.defineProperty(H3,"__esModule",{value:!0});H3.QueryEngine=void 0;const D8e=p5,N8e=C8e;class F8e extends D8e.QueryEngineBase{constructor(e=N8e){super(e)}}H3.QueryEngine=F8e;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=F&&F.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(H3,t)})(h5);var UZ="http://xmlns.com/foaf/0.1/";function It(t){return UZ+t}var L8e={PREFIX:"foaf",NAMESPACE:UZ,PREFIX_AND_NAMESPACE:{foaf:"http://xmlns.com/foaf/0.1/"},NS:It,Agent:It("Agent"),Document:It("Document"),Organization:It("Organization"),Project:It("Project"),Person:It("Person"),Group:It("Group"),Image:It("Image"),LabelProperty:It("LabelProperty"),OnlineAccount:It("OnlineAccount"),OnlineChatAccount:It("OnlineChatAccount"),OnlineEcommerceAccount:It("OnlineEcommerceAccount"),OnlineGamingAccount:It("OnlineGamingAccount"),PersonalProfileDocument:It("PersonalProfileDocument"),account:It("account"),accountName:It("accountName"),accountServiceHomepage:It("accountServiceHomepage"),age:It("age"),aimChatID:It("aimChatID"),nick:It("nick"),based_near:It("based_near"),birthday:It("birthday"),currentProject:It("currentProject"),depiction:It("depiction"),depicts:It("depicts"),dnaChecksum:It("dnaChecksum"),familyName:It("familyName"),family_name:It("family_name"),firstName:It("firstName"),focus:It("focus"),fundedBy:It("fundedBy"),geekcode:It("geekcode"),gender:It("gender"),givenName:It("givenName"),givenname:It("givenname"),holdsAccount:It("holdsAccount"),homepage:It("homepage"),page:It("page"),isPrimaryTopicOf:It("isPrimaryTopicOf"),topic:It("topic"),primaryTopic:It("primaryTopic"),icqChatID:It("icqChatID"),img:It("img"),interest:It("interest"),jabberID:It("jabberID"),knows:It("knows"),lastName:It("lastName"),logo:It("logo"),made:It("made"),maker:It("maker"),mbox:It("mbox"),mbox_sha1sum:It("mbox_sha1sum"),member:It("member"),membershipClass:It("membershipClass"),msnChatID:It("msnChatID"),myersBriggs:It("myersBriggs"),name:It("name"),openid:It("openid"),pastProject:It("pastProject"),phone:It("phone"),plan:It("plan"),publications:It("publications"),schoolHomepage:It("schoolHomepage"),sha1:It("sha1"),skypeID:It("skypeID"),status:It("status"),surname:It("surname"),theme:It("theme"),thumbnail:It("thumbnail"),tipjar:It("tipjar"),title:It("title"),topic_interest:It("topic_interest"),weblog:It("weblog"),workInfoHomepage:It("workInfoHomepage"),workplaceHomepage:It("workplaceHomepage"),yahooChatID:It("yahooChatID")},VZ="http://www.w3.org/2006/vcard/ns#";function tt(t){return VZ+t}var tU={PREFIX:"vcard",NAMESPACE:VZ,PREFIX_AND_NAMESPACE:{vcard:"http://www.w3.org/2006/vcard/ns#"},NS:tt,Acquaintance:tt("Acquaintance"),RelatedType:tt("RelatedType"),Agent:tt("Agent"),BBS:tt("BBS"),TelephoneType:tt("TelephoneType"),Car:tt("Car"),Cell:tt("Cell"),Child:tt("Child"),Colleague:tt("Colleague"),Contact:tt("Contact"),Coresident:tt("Coresident"),Coworker:tt("Coworker"),Crush:tt("Crush"),Date:tt("Date"),Dom:tt("Dom"),Type:tt("Type"),Emergency:tt("Emergency"),Fax:tt("Fax"),Female:tt("Female"),Gender:tt("Gender"),Friend:tt("Friend"),Home:tt("Home"),ISDN:tt("ISDN"),Internet:tt("Internet"),Intl:tt("Intl"),Kin:tt("Kin"),Label:tt("Label"),Male:tt("Male"),Me:tt("Me"),Met:tt("Met"),Modem:tt("Modem"),Msg:tt("Msg"),Muse:tt("Muse"),Neighbor:tt("Neighbor"),None:tt("None"),Other:tt("Other"),PCS:tt("PCS"),Pager:tt("Pager"),Parcel:tt("Parcel"),Parent:tt("Parent"),Postal:tt("Postal"),Pref:tt("Pref"),Sibling:tt("Sibling"),Spouse:tt("Spouse"),Sweetheart:tt("Sweetheart"),Tel:tt("Tel"),Text:tt("Text"),TextPhone:tt("TextPhone"),Unknown:tt("Unknown"),Video:tt("Video"),Voice:tt("Voice"),Work:tt("Work"),X400:tt("X400"),Address:tt("Address"),Email:tt("Email"),Group:tt("Group"),Kind:tt("Kind"),Individual:tt("Individual"),Location:tt("Location"),Organization:tt("Organization"),VCard:tt("VCard"),Name:tt("Name"),adr:tt("adr"),hasAddress:tt("hasAddress"),agent:tt("agent"),anniversary:tt("anniversary"),bday:tt("bday"),category:tt("category"),class:tt("class"),email:tt("email"),hasEmail:tt("hasEmail"),extended_address:tt("extended-address"),geo:tt("geo"),hasGeo:tt("hasGeo"),hasAdditionalName:tt("hasAdditionalName"),hasCalendarBusy:tt("hasCalendarBusy"),hasCalendarLink:tt("hasCalendarLink"),hasCalendarRequest:tt("hasCalendarRequest"),hasCategory:tt("hasCategory"),hasCountryName:tt("hasCountryName"),hasFN:tt("hasFN"),hasFamilyName:tt("hasFamilyName"),hasGender:tt("hasGender"),hasGivenName:tt("hasGivenName"),hasHonorificPrefix:tt("hasHonorificPrefix"),hasHonorificSuffix:tt("hasHonorificSuffix"),hasInstantMessage:tt("hasInstantMessage"),hasLanguage:tt("hasLanguage"),hasLocality:tt("hasLocality"),hasNickname:tt("hasNickname"),nickname:tt("nickname"),hasNote:tt("hasNote"),hasOrganizationName:tt("hasOrganizationName"),hasOrganizationUnit:tt("hasOrganizationUnit"),hasPostalCode:tt("hasPostalCode"),hasRegion:tt("hasRegion"),hasRelated:tt("hasRelated"),hasRole:tt("hasRole"),hasSource:tt("hasSource"),hasStreetAddress:tt("hasStreetAddress"),hasTitle:tt("hasTitle"),hasUID:tt("hasUID"),hasValue:tt("hasValue"),label:tt("label"),language:tt("language"),latitude:tt("latitude"),longitude:tt("longitude"),mailer:tt("mailer"),note:tt("note"),org:tt("org"),organization_name:tt("organization-name"),organization_unit:tt("organization-unit"),post_office_box:tt("post-office-box"),prodid:tt("prodid"),rev:tt("rev"),role:tt("role"),sort_string:tt("sort-string"),title:tt("title"),tz:tt("tz"),value:tt("value"),country_name:tt("country-name"),locality:tt("locality"),postal_code:tt("postal-code"),region:tt("region"),street_address:tt("street-address"),fn:tt("fn"),hasMember:tt("hasMember"),additional_name:tt("additional-name"),family_name:tt("family-name"),given_name:tt("given-name"),honorific_prefix:tt("honorific-prefix"),honorific_suffix:tt("honorific-suffix"),hasKey:tt("hasKey"),key:tt("key"),hasLogo:tt("hasLogo"),logo:tt("logo"),hasName:tt("hasName"),n:tt("n"),hasPhoto:tt("hasPhoto"),photo:tt("photo"),hasSound:tt("hasSound"),sound:tt("sound"),hasTelephone:tt("hasTelephone"),tel:tt("tel"),hasURL:tt("hasURL"),url:tt("url")};const j8e=new h5.QueryEngine;async function HZ(t,e){e.loaded=!1,j8e.queryBindings(`
        SELECT ?name ?photo {
            ?s a <${L8e.Person}>.
            OPTIONAL {
                ?s <${tU.hasPhoto}> ?photo
            }
            OPTIONAL {
                ?s <${tU.fn}> ?name 
            }
        } LIMIT 1
    `,{sources:[t]}).then(function(r){r.on("data",function(n){var a,s;e.avatar=(a=n.get("photo"))==null?void 0:a.id,e.name=(s=n.get("name"))==null?void 0:s.value,e.loaded=!0})})}const M8e=xa({__name:"WebidBadge",props:{webid:{}},setup(t){const e=t,r=bi({loaded:!1,avatar:void 0,name:""}),n=_e(()=>r.loaded&&r.avatar),a=_e(()=>r.loaded&&r.name);return Aa(()=>{HZ(e.webid,r)}),(s,o)=>{const u=Nt("v-icon"),l=Nt("v-avatar"),c=Nt("v-chip");return Kt(),Hr(c,{href:s.webid,color:"primary",label:""},{default:vt(()=>[n.value?(Kt(),Hr(l,{key:1,start:"",image:r.avatar},null,8,["image"])):(Kt(),Hr(u,{key:0,start:"",icon:"mdi-account-circle-outline"})),a.value?(Kt(),ki(Qt,{key:3},[di(hs(r.name),1)],64)):(Kt(),ki(Qt,{key:2},[di(hs(s.webid),1)],64))]),_:1},8,["href"])}}}),B8e={key:0},k8e={key:2},$8e={key:3},EL=xa({__name:"AgentBadgeForPermission",props:{agent:{}},setup(t){const e=/https?:\/\//;function r(n){return e.test(n)}return(n,a)=>n.agent==On(f5)?(Kt(),ki("p",B8e,hs(n.agent),1)):r(n.agent)?(Kt(),Hr(M8e,{key:1,webid:n.agent},null,8,["webid"])):n.agent.startsWith("mailto:")?(Kt(),ki("p",k8e,hs(n.agent),1)):(Kt(),ki("p",$8e,hs(n.agent),1))}}),U8e=[["https://solidcommunity.net","Solid Community"],["https://solidweb.org","SolidWeb"]],V8e={read:!1,write:!1,append:!1,controlRead:!1,controlWrite:!1},qZ=xa({__name:"PermissionEditor",props:{agent:{},permission:{}},emits:["ok"],setup(t){const r=bi({...V8e,...t.permission});return(n,a)=>{const s=Nt("v-card-text"),o=Nt("v-btn"),u=Nt("v-card-actions"),l=Nt("v-card");return Kt(),Hr(l,null,{default:vt(()=>[K(s,null,{default:vt(()=>[K(EL,{agent:n.agent},null,8,["agent"]),K(_F,{"model-value":r,editable:!0},null,8,["model-value"])]),_:1}),K(u,null,{default:vt(()=>[K(o,{color:"primary",block:"",onClick:a[0]||(a[0]=c=>n.$emit("ok",n.agent,r))},{default:vt(()=>[di("OK")]),_:1})]),_:1})]),_:1})}}}),H8e=xa({__name:"ResourcePermission",props:{url:{},loading:{type:Boolean},permissionInfo:{}},setup(t){const e=t,r=Je({}),n=_e(()=>e.url&&!0),a=Je(!1),s=bi({error:null,info:{}});async function o(d){console.log(`getPermission(${d})`),a.value=!0,lG(d).then(f=>{f===null?s.error="Could not load access details for this Resource.":(s.error=null,s.info=f)}).catch(f=>{s.error=f}).finally(()=>{a.value=!1})}Aa(()=>{e.url&&o(e.url)});const u=_e(()=>n.value?a.value:e.loading),l=_e(()=>n.value?s:e.permissionInfo);async function c(d,f){const h=await cG(e.url,d,f);n.value&&(s.info[d]=h)}return(d,f)=>{const h=Nt("v-progress-circular"),p=Nt("v-container"),g=Nt("v-divider"),y=Nt("v-dialog");return Kt(),Hr(o_,null,{default:vt(()=>[GE(d.$slots,"default"),u.value?(Kt(),Hr(h,{key:0,color:"primary",indeterminate:""})):bh("",!0),l.value&&!l.value.error?(Kt(!0),ki(Qt,{key:1},vh(Object.entries(l.value.info),([S,v],A)=>(Kt(),ki(Qt,null,[v?(Kt(),Hr(p,{key:"index"},{default:vt(()=>[K(EL,{agent:S},null,8,["agent"]),K(p,null,{default:vt(()=>[K(_F,{"model-value":v},null,8,["model-value"])]),_:2},1024),K(g),K(y,{modelValue:r.value[A],"onUpdate:modelValue":E=>r.value[A]=E,activator:"parent"},{default:vt(()=>[K(qZ,{agent:S,permission:v,onOk:(E,T)=>{c(E,T),r.value[A]=!1}},null,8,["agent","permission","onOk"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)):bh("",!0)],64))),256)):bh("",!0)]),_:3})}}});function rc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function rU(t,e){for(var r="",n=0,a=-1,s=0,o,u=0;u<=t.length;++u){if(u<t.length)o=t.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(a===u-1||s===1))if(a!==u-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),a=u,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,a=u,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+t.slice(a+1,u):r=t.slice(a+1,u),n=u-a-1;a=u,s=0}else o===46&&s!==-1?++s:s=-1}return r}function q8e(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+t+n:n}var ay={resolve:function(){for(var e="",r=!1,n,a=arguments.length-1;a>=-1&&!r;a--){var s;a>=0?s=arguments[a]:(n===void 0&&(n=process.cwd()),s=n),rc(s),s.length!==0&&(e=s+"/"+e,r=s.charCodeAt(0)===47)}return e=rU(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(rc(e),e.length===0)return".";var r=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=rU(e,!r),e.length===0&&!r&&(e="."),e.length>0&&n&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return rc(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,r=0;r<arguments.length;++r){var n=arguments[r];rc(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":ay.normalize(e)},relative:function(e,r){if(rc(e),rc(r),e===r||(e=ay.resolve(e),r=ay.resolve(r),e===r))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var a=e.length,s=a-n,o=1;o<r.length&&r.charCodeAt(o)===47;++o);for(var u=r.length,l=u-o,c=s<l?s:l,d=-1,f=0;f<=c;++f){if(f===c){if(l>c){if(r.charCodeAt(o+f)===47)return r.slice(o+f+1);if(f===0)return r.slice(o+f)}else s>c&&(e.charCodeAt(n+f)===47?d=f:f===0&&(d=0));break}var h=e.charCodeAt(n+f),p=r.charCodeAt(o+f);if(h!==p)break;h===47&&(d=f)}var g="";for(f=n+d+1;f<=a;++f)(f===a||e.charCodeAt(f)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+r.slice(o+d):(o+=d,r.charCodeAt(o)===47&&++o,r.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(rc(e),e.length===0)return".";for(var r=e.charCodeAt(0),n=r===47,a=-1,s=!0,o=e.length-1;o>=1;--o)if(r=e.charCodeAt(o),r===47){if(!s){a=o;break}}else s=!1;return a===-1?n?"/":".":n&&a===1?"//":e.slice(0,a)},basename:function(e,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');rc(e);var n=0,a=-1,s=!0,o;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var u=r.length-1,l=-1;for(o=e.length-1;o>=0;--o){var c=e.charCodeAt(o);if(c===47){if(!s){n=o+1;break}}else l===-1&&(s=!1,l=o+1),u>=0&&(c===r.charCodeAt(u)?--u===-1&&(a=o):(u=-1,a=l))}return n===a?a=l:a===-1&&(a=e.length),e.slice(n,a)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!s){n=o+1;break}}else a===-1&&(s=!1,a=o+1);return a===-1?"":e.slice(n,a)}},extname:function(e){rc(e);for(var r=-1,n=0,a=-1,s=!0,o=0,u=e.length-1;u>=0;--u){var l=e.charCodeAt(u);if(l===47){if(!s){n=u+1;break}continue}a===-1&&(s=!1,a=u+1),l===46?r===-1?r=u:o!==1&&(o=1):r!==-1&&(o=-1)}return r===-1||a===-1||o===0||o===1&&r===a-1&&r===n+1?"":e.slice(r,a)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return q8e("/",e)},parse:function(e){rc(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;var n=e.charCodeAt(0),a=n===47,s;a?(r.root="/",s=1):s=0;for(var o=-1,u=0,l=-1,c=!0,d=e.length-1,f=0;d>=s;--d){if(n=e.charCodeAt(d),n===47){if(!c){u=d+1;break}continue}l===-1&&(c=!1,l=d+1),n===46?o===-1?o=d:f!==1&&(f=1):o!==-1&&(f=-1)}return o===-1||l===-1||f===0||f===1&&o===l-1&&o===u+1?l!==-1&&(u===0&&a?r.base=r.name=e.slice(1,l):r.base=r.name=e.slice(u,l)):(u===0&&a?(r.name=e.slice(1,o),r.base=e.slice(1,l)):(r.name=e.slice(u,o),r.base=e.slice(u,l)),r.ext=e.slice(o,l)),u>0?r.dir=e.slice(0,u-1):a&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};ay.posix=ay;var nU=ay;const qm=bF("explorer",{state:()=>({applicaionBaseUrl:window.location.href,baseUrl:"",currDir:"",permissionTarget:"",recursiveRetrival:{enabled:!1,depth:0}}),getters:{loginRedirectUrl:t=>t.applicaionBaseUrl}}),z8e=["href"],A6=xa({__name:"ResourceItem",props:{url:{}},emits:["resourceClicked"],setup(t){const e=t,r=bi({loaded:!1,title:""}),n=qm();D0(),new h5.QueryEngine;const a=_e(()=>{var o;return(((o=n.baseUrl)==null?void 0:o.length)||0)==0?nU.dirname(e.url):n.baseUrl});Aa(()=>{s()});function s(){r.loaded=!1,r.title=nU.relative(a.value,e.url),r.loaded=!0}return(o,u)=>{const l=Nt("v-icon"),c=Nt("v-chip");return Kt(),Hr(c,{class:"green",onClick:u[0]||(u[0]=d=>o.$emit("resourceClicked",o.url))},{default:vt(()=>[Ol("a",{href:o.url},[K(l,{icon:"mdi-link"})],8,z8e),r.loaded?(Kt(),ki(Qt,{key:1},[di(hs(r.title),1)],64)):(Kt(),ki(Qt,{key:0},[di(hs(o.url),1)],64))]),_:1})}}}),G8e={key:0,class:"dir"},Q8e=xa({__name:"DirList",props:["currDir"],emits:["resourceClicked","switchContainer"],setup(t){const e=t,r=Je(!1),n=Je([]);async function a(o){if(console.log(`showDirContent called with ${o}`),!uG(o)){r.value=!0;try{n.value=await oG(o)}finally{r.value=!1}}}Aa(()=>{a(e.currDir)});function s(o){switch(o.type){case Vb.Dir:return"dir";case Vb.File:return"file";default:return"file"}}return(o,u)=>{const l=Nt("v-progress-circular"),c=Nt("v-col"),d=Nt("v-icon"),f=Nt("v-tooltip"),h=Nt("v-row"),p=Nt("v-list-item"),g=Nt("v-list");return Kt(),Hr(o_,null,{default:vt(()=>[t.currDir?(Kt(),ki("p",G8e,hs(t.currDir),1)):bh("",!0),qn(K(l,{color:"primary",indeterminate:""},null,512),[[Ou,r.value]]),K(g,{lines:"one",density:"compact"},{default:vt(()=>[(Kt(!0),ki(Qt,null,vh(n.value,y=>(Kt(),Hr(p,{key:y.url,class:ME(s(y))},{default:vt(()=>[K(h,{"no-gutters":""},{default:vt(()=>[K(c,{lg:"11"},{default:vt(()=>[y.type==On(Vb).Dir?(Kt(),Hr(h,{key:0,"no-gutters":""},{default:vt(()=>[K(c,{lg:"11"},{default:vt(()=>[K(A6,{onResourceClicked:u[0]||(u[0]=S=>o.$emit("resourceClicked",S)),url:y.url},null,8,["url"])]),_:2},1024),K(c,{lg:"1"},{default:vt(()=>[K(f,{text:"Go to",location:"top center",origin:"auto"},{activator:vt(({props:S})=>[K(d,Dt(S,{class:"green",size:"small",onClick:QN(v=>o.$emit("switchContainer",y.url),["prevent"])}),{default:vt(()=>[di("mdi-arrow-right")]),_:2},1040,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):(Kt(),Hr(A6,{key:1,onResourceClicked:u[1]||(u[1]=S=>o.$emit("resourceClicked",S)),url:y.url},null,8,["url"]))]),_:2},1024),K(c,{lg:"1"},{default:vt(()=>[K(f,{text:"Show permission",location:"top center",origin:"auto"},{activator:vt(({props:S})=>[K(d,Dt(S,{class:"green",size:"small",onClick:QN(v=>o.$emit("resourceClicked",y.url),["prevent"])}),{default:vt(()=>[di("mdi-magnify")]),_:2},1040,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})}}}),W8e=xa({__name:"UserPods",emits:["podClicked"],setup(t){const e=Je([]),r=D0();async function n(a){const s=await qfe(a,{fetch});e.value=s}return Aa(()=>{r.isLoggedIn?n(r.webid):e.value=[]}),(a,s)=>{const o=Nt("v-list-item-title"),u=Nt("v-list-item"),l=Nt("v-list");return On(r).isLoggedIn?(Kt(),Hr(l,{key:1,lines:"one"},{default:vt(()=>[(Kt(!0),ki(Qt,null,vh(e.value,(c,d)=>(Kt(),Hr(u,{key:c,prependIcon:"mdi-home",onClick:f=>a.$emit("podClicked",c)},{default:vt(()=>[K(o,null,{default:vt(()=>[di(hs(d)+" - "+hs(c),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):(Kt(),ki(Qt,{key:0},[],64))}}}),K8e=Ol("p",null,"Pick one of your pods:",-1),X8e=Ol("p",null,"Or enter a Resource URL:",-1),J8e={__name:"SolidResourcePermissionMeta",setup(t){const e=qm(),r=D0(),n=Je(""),{currDir:a}=dH(e);Xr("debugText");async function s(u){console.log(`setDir(${u})`),a.value=u,e.baseUrl=u}async function o(u){e.permissionTarget=u}return Aa(()=>{var u;n.value=a.value,(((u=e.baseUrl)==null?void 0:u.length)||0)==0&&(e.baseUrl=a.value),o(a.value)}),(u,l)=>{const c=Nt("v-container"),d=Nt("v-text-field"),f=Nt("v-col"),h=Nt("v-btn"),p=Nt("v-row");return Kt(),ki(Qt,null,[K(o_,null,{default:vt(()=>[On(r).isLoggedIn?(Kt(),Hr(c,{key:0},{default:vt(()=>[K8e,K(W8e,{onPodClicked:l[0]||(l[0]=g=>a.value=g)}),X8e]),_:1})):bh("",!0),K(c,null,{default:vt(()=>[K(p,{"no-gutters":""},{default:vt(()=>[K(f,{sm:"8"},{default:vt(()=>[K(p,null,{default:vt(()=>[K(f,{lg:"10"},{default:vt(()=>[K(d,{label:"Resource URL",modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=g=>n.value=g)},null,8,["modelValue"])]),_:1}),K(f,{lg:"2"},{default:vt(()=>[K(h,{color:"primary",onClick:l[2]||(l[2]=QN(g=>s(n.value),["prevent"]))},{default:vt(()=>[di("Get It")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),K(p,{"no-gutters":""},{default:vt(()=>[K(f,{cols:"12",lg:"6"},{default:vt(()=>[K(Q8e,{"curr-dir":On(a),onResourceClicked:l[3]||(l[3]=g=>{o(g)}),onSwitchContainer:l[4]||(l[4]=g=>{s(g)})},null,8,["curr-dir"])]),_:1}),K(f,{cols:"12",lg:"6"},{default:vt(()=>[K(H8e,{url:On(e).permissionTarget},{default:vt(()=>[Ol("div",null,"Permission for resource "+hs(On(e).permissionTarget),1)]),_:1},8,["url"])]),_:1})]),_:1})],64)}}},Y8e=bF("permissionByAgent",{state:()=>({loading:!1,progress:{current:0,total:0},permission:{}}),getters:{progressPercent:t=>t.progress.total>0?t.progress.current/t.progress.total*100:0}}),Z8e=xa({__name:"PermissionByAgent",props:{url:{}},setup(t){const e=t,r=Y8e(),n=qm(),a=_e(()=>e.url?e.url:n.currDir),s=Je({});async function o(){if(!uG(a.value)){r.loading=!0;try{r.permission={},r.progress={total:0,current:0},await S0e(a.value,r.permission,r.progress,n.recursiveRetrival.enabled?n.recursiveRetrival.depth:1)}finally{r.loading=!1}}}Aa(()=>{o()});function u(c,d){return`${c}:${d}`}async function l(c,d,f){await cG(c,d,f),o()}return(c,d)=>{const f=Nt("v-progress-linear"),h=Nt("v-container"),p=Nt("v-divider"),g=Nt("v-dialog");return Kt(),Hr(o_,null,{default:vt(()=>[GE(c.$slots,"default"),qn(K(f,{color:"primary",stream:"",height:"20","model-value":On(r).progressPercent},{default:vt(({value:y})=>[di(hs(On(r).progress.current)+" / "+hs(On(r).progress.total),1)]),_:1},8,["model-value"]),[[Ou,On(r).loading]]),On(r).permission?(Kt(!0),ki(Qt,{key:0},vh(Object.entries(On(r).permission),([y,S],v)=>(Kt(),Hr(o_,null,{default:vt(()=>[K(EL,{agent:y},null,8,["agent"]),(Kt(!0),ki(Qt,null,vh(S,(A,E)=>(Kt(),Hr(h,{key:E},{default:vt(()=>[K(_F,{"model-value":A.permission},null,8,["model-value"]),K(h,null,{default:vt(()=>[(Kt(!0),ki(Qt,null,vh(A.resources,(T,R)=>(Kt(),Hr(A6,{key:R,url:T},null,8,["url"]))),128))]),_:2},1024),E<S.length-1?(Kt(),Hr(p,{key:0})):bh("",!0),K(g,{modelValue:s.value[u(v,E)],"onUpdate:modelValue":T=>s.value[u(v,E)]=T,activator:"parent"},{default:vt(()=>[K(qZ,{agent:y,permission:A.permission,onOk:(T,R)=>{l(A.resources,T,R),s.value[u(v,E)]=!1}},null,8,["agent","permission","onOk"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:2},1024))),256)):bh("",!0)]),_:3})}}}),eLe=Ol("div",null,"Permission by agent",-1),tLe=xa({__name:"DirPermissionExplorer",setup(t){const e=Je(""),r=Je("");Di("debugText",e),Di("currentDir",r);const n=qm();return Mt(r,(a,s)=>{n.currDir=a}),(a,s)=>{const o=Nt("v-col"),u=Nt("v-row");return Kt(),Hr(u,null,{default:vt(()=>[K(o,{lg:"8",sm:"12"},{default:vt(()=>[K(J8e)]),_:1}),K(o,{lg:"4",sm:"4"},{default:vt(()=>[K(Z8e,null,{default:vt(()=>[eLe]),_:1})]),_:1})]),_:1})}}});const rLe={};function nLe(t,e){const r=Nt("v-overlay");return Kt(),Hr(r,{"location-strategy":"connected",location:"end center",origin:"start center","content-class":"info-pane"},{default:vt(()=>[GE(t.$slots,"default",{},void 0,!0)]),_:3})}const zZ=fH(rLe,[["render",nLe],["__scopeId","data-v-830241a2"]]),iLe=xa({__name:"PreferenceFragment",setup(t,{expose:e}){const r=qm(),n={baseUrl:r.baseUrl,recursiveRetrival:{...r.recursiveRetrival}},a=bi(n),s=Je(!0);function o(){return s.value?(r.$patch(n),!0):!1}return e({saveIfValid:o}),(u,l)=>{const c=Nt("v-text-field"),d=Nt("v-checkbox"),f=Nt("v-form");return Kt(),Hr(f,{ref:"preferenceForm",modelValue:s.value,"onUpdate:modelValue":l[3]||(l[3]=h=>s.value=h)},{default:vt(()=>[K(c,{label:"Base URL",modelValue:a.baseUrl,"onUpdate:modelValue":l[0]||(l[0]=h=>a.baseUrl=h)},null,8,["modelValue"]),K(d,{label:"Recursive",modelValue:a.recursiveRetrival.enabled,"onUpdate:modelValue":l[1]||(l[1]=h=>a.recursiveRetrival.enabled=h)},null,8,["modelValue"]),K(c,{label:"Recursive depth (0 means infinity)",disabled:!a.recursiveRetrival.enabled,type:"number",rules:[h=>parseInt(h)>=0||"Needs to be a non-negative integer"],modelValue:a.recursiveRetrival.depth,"onUpdate:modelValue":l[2]||(l[2]=h=>a.recursiveRetrival.depth=h)},null,8,["disabled","rules","modelValue"])]),_:1},8,["modelValue"])}}}),aLe=xa({__name:"Preference",setup(t){const e=Je(null),r=Je(!1);function n(){r.value=!1}function a(){var s;(s=e.value)!=null&&s.saveIfValid()&&n()}return(s,o)=>{const u=Nt("v-icon"),l=Nt("v-tooltip"),c=Nt("v-card-text"),d=Nt("v-list-item"),f=Nt("v-list"),h=Nt("v-btn"),p=Nt("v-card-actions"),g=Nt("v-card");return Kt(),Hr(h,{variant:"text",class:"text-center"},{default:vt(()=>[K(l,{text:"Preference"},{activator:vt(({props:y})=>[K(u,Dt(y,{icon:"mdi-cog","content-class":"d-block text-center mx-auto"}),null,16)]),_:1}),K(zZ,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=y=>r.value=y),activator:"parent"},{default:vt(()=>[K(g,null,{default:vt(()=>[K(c,null,{default:vt(()=>[di(" Preference ")]),_:1}),K(f,null,{default:vt(()=>[K(d,null,{default:vt(()=>[K(iLe,{ref_key:"fragment",ref:e},null,512)]),_:1})]),_:1}),K(p,null,{default:vt(()=>[K(h,{color:"primary",onClick:a},{default:vt(()=>[di("Save & Close")]),_:1}),K(h,{onClick:n},{default:vt(()=>[di("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}}),sLe=xa({__name:"LoginFragment",emits:["login"],setup(t){const e=Je("");return(r,n)=>{const a=Nt("v-text-field"),s=Nt("v-col"),o=Nt("v-btn"),u=Nt("v-row"),l=Nt("v-list-item"),c=Nt("v-list"),d=Nt("v-form");return Kt(),Hr(d,null,{default:vt(()=>[K(u,null,{default:vt(()=>[K(s,{lg:"8"},{default:vt(()=>[K(a,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=f=>e.value=f),label:"Solid identity provider"},null,8,["modelValue"])]),_:1}),K(s,{lg:"4"},{default:vt(()=>[K(o,{onClick:n[1]||(n[1]=f=>r.$emit("login",e.value))},{default:vt(()=>[di("Log in")]),_:1})]),_:1})]),_:1}),K(c,{lines:"two"},{default:vt(()=>[(Kt(!0),ki(Qt,null,vh(On(U8e),([f,h],p)=>(Kt(),Hr(l,{key:p,title:h,subtitle:f,onClick:g=>{e.value=f,r.$emit("login",f)}},null,8,["title","subtitle","onClick"]))),128))]),_:1})]),_:1})}}}),oLe={class:"mx-auto text-center"},uLe={class:"text-caption mt-1"},lLe=xa({__name:"UserInfo",setup(t){const e=qm(),r=D0(),n=Je(null),a=Je(!1),s=bi({loaded:!1,avatar:"",name:""}),{webid:o,isLoggedIn:u}=dH(r);Aa(()=>{o.value?HZ(o.value,s):s.loaded=!1}),zs(()=>{r.handleRedirectAfterLogin(e.loginRedirectUrl)});function l(c){r.login(c,e.loginRedirectUrl)}return(c,d)=>{const f=Nt("v-avatar"),h=Nt("v-btn"),p=Nt("v-tooltip"),g=Nt("v-card-text"),y=Nt("v-list-item"),S=Nt("v-list"),v=Nt("v-card"),A=Nt("v-divider"),E=Nt("v-menu");return!On(u)||!s.loaded?(Kt(),ki(Qt,{key:0},[K(p,{text:"login"},{activator:vt(({props:T})=>[K(h,{ref_key:"userIcon",ref:n,icon:""},{default:vt(()=>[K(f,Dt(T,{color:"grey"}),null,16)]),_:2},1536)]),_:1}),K(zZ,{modelValue:a.value,"onUpdate:modelValue":d[1]||(d[1]=T=>a.value=T),activator:n.value},{default:vt(()=>[K(v,null,{default:vt(()=>[K(g,null,{default:vt(()=>[di(" Log in ")]),_:1}),K(S,null,{default:vt(()=>[K(y,null,{default:vt(()=>[K(sLe,{onLogin:d[0]||(d[0]=T=>l(T))})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","activator"])],64)):(Kt(),Hr(E,{key:1,"min-width":"200px",rounded:""},{activator:vt(({props:T})=>[K(p,{text:`${s.name}
${On(o)}`},{activator:vt(({props:R})=>[K(h,Dt({icon:""},T),{default:vt(()=>[K(f,Dt(R,{image:s.avatar}),null,16,["image"])]),_:2},1040)]),_:2},1032,["text"])]),default:vt(()=>[K(v,null,{default:vt(()=>[K(g,null,{default:vt(()=>[Ol("div",oLe,[K(f,{color:"brown",image:s.avatar},null,8,["image"]),Ol("h3",null,hs(s.name),1),Ol("p",uLe,hs(On(o)),1),K(A,{class:"my-3"}),K(h,{rounded:"",variant:"text",onClick:d[2]||(d[2]=T=>On(r).session.logout())},{default:vt(()=>[di(" Disconnect ")]),_:1})])]),_:1})]),_:1})]),_:1}))}}}),cLe=xa({__name:"App",setup(t){return(e,r)=>{const n=Nt("v-navigation-drawer"),a=Nt("v-main"),s=Nt("v-app");return Kt(),Hr(s,{id:"inspire"},{default:vt(()=>[K(n,{"model-value":"",class:"pt-4",color:"grey-lighten-3",rail:""},{default:vt(()=>[K(lLe),K(aLe)]),_:1}),K(a,null,{default:vt(()=>[K(tLe)]),_:1})]),_:1})}}});function iU(t,e,r){dLe(t,e),e.set(t,r)}function dLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fLe(t,e,r){var n=GZ(t,e,"set");return hLe(t,n,r),r}function hLe(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}function yp(t,e){var r=GZ(t,e,"get");return pLe(t,r)}function GZ(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function pLe(t,e){return e.get?e.get.call(t):e.value}function QZ(t,e,r){const n=e.length-1;if(n<0)return t===void 0?r:t;for(let a=0;a<n;a++){if(t==null)return r;t=t[e[a]]}return t==null||t[e[n]]===void 0?r:t[e[n]]}function zm(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const r=Object.keys(t);return r.length!==Object.keys(e).length?!1:r.every(n=>zm(t[n],e[n]))}function x6(t,e,r){return t==null||!e||typeof e!="string"?r:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),QZ(t,e.split("."),r))}function Dc(t,e,r){if(e==null)return t===void 0?r:t;if(t!==Object(t)){if(typeof e!="function")return r;const a=e(t,r);return typeof a>"u"?r:a}if(typeof e=="string")return x6(t,e,r);if(Array.isArray(e))return QZ(t,e,r);if(typeof e!="function")return r;const n=e(t,r);return typeof n>"u"?r:n}function kp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(r,n)=>e+n)}function Ct(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function O6(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function gLe(t){return t==null?void 0:t.$el}const aU=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),R6=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function WZ(t){return Object.keys(t)}function lu(t,e){const r=Object.create(null),n=Object.create(null);for(const a in t)e.some(s=>s instanceof RegExp?s.test(a):s===a)?r[a]=t[a]:n[a]=t[a];return[r,n]}function W0(t,e){const r={...t};return e.forEach(n=>delete r[n]),r}function K0(t){return lu(t,["class","style","id",/^data-/])}function Su(t){return t==null?[]:Array.isArray(t)?t:[t]}function Jo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(r,t))}function wN(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+r.repeat(Math.max(0,e-t.length))}function yLe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let n=0;for(;n<t.length;)r.push(t.substr(n,e)),n+=e;return r}function sU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const r=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let n=-1;for(;Math.abs(t)>=e&&n<r.length-1;)t/=e,++n;return`${t.toFixed(1)} ${r[n]}B`}function uf(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const n={};for(const a in t)n[a]=t[a];for(const a in e){const s=t[a],o=e[a];if(O6(s)&&O6(o)){n[a]=uf(s,o,r);continue}if(Array.isArray(s)&&Array.isArray(o)&&r){n[a]=r(s,o);continue}n[a]=o}return n}function KZ(t){return t.map(e=>e.type===Qt?KZ(e.children):e).flat()}function NP(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase()}function Xb(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(r=>Xb(t,r)).flat(1);if(Array.isArray(e.children))return e.children.map(r=>Xb(t,r)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return Xb(t,e.component.subTree).flat(1)}return[]}var C2=new WeakMap,Cg=new WeakMap;class mLe{constructor(e){iU(this,C2,{writable:!0,value:[]}),iU(this,Cg,{writable:!0,value:0}),this.size=e}push(e){yp(this,C2)[yp(this,Cg)]=e,fLe(this,Cg,(yp(this,Cg)+1)%this.size)}values(){return yp(this,C2).slice(yp(this,Cg)).concat(yp(this,C2).slice(0,yp(this,Cg)))}}function vLe(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function AL(t){const e=bi({}),r=_e(t);return Aa(()=>{for(const n in r.value)e[n]=r.value[n]},{flush:"sync"}),$E(e)}function _E(t,e){return t.includes(e)}const bLe=/^on[^a-z]/,XZ=t=>bLe.test(t),l0=[Function,Array];function oU(t,e){return e="on"+cf(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function wE(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(Array.isArray(t))for(const a of t)a(...r);else typeof t=="function"&&t(...r)}const JZ=["top","bottom"],_Le=["start","end","left","right"];function I6(t,e){let[r,n]=t.split(" ");return n||(n=_E(JZ,r)?"start":_E(_Le,r)?"top":"center"),{side:P6(r,e),align:P6(n,e)}}function P6(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function SN(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function TN(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function uU(t){return{side:t.align,align:t.side}}function lU(t){return _E(JZ,t.side)?"y":"x"}class sy{constructor(e){let{x:r,y:n,width:a,height:s}=e;this.x=r,this.y=n,this.width=a,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function cU(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function xL(t){const e=t.getBoundingClientRect(),r=getComputedStyle(t),n=r.transform;if(n){let a,s,o,u,l;if(n.startsWith("matrix3d("))a=n.slice(9,-1).split(/, /),s=+a[0],o=+a[5],u=+a[12],l=+a[13];else if(n.startsWith("matrix("))a=n.slice(7,-1).split(/, /),s=+a[0],o=+a[3],u=+a[4],l=+a[5];else return new sy(e);const c=r.transformOrigin,d=e.x-u-(1-s)*parseFloat(c),f=e.y-l-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),h=s?e.width/s:t.offsetWidth+1,p=o?e.height/o:t.offsetHeight+1;return new sy({x:d,y:f,width:h,height:p})}else return new sy(e)}function $p(t,e,r){if(typeof t.animate>"u")return{finished:Promise.resolve()};const n=t.animate(e,r);return typeof n.finished>"u"&&(n.finished=new Promise(a=>{n.onfinish=()=>{a(n)}})),n}function YZ(t,e,r){if(r&&(e={__isVue:!0,$parent:r,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return`[Vuetify] ${t}`+(e?TLe(e):"")}function c0(t,e,r){const n=YZ(t,e,r);n!=null&&console.warn(n)}function C6(t,e,r){const n=YZ(t,e,r);n!=null&&console.error(n)}const wLe=/(?:^|[-_])(\w)/g,SLe=t=>t.replace(wLe,e=>e.toUpperCase()).replace(/[-_]/g,"");function EN(t,e){if(t.$root===t)return"<Root>";const r=typeof t=="function"&&t.cid!=null?t.options:t.__isVue?t.$options||t.constructor.options:t||{};let n=r.name||r._componentTag;const a=r.__file;if(!n&&a){const s=a.match(/([^/\\]+)\.vue$/);n=s==null?void 0:s[1]}return(n?`<${SLe(n)}>`:"<Anonymous>")+(a&&e!==!1?` at ${a}`:"")}function TLe(t){if(t.__isVue&&t.$parent){const e=[];let r=0;for(;t;){if(e.length>0){const n=e[e.length-1];if(n.constructor===t.constructor){r++,t=t.$parent;continue}else r>0&&(e[e.length-1]=[n,r],r=0)}e.push(t),t=t.$parent}return`

found in

`+e.map((n,a)=>`${a===0?"---> ":" ".repeat(5+a*2)}${Array.isArray(n)?`${EN(n[0])}... (${n[1]} recursive calls)`:EN(n)}`).join(`
`)}else return`

(found in ${EN(t)})`}const ELe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],ALe=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,xLe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],OLe=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function ZZ(t){const e=Array(3),r=ALe,n=ELe;for(let a=0;a<3;++a)e[a]=Math.round(Jo(r(n[a][0]*t[0]+n[a][1]*t[1]+n[a][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function OL(t){let{r:e,g:r,b:n}=t;const a=[0,0,0],s=OLe,o=xLe;e=s(e/255),r=s(r/255),n=s(n/255);for(let u=0;u<3;++u)a[u]=o[u][0]*e+o[u][1]*r+o[u][2]*n;return a}const SE=.20689655172413793,RLe=t=>t>SE**3?Math.cbrt(t):t/(3*SE**2)+4/29,ILe=t=>t>SE?t**3:3*SE**2*(t-4/29);function eee(t){const e=RLe,r=e(t[1]);return[116*r-16,500*(e(t[0]/.95047)-r),200*(r-e(t[2]/1.08883))]}function tee(t){const e=ILe,r=(t[0]+16)/116;return[e(r+t[1]/500)*.95047,e(r),e(r-t[2]/200)*1.08883]}function dU(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function Np(t){if(typeof t=="number")return(isNaN(t)||t<0||t>16777215)&&c0(`'${t}' is not a valid hex color`),{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length)||c0(`'${t}' is not a valid hex(a) color`);const r=parseInt(e,16);return(isNaN(r)||r<0||r>4294967295)&&c0(`'${t}' is not a valid hex(a) color`),see(e)}else throw new TypeError(`Colors can only be numbers or strings, recieved ${t==null?t:t.constructor.name} instead`)}function FP(t){const{h:e,s:r,v:n,a}=t,s=u=>{const l=(u+e/60)%6;return n-n*r*Math.max(Math.min(l,4-l,1),0)},o=[s(5),s(3),s(1)].map(u=>Math.round(u*255));return{r:o[0],g:o[1],b:o[2],a}}function RL(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,r=t.g/255,n=t.b/255,a=Math.max(e,r,n),s=Math.min(e,r,n);let o=0;a!==s&&(a===e?o=60*(0+(r-n)/(a-s)):a===r?o=60*(2+(n-e)/(a-s)):a===n&&(o=60*(4+(e-r)/(a-s)))),o<0&&(o=o+360);const u=a===0?0:(a-s)/a,l=[o,u,a];return{h:l[0],s:l[1],v:l[2],a:t.a}}function ree(t){const{h:e,s:r,v:n,a}=t,s=n-n*r/2,o=s===1||s===0?0:(n-s)/Math.min(s,1-s);return{h:e,s:o,l:s,a}}function nee(t){const{h:e,s:r,l:n,a}=t,s=n+r*Math.min(n,1-n),o=s===0?0:2-2*n/s;return{h:e,s:o,v:s,a}}function PLe(t){let{r:e,g:r,b:n,a}=t;return a===void 0?`rgb(${e}, ${r}, ${n})`:`rgba(${e}, ${r}, ${n}, ${a})`}function iee(t){return PLe(FP(t))}function D2(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function aee(t){let{r:e,g:r,b:n,a}=t;return`#${[D2(e),D2(r),D2(n),a!==void 0?D2(Math.round(a*255)):"FF"].join("")}`}function see(t){let[e,r,n,a]=yLe(t,2).map(s=>parseInt(s,16));return a=a===void 0?a:Math.round(a/255*100)/100,{r:e,g:r,b:n,a}}function oee(t){const e=see(t);return RL(e)}function uee(t){return aee(FP(t))}function CLe(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length===6?t=wN(t,8,"F"):t=wN(wN(t,6),8,"F"),t}function DLe(t,e){const r=eee(OL(t));return r[0]=r[0]+e*10,ZZ(tee(r))}function NLe(t,e){const r=eee(OL(t));return r[0]=r[0]-e*10,ZZ(tee(r))}function D6(t){const e=Np(t);return OL(e)[1]}function FLe(t,e){const r=D6(t),n=D6(e),a=Math.max(r,n),s=Math.min(r,n);return(a+.05)/(s+.05)}function bs(t,e){const r=KE();if(!r)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return r}function vf(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=bs(t).type;return NP((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let lee=0,wT=new WeakMap;function _s(){const t=bs("getUid");if(wT.has(t))return wT.get(t);{const e=lee++;return wT.set(t,e),e}}_s.reset=()=>{lee=0,wT=new WeakMap};function LLe(t){const{provides:e}=bs("injectSelf");if(e&&t in e)return e[t]}function lm(t,e){let r;Mt(t,n=>{if(n&&!r)r=fm(),r.run(e);else if(!n){var a;(a=r)==null||a.stop(),r=void 0}},{immediate:!0}),Ll(()=>{var n;(n=r)==null||n.stop()})}function dr(t,e){return r=>Object.keys(t).reduce((n,a)=>{const o=typeof t[a]=="object"&&t[a]!=null&&!Array.isArray(t[a])?t[a]:{type:t[a]};return r&&a in r?n[a]={...o,default:r[a]}:n[a]=o,e&&!n[a].source&&(n[a].source=e),n},{})}function jLe(t,e){var r,n;return((r=t.props)==null?void 0:r.hasOwnProperty(e))||((n=t.props)==null?void 0:n.hasOwnProperty(NP(e)))}const mt=function(e){return e._setup=e._setup??e.setup,e.name?(e._setup&&(e.props=e.props??{},e.props=dr(e.props,NP(e.name))(),e.props._as=String,e.setup=function(n,a){const s=KE(),o=fee(),u=one(),l=mV({...jr(n)});Aa(()=>{const d=o.value.global,f=o.value[n._as??e.name];if(f){const h=Object.entries(f).filter(p=>{let[g]=p;return g.startsWith(g[0].toUpperCase())});h.length&&(u.value=Object.fromEntries(h))}for(const h of Object.keys(n)){let p=n[h];jLe(s.vnode,h)||(p=(f==null?void 0:f[h])??(d==null?void 0:d[h])??n[h]),l[h]!==p&&(l[h]=p)}});const c=e._setup(l,a);return lm(u,()=>{var d;Vi(uf(((d=LLe(L_))==null?void 0:d.value)??{},u.value))}),c}),e):(c0("The component is missing an explicit name, unable to generate default prop value"),e)};function Pn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?mt:xa)(e)}function Fu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return mt({name:r??cf(Tu(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e}},setup(n,a){let{slots:s}=a;return()=>{var o;return jh(n.tag,{class:t},(o=s.default)==null?void 0:o.call(s))}}})}function cee(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const F_="cubic-bezier(0.4, 0, 0.2, 1)",MLe="cubic-bezier(0.0, 0, 0.2, 1)",BLe="cubic-bezier(0.4, 0, 1, 1)";function dee(t){for(;t;){if(IL(t))return t;t=t.parentElement}return document.scrollingElement}function TE(t,e){const r=[];if(e&&t&&!e.contains(t))return r;for(;t&&(IL(t)&&r.push(t),t!==e);)t=t.parentElement;return r}function IL(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}const fi=typeof window<"u",PL=fi&&"IntersectionObserver"in window,kLe=fi&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),N6=fi&&typeof CSS<"u"&&CSS.supports("selector(:focus-visible)");function $Le(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function yt(t){const e=bs("useRender");e.render=t}const L_=Symbol.for("vuetify:defaults");function ULe(t){return Je(t??{})}function fee(){const t=Xr(L_);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Vi(t,e){const r=fee(),n=Je(t),a=_e(()=>{const s=On(e==null?void 0:e.scoped),o=On(e==null?void 0:e.reset),u=On(e==null?void 0:e.root);let l=uf(n.value,{prev:r.value});if(s)return l;if(o||u){const c=Number(o||1/0);for(let d=0;d<=c&&l.prev;d++)l=l.prev;return l}return uf(l.prev,l)});return Di(L_,a),a}const F6=Symbol.for("vuetify:display"),fU={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},VLe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fU;return uf(fU,t)};function hU(t){return fi&&!t?window.innerWidth:0}function pU(t){return fi&&!t?window.innerHeight:0}function HLe(){const t=fi?window.navigator.userAgent:"ssr";function e(g){return Boolean(t.match(g))}const r=e(/android/i),n=e(/iphone|ipad|ipod/i),a=e(/cordova/i),s=e(/electron/i),o=e(/chrome/i),u=e(/edge/i),l=e(/firefox/i),c=e(/opera/i),d=e(/win/i),f=e(/mac/i),h=e(/linux/i),p=e(/ssr/i);return{android:r,ios:n,cordova:a,electron:s,chrome:o,edge:u,firefox:l,opera:c,win:d,mac:f,linux:h,touch:kLe,ssr:p}}function qLe(t,e){const{thresholds:r,mobileBreakpoint:n}=VLe(t),a=Je(pU(e)),s=HLe(),o=bi({}),u=Je(hU(e));function l(){a.value=pU(),u.value=hU()}return Aa(()=>{const c=u.value<r.sm,d=u.value<r.md&&!c,f=u.value<r.lg&&!(d||c),h=u.value<r.xl&&!(f||d||c),p=u.value<r.xxl&&!(h||f||d||c),g=u.value>=r.xxl,y=c?"xs":d?"sm":f?"md":h?"lg":p?"xl":"xxl",S=typeof n=="number"?n:r[n],v=s.ssr?s.android||s.ios||s.opera:u.value<S;o.xs=c,o.sm=d,o.md=f,o.lg=h,o.xl=p,o.xxl=g,o.smAndUp=!c,o.mdAndUp=!(c||d),o.lgAndUp=!(c||d||f),o.xlAndUp=!(c||d||f||h),o.smAndDown=!(f||h||p||g),o.mdAndDown=!(h||p||g),o.lgAndDown=!(p||g),o.xlAndDown=!g,o.name=y,o.height=a.value,o.width=u.value,o.mobile=v,o.mobileBreakpoint=n,o.platform=s,o.thresholds=r}),fi&&window.addEventListener("resize",l,{passive:!0}),{...$E(o),update:l,ssr:!!e}}function eS(){const t=Xr(F6);if(!t)throw new Error("Could not find Vuetify display injection");return t}const hee={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},pee={component:t=>jh(CL,{...t,class:"mdi"})},rr=[String,Function,Object],L6=Symbol.for("vuetify:icons"),LP=dr({icon:{type:rr,required:!0},tag:{type:String,required:!0}},"icon"),gee=mt({name:"VComponentIcon",props:LP(),setup(t){return()=>K(t.tag,null,{default:()=>[K(t.icon,null,null)]})}}),yee=mt({name:"VSvgIcon",inheritAttrs:!1,props:LP(),setup(t,e){let{attrs:r}=e;return()=>K(t.tag,Dt(r,{style:null}),{default:()=>[K("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[K("path",{d:t.icon},null)])]})}}),zLe=mt({name:"VLigatureIcon",props:LP(),setup(t){return()=>K(t.tag,null,{default:()=>[t.icon]})}}),CL=mt({name:"VClassIcon",props:LP(),setup(t){return()=>K(t.tag,{class:t.icon},null)}}),GLe={svg:{component:yee},class:{component:CL}};function QLe(t){return uf({defaultSet:"mdi",sets:{...GLe,mdi:pee},aliases:hee},t)}const WLe=t=>{const e=Xr(L6);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:_e(()=>{const n=ln(t)?t.value:t.icon;if(!n)throw new Error("Icon value is undefined or null");let a=n;if(typeof a=="string"&&(a=a.trim(),a.startsWith("$"))){var s;a=(s=e.aliases)==null?void 0:s[a.slice(1)]}if(!a)throw new Error(`Could not find aliased icon "${n}"`);if(typeof a!="string")return{component:gee,icon:a};const o=Object.keys(e.sets).find(c=>typeof a=="string"&&a.startsWith(`${c}:`)),u=o?a.slice(o.length+1):a;return{component:e.sets[o??e.defaultSet].component,icon:u}})}};function pr(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const s=bs("useProxiedModel"),o=Je(t[e]!==void 0?t[e]:r),u=NP(e),c=_e(u!==e?()=>{var f,h,p,g;return t[e],!!(((f=s.vnode.props)!=null&&f.hasOwnProperty(e)||(h=s.vnode.props)!=null&&h.hasOwnProperty(u))&&((p=s.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${e}`)||(g=s.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${u}`)))}:()=>{var f,h;return t[e],!!((f=s.vnode.props)!=null&&f.hasOwnProperty(e)&&(h=s.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`))});lm(()=>!c.value,()=>{Mt(()=>t[e],f=>{o.value=f})});const d=_e({get(){return n(c.value?t[e]:o.value)},set(f){const h=a(f);(c.value?t[e]:o.value)===h||n(c.value?t[e]:o.value)===f||(o.value=h,s==null||s.emit(`update:${e}`,h))}});return Object.defineProperty(d,"externalValue",{get:()=>c.value?t[e]:o.value}),d}const KLe={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Page {0}, Current Page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}}},gU="$vuetify.",yU=(t,e)=>t.replace(/\{(\d+)\}/g,(r,n)=>String(e[+n])),mee=(t,e,r)=>function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if(!n.startsWith(gU))return yU(n,s);const u=n.replace(gU,""),l=t.value&&r.value[t.value],c=e.value&&r.value[e.value];let d=x6(l,u,null);return d||(c0(`Translation key "${n}" not found in "${t.value}", trying fallback locale`),d=x6(c,u,null)),d||(C6(`Translation key "${n}" not found in fallback`),d=n),typeof d!="string"&&(C6(`Translation key "${n}" has a non-string value`),d=n),yU(d,s)};function vee(t,e){return(r,n)=>new Intl.NumberFormat([t.value,e.value],n).format(r)}function AN(t,e,r){const n=pr(t,e,t[e]??r.value);return n.value=t[e]??r.value,Mt(r,a=>{t[e]==null&&(n.value=r.value)}),n}function bee(t){return e=>{const r=AN(e,"locale",t.current),n=AN(e,"fallback",t.fallback),a=AN(e,"messages",t.messages);return{name:"vuetify",current:r,fallback:n,messages:a,t:mee(r,n,a),n:vee(r,n),provide:bee({current:r,fallback:n,messages:a})}}}function XLe(t){const e=Je((t==null?void 0:t.locale)??"en"),r=Je((t==null?void 0:t.fallback)??"en"),n=Je({en:KLe,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:r,messages:n,t:mee(e,r,n),n:vee(e,r),provide:bee({current:e,fallback:r,messages:n})}}const JLe={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!1,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},cm=Symbol.for("vuetify:locale");function YLe(t){return t.name!=null}function ZLe(t){const e=t!=null&&t.adapter&&YLe(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:XLe(t),r=tje(e,t);return{...e,...r}}function Ul(){const t=Xr(cm);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function eje(t){const e=Xr(cm);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");const r=e.provide(t),n=rje(r,e.rtl,t),a={...r,...n};return Di(cm,a),a}function tje(t,e){const r=Je((e==null?void 0:e.rtl)??JLe),n=_e(()=>r.value[t.current.value]??!1);return{isRtl:n,rtl:r,rtlClasses:_e(()=>`v-locale--is-${n.value?"rtl":"ltr"}`)}}function rje(t,e,r){const n=_e(()=>r.rtl??e.value[t.current.value]??!1);return{isRtl:n,rtl:e,rtlClasses:_e(()=>`v-locale--is-${n.value?"rtl":"ltr"}`)}}function bf(){const t=Xr(cm);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const Dg=2.4,mU=.2126729,vU=.7151522,bU=.072175,nje=.55,ije=.58,aje=.57,sje=.62,N2=.03,_U=1.45,oje=5e-4,uje=1.25,lje=1.25,wU=.078,SU=12.82051282051282,F2=.06,TU=.001;function EU(t,e){const r=(t.r/255)**Dg,n=(t.g/255)**Dg,a=(t.b/255)**Dg,s=(e.r/255)**Dg,o=(e.g/255)**Dg,u=(e.b/255)**Dg;let l=r*mU+n*vU+a*bU,c=s*mU+o*vU+u*bU;if(l<=N2&&(l+=(N2-l)**_U),c<=N2&&(c+=(N2-c)**_U),Math.abs(c-l)<oje)return 0;let d;if(c>l){const f=(c**nje-l**ije)*uje;d=f<TU?0:f<wU?f-f*SU*F2:f-F2}else{const f=(c**sje-l**aje)*lje;d=f>-TU?0:f>-wU?f-f*SU*F2:f+F2}return d*100}const j_=Symbol.for("vuetify:theme"),Mr=dr({theme:String},"theme"),Yv={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function cje(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yv;if(!t)return{...Yv,isDisabled:!0};const e={};for(const[a,s]of Object.entries(t.themes??{})){var r,n;const o=s.dark||a==="dark"?(r=Yv.themes)==null?void 0:r.dark:(n=Yv.themes)==null?void 0:n.light;e[a]=uf(o,s)}return uf(Yv,{...t,themes:e})}function dje(t){const e=bi(cje(t)),r=Je(e.defaultTheme),n=Je(e.themes),a=_e(()=>{const c={};for(const[d,f]of Object.entries(n.value)){const h=c[d]={...f,colors:{...f.colors}};if(e.variations)for(const p of e.variations.colors){const g=h.colors[p];if(g)for(const y of["lighten","darken"]){const S=y==="lighten"?DLe:NLe;for(const v of kp(e.variations[y],1))h.colors[`${p}-${y}-${v}`]=aee(S(Np(g),v))}}for(const p of Object.keys(h.colors)){if(/^on-[a-z]/.test(p)||h.colors[`on-${p}`])continue;const g=`on-${p}`,y=Np(h.colors[p]),S=Math.abs(EU(Np(0),y)),v=Math.abs(EU(Np(16777215),y));h.colors[g]=v>Math.min(S,50)?"#fff":"#000"}}return c}),s=_e(()=>a.value[r.value]),o=_e(()=>{const c=[];s.value.dark&&Ng(c,":root",["color-scheme: dark"]);for(const[p,g]of Object.entries(a.value)){const{variables:y,dark:S}=g;Ng(c,`.v-theme--${p}`,[`color-scheme: ${S?"dark":"normal"}`,...fje(g),...Object.keys(y).map(v=>{const A=y[v],E=typeof A=="string"&&A.startsWith("#")?Np(A):void 0,T=E?`${E.r}, ${E.g}, ${E.b}`:void 0;return`--v-${v}: ${T??A}`})])}const d=[],f=[],h=new Set(Object.values(a.value).flatMap(p=>Object.keys(p.colors)));for(const p of h)/^on-[a-z]/.test(p)?Ng(f,`.${p}`,[`color: rgb(var(--v-theme-${p})) !important`]):(Ng(d,`.bg-${p}`,[`--v-theme-overlay-multiplier: var(--v-theme-${p}-overlay-multiplier)`,`background: rgb(var(--v-theme-${p})) !important`,`color: rgb(var(--v-theme-on-${p})) !important`]),Ng(f,`.text-${p}`,[`color: rgb(var(--v-theme-${p})) !important`]),Ng(f,`.border-${p}`,[`--v-border-color: var(--v-theme-${p})`]));return c.push(...d,...f),c.map((p,g)=>g===0?p:`    ${p}`).join("")});function u(c){const d=c._context.provides.usehead;if(d)d.addHeadObjs(_e(()=>{const h={children:o.value,type:"text/css",id:"vuetify-theme-stylesheet"};return e.cspNonce&&(h.nonce=e.cspNonce),{style:[h]}})),fi&&Aa(()=>d.updateDOM());else{let p=function(){if(!e.isDisabled){if(typeof document<"u"&&!h){const g=document.createElement("style");g.type="text/css",g.id="vuetify-theme-stylesheet",e.cspNonce&&g.setAttribute("nonce",e.cspNonce),h=g,document.head.appendChild(h)}h&&(h.innerHTML=o.value)}};var f=p;let h=fi?document.getElementById("vuetify-theme-stylesheet"):null;Mt(o,p,{immediate:!0})}}const l=_e(()=>e.isDisabled?void 0:`v-theme--${r.value}`);return{install:u,isDisabled:e.isDisabled,name:r,themes:n,current:s,computedThemes:a,themeClasses:l,styles:o,global:{name:r,current:s}}}function nn(t){bs("provideTheme");const e=Xr(j_,null);if(!e)throw new Error("Could not find Vuetify theme injection");const r=_e(()=>t.theme??(e==null?void 0:e.name.value)),n=_e(()=>e.isDisabled?void 0:`v-theme--${r.value}`),a={...e,name:r,themeClasses:n};return Di(j_,a),a}function _ee(){bs("useTheme");const t=Xr(j_,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function Ng(t,e,r){t.push(`${e} {
`,...r.map(n=>`  ${n};
`),`}
`)}function fje(t){const e=t.dark?2:1,r=t.dark?1:2,n=[];for(const[a,s]of Object.entries(t.colors)){const o=Np(s);n.push(`--v-theme-${a}: ${o.r},${o.g},${o.b}`),a.startsWith("on-")||n.push(`--v-theme-${a}-overlay-multiplier: ${D6(s)>.18?e:r}`)}return n}function E0(t){const e=Je(),r=Je();if(fi){const n=new ResizeObserver(a=>{t==null||t(a,n),a.length&&(r.value=a[0].contentRect)});_o(()=>{n.disconnect()}),Mt(e,(a,s)=>{s&&(n.unobserve(s),r.value=void 0),a&&n.observe(a)},{flush:"post"})}return{resizeRef:e,contentRect:f1(r)}}const EE=Symbol.for("vuetify:layout"),wee=Symbol.for("vuetify:layout-item"),AU=1e3,See=dr({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Gm=dr({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function hje(){const t=Xr(EE);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function Qm(t){const e=Xr(EE);if(!e)throw new Error("[Vuetify] Could not find injected layout");const r=t.id??`layout-item-${_s()}`,n=bs("useLayoutItem");Di(wee,{id:r});const a=Je(!1);LV(()=>a.value=!0),FV(()=>a.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:o}=e.register(n,{...t,active:_e(()=>a.value?!1:t.active.value),id:r});return _o(()=>e.unregister(r)),{layoutItemStyles:s,layoutRect:e.layoutRect,layoutItemScrimStyles:o}}const pje=(t,e,r,n)=>{let a={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...a}}];for(const o of t){const u=e.get(o),l=r.get(o),c=n.get(o);if(!u||!l||!c)continue;const d={...a,[u.value]:parseInt(a[u.value],10)+(c.value?parseInt(l.value,10):0)};s.push({id:o,layer:d}),a=d}return s};function Tee(t){const e=Xr(EE,null),r=_e(()=>e?e.rootZIndex.value-100:AU),n=Je([]),a=bi(new Map),s=bi(new Map),o=bi(new Map),u=bi(new Map),l=bi(new Map),{resizeRef:c,contentRect:d}=E0(),f=_e(()=>{const I=new Map,D=t.overlaps??[];for(const M of D.filter(N=>N.includes(":"))){const[N,O]=M.split(":");if(!n.value.includes(N)||!n.value.includes(O))continue;const k=a.get(N),Y=a.get(O),ne=s.get(N),q=s.get(O);!k||!Y||!ne||!q||(I.set(O,{position:k.value,amount:parseInt(ne.value,10)}),I.set(N,{position:Y.value,amount:-parseInt(q.value,10)}))}return I}),h=_e(()=>{const I=[...new Set([...o.values()].map(M=>M.value))].sort((M,N)=>M-N),D=[];for(const M of I){const N=n.value.filter(O=>{var k;return((k=o.get(O))==null?void 0:k.value)===M});D.push(...N)}return pje(D,a,s,u)}),p=_e(()=>!Array.from(l.values()).some(I=>I.value)),g=_e(()=>h.value[h.value.length-1].layer),y=_e(()=>({"--v-layout-left":Ct(g.value.left),"--v-layout-right":Ct(g.value.right),"--v-layout-top":Ct(g.value.top),"--v-layout-bottom":Ct(g.value.bottom),...p.value?void 0:{transition:"none"}})),S=_e(()=>h.value.slice(1).map((I,D)=>{let{id:M}=I;const{layer:N}=h.value[D],O=s.get(M),k=a.get(M);return{id:M,...N,size:Number(O.value),position:k.value}})),v=I=>S.value.find(D=>D.id===I),A=bs("createLayout"),E=Je(!1);zs(()=>{E.value=!0}),Di(EE,{register:(I,D)=>{let{id:M,order:N,position:O,layoutSize:k,elementSize:Y,active:ne,disableTransitions:q,absolute:H}=D;o.set(M,N),a.set(M,O),s.set(M,k),u.set(M,ne),q&&l.set(M,q);const se=Xb(wee,A==null?void 0:A.vnode).indexOf(I);se>-1?n.value.splice(se,0,M):n.value.push(M);const ue=_e(()=>S.value.findIndex(Xe=>Xe.id===M)),Se=_e(()=>r.value+h.value.length*2-ue.value*2),ve=_e(()=>{const Xe=O.value==="left"||O.value==="right",Ne=O.value==="right",ye=O.value==="bottom",qe={[O.value]:0,zIndex:Se.value,transform:`translate${Xe?"X":"Y"}(${(ne.value?0:-110)*(Ne||ye?-1:1)}%)`,position:H.value||r.value!==AU?"absolute":"fixed",...p.value?void 0:{transition:"none"}};if(!E.value)return qe;const Te=S.value[ue.value];if(!Te)throw new Error(`[Vuetify] Could not find layout item "${M}"`);const Oe=f.value.get(M);return Oe&&(Te[Oe.position]+=Oe.amount),{...qe,height:Xe?`calc(100% - ${Te.top}px - ${Te.bottom}px)`:Y.value?`${Y.value}px`:void 0,left:Ne?void 0:`${Te.left}px`,right:Ne?`${Te.right}px`:void 0,top:O.value!=="bottom"?`${Te.top}px`:void 0,bottom:O.value!=="top"?`${Te.bottom}px`:void 0,width:Xe?Y.value?`${Y.value}px`:void 0:`calc(100% - ${Te.left}px - ${Te.right}px)`}}),Le=_e(()=>({zIndex:Se.value-1}));return{layoutItemStyles:ve,layoutItemScrimStyles:Le,zIndex:Se}},unregister:I=>{o.delete(I),a.delete(I),s.delete(I),u.delete(I),l.delete(I),n.value=n.value.filter(D=>D!==I)},mainRect:g,mainStyles:y,getLayoutItem:v,items:S,layoutRect:d,rootZIndex:r});const T=_e(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),R=_e(()=>({zIndex:r.value,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:T,layoutStyles:R,getLayoutItem:v,items:S,layoutRect:d,layoutRef:c}}function Eee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...r}=t,n=uf(e,r),{aliases:a={},components:s={},directives:o={}}=n,u=ULe(n.defaults),l=qLe(n.display,n.ssr),c=dje(n.theme),d=QLe(n.icons),f=ZLe(n.locale);return{install:p=>{for(const g in o)p.directive(g,o[g]);for(const g in s)p.component(g,s[g]);for(const g in a)p.component(g,mt({...a[g],name:g,aliasName:a[g].name}));if(c.install(p),p.provide(L_,u),p.provide(F6,l),p.provide(j_,c),p.provide(L6,d),p.provide(cm,f),fi&&n.ssr)if(p.$nuxt)p.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:g}=p;p.mount=function(){const y=g(...arguments);return ni(()=>l.update()),p.mount=g,y}}_s.reset(),p.mixin({computed:{$vuetify(){return bi({defaults:Zv.call(this,L_),display:Zv.call(this,F6),theme:Zv.call(this,j_),icons:Zv.call(this,L6),locale:Zv.call(this,cm)})}}})},defaults:u,display:l,theme:c,icons:d,locale:f}}const gje="3.0.6";Eee.version=gje;function Zv(t){var e,r;const n=this.$,a=((e=n.parent)==null?void 0:e.provides)??((r=n.vnode.appContext)==null?void 0:r.provides);if(a&&t in a)return a[t]}const yje=mt({name:"VApp",props:{...See({fullHeight:!0}),...Mr()},setup(t,e){let{slots:r}=e;const n=nn(t),{layoutClasses:a,layoutStyles:s,getLayoutItem:o,items:u,layoutRef:l}=Tee(t),{rtlClasses:c}=bf();return yt(()=>{var d;return K("div",{ref:l,class:["v-application",n.themeClasses.value,a.value,c.value],style:s.value},[K("div",{class:"v-application__wrap"},[(d=r.default)==null?void 0:d.call(r)])])}),{getLayoutItem:o,items:u,theme:n}}});const mn=xa({name:"VDefaultsProvider",props:{defaults:Object,reset:[Number,String],root:Boolean,scoped:Boolean},setup(t,e){let{slots:r}=e;const{defaults:n,reset:a,root:s,scoped:o}=$E(t);return Vi(n,{reset:a,root:s,scoped:o}),()=>{var u;return(u=r.default)==null?void 0:u.call(r)}}});function cu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top center 0",r=arguments.length>2?arguments[2]:void 0;return mt({name:t,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:r},origin:{type:String,default:e}},setup(n,a){let{slots:s}=a;return()=>{const o=n.group?Bie:Gc;return jh(o,{name:t,mode:n.mode,onBeforeEnter(u){u.style.transformOrigin=n.origin},onLeave(u){if(n.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:d,offsetHeight:f}=u;u._transitionInitialStyles={position:u.style.position,top:u.style.top,left:u.style.left,width:u.style.width,height:u.style.height},u.style.position="absolute",u.style.top=`${l}px`,u.style.left=`${c}px`,u.style.width=`${d}px`,u.style.height=`${f}px`}n.hideOnLeave&&u.style.setProperty("display","none","important")},onAfterLeave(u){if(n.leaveAbsolute&&u!=null&&u._transitionInitialStyles){const{position:l,top:c,left:d,width:f,height:h}=u._transitionInitialStyles;delete u._transitionInitialStyles,u.style.position=l||"",u.style.top=c||"",u.style.left=d||"",u.style.width=f||"",u.style.height=h||""}}},s.default)}}})}function Aee(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return mt({name:t,props:{mode:{type:String,default:r}},setup(n,a){let{slots:s}=a;return()=>jh(Gc,{name:t,...e},s.default)}})}function xee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",n=Tu(`offset-${r}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[r]:o.style[r]}},onEnter(o){const u=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[n]}px`;o.style[r]="0",o.offsetHeight,o.style.transition=u.transition,t&&o._parent&&o._parent.classList.add(t),requestAnimationFrame(()=>{o.style[r]=l})},onAfterEnter:s,onEnterCancelled:s,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[r]:o.style[r]},o.style.overflow="hidden",o.style[r]=`${o[n]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[r]="0")},onAfterLeave:a,onLeaveCancelled:a};function a(o){t&&o._parent&&o._parent.classList.remove(t),s(o)}function s(o){const u=o._initialStyle[r];o.style.overflow=o._initialStyle.overflow,u!=null&&(o.style[r]=u),delete o._initialStyle}}const jP=mt({name:"VDialogTransition",props:{target:Object},setup(t,e){let{slots:r}=e;const n={onBeforeEnter(a){a.style.pointerEvents="none",a.style.visibility="hidden"},async onEnter(a,s){var o;await new Promise(p=>requestAnimationFrame(p)),await new Promise(p=>requestAnimationFrame(p)),a.style.visibility="";const{x:u,y:l,sx:c,sy:d,speed:f}=OU(t.target,a),h=$p(a,[{transform:`translate(${u}px, ${l}px) scale(${c}, ${d})`,opacity:0},{transform:""}],{duration:225*f,easing:MLe});(o=xU(a))==null||o.forEach(p=>{$p(p,[{opacity:0},{opacity:0,offset:.33},{opacity:1}],{duration:225*2*f,easing:F_})}),h.finished.then(()=>s())},onAfterEnter(a){a.style.removeProperty("pointer-events")},onBeforeLeave(a){a.style.pointerEvents="none"},async onLeave(a,s){var o;await new Promise(p=>requestAnimationFrame(p));const{x:u,y:l,sx:c,sy:d,speed:f}=OU(t.target,a);$p(a,[{transform:""},{transform:`translate(${u}px, ${l}px) scale(${c}, ${d})`,opacity:0}],{duration:125*f,easing:BLe}).finished.then(()=>s()),(o=xU(a))==null||o.forEach(p=>{$p(p,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*f,easing:F_})})},onAfterLeave(a){a.style.removeProperty("pointer-events")}};return()=>t.target?K(Gc,Dt({name:"dialog-transition"},n,{css:!1}),r):K(Gc,{name:"dialog-transition"},r)}});function xU(t){var e;const r=(e=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:e.children;return r&&[...r]}function OU(t,e){const r=t.getBoundingClientRect(),n=xL(e),[a,s]=getComputedStyle(e).transformOrigin.split(" ").map(v=>parseFloat(v)),[o,u]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=r.left+r.width/2;o==="left"||u==="left"?l-=r.width/2:(o==="right"||u==="right")&&(l+=r.width/2);let c=r.top+r.height/2;o==="top"||u==="top"?c-=r.height/2:(o==="bottom"||u==="bottom")&&(c+=r.height/2);const d=r.width/n.width,f=r.height/n.height,h=Math.max(1,d,f),p=d/h||0,g=f/h||0,y=n.width*n.height/(window.innerWidth*window.innerHeight),S=y>.12?Math.min(1.5,(y-.12)*10+1):1;return{x:l-(a+n.left),y:c-(s+n.top),sx:p,sy:g,speed:S}}const mje=cu("fab-transition","center center","out-in"),vje=cu("dialog-bottom-transition"),bje=cu("dialog-top-transition"),j6=cu("fade-transition"),Oee=cu("scale-transition"),_je=cu("scroll-x-transition"),wje=cu("scroll-x-reverse-transition"),Sje=cu("scroll-y-transition"),Tje=cu("scroll-y-reverse-transition"),Eje=cu("slide-x-transition"),Aje=cu("slide-x-reverse-transition"),DL=cu("slide-y-transition"),xje=cu("slide-y-reverse-transition"),MP=Aee("expand-transition",xee()),NL=Aee("expand-x-transition",xee("",!0));const Vl=dr({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Hl(t){return{dimensionStyles:_e(()=>({height:Ct(t.height),maxHeight:Ct(t.maxHeight),maxWidth:Ct(t.maxWidth),minHeight:Ct(t.minHeight),minWidth:Ct(t.minWidth),width:Ct(t.width)}))}}function Oje(t){return{aspectStyles:_e(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const Ree=mt({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...Vl()},setup(t,e){let{slots:r}=e;const{aspectStyles:n}=Oje(t),{dimensionStyles:a}=Hl(t);return yt(()=>{var s;return K("div",{class:"v-responsive",style:a.value},[K("div",{class:"v-responsive__sizer",style:n.value},null),(s=r.additional)==null?void 0:s.call(r),r.default&&K("div",{class:["v-responsive__content",t.contentClass]},[r.default()])])}),{}}});function Rje(t,e){if(!PL)return;const r=e.modifiers||{},n=e.value,{handler:a,options:s}=typeof n=="object"?n:{handler:n,options:{}},o=new IntersectionObserver(function(){var u;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;const d=(u=t._observe)==null?void 0:u[e.instance.$.uid];if(!d)return;const f=l.some(h=>h.isIntersecting);a&&(!r.quiet||d.init)&&(!r.once||f||d.init)&&a(f,l,c),f&&r.once?Iee(t,e):d.init=!0},s);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:o},o.observe(t)}function Iee(t,e){var r;const n=(r=t._observe)==null?void 0:r[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const tS={mounted:Rje,unmounted:Iee},_f=dr({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),jc=(t,e)=>{let{slots:r}=e;const{transition:n,...a}=t,{component:s=Gc,...o}=typeof n=="object"?n:{};return jh(s,Dt(typeof n=="string"?{name:n}:o,a),r)},Wm=mt({name:"VImg",directives:{intersect:tS},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],..._f()},emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:r,slots:n}=e;const a=Je(""),s=Je(),o=Je(t.eager?"loading":"idle"),u=Je(),l=Je(),c=_e(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),d=_e(()=>c.value.aspect||u.value/l.value||0);Mt(()=>t.src,()=>{f(o.value!=="idle")}),Mt(d,(M,N)=>{!M&&N&&s.value&&S(s.value)}),zE(()=>f());function f(M){if(!(t.eager&&M)&&!(PL&&!M&&!t.eager)){if(o.value="loading",c.value.lazySrc){const N=new Image;N.src=c.value.lazySrc,S(N,null)}c.value.src&&ni(()=>{var N,O;if(r("loadstart",((N=s.value)==null?void 0:N.currentSrc)||c.value.src),(O=s.value)!=null&&O.complete){if(s.value.naturalWidth||p(),o.value==="error")return;d.value||S(s.value,null),h()}else d.value||S(s.value),g()})}}function h(){var M;g(),o.value="loaded",r("load",((M=s.value)==null?void 0:M.currentSrc)||c.value.src)}function p(){var M;o.value="error",r("error",((M=s.value)==null?void 0:M.currentSrc)||c.value.src)}function g(){const M=s.value;M&&(a.value=M.currentSrc||M.src)}let y=-1;function S(M){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const O=()=>{clearTimeout(y);const{naturalHeight:k,naturalWidth:Y}=M;k||Y?(u.value=Y,l.value=k):!M.complete&&o.value==="loading"&&N!=null?y=window.setTimeout(O,N):(M.currentSrc.endsWith(".svg")||M.currentSrc.startsWith("data:image/svg+xml"))&&(u.value=1,l.value=1)};O()}const v=_e(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),A=()=>{var M;if(!c.value.src||o.value==="idle")return null;const N=K("img",{class:["v-img__img",v.value],src:c.value.src,srcset:c.value.srcset,alt:"",sizes:t.sizes,ref:s,onLoad:h,onError:p},null),O=(M=n.sources)==null?void 0:M.call(n);return K(jc,{transition:t.transition,appear:!0},{default:()=>[qn(O?K("picture",{class:"v-img__picture"},[O,N]):N,[[Ou,o.value==="loaded"]])]})},E=()=>K(jc,{transition:t.transition},{default:()=>[c.value.lazySrc&&o.value!=="loaded"&&K("img",{class:["v-img__img","v-img__img--preload",v.value],src:c.value.lazySrc,alt:""},null)]}),T=()=>n.placeholder?K(jc,{transition:t.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!n.error)&&K("div",{class:"v-img__placeholder"},[n.placeholder()])]}):null,R=()=>n.error?K(jc,{transition:t.transition,appear:!0},{default:()=>[o.value==="error"&&K("div",{class:"v-img__error"},[n.error()])]}):null,I=()=>t.gradient?K("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,D=Je(!1);{const M=Mt(d,N=>{N&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{D.value=!0})}),M())})}return yt(()=>qn(K(Ree,{class:["v-img",{"v-img--booting":!D.value}],style:{width:Ct(t.width==="auto"?u.value:t.width)},aspectRatio:d.value,"aria-label":t.alt,role:t.alt?"img":void 0},{additional:()=>K(Qt,null,[K(A,null,null),K(E,null,null),K(I,null,null),K(T,null,null),K(R,null,null)]),default:n.default}),[[tu("intersect"),{handler:f,options:t.options},null,{once:!0}]])),{currentSrc:a,image:s,state:o,naturalWidth:u,naturalHeight:l}}}),fr=dr({tag:{type:String,default:"div"}},"tag"),AE=Pn()({name:"VToolbarTitle",props:{text:String,...fr()},setup(t,e){let{slots:r}=e;return yt(()=>{var n;const a=!!(r.default||r.text||t.text);return K(t.tag,{class:"v-toolbar-title"},{default:()=>[a&&K("div",{class:"v-toolbar-title__placeholder"},[r.text?r.text():t.text,(n=r.default)==null?void 0:n.call(r)])]})}),{}}}),du=dr({border:[Boolean,Number,String]},"border");function Lu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf();return{borderClasses:_e(()=>{const n=ln(t)?t.value:t.border,a=[];if(n===!0||n==="")a.push(`${e}--border`);else if(typeof n=="string"||n===0)for(const s of String(n).split(" "))a.push(`border-${s}`);return a})}}const qi=dr({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function Wa(t){return{elevationClasses:_e(()=>{const r=ln(t)?t.value:t.elevation,n=[];return r==null||n.push(`elevation-${r}`),n})}}const Qn=dr({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function Si(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf();return{roundedClasses:_e(()=>{const n=ln(t)?t.value:t.rounded,a=[];if(n===!0||n==="")a.push(`${e}--rounded`);else if(typeof n=="string"||n===0)for(const s of String(n).split(" "))a.push(`rounded-${s}`);return a})}}function FL(t){return AL(()=>{const e=[],r={};return t.value.background&&(dU(t.value.background)?r.backgroundColor=t.value.background:e.push(`bg-${t.value.background}`)),t.value.text&&(dU(t.value.text)?(r.color=t.value.text,r.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:r}})}function bo(t,e){const r=_e(()=>({text:ln(t)?t.value:e?t[e]:null})),{colorClasses:n,colorStyles:a}=FL(r);return{textColorClasses:n,textColorStyles:a}}function wi(t,e){const r=_e(()=>({background:ln(t)?t.value:e?t[e]:null})),{colorClasses:n,colorStyles:a}=FL(r);return{backgroundColorClasses:n,backgroundColorStyles:a}}const Ije=[null,"prominent","default","comfortable","compact"],Pee=dr({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>Ije.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...du(),...qi(),...Qn(),...fr({tag:"header"}),...Mr()},"v-toolbar"),xE=Pn()({name:"VToolbar",props:Pee(),setup(t,e){var r;let{slots:n}=e;const{backgroundColorClasses:a,backgroundColorStyles:s}=wi(ct(t,"color")),{borderClasses:o}=Lu(t),{elevationClasses:u}=Wa(t),{roundedClasses:l}=Si(t),{themeClasses:c}=nn(t),d=Je(!!(t.extended||(r=n.extension)!=null&&r.call(n))),f=_e(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),h=_e(()=>d.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Vi({VBtn:{variant:"text"}}),yt(()=>{var p,g,y,S,v;const A=!!(t.title||n.title),E=!!(n.image||t.image),T=(p=n.extension)==null?void 0:p.call(n);return d.value=!!(t.extended||T),K(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},a.value,o.value,u.value,l.value,c.value],style:[s.value]},{default:()=>[E&&K("div",{key:"image",class:"v-toolbar__image"},[K(mn,{defaults:{VImg:{cover:!0,src:t.image}}},{default:()=>[n.image?(g=n.image)==null?void 0:g.call(n):K(Wm,null,null)]})]),K(mn,{defaults:{VTabs:{height:Ct(f.value)}}},{default:()=>[K("div",{class:"v-toolbar__content",style:{height:Ct(f.value)}},[n.prepend&&K("div",{class:"v-toolbar__prepend"},[(y=n.prepend)==null?void 0:y.call(n)]),A&&K(AE,{key:"title",text:t.title},{text:n.title}),(S=n.default)==null?void 0:S.call(n),n.append&&K("div",{class:"v-toolbar__append"},[(v=n.append)==null?void 0:v.call(n)])])]}),K(mn,{defaults:{VTabs:{height:Ct(h.value)}}},{default:()=>[K(MP,null,{default:()=>[d.value&&K("div",{class:"v-toolbar__extension",style:{height:Ct(h.value)}},[T])]})]})]})}),{contentHeight:f,extensionHeight:h}}});function Pje(t){return lu(t,Object.keys((xE==null?void 0:xE.props)??{}))}const Cje=Pn()({name:"VAppBar",props:{modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...Pee(),...Gm(),height:{type:[Number,String],default:64}},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=Je(),a=pr(t,"modelValue"),s=_e(()=>{var u,l;const c=((u=n.value)==null?void 0:u.contentHeight)??0,d=((l=n.value)==null?void 0:l.extensionHeight)??0;return c+d}),{layoutItemStyles:o}=Qm({id:t.name,order:_e(()=>parseInt(t.order,10)),position:ct(t,"location"),layoutSize:s,elementSize:s,active:a,absolute:ct(t,"absolute")});return yt(()=>{const[u]=Pje(t);return K(xE,Dt({ref:n,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"}],style:{...o.value,height:void 0}},u),r)}),{}}});const Dje=[null,"default","comfortable","compact"],da=dr({density:{type:String,default:"default",validator:t=>Dje.includes(t)}},"density");function ws(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf();return{densityClasses:_e(()=>`${e}--density-${t.density}`)}}const Nje=["elevated","flat","tonal","outlined","text","plain"];function X0(t,e){return K(Qt,null,[t&&K("span",{key:"overlay",class:`${e}__overlay`},null),K("span",{key:"underlay",class:`${e}__underlay`},null)])}const ju=dr({color:String,variant:{type:String,default:"elevated",validator:t=>Nje.includes(t)}},"variant");function J0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf();const r=_e(()=>{const{variant:s}=On(t);return`${e}--variant-${s}`}),{colorClasses:n,colorStyles:a}=FL(_e(()=>{const{variant:s,color:o}=On(t);return{[["elevated","flat"].includes(s)?"background":"text"]:o}}));return{colorClasses:n,colorStyles:a,variantClasses:r}}const Cee=mt({name:"VBtnGroup",props:{divided:Boolean,...du(),...da(),...qi(),...Qn(),...fr(),...Mr(),...ju()},setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t),{densityClasses:a}=ws(t),{borderClasses:s}=Lu(t),{elevationClasses:o}=Wa(t),{roundedClasses:u}=Si(t);Vi({VBtn:{height:"auto",color:ct(t,"color"),density:ct(t,"density"),flat:!0,variant:ct(t,"variant")}}),yt(()=>K(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},n.value,s.value,a.value,o.value,u.value]},r))}}),Km=dr({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Y0=dr({value:null,disabled:Boolean,selectedClass:String},"group-item");function Xm(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const n=bs("useGroupItem");if(!n)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const a=_s();Di(Symbol.for(`${e.description}:id`),a);const s=Xr(e,null);if(!s){if(!r)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const o=ct(t,"value"),u=_e(()=>s.disabled.value||t.disabled);s.register({id:a,value:o,disabled:u},n),_o(()=>{s.unregister(a)});const l=_e(()=>s.isSelected(a)),c=_e(()=>l.value&&[s.selectedClass.value,t.selectedClass]);return Mt(l,d=>{n.emit("group:selected",{value:d})}),{id:a,isSelected:l,toggle:()=>s.select(a,!l.value),select:d=>s.select(a,d),selectedClass:c,value:o,disabled:u,group:s}}function Z0(t,e){let r=!1;const n=bi([]),a=pr(t,"modelValue",[],h=>h==null?[]:Dee(n,Su(h)),h=>{const p=Lje(n,h);return t.multiple?p:p[0]}),s=bs("useGroup");function o(h,p){const g=h,y=Symbol.for(`${e.description}:id`),v=Xb(y,s==null?void 0:s.vnode).indexOf(p);v>-1?n.splice(v,0,g):n.push(g)}function u(h){if(r)return;l();const p=n.findIndex(g=>g.id===h);n.splice(p,1)}function l(){const h=n.find(p=>!p.disabled);h&&t.mandatory==="force"&&!a.value.length&&(a.value=[h.id])}zs(()=>{l()}),_o(()=>{r=!0});function c(h,p){const g=n.find(y=>y.id===h);if(!(p&&g!=null&&g.disabled))if(t.multiple){const y=a.value.slice(),S=y.findIndex(A=>A===h),v=~S;if(p=p??!v,v&&t.mandatory&&y.length<=1||!v&&t.max!=null&&y.length+1>t.max)return;S<0&&p?y.push(h):S>=0&&!p&&y.splice(S,1),a.value=y}else{const y=a.value.includes(h);if(t.mandatory&&y)return;a.value=p??!y?[h]:[]}}function d(h){if(t.multiple&&c0('This method is not supported when using "multiple" prop'),a.value.length){const p=a.value[0],g=n.findIndex(v=>v.id===p);let y=(g+h)%n.length,S=n[y];for(;S.disabled&&y!==g;)y=(y+h)%n.length,S=n[y];if(S.disabled)return;a.value=[n[y].id]}else{const p=n.find(g=>!g.disabled);p&&(a.value=[p.id])}}const f={register:o,unregister:u,selected:a,select:c,disabled:ct(t,"disabled"),prev:()=>d(n.length-1),next:()=>d(1),isSelected:h=>a.value.includes(h),selectedClass:_e(()=>t.selectedClass),items:_e(()=>n),getItemIndex:h=>Fje(n,h)};return Di(e,f),f}function Fje(t,e){const r=Dee(t,[e]);return r.length?t.findIndex(n=>n.id===r[0]):-1}function Dee(t,e){const r=[];for(let n=0;n<t.length;n++){const a=t[n];a.value!=null?e.find(s=>zm(s,a.value))!=null&&r.push(a.id):e.includes(n)&&r.push(a.id)}return r}function Lje(t,e){const r=[];for(let n=0;n<t.length;n++){const a=t[n];e.includes(a.id)&&r.push(a.value!=null?a.value:n)}return r}const LL=Symbol.for("vuetify:v-btn-toggle"),jje=Pn()({name:"VBtnToggle",props:Km(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{isSelected:n,next:a,prev:s,select:o,selected:u}=Z0(t,LL);return yt(()=>{var l;return K(Cee,{class:"v-btn-toggle"},{default:()=>[(l=r.default)==null?void 0:l.call(r,{isSelected:n,next:a,prev:s,select:o,selected:u})]})}),{next:a,prev:s,select:o}}});const Mje=["x-small","small","default","large","x-large"],wf=dr({size:{type:[String,Number],default:"default"}},"size");function Jm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf();return AL(()=>{let r,n;return _E(Mje,t.size)?r=`${e}--size-${t.size}`:t.size&&(n={width:Ct(t.size),height:Ct(t.size)}),{sizeClasses:r,sizeStyles:n}})}const Bje=dr({color:String,start:Boolean,end:Boolean,icon:rr,...wf(),...fr({tag:"i"}),...Mr()},"v-icon"),Pi=mt({name:"VIcon",props:Bje(),setup(t,e){let{attrs:r,slots:n}=e,a;n.default&&(a=_e(()=>{var d,f;const h=(d=n.default)==null?void 0:d.call(n);if(h)return(f=KZ(h).filter(p=>p.children&&typeof p.children=="string")[0])==null?void 0:f.children}));const{themeClasses:s}=nn(t),{iconData:o}=WLe(a||t),{sizeClasses:u}=Jm(t),{textColorClasses:l,textColorStyles:c}=bo(ct(t,"color"));return yt(()=>K(o.value.component,{tag:t.tag,icon:o.value.icon,class:["v-icon","notranslate",s.value,u.value,l.value,{"v-icon--clickable":!!r.onClick,"v-icon--start":t.start,"v-icon--end":t.end}],style:[u.value?void 0:{fontSize:Ct(t.size),height:Ct(t.size),width:Ct(t.size)},c.value],role:r.onClick?"button":void 0,"aria-hidden":!r.onClick},null)),{}}});function jL(t){const e=Je(),r=Je(!1);if(PL){const n=new IntersectionObserver(a=>{t==null||t(a,n),r.value=!!a.find(s=>s.isIntersecting)});_o(()=>{n.disconnect()}),Mt(e,(a,s)=>{s&&(n.unobserve(s),r.value=!1),a&&n.observe(a)},{flush:"post"})}return{intersectionRef:e,isIntersecting:r}}const ML=mt({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...wf(),...fr({tag:"div"}),...Mr()},setup(t,e){let{slots:r}=e;const n=20,a=2*Math.PI*n,s=Je(),{themeClasses:o}=nn(t),{sizeClasses:u,sizeStyles:l}=Jm(t),{textColorClasses:c,textColorStyles:d}=bo(ct(t,"color")),{textColorClasses:f,textColorStyles:h}=bo(ct(t,"bgColor")),{intersectionRef:p,isIntersecting:g}=jL(),{resizeRef:y,contentRect:S}=E0(),v=_e(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),A=_e(()=>Number(t.width)),E=_e(()=>l.value?Number(t.size):S.value?S.value.width:Math.max(A.value,32)),T=_e(()=>n/(1-A.value/E.value)*2),R=_e(()=>A.value/E.value*T.value),I=_e(()=>Ct((100-v.value)/100*a));return Aa(()=>{p.value=s.value,y.value=s.value}),yt(()=>K(t.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},o.value,u.value,c.value],style:[l.value,d.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:v.value},{default:()=>[K("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${T.value} ${T.value}`},[K("circle",{class:["v-progress-circular__underlay",f.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":R.value,"stroke-dasharray":a,"stroke-dashoffset":0},null),K("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":R.value,"stroke-dasharray":a,"stroke-dashoffset":I.value},null)]),r.default&&K("div",{class:"v-progress-circular__content"},[r.default({value:v.value})])]})),{}}});const M6=Symbol("rippleStop"),kje=80;function RU(t,e){t.style.transform=e,t.style.webkitTransform=e}function xN(t,e){t.style.opacity=`calc(${e} * var(--v-theme-overlay-multiplier))`}function B6(t){return t.constructor.name==="TouchEvent"}function Nee(t){return t.constructor.name==="KeyboardEvent"}const $je=function(t,e){var r;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=0,s=0;if(!Nee(t)){const h=e.getBoundingClientRect(),p=B6(t)?t.touches[t.touches.length-1]:t;a=p.clientX-h.left,s=p.clientY-h.top}let o=0,u=.3;(r=e._ripple)!=null&&r.circle?(u=.15,o=e.clientWidth/2,o=n.center?o:o+Math.sqrt((a-o)**2+(s-o)**2)/4):o=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const l=`${(e.clientWidth-o*2)/2}px`,c=`${(e.clientHeight-o*2)/2}px`,d=n.center?l:`${a-o}px`,f=n.center?c:`${s-o}px`;return{radius:o,scale:u,x:d,y:f,centerX:l,centerY:c}},OE={show(t,e){var r;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(e!=null&&(r=e._ripple)!=null&&r.enabled))return;const a=document.createElement("span"),s=document.createElement("span");a.appendChild(s),a.className="v-ripple__container",n.class&&(a.className+=` ${n.class}`);const{radius:o,scale:u,x:l,y:c,centerX:d,centerY:f}=$je(t,e,n),h=`${o*2}px`;s.className="v-ripple__animation",s.style.width=h,s.style.height=h,e.appendChild(a);const p=window.getComputedStyle(e);p&&p.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),RU(s,`translate(${l}, ${c}) scale3d(${u},${u},${u})`),xN(s,0),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),RU(s,`translate(${d}, ${f}) scale3d(1,1,1)`),xN(s,.08)},0)},hide(t){var e;if(!(t!=null&&(e=t._ripple)!=null&&e.enabled))return;const r=t.getElementsByClassName("v-ripple__animation");if(r.length===0)return;const n=r[r.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const a=performance.now()-Number(n.dataset.activated),s=Math.max(250-a,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),xN(n,0),setTimeout(()=>{t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),n.parentNode&&t.removeChild(n.parentNode)},300)},s)}};function Fee(t){return typeof t>"u"||!!t}function M_(t){const e={},r=t.currentTarget;if(!(!(r!=null&&r._ripple)||r._ripple.touched||t[M6])){if(t[M6]=!0,B6(t))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(e.center=r._ripple.centered||Nee(t),r._ripple.class&&(e.class=r._ripple.class),B6(t)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{OE.show(t,r,e)},r._ripple.showTimer=window.setTimeout(()=>{var n;r!=null&&(n=r._ripple)!=null&&n.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},kje)}else OE.show(t,r,e)}}function IU(t){t[M6]=!0}function Ko(t){const e=t.currentTarget;if(!(!e||!e._ripple)){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{Ko(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),OE.hide(e)}}function Lee(t){const e=t.currentTarget;!e||!e._ripple||(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let B_=!1;function jee(t){!B_&&(t.keyCode===aU.enter||t.keyCode===aU.space)&&(B_=!0,M_(t))}function Mee(t){B_=!1,Ko(t)}function Bee(t){B_&&(B_=!1,Ko(t))}function kee(t,e,r){const{value:n,modifiers:a}=e,s=Fee(n);if(s||OE.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=s,t._ripple.centered=a.center,t._ripple.circle=a.circle,O6(n)&&n.class&&(t._ripple.class=n.class),s&&!r){if(a.stop){t.addEventListener("touchstart",IU,{passive:!0}),t.addEventListener("mousedown",IU);return}t.addEventListener("touchstart",M_,{passive:!0}),t.addEventListener("touchend",Ko,{passive:!0}),t.addEventListener("touchmove",Lee,{passive:!0}),t.addEventListener("touchcancel",Ko),t.addEventListener("mousedown",M_),t.addEventListener("mouseup",Ko),t.addEventListener("mouseleave",Ko),t.addEventListener("keydown",jee),t.addEventListener("keyup",Mee),t.addEventListener("blur",Bee),t.addEventListener("dragstart",Ko,{passive:!0})}else!s&&r&&$ee(t)}function $ee(t){t.removeEventListener("mousedown",M_),t.removeEventListener("touchstart",M_),t.removeEventListener("touchend",Ko),t.removeEventListener("touchmove",Lee),t.removeEventListener("touchcancel",Ko),t.removeEventListener("mouseup",Ko),t.removeEventListener("mouseleave",Ko),t.removeEventListener("keydown",jee),t.removeEventListener("keyup",Mee),t.removeEventListener("dragstart",Ko),t.removeEventListener("blur",Bee)}function Uje(t,e){kee(t,e,!1)}function Vje(t){delete t._ripple,$ee(t)}function Hje(t,e){if(e.value===e.oldValue)return;const r=Fee(e.oldValue);kee(t,e,r)}const Jh={mounted:Uje,unmounted:Vje,updated:Hje};const BL=mt({name:"VProgressLinear",props:{active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Qn(),...fr(),...Mr()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"modelValue"),{isRtl:a}=bf(),{themeClasses:s}=nn(t),{textColorClasses:o,textColorStyles:u}=bo(t,"color"),{backgroundColorClasses:l,backgroundColorStyles:c}=wi(_e(()=>t.bgColor||t.color)),{backgroundColorClasses:d,backgroundColorStyles:f}=wi(t,"color"),{roundedClasses:h}=Si(t),{intersectionRef:p,isIntersecting:g}=jL(),y=_e(()=>parseInt(t.max,10)),S=_e(()=>parseInt(t.height,10)),v=_e(()=>parseFloat(t.bufferValue)/y.value*100),A=_e(()=>parseFloat(n.value)/y.value*100),E=_e(()=>a.value!==t.reverse),T=_e(()=>t.indeterminate?"fade-transition":"slide-x-transition"),R=_e(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function I(D){if(!p.value)return;const{left:M,right:N,width:O}=p.value.getBoundingClientRect(),k=E.value?O-D.clientX+(N-O):D.clientX-M;n.value=Math.round(k/O*y.value)}return yt(()=>K(t.tag,{ref:p,class:["v-progress-linear",{"v-progress-linear--active":t.active&&g.value,"v-progress-linear--reverse":E.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},h.value,s.value],style:{height:t.active?Ct(S.value):0,"--v-progress-linear-height":Ct(S.value)},role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:A.value,onClick:t.clickable&&I},{default:()=>[t.stream&&K("div",{key:"stream",class:["v-progress-linear__stream",o.value],style:{...u.value,[E.value?"left":"right"]:Ct(-S.value),borderTop:`${Ct(S.value/2)} dotted`,opacity:R.value,top:`calc(50% - ${Ct(S.value/4)})`,width:Ct(100-v.value,"%"),"--v-progress-linear-stream-to":Ct(S.value*(E.value?1:-1))}},null),K("div",{class:["v-progress-linear__background",l.value],style:[c.value,{opacity:R.value,width:Ct(t.stream?v.value:100,"%")}]},null),K(Gc,{name:T.value},{default:()=>[t.indeterminate?K("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(D=>K("div",{key:D,class:["v-progress-linear__indeterminate",D,d.value],style:f.value},null))]):K("div",{class:["v-progress-linear__determinate",d.value],style:[f.value,{width:Ct(A.value,"%")}]},null)]}),r.default&&K("div",{class:"v-progress-linear__content"},[r.default({value:A.value,buffer:v.value})])]})),{}}}),kL=dr({loading:[Boolean,String]},"loader");function BP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf();return{loaderClasses:_e(()=>({[`${e}--loading`]:t.loading}))}}function $L(t,e){var r;let{slots:n}=e;return K("div",{class:`${t.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:t.color,isActive:t.active}))||K(BL,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const PU={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},eg=dr({location:String},"location");function tg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0;const{isRtl:n}=bf();return{locationStyles:_e(()=>{if(!t.location)return{};const{side:s,align:o}=I6(t.location.split(" ").length>1?t.location:`${t.location} center`,n.value);function u(c){return r?r(c):0}const l={};return s!=="center"&&(e?l[PU[s]]=`calc(100% - ${u(s)}px)`:l[s]=0),o!=="center"?e?l[PU[o]]=`calc(100% - ${u(o)}px)`:l[o]=0:(s==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),l})}}const qje=["static","relative","fixed","absolute","sticky"],Ym=dr({position:{type:String,validator:t=>qje.includes(t)}},"position");function Zm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf();return{positionClasses:_e(()=>t.position?`${e}--${t.position}`:void 0)}}function Uee(){var t,e;return(t=bs("useRouter"))==null||(e=t.proxy)==null?void 0:e.$router}function rS(t,e){const r=Lne("RouterLink"),n=_e(()=>!!(t.href||t.to)),a=_e(()=>(n==null?void 0:n.value)||oU(e,"click")||oU(t,"click"));if(typeof r=="string")return{isLink:n,isClickable:a,href:ct(t,"href")};const s=t.to?r.useLink(t):void 0;return{isLink:n,isClickable:a,route:s==null?void 0:s.route,navigate:s==null?void 0:s.navigate,isActive:s&&_e(()=>{var o,u;return t.exact?(o=s.isExactActive)==null?void 0:o.value:(u=s.isActive)==null?void 0:u.value}),href:_e(()=>t.to?s==null?void 0:s.route.value.href:t.href)}}const ev=dr({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let ON=!1;function zje(t,e){let r=!1,n,a;fi&&(ni(()=>{window.addEventListener("popstate",s),n=t==null?void 0:t.beforeEach((o,u,l)=>{ON?r?e(l):l():setTimeout(()=>r?e(l):l()),ON=!0}),a=t==null?void 0:t.afterEach(()=>{ON=!1})}),Ll(()=>{var o,u;window.removeEventListener("popstate",s),(o=n)==null||o(),(u=a)==null||u()}));function s(o){var u;(u=o.state)!=null&&u.replaced||(r=!0,setTimeout(()=>r=!1))}}function Gje(t,e){Mt(()=>{var r;return(r=t.isActive)==null?void 0:r.value},r=>{t.isLink.value&&r&&e&&ni(()=>{e(!0)})},{immediate:!0})}const co=mt({name:"VBtn",directives:{Ripple:Jh},props:{active:{type:Boolean,default:void 0},symbol:{type:null,default:LL},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:rr,appendIcon:rr,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0},...du(),...Qn(),...da(),...Vl(),...qi(),...Y0(),...kL(),...eg(),...Ym(),...ev(),...wf(),...fr({tag:"button"}),...Mr(),...ju({variant:"elevated"})},emits:{"group:selected":t=>!0},setup(t,e){let{attrs:r,slots:n}=e;const{themeClasses:a}=nn(t),{borderClasses:s}=Lu(t),{colorClasses:o,colorStyles:u,variantClasses:l}=J0(t),{densityClasses:c}=ws(t),{dimensionStyles:d}=Hl(t),{elevationClasses:f}=Wa(t),{loaderClasses:h}=BP(t),{locationStyles:p}=tg(t),{positionClasses:g}=Zm(t),{roundedClasses:y}=Si(t),{sizeClasses:S,sizeStyles:v}=Jm(t),A=Xm(t,t.symbol,!1),E=rS(t,r),T=_e(()=>{var D;return t.active!==!1&&(t.active||((D=E.isActive)==null?void 0:D.value)||(A==null?void 0:A.isSelected.value))}),R=_e(()=>(A==null?void 0:A.disabled.value)||t.disabled),I=_e(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border));return Gje(E,A==null?void 0:A.select),yt(()=>{var D,M,N,O;const k=E.isLink.value?"a":t.tag,Y=!A||A.isSelected.value,ne=!!(t.prependIcon||n.prepend),q=!!(t.appendIcon||n.append),H=!!(t.icon&&t.icon!==!0);return qn(K(k,{type:k==="a"?void 0:"button",class:["v-btn",A==null?void 0:A.selectedClass.value,{"v-btn--active":T.value,"v-btn--block":t.block,"v-btn--disabled":R.value,"v-btn--elevated":I.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--stacked":t.stacked},a.value,s.value,Y?o.value:void 0,c.value,f.value,h.value,g.value,y.value,S.value,l.value],style:[Y?u.value:void 0,d.value,p.value,v.value],disabled:R.value||void 0,href:E.href.value,onClick:J=>{var se;R.value||((se=E.navigate)==null||se.call(E,J),A==null||A.toggle())}},{default:()=>[X0(!0,"v-btn"),!t.icon&&ne&&K(mn,{key:"prepend",defaults:{VIcon:{icon:t.prependIcon}}},{default:()=>[K("span",{class:"v-btn__prepend"},[((D=n.prepend)==null?void 0:D.call(n))??K(Pi,null,null)])]}),K("span",{class:"v-btn__content","data-no-activator":""},[K(mn,{key:"content",defaults:{VIcon:{icon:H?t.icon:void 0}}},{default:()=>[((M=n.default)==null?void 0:M.call(n))??(H&&K(Pi,{key:"icon"},null))]})]),!t.icon&&q&&K(mn,{key:"append",defaults:{VIcon:{icon:t.appendIcon}}},{default:()=>[K("span",{class:"v-btn__append"},[((N=n.append)==null?void 0:N.call(n))??K(Pi,null,null)])]}),!!t.loading&&K("span",{key:"loader",class:"v-btn__loader"},[((O=n.loader)==null?void 0:O.call(n))??K(ML,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}),[[tu("ripple"),!R.value&&t.ripple,null]])}),{}}}),Qje=mt({name:"VAppBarNavIcon",props:{icon:{type:rr,default:"$menu"}},setup(t,e){let{slots:r}=e;return yt(()=>K(co,{class:"v-app-bar-nav-icon",icon:t.icon},r)),{}}}),Wje=mt({name:"VToolbarItems",props:ju({variant:"text"}),setup(t,e){let{slots:r}=e;return Vi({VBtn:{color:ct(t,"color"),height:"inherit",variant:ct(t,"variant")}}),yt(()=>{var n;return K("div",{class:"v-toolbar-items"},[(n=r.default)==null?void 0:n.call(r)])}),{}}}),Kje=mt({name:"VAppBarTitle",props:{...AE.props},setup(t,e){let{slots:r}=e;return yt(()=>K(AE,{class:"v-app-bar-title"},r)),{}}});const Vee=Fu("v-alert-title"),Xje=["success","info","warning","error"],Jje=mt({name:"VAlert",props:{border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:rr,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>Xje.includes(t)},...da(),...Vl(),...qi(),...eg(),...Ym(),...Qn(),...fr(),...Mr(),...ju({variant:"flat"})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"modelValue"),a=_e(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),s=_e(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:o}=nn(t),{colorClasses:u,colorStyles:l,variantClasses:c}=J0(s),{densityClasses:d}=ws(t),{dimensionStyles:f}=Hl(t),{elevationClasses:h}=Wa(t),{locationStyles:p}=tg(t),{positionClasses:g}=Zm(t),{roundedClasses:y}=Si(t),{textColorClasses:S,textColorStyles:v}=bo(ct(t,"borderColor")),{t:A}=Ul(),E=_e(()=>({"aria-label":A(t.closeLabel),onClick(T){n.value=!1}}));return()=>{var T,R;const I=!!(r.prepend||a.value),D=!!(r.title||t.title),M=!!(t.text||r.text),N=!!(r.close||t.closable);return n.value&&K(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},o.value,u.value,d.value,h.value,g.value,y.value,c.value],style:[l.value,f.value,p.value],role:"alert"},{default:()=>[X0(!1,"v-alert"),t.border&&K("div",{key:"border",class:["v-alert__border",S.value],style:v.value},null),I&&K(mn,{key:"prepend",defaults:{VIcon:{density:t.density,icon:a.value,size:t.prominent?44:28}}},{default:()=>[K("div",{class:"v-alert__prepend"},[r.prepend?r.prepend():a.value&&K(Pi,null,null)])]}),K("div",{class:"v-alert__content"},[D&&K(Vee,{key:"title"},{default:()=>[r.title?r.title():t.title]}),M&&(r.text?r.text():t.text),(T=r.default)==null?void 0:T.call(r)]),r.append&&K("div",{key:"append",class:"v-alert__append"},[r.append()]),N&&K(mn,{key:"close",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[K("div",{class:"v-alert__close"},[((R=r.close)==null?void 0:R.call(r,{props:E.value}))??K(co,E.value,null)])]})]})}}});function Hee(t){const{t:e}=Ul();function r(n){let{name:a}=n;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[a],o=t[`onClick:${a}`],u=o&&s?e(`$vuetify.input.${s}`,t.label??""):void 0;return K(Pi,{icon:t[`${a}Icon`],"aria-label":u,onClick:o},null)}return{InputIcon:r}}const tv=mt({name:"VLabel",props:{text:String,clickable:Boolean,...Mr()},setup(t,e){let{slots:r}=e;return yt(()=>{var n;return K("label",{class:["v-label",{"v-label--clickable":t.clickable}]},[t.text,(n=r.default)==null?void 0:n.call(r)])}),{}}}),Pb=mt({name:"VFieldLabel",props:{floating:Boolean},setup(t,e){let{slots:r}=e;return yt(()=>K(tv,{class:["v-field-label",{"v-field-label--floating":t.floating}],"aria-hidden":t.floating||void 0},r)),{}}}),kP=dr({focused:Boolean},"focus");function rg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf();const r=pr(t,"focused"),n=_e(()=>({[`${e}--focused`]:r.value}));function a(){r.value=!0}function s(){r.value=!1}return{focusClasses:n,isFocused:r,focus:a,blur:s}}const Yje=["underlined","outlined","filled","solo","plain"],$P=dr({appendInnerIcon:rr,bgColor:String,clearable:Boolean,clearIcon:{type:rr,default:"$clear"},active:Boolean,color:String,dirty:Boolean,disabled:Boolean,error:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:rr,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Yje.includes(t)},"onClick:clear":l0,"onClick:appendInner":l0,"onClick:prependInner":l0,...Mr(),...kL()},"v-field"),nS=Pn()({name:"VField",inheritAttrs:!1,props:{id:String,...kP(),...$P()},emits:{"click:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:n,slots:a}=e;const{themeClasses:s}=nn(t),{loaderClasses:o}=BP(t),{focusClasses:u,isFocused:l,focus:c,blur:d}=rg(t),{InputIcon:f}=Hee(t),h=_e(()=>t.dirty||t.active),p=_e(()=>!t.singleLine&&!!(t.label||a.label)),g=_s(),y=_e(()=>t.id||`input-${g}`),S=Je(),v=Je(),A=Je(),{backgroundColorClasses:E,backgroundColorStyles:T}=wi(ct(t,"bgColor")),{textColorClasses:R,textColorStyles:I}=bo(_e(()=>h.value&&l.value&&!t.error&&!t.disabled?t.color:void 0));Mt(h,N=>{if(p.value){const O=S.value.$el,k=v.value.$el,Y=xL(O),ne=k.getBoundingClientRect(),q=ne.x-Y.x,H=ne.y-Y.y-(Y.height/2-ne.height/2),J=ne.width/.75,se=Math.abs(J-Y.width)>1?{maxWidth:Ct(J)}:void 0,ue=getComputedStyle(O),Se=getComputedStyle(k),ve=parseFloat(ue.transitionDuration)*1e3||150,Le=parseFloat(Se.getPropertyValue("--v-field-label-scale")),Xe=Se.getPropertyValue("color");O.style.visibility="visible",k.style.visibility="hidden",$p(O,{transform:`translate(${q}px, ${H}px) scale(${Le})`,color:Xe,...se},{duration:ve,easing:F_,direction:N?"normal":"reverse"}).finished.then(()=>{O.style.removeProperty("visibility"),k.style.removeProperty("visibility")})}},{flush:"post"});const D=_e(()=>({isActive:h,isFocused:l,controlRef:A,blur:d,focus:c}));function M(N){N.target!==document.activeElement&&N.preventDefault(),n("click:control",N)}return yt(()=>{var N,O,k;const Y=t.variant==="outlined",ne=a["prepend-inner"]||t.prependInnerIcon,q=!!(t.clearable||a.clear),H=!!(a["append-inner"]||t.appendInnerIcon||q),J=a.label?a.label({label:t.label,props:{for:y.value}}):t.label;return K("div",Dt({class:["v-field",{"v-field--active":h.value,"v-field--appended":H,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":ne,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!J,[`v-field--variant-${t.variant}`]:!0},s.value,E.value,u.value,o.value],style:[T.value,I.value],onClick:M},r),[K("div",{class:"v-field__overlay"},null),K($L,{name:"v-field",active:!!t.loading,color:t.error?"error":t.color},{default:a.loader}),ne&&K("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&K(f,{key:"prepend-icon",name:"prependInner"},null),(N=a["prepend-inner"])==null?void 0:N.call(a,D.value)]),K("div",{class:"v-field__field","data-no-activator":""},[["solo","filled"].includes(t.variant)&&p.value&&K(Pb,{key:"floating-label",ref:v,class:[R.value],floating:!0,for:y.value},{default:()=>[J]}),K(Pb,{ref:S,for:y.value},{default:()=>[J]}),(O=a.default)==null?void 0:O.call(a,{...D.value,props:{id:y.value,class:"v-field__input"},focus:c,blur:d})]),q&&K(NL,{key:"clear"},{default:()=>[qn(K("div",{class:"v-field__clearable"},[a.clear?a.clear():K(f,{name:"clear"},null)]),[[Ou,t.dirty]])]}),H&&K("div",{key:"append",class:"v-field__append-inner"},[(k=a["append-inner"])==null?void 0:k.call(a,D.value),t.appendInnerIcon&&K(f,{key:"append-icon",name:"appendInner"},null)]),K("div",{class:["v-field__outline",R.value]},[Y&&K(Qt,null,[K("div",{class:"v-field__outline__start"},null),p.value&&K("div",{class:"v-field__outline__notch"},[K(Pb,{ref:v,floating:!0,for:y.value},{default:()=>[J]})]),K("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(t.variant)&&p.value&&K(Pb,{ref:v,floating:!0,for:y.value},{default:()=>[J]})])])}),{controlRef:A}}});function UL(t){const e=Object.keys(nS.props).filter(r=>!XZ(r));return lu(t,e)}const qee=mt({name:"VMessages",props:{active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},..._f({transition:{component:DL,leaveAbsolute:!0,group:!0}})},setup(t,e){let{slots:r}=e;const n=_e(()=>Su(t.messages)),{textColorClasses:a,textColorStyles:s}=bo(_e(()=>t.color));return yt(()=>K(jc,{transition:t.transition,tag:"div",class:["v-messages",a.value],style:s.value},{default:()=>[t.active&&n.value.map((o,u)=>K("div",{class:"v-messages__message",key:`${u}-${n.value}`},[r.message?r.message({message:o}):o]))]})),{}}}),zee=Symbol.for("vuetify:form"),Zje=dr({disabled:Boolean,fastFail:Boolean,lazyValidation:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function eMe(t){const e=pr(t,"modelValue"),r=_e(()=>t.disabled),n=_e(()=>t.readonly),a=Je(!1),s=Je([]),o=Je([]);async function u(){const d=[];let f=!0;o.value=[],a.value=!0;for(const h of s.value){const p=await h.validate();if(p.length>0&&(f=!1,d.push({id:h.id,errorMessages:p})),!f&&t.fastFail)break}return o.value=d,a.value=!1,{valid:f,errors:o.value}}function l(){s.value.forEach(d=>d.reset()),e.value=null}function c(){s.value.forEach(d=>d.resetValidation()),o.value=[],e.value=null}return Mt(s,()=>{let d=0,f=0;const h=[];for(const p of s.value)p.isValid===!1?(f++,h.push({id:p.id,errorMessages:p.errorMessages})):p.isValid===!0&&d++;o.value=h,e.value=f>0?!1:d===s.value.length?!0:null},{deep:!0}),Di(zee,{register:d=>{let{id:f,validate:h,reset:p,resetValidation:g}=d;s.value.some(y=>y.id===f)&&c0(`Duplicate input name "${f}"`),s.value.push({id:f,validate:h,reset:p,resetValidation:g,isValid:null,errorMessages:[]})},unregister:d=>{s.value=s.value.filter(f=>f.id!==d)},update:(d,f,h)=>{const p=s.value.find(g=>g.id===d);p&&(p.isValid=f,p.errorMessages=h)},isDisabled:r,isReadonly:n,isValidating:a,items:s,validateOn:ct(t,"validateOn")}),{errors:o,isDisabled:r,isReadonly:n,isValidating:a,items:s,validate:u,reset:l,resetValidation:c}}function tMe(){return Xr(zee,null)}const Gee=dr({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...kP()},"validation");function Qee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_s();const n=pr(t,"modelValue"),a=_e(()=>t.validationValue===void 0?n.value:t.validationValue),s=tMe(),o=Je([]),u=Je(!0),l=_e(()=>!!(Su(n.value===""?null:n.value).length||Su(a.value===""?null:a.value).length)),c=_e(()=>!!(t.disabled||s!=null&&s.isDisabled.value)),d=_e(()=>!!(t.readonly||s!=null&&s.isReadonly.value)),f=_e(()=>t.errorMessages.length?Su(t.errorMessages).slice(0,Math.max(0,+t.maxErrors)):o.value),h=_e(()=>t.error||f.value.length?!1:t.rules.length&&u.value?null:!0),p=Je(!1),g=_e(()=>({[`${e}--error`]:h.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:c.value,[`${e}--readonly`]:d.value})),y=_e(()=>t.name??On(r));zE(()=>{s==null||s.register({id:y.value,validate:E,reset:v,resetValidation:A})}),_o(()=>{s==null||s.unregister(y.value)});const S=_e(()=>t.validateOn||(s==null?void 0:s.validateOn.value)||"input");zs(()=>s==null?void 0:s.update(y.value,h.value,f.value)),lm(()=>S.value==="input",()=>{Mt(a,()=>{if(a.value!=null)E();else if(t.focused){const T=Mt(()=>t.focused,R=>{R||E(),T()})}})}),lm(()=>S.value==="blur",()=>{Mt(()=>t.focused,T=>{T||E()})}),Mt(h,()=>{s==null||s.update(y.value,h.value,f.value)});function v(){A(),n.value=null}function A(){u.value=!0,o.value=[]}async function E(){const T=[];p.value=!0;for(const R of t.rules){if(T.length>=(t.maxErrors??1))break;const D=await(typeof R=="function"?R:()=>R)(a.value);if(D!==!0){if(typeof D!="string"){console.warn(`${D} is not a valid value. Rule functions must return boolean true or a string.`);continue}T.push(D)}}return o.value=T,p.value=!1,u.value=!1,o.value}return{errorMessages:f,isDirty:l,isDisabled:c,isReadonly:d,isPristine:u,isValid:h,isValidating:p,reset:v,resetValidation:A,validate:E,validationClasses:g}}const Sf=dr({id:String,appendIcon:rr,prependIcon:rr,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":l0,"onClick:append":l0,...da(),...Gee()},"v-input"),nd=Pn()({name:"VInput",props:{...Sf()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:r,slots:n,emit:a}=e;const{densityClasses:s}=ws(t),{InputIcon:o}=Hee(t),u=_s(),l=_e(()=>t.id||`input-${u}`),{errorMessages:c,isDirty:d,isDisabled:f,isReadonly:h,isPristine:p,isValid:g,isValidating:y,reset:S,resetValidation:v,validate:A,validationClasses:E}=Qee(t,"v-input",l),T=_e(()=>({id:l,isDirty:d,isDisabled:f,isReadonly:h,isPristine:p,isValid:g,isValidating:y,reset:S,resetValidation:v,validate:A}));return yt(()=>{var R,I,D,M,N;const O=!!(n.prepend||t.prependIcon),k=!!(n.append||t.appendIcon),Y=!!((R=t.messages)!=null&&R.length||c.value.length),ne=!t.hideDetails||t.hideDetails==="auto"&&(Y||!!n.details);return K("div",{class:["v-input",`v-input--${t.direction}`,s.value,E.value]},[O&&K("div",{key:"prepend",class:"v-input__prepend"},[(I=n.prepend)==null?void 0:I.call(n,T.value),t.prependIcon&&K(o,{key:"prepend-icon",name:"prepend"},null)]),n.default&&K("div",{class:"v-input__control"},[(D=n.default)==null?void 0:D.call(n,T.value)]),k&&K("div",{key:"append",class:"v-input__append"},[t.appendIcon&&K(o,{key:"append-icon",name:"append"},null),(M=n.append)==null?void 0:M.call(n,T.value)]),ne&&K("div",{class:"v-input__details"},[K(qee,{active:Y,messages:c.value.length>0?c.value:t.messages},{message:n.message}),(N=n.details)==null?void 0:N.call(n,T.value)])])}),{reset:S,resetValidation:v,validate:A}}});function Yh(t){const e=Object.keys(nd.props).filter(r=>!XZ(r));return lu(t,e)}const UP=mt({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},..._f({transition:{component:DL}})},setup(t,e){let{slots:r}=e;const n=_e(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return yt(()=>K(jc,{transition:t.transition},{default:()=>[qn(K("div",{class:"v-counter"},[r.default?r.default({counter:n.value,max:t.max,value:t.value}):n.value]),[[Ou,t.active]])]})),{}}}),RN=Symbol("Forwarded refs");function ql(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t[RN]=r,new Proxy(t,{get(a,s){if(Reflect.has(a,s))return Reflect.get(a,s);for(const o of r)if(o.value&&Reflect.has(o.value,s)){const u=Reflect.get(o.value,s);return typeof u=="function"?u.bind(o.value):u}},getOwnPropertyDescriptor(a,s){const o=Reflect.getOwnPropertyDescriptor(a,s);if(o)return o;if(!(typeof s=="symbol"||s.startsWith("__"))){for(const u of r){if(!u.value)continue;const l=Reflect.getOwnPropertyDescriptor(u.value,s);if(l)return l;if("_"in u.value&&"setupState"in u.value._){const c=Reflect.getOwnPropertyDescriptor(u.value._.setupState,s);if(c)return c}}for(const u of r){let l=u.value&&Object.getPrototypeOf(u.value);for(;l;){const c=Reflect.getOwnPropertyDescriptor(l,s);if(c)return c;l=Object.getPrototypeOf(l)}}for(const u of r){const l=u.value&&u.value[RN];if(!l)continue;const c=l.slice();for(;c.length;){const d=c.shift(),f=Reflect.getOwnPropertyDescriptor(d.value,s);if(f)return f;const h=d.value&&d.value[RN];h&&c.push(...h)}}}}})}const rMe=["color","file","time","date","datetime-local","week","month"],VP=dr({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},...Sf(),...$P()},"v-text-field"),iS=Pn()({name:"VTextField",directives:{Intersect:tS},inheritAttrs:!1,props:VP(),emits:{"click:control":t=>!0,"click:input":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:n,slots:a}=e;const s=pr(t,"modelValue"),{isFocused:o,focus:u,blur:l}=rg(t),c=_e(()=>typeof t.counterValue=="function"?t.counterValue(s.value):(s.value??"").toString().length),d=_e(()=>{if(r.maxlength)return r.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function f(R,I){var D,M;!t.autofocus||!R||(D=I[0].target)==null||(M=D.focus)==null||M.call(D)}const h=Je(),p=Je(),g=Je(),y=_e(()=>rMe.includes(t.type)||t.persistentPlaceholder||o.value),S=_e(()=>t.messages.length?t.messages:o.value||t.persistentHint?t.hint:"");function v(){if(g.value!==document.activeElement){var R;(R=g.value)==null||R.focus()}o.value||u()}function A(R){v(),n("click:control",R)}function E(R){R.stopPropagation(),v(),ni(()=>{s.value=null,wE(t["onClick:clear"],R)})}function T(R){s.value=R.target.value}return yt(()=>{const R=!!(a.counter||t.counter||t.counterValue),I=!!(R||a.details),[D,M]=K0(r),[{modelValue:N,...O}]=Yh(t),[k]=UL(t);return K(nd,Dt({ref:h,modelValue:s.value,"onUpdate:modelValue":Y=>s.value=Y,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-text-field--flush-details":["plain","underlined"].includes(t.variant)}],"onClick:prepend":t["onClick:prepend"],"onClick:append":t["onClick:append"]},D,O,{focused:o.value,messages:S.value}),{...a,default:Y=>{let{id:ne,isDisabled:q,isDirty:H,isReadonly:J,isValid:se}=Y;return K(nS,Dt({ref:p,onMousedown:ue=>{ue.target!==g.value&&ue.preventDefault()},"onClick:control":A,"onClick:clear":E,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},k,{id:ne.value,active:y.value||H.value,dirty:H.value||t.dirty,focused:o.value,error:se.value===!1}),{...a,default:ue=>{let{props:{class:Se,...ve}}=ue;const Le=qn(K("input",Dt({ref:g,value:s.value,onInput:T,autofocus:t.autofocus,readonly:J.value,disabled:q.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:v,onBlur:l},ve,M),null),[[tu("intersect"),{handler:f},null,{once:!0}]]);return K(Qt,null,[t.prefix&&K("span",{class:"v-text-field__prefix"},[t.prefix]),a.default?K("div",{class:Se,onClick:Xe=>n("click:input",Xe),"data-no-activator":""},[a.default(),Le]):Yd(Le,{class:Se}),t.suffix&&K("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:I?Y=>{var ne;return K(Qt,null,[(ne=a.details)==null?void 0:ne.call(a,Y),R&&K(Qt,null,[K("span",null,null),K(UP,{active:t.persistentCounter||o.value,value:c.value,max:d.value},a.counter)])])}:void 0})}),ql({},h,p,g)}});function VL(t){return lu(t,Object.keys(iS.props))}const Wee=Symbol.for("vuetify:selection-control-group"),HL=dr({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:rr,trueIcon:rr,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:zm},...Mr(),...da()},"v-selection-control-group"),Kee=mt({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...HL()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"modelValue"),a=_s(),s=_e(()=>t.id||`v-selection-control-group-${a}`),o=_e(()=>t.name||s.value);return Di(Wee,{modelValue:n}),Vi({[t.defaultsTarget]:{color:ct(t,"color"),disabled:ct(t,"disabled"),density:ct(t,"density"),error:ct(t,"error"),inline:ct(t,"inline"),modelValue:n,multiple:_e(()=>!!t.multiple||t.multiple==null&&Array.isArray(n.value)),name:o,falseIcon:ct(t,"falseIcon"),trueIcon:ct(t,"trueIcon"),readonly:ct(t,"readonly"),ripple:ct(t,"ripple"),type:ct(t,"type"),valueComparator:ct(t,"valueComparator")}}),yt(()=>{var u;return K("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline}],"aria-labelled-by":t.type==="radio"?s.value:void 0,role:t.type==="radio"?"radiogroup":void 0},[(u=r.default)==null?void 0:u.call(r)])}),{}}}),HP=dr({label:String,trueValue:null,falseValue:null,value:null,...HL()},"v-selection-control");function nMe(t){const e=Xr(Wee,void 0),{densityClasses:r}=ws(t),n=pr(t,"modelValue"),a=_e(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),s=_e(()=>t.falseValue!==void 0?t.falseValue:!1),o=_e(()=>!!t.multiple||t.multiple==null&&Array.isArray(n.value)),u=_e({get(){const f=e?e.modelValue.value:n.value;return o.value?f.some(h=>t.valueComparator(h,a.value)):t.valueComparator(f,a.value)},set(f){if(t.readonly)return;const h=f?a.value:s.value;let p=h;o.value&&(p=f?[...Su(n.value),h]:Su(n.value).filter(g=>!t.valueComparator(g,a.value))),e?e.modelValue.value=p:n.value=p}}),{textColorClasses:l,textColorStyles:c}=bo(_e(()=>u.value&&!t.error&&!t.disabled?t.color:void 0)),d=_e(()=>u.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:r,trueValue:a,falseValue:s,model:u,textColorClasses:l,textColorStyles:c,icon:d}}const aS=Pn()({name:"VSelectionControl",directives:{Ripple:Jh},inheritAttrs:!1,props:HP(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:r,slots:n}=e;const{densityClasses:a,icon:s,model:o,textColorClasses:u,textColorStyles:l,trueValue:c}=nMe(t),d=_s(),f=_e(()=>t.id||`input-${d}`),h=Je(!1),p=Je(!1),g=Je();function y(A){h.value=!0,(!N6||N6&&A.target.matches(":focus-visible"))&&(p.value=!0)}function S(){h.value=!1,p.value=!1}function v(A){o.value=A.target.checked}return yt(()=>{var A,E;const T=n.label?n.label({label:t.label,props:{for:f.value}}):t.label,[R,I]=K0(r);return K("div",Dt({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":h.value,"v-selection-control--focus-visible":p.value,"v-selection-control--inline":t.inline},a.value]},R),[K("div",{class:["v-selection-control__wrapper",u.value],style:l.value},[(A=n.default)==null?void 0:A.call(n),qn(K("div",{class:["v-selection-control__input"]},[s.value&&K(Pi,{key:"icon",icon:s.value},null),K("input",Dt({ref:g,checked:o.value,disabled:t.disabled,id:f.value,onBlur:S,onFocus:y,onInput:v,"aria-readonly":t.readonly,type:t.type,value:c.value,name:t.name,"aria-checked":t.type==="checkbox"?o.value:void 0},I),null),(E=n.input)==null?void 0:E.call(n,{model:o,textColorClasses:u,textColorStyles:l,props:{onFocus:y,onBlur:S,id:f.value}})]),[[tu("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),T&&K(tv,{for:f.value,clickable:!0},{default:()=>[T]})])}),{isFocused:h,input:g}}});function Xee(t){return lu(t,Object.keys(aS.props))}const Jee=dr({indeterminate:Boolean,indeterminateIcon:{type:rr,default:"$checkboxIndeterminate"},...HP({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),rv=mt({name:"VCheckboxBtn",props:Jee(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"indeterminate"),a=pr(t,"modelValue");function s(l){n.value&&(n.value=!1)}const o=_e(()=>t.indeterminate?t.indeterminateIcon:t.falseIcon),u=_e(()=>t.indeterminate?t.indeterminateIcon:t.trueIcon);return yt(()=>K(aS,Dt(t,{modelValue:a.value,"onUpdate:modelValue":[l=>a.value=l,s],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:o.value,trueIcon:u.value,"aria-checked":t.indeterminate?"mixed":void 0}),r)),{}}});function iMe(t){return lu(t,Object.keys(rv.props))}const aMe=mt({name:"VCheckbox",inheritAttrs:!1,props:{...Sf(),...Jee()},emits:{"update:focused":t=>!0},setup(t,e){let{attrs:r,slots:n}=e;const{isFocused:a,focus:s,blur:o}=rg(t),u=_s(),l=_e(()=>t.id||`checkbox-${u}`);return yt(()=>{const[c,d]=K0(r),[f,h]=Yh(t),[p,g]=iMe(t);return K(nd,Dt({class:"v-checkbox"},c,f,{id:l.value,focused:a.value}),{...n,default:y=>{let{id:S,isDisabled:v,isReadonly:A}=y;return K(rv,Dt(p,{id:S.value,disabled:v.value,readonly:A.value},d,{onFocus:s,onBlur:o}),n)}})}),{}}});const sMe=dr({start:Boolean,end:Boolean,icon:rr,image:String,...da(),...Qn(),...wf(),...fr(),...Mr(),...ju({variant:"flat"})},"v-avatar"),Lh=mt({name:"VAvatar",props:sMe(),setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t),{colorClasses:a,colorStyles:s,variantClasses:o}=J0(t),{densityClasses:u}=ws(t),{roundedClasses:l}=Si(t),{sizeClasses:c,sizeStyles:d}=Jm(t);return yt(()=>{var f;return K(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},n.value,a.value,u.value,l.value,c.value,o.value],style:[s.value,d.value]},{default:()=>[t.image?K(Wm,{key:"image",src:t.image,alt:""},null):t.icon?K(Pi,{key:"icon",icon:t.icon},null):(f=r.default)==null?void 0:f.call(r),X0(!1,"v-avatar")]})}),{}}});const Yee=Symbol.for("vuetify:v-chip-group"),oMe=mt({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:zm},...Km({selectedClass:"v-chip--selected"}),...fr(),...Mr(),...ju({variant:"tonal"})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t),{isSelected:a,select:s,next:o,prev:u,selected:l}=Z0(t,Yee);return Vi({VChip:{color:ct(t,"color"),filter:ct(t,"filter"),variant:ct(t,"variant")}}),yt(()=>{var c;return K(t.tag,{class:["v-chip-group",{"v-chip-group--column":t.column},n.value]},{default:()=>[(c=r.default)==null?void 0:c.call(r,{isSelected:a,select:s,next:o,prev:u,selected:l.value})]})}),{}}}),sS=mt({name:"VChip",directives:{Ripple:Jh},props:{activeClass:String,appendAvatar:String,appendIcon:rr,closable:Boolean,closeIcon:{type:rr,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,pill:Boolean,prependAvatar:String,prependIcon:rr,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},...du(),...da(),...qi(),...Y0(),...Qn(),...ev(),...wf(),...fr({tag:"span"}),...Mr(),...ju({variant:"tonal"})},emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:r,emit:n,slots:a}=e;const{borderClasses:s}=Lu(t),{colorClasses:o,colorStyles:u,variantClasses:l}=J0(t),{densityClasses:c}=ws(t),{elevationClasses:d}=Wa(t),{roundedClasses:f}=Si(t),{sizeClasses:h}=Jm(t),{themeClasses:p}=nn(t),g=pr(t,"modelValue"),y=Xm(t,Yee,!1),S=rS(t,r),v=_e(()=>!t.disabled&&(!!y||S.isClickable.value||t.link));function A(T){g.value=!1,n("click:close",T)}function E(T){var R;n("click",T),v.value&&((R=S.navigate)==null||R.call(S,T),y==null||y.toggle())}return()=>{var T;const R=S.isLink.value?"a":t.tag,I=!!(a.append||t.appendIcon||t.appendAvatar),D=!!(a.close||t.closable),M=!!(a.filter||t.filter)&&y,N=!!(a.prepend||t.prependIcon||t.prependAvatar),O=!y||y.isSelected.value;return g.value&&qn(K(R,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":v.value,"v-chip--filter":M,"v-chip--pill":t.pill},p.value,s.value,O?o.value:void 0,c.value,d.value,f.value,h.value,l.value,y==null?void 0:y.selectedClass.value],style:[O?u.value:void 0],disabled:t.disabled||void 0,draggable:t.draggable,href:S.href.value,onClick:E},{default:()=>[X0(v.value,"v-chip"),M&&K(mn,{key:"filter",defaults:{VIcon:{icon:t.filterIcon}}},{default:()=>[K(NL,null,{default:()=>[qn(K("div",{class:"v-chip__filter"},[a.filter?a.filter():K(Pi,null,null)]),[[Ou,y.isSelected.value]])]})]}),N&&K(mn,{key:"prepend",defaults:{VAvatar:{image:t.prependAvatar},VIcon:{icon:t.prependIcon}}},{default:()=>[a.prepend?K("div",{class:"v-chip__prepend"},[a.prepend()]):t.prependAvatar?K(Lh,{start:!0},null):t.prependIcon?K(Pi,{start:!0},null):void 0]}),((T=a.default)==null?void 0:T.call(a,{isSelected:y==null?void 0:y.isSelected.value,selectedClass:y==null?void 0:y.selectedClass.value,select:y==null?void 0:y.select,toggle:y==null?void 0:y.toggle,value:y==null?void 0:y.value.value,disabled:t.disabled}))??t.text,I&&K(mn,{key:"append",defaults:{VAvatar:{image:t.appendAvatar},VIcon:{icon:t.appendIcon}}},{default:()=>[a.append?K("div",{class:"v-chip__append"},[a.append()]):t.appendAvatar?K(Lh,{end:!0},null):t.appendIcon?K(Pi,{end:!0},null):void 0]}),D&&K(mn,{key:"close",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},{default:()=>[K("div",{class:"v-chip__close",onClick:A},[a.close?a.close():K(Pi,null,null)])]})]}),[[tu("ripple"),v.value&&t.ripple,null]])}}});const Zee=mt({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Mr()},setup(t,e){let{attrs:r}=e;const{themeClasses:n}=nn(t),{backgroundColorClasses:a,backgroundColorStyles:s}=wi(ct(t,"color")),o=_e(()=>{const u={};return t.length&&(u[t.vertical?"maxHeight":"maxWidth"]=Ct(t.length)),t.thickness&&(u[t.vertical?"borderRightWidth":"borderTopWidth"]=Ct(t.thickness)),u});return yt(()=>K("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},n.value,a.value],style:[o.value,s.value],"aria-orientation":!r.role||r.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)),{}}}),k6=Symbol.for("vuetify:list");function ete(){const t=Xr(k6,{hasPrepend:Je(!1),updateHasPrepend:()=>null}),e={hasPrepend:Je(!1),updateHasPrepend:r=>{r&&(e.hasPrepend.value=r)}};return Di(k6,e),t}function tte(){return Xr(k6,null)}const uMe={open:t=>{let{id:e,value:r,opened:n,parents:a}=t;if(r){const s=new Set;s.add(e);let o=a.get(e);for(;o!=null;)s.add(o),o=a.get(o);return s}else return n.delete(e),n},select:()=>null},rte={open:t=>{let{id:e,value:r,opened:n,parents:a}=t;if(r){let s=a.get(e);for(n.add(e);s!=null&&s!==e;)n.add(s),s=a.get(s);return n}else n.delete(e);return n},select:()=>null},lMe={open:rte.open,select:t=>{let{id:e,value:r,opened:n,parents:a}=t;if(!r)return n;const s=[];let o=a.get(e);for(;o!=null;)s.push(o),o=a.get(o);return new Set(s)}},qL=t=>{const e={select:r=>{let{id:n,value:a,selected:s}=r;if(t&&!a){const o=Array.from(s.entries()).reduce((u,l)=>{let[c,d]=l;return d==="on"?[...u,c]:u},[]);if(o.length===1&&o[0]===n)return s}return s.set(n,a?"on":"off"),s},in:(r,n,a)=>{let s=new Map;for(const o of r||[])s=e.select({id:o,value:!0,selected:new Map(s),children:n,parents:a});return s},out:r=>{const n=[];for(const[a,s]of r.entries())s==="on"&&n.push(a);return n}};return e},nte=t=>{const e=qL(t);return{select:n=>{let{selected:a,id:s,...o}=n;const u=a.has(s)?new Map([[s,a.get(s)]]):new Map;return e.select({...o,id:s,selected:u})},in:(n,a,s)=>{let o=new Map;return n!=null&&n.length&&(o=e.in(n.slice(0,1),a,s)),o},out:(n,a,s)=>e.out(n,a,s)}},cMe=t=>{const e=qL(t);return{select:n=>{let{id:a,selected:s,children:o,...u}=n;return o.has(a)?s:e.select({id:a,selected:s,children:o,...u})},in:e.in,out:e.out}},dMe=t=>{const e=nte(t);return{select:n=>{let{id:a,selected:s,children:o,...u}=n;return o.has(a)?s:e.select({id:a,selected:s,children:o,...u})},in:e.in,out:e.out}},fMe=t=>{const e={select:r=>{let{id:n,value:a,selected:s,children:o,parents:u}=r;const l=new Map(s),c=[n];for(;c.length;){const f=c.shift();s.set(f,a?"on":"off"),o.has(f)&&c.push(...o.get(f))}let d=u.get(n);for(;d;){const f=o.get(d),h=f.every(g=>s.get(g)==="on"),p=f.every(g=>!s.has(g)||s.get(g)==="off");s.set(d,h?"on":p?"off":"indeterminate"),d=u.get(d)}return t&&!a&&Array.from(s.entries()).reduce((h,p)=>{let[g,y]=p;return y==="on"?[...h,g]:h},[]).length===0?l:s},in:(r,n,a)=>{let s=new Map;for(const o of r||[])s=e.select({id:o,value:!0,selected:new Map(s),children:n,parents:a});return s},out:(r,n)=>{const a=[];for(const[s,o]of r.entries())o==="on"&&!n.has(s)&&a.push(s);return a}};return e},k_=Symbol.for("vuetify:nested"),ite={id:Je(),root:{register:()=>null,unregister:()=>null,parents:Je(new Map),children:Je(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:Je(new Set),selected:Je(new Map),selectedValues:Je([])}},hMe=dr({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),pMe=t=>{let e=!1;const r=Je(new Map),n=Je(new Map),a=pr(t,"opened",t.opened,f=>new Set(f),f=>[...f.values()]),s=_e(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return dMe(t.mandatory);case"leaf":return cMe(t.mandatory);case"independent":return qL(t.mandatory);case"single-independent":return nte(t.mandatory);case"classic":default:return fMe(t.mandatory)}}),o=_e(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return lMe;case"single":return uMe;case"multiple":default:return rte}}),u=pr(t,"selected",t.selected,f=>s.value.in(f,r.value,n.value),f=>s.value.out(f,r.value,n.value));_o(()=>{e=!0});function l(f){const h=[];let p=f;for(;p!=null;)h.unshift(p),p=n.value.get(p);return h}const c=bs("nested"),d={id:Je(),root:{opened:a,selected:u,selectedValues:_e(()=>{const f=[];for(const[h,p]of u.value.entries())p==="on"&&f.push(h);return f}),register:(f,h,p)=>{h&&f!==h&&n.value.set(f,h),p&&r.value.set(f,[]),h!=null&&r.value.set(h,[...r.value.get(h)||[],f])},unregister:f=>{if(e)return;r.value.delete(f);const h=n.value.get(f);if(h){const p=r.value.get(h)??[];r.value.set(h,p.filter(g=>g!==f))}n.value.delete(f),a.value.delete(f)},open:(f,h,p)=>{c.emit("click:open",{id:f,value:h,path:l(f),event:p});const g=o.value.open({id:f,value:h,opened:new Set(a.value),children:r.value,parents:n.value,event:p});g&&(a.value=g)},openOnSelect:(f,h,p)=>{const g=o.value.select({id:f,value:h,selected:new Map(u.value),opened:new Set(a.value),children:r.value,parents:n.value,event:p});g&&(a.value=g)},select:(f,h,p)=>{c.emit("click:select",{id:f,value:h,path:l(f),event:p});const g=s.value.select({id:f,value:h,selected:new Map(u.value),children:r.value,parents:n.value,event:p});g&&(u.value=g),d.root.openOnSelect(f,h,p)},children:r,parents:n}};return Di(k_,d),d.root},ate=(t,e)=>{const r=Xr(k_,ite),n=_e(()=>t.value??Symbol(_s())),a={...r,id:n,open:(s,o)=>r.root.open(n.value,s,o),openOnSelect:(s,o)=>r.root.openOnSelect(n.value,s,o),isOpen:_e(()=>r.root.opened.value.has(n.value)),parent:_e(()=>r.root.parents.value.get(n.value)),select:(s,o)=>r.root.select(n.value,s,o),isSelected:_e(()=>r.root.selected.value.get(n.value)==="on"),isIndeterminate:_e(()=>r.root.selected.value.get(n.value)==="indeterminate"),isLeaf:_e(()=>!r.root.children.value.get(n.value)),isGroupActivator:r.isGroupActivator};return!r.isGroupActivator&&r.root.register(n.value,r.id.value,e),_o(()=>{!r.isGroupActivator&&r.root.unregister(n.value)}),e&&Di(k_,a),a},gMe=()=>{const t=Xr(k_,ite);Di(k_,{...t,isGroupActivator:!0})},yMe=mt({name:"VListGroupActivator",setup(t,e){let{slots:r}=e;return gMe(),()=>{var n;return(n=r.default)==null?void 0:n.call(r)}}}),mMe=dr({activeColor:String,color:String,collapseIcon:{type:rr,default:"$collapse"},expandIcon:{type:rr,default:"$expand"},prependIcon:rr,appendIcon:rr,fluid:Boolean,subgroup:Boolean,value:null,...fr()},"v-list-group"),zL=Pn()({name:"VListGroup",props:{title:String,...mMe()},setup(t,e){let{slots:r}=e;const{isOpen:n,open:a,id:s}=ate(ct(t,"value"),!0),o=_e(()=>`v-list-group--id-${String(s.value)}`),u=tte();function l(f){a(!n.value,f)}const c=_e(()=>({onClick:l,class:"v-list-group__header",id:o.value})),d=_e(()=>n.value?t.collapseIcon:t.expandIcon);return yt(()=>{var f;return K(t.tag,{class:["v-list-group",{"v-list-group--prepend":u==null?void 0:u.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":n.value}]},{default:()=>[r.activator&&K(mn,{defaults:{VListItem:{active:n.value,activeColor:t.activeColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&d.value,appendIcon:t.appendIcon||!t.subgroup&&d.value,title:t.title,value:t.value}}},{default:()=>[K(yMe,null,{default:()=>[r.activator({props:c.value,isOpen:n})]})]}),K(MP,null,{default:()=>[qn(K("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(f=r.default)==null?void 0:f.call(r)]),[[Ou,n.value]])]})]})}),{}}});function vMe(t){return lu(t,Object.keys(zL.props))}const ste=Fu("v-list-item-subtitle"),ote=Fu("v-list-item-title"),lf=Pn()({name:"VListItem",directives:{Ripple:Jh},props:{active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:rr,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:rr,subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:l0,onClickOnce:l0,...du(),...da(),...Vl(),...qi(),...Qn(),...ev(),...fr(),...Mr(),...ju({variant:"text"})},emits:{click:t=>!0},setup(t,e){let{attrs:r,slots:n,emit:a}=e;const s=rS(t,r),o=_e(()=>t.value??s.href.value),{select:u,isSelected:l,isIndeterminate:c,isGroupActivator:d,root:f,parent:h,openOnSelect:p}=ate(o,!1),g=tte(),y=_e(()=>{var se;return t.active!==!1&&(t.active||((se=s.isActive)==null?void 0:se.value)||l.value)}),S=_e(()=>t.link!==!1&&s.isLink.value),v=_e(()=>!t.disabled&&t.link!==!1&&(t.link||s.isClickable.value||t.value!=null&&!!g)),A=_e(()=>t.rounded||t.nav),E=_e(()=>({color:y.value?t.activeColor??t.color:t.color,variant:t.variant}));Mt(()=>{var se;return(se=s.isActive)==null?void 0:se.value},se=>{se&&h.value!=null&&f.open(h.value,!0),se&&p(se)},{immediate:!0});const{themeClasses:T}=nn(t),{borderClasses:R}=Lu(t),{colorClasses:I,colorStyles:D,variantClasses:M}=J0(E),{densityClasses:N}=ws(t),{dimensionStyles:O}=Hl(t),{elevationClasses:k}=Wa(t),{roundedClasses:Y}=Si(A),ne=_e(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),q=_e(()=>({isActive:y.value,select:u,isSelected:l.value,isIndeterminate:c.value}));function H(se){var ue;a("click",se),!(d||!v.value)&&((ue=s.navigate)==null||ue.call(s,se),t.value!=null&&u(!l.value,se))}function J(se){(se.key==="Enter"||se.key===" ")&&(se.preventDefault(),H(se))}return yt(()=>{var se,ue,Se,ve,Le;const Xe=S.value?"a":t.tag,Ne=!g||l.value||y.value,ye=n.title||t.title,qe=n.subtitle||t.subtitle,Te=!!(n.append||t.appendAvatar||t.appendIcon),Oe=!!(n.prepend||t.prependAvatar||t.prependIcon);return g==null||g.updateHasPrepend(Oe),qn(K(Xe,{class:["v-list-item",{"v-list-item--active":y.value,"v-list-item--disabled":t.disabled,"v-list-item--link":v.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!Oe&&(g==null?void 0:g.hasPrepend.value),[`${t.activeClass}`]:t.activeClass&&y.value},T.value,R.value,Ne?I.value:void 0,N.value,k.value,ne.value,Y.value,M.value],style:[Ne?D.value:void 0,O.value],href:s.href.value,tabindex:v.value?0:void 0,onClick:H,onKeydown:v.value&&!S.value&&J},{default:()=>[X0(v.value||y.value,"v-list-item"),Oe&&K(mn,{key:"prepend",defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>[K("div",{class:"v-list-item__prepend"},[t.prependAvatar&&K(Lh,{key:"prepend-avatar"},null),t.prependIcon&&K(Pi,{key:"prepend-icon"},null),(se=n.prepend)==null?void 0:se.call(n,q.value)])]}),K("div",{class:"v-list-item__content","data-no-activator":""},[ye&&K(ote,{key:"title"},{default:()=>[((ue=n.title)==null?void 0:ue.call(n,{title:t.title}))??t.title]}),qe&&K(ste,{key:"subtitle"},{default:()=>[((Se=n.subtitle)==null?void 0:Se.call(n,{subtitle:t.subtitle}))??t.subtitle]}),(ve=n.default)==null?void 0:ve.call(n,q.value)]),Te&&K(mn,{key:"append",defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>[K("div",{class:"v-list-item__append"},[(Le=n.append)==null?void 0:Le.call(n,q.value),t.appendIcon&&K(Pi,{key:"append-icon"},null),t.appendAvatar&&K(Lh,{key:"append-avatar"},null)])]})]}),[[tu("ripple"),v.value]])}),{}}}),ute=mt({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...fr()},setup(t,e){let{slots:r}=e;const{textColorClasses:n,textColorStyles:a}=bo(ct(t,"color"));return yt(()=>{var s;const o=!!(r.default||t.title);return K(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},n.value],style:{textColorStyles:a}},{default:()=>[o&&K("div",{class:"v-list-subheader__text"},[((s=r.default)==null?void 0:s.call(r))??t.title])]})}),{}}}),lte=Pn()({name:"VListChildren",props:{items:Array},setup(t,e){let{slots:r}=e;return ete(),()=>{var n,a;return((n=r.default)==null?void 0:n.call(r))??((a=t.items)==null?void 0:a.map(s=>{let{children:o,props:u,type:l,raw:c}=s;if(l==="divider"){var d;return((d=r.divider)==null?void 0:d.call(r,{props:u}))??K(Zee,u,null)}if(l==="subheader"){var f;return((f=r.subheader)==null?void 0:f.call(r,{props:u}))??K(ute,u,{default:r.subheader})}const h={subtitle:r.subtitle?y=>{var S;return(S=r.subtitle)==null?void 0:S.call(r,{...y,item:c})}:void 0,prepend:r.prepend?y=>{var S;return(S=r.prepend)==null?void 0:S.call(r,{...y,item:c})}:void 0,append:r.append?y=>{var S;return(S=r.append)==null?void 0:S.call(r,{...y,item:c})}:void 0,default:r.default?y=>{var S;return(S=r.default)==null?void 0:S.call(r,{...y,item:c})}:void 0,title:r.title?y=>{var S;return(S=r.title)==null?void 0:S.call(r,{...y,item:c})}:void 0},[p,g]=vMe(u);return o?K(zL,Dt({value:u==null?void 0:u.value},p),{activator:y=>{let{props:S}=y;return r.header?r.header({...u,...S}):K(lf,Dt(u,S),h)},default:()=>K(lte,{items:o},r)}):r.item?r.item(u):K(lf,u,h)}))}}}),cte=dr({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function Jg(t,e){const r=Dc(e,t.itemTitle,e),n=t.returnObject?e:Dc(e,t.itemValue,r),a=Dc(e,t.itemChildren),s=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?lu(e,["children"])[1]:e:void 0:Dc(e,t.itemProps),o={title:r,value:n,...s};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(a)?dte(t,a):void 0,raw:e}}function dte(t,e){const r=[];for(const n of e)r.push(Jg(t,n));return r}function GL(t){const e=_e(()=>dte(t,t.items));function r(a){return a.map(s=>Jg(t,s))}function n(a){return a.map(s=>{let{props:o}=s;return o.value})}return{items:e,transformIn:r,transformOut:n}}function bMe(t,e){const r=Dc(e,t.itemType,"item"),n=typeof e=="string"?e:Dc(e,t.itemTitle),a=Dc(e,t.itemValue,void 0),s=Dc(e,t.itemChildren),o=t.itemProps===!0?lu(e,["children"])[1]:Dc(e,t.itemProps),u={title:n,value:a,...o};return{type:r,title:u.title,value:u.value,props:u,children:r==="item"&&s?fte(t,s):void 0,raw:e}}function fte(t,e){const r=[];for(const n of e)r.push(bMe(t,n));return r}function _Me(t){return{items:_e(()=>fte(t,t.items))}}const qP=Pn()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...hMe({selectStrategy:"single-leaf",openStrategy:"list"}),...du(),...da(),...Vl(),...qi(),itemType:{type:String,default:"type"},...cte(),...Qn(),...fr(),...Mr(),...ju({variant:"text"})},emits:{"update:selected":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:r}=e;const{items:n}=_Me(t),{themeClasses:a}=nn(t),{backgroundColorClasses:s,backgroundColorStyles:o}=wi(ct(t,"bgColor")),{borderClasses:u}=Lu(t),{densityClasses:l}=ws(t),{dimensionStyles:c}=Hl(t),{elevationClasses:d}=Wa(t),{roundedClasses:f}=Si(t),{open:h,select:p}=pMe(t),g=_e(()=>t.lines?`v-list--${t.lines}-line`:void 0),y=ct(t,"activeColor"),S=ct(t,"color");ete(),Vi({VListGroup:{activeColor:y,color:S},VListItem:{activeClass:ct(t,"activeClass"),activeColor:y,color:S,density:ct(t,"density"),disabled:ct(t,"disabled"),lines:ct(t,"lines"),nav:ct(t,"nav"),variant:ct(t,"variant")}});const v=Je(!1),A=Je();function E(M){v.value=!0}function T(M){v.value=!1}function R(M){var N;!v.value&&!(M.relatedTarget&&(N=A.value)!=null&&N.contains(M.relatedTarget))&&D()}function I(M){if(A.value){if(M.key==="ArrowDown")D("next");else if(M.key==="ArrowUp")D("prev");else if(M.key==="Home")D("first");else if(M.key==="End")D("last");else return;M.preventDefault()}}function D(M){if(!A.value)return;const N=[...A.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(q=>!q.hasAttribute("disabled")),O=N.indexOf(document.activeElement);if(M)if(M==="first"){var Y;(Y=N[0])==null||Y.focus()}else if(M==="last"){var ne;(ne=N.at(-1))==null||ne.focus()}else{let q,H=O;const J=M==="next"?1:-1;do H+=J,q=N[H];while((!q||q.offsetParent==null)&&H<N.length&&H>=0);q?q.focus():D(M==="next"?"first":"last")}else if(!A.value.contains(document.activeElement)){var k;(k=N[0])==null||k.focus()}}return yt(()=>K(t.tag,{ref:A,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav},a.value,s.value,u.value,l.value,d.value,g.value,f.value],style:[o.value,c.value],role:"listbox","aria-activedescendant":void 0,onFocusin:E,onFocusout:T,onFocus:R,onKeydown:I},{default:()=>[K(lte,{items:n.value},r)]})),{open:h,select:p,focus:D}}}),wMe=Fu("v-list-img"),SMe=mt({name:"VListItemAction",props:{start:Boolean,end:Boolean,...fr()},setup(t,e){let{slots:r}=e;return yt(()=>K(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end}]},r)),{}}}),TMe=mt({name:"VListItemMedia",props:{start:Boolean,end:Boolean,...fr()},setup(t,e){let{slots:r}=e;return yt(()=>K(t.tag,{class:["v-list-item-media",{"v-list-item-media--start":t.start,"v-list-item-media--end":t.end}]},r)),{}}});const hte=dr({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function pte(t,e){const r={},n=a=>()=>{if(!fi)return Promise.resolve(!0);const s=a==="openDelay";return r.closeDelay&&window.clearTimeout(r.closeDelay),delete r.closeDelay,r.openDelay&&window.clearTimeout(r.openDelay),delete r.openDelay,new Promise(o=>{const u=parseInt(t[a]??0,10);r[a]=window.setTimeout(()=>{e==null||e(s),o(s)},u)})};return{runCloseDelay:n("closeDelay"),runOpenDelay:n("openDelay")}}const $6=Symbol.for("vuetify:v-menu"),EMe=dr({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...hte()},"v-overlay-activator");function AMe(t,e){let{isActive:r,isTop:n}=e;const a=Je();let s=!1,o=!1,u=!0;const l=_e(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),c=_e(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!l.value),{runOpenDelay:d,runCloseDelay:f}=pte(t,E=>{E===(t.openOnHover&&s||l.value&&o)&&!(t.openOnHover&&r.value&&!n.value)&&(r.value!==E&&(u=!0),r.value=E)}),h={click:E=>{E.stopPropagation(),a.value=E.currentTarget||E.target,r.value=!r.value},mouseenter:E=>{s=!0,a.value=E.currentTarget||E.target,d()},mouseleave:E=>{s=!1,f()},focus:E=>{N6&&!E.target.matches(":focus-visible")||(o=!0,E.stopPropagation(),a.value=E.currentTarget||E.target,d())},blur:E=>{o=!1,E.stopPropagation(),f()}},p=_e(()=>{const E={};return c.value&&(E.click=h.click),t.openOnHover&&(E.mouseenter=h.mouseenter,E.mouseleave=h.mouseleave),l.value&&(E.focus=h.focus,E.blur=h.blur),E}),g=_e(()=>{const E={};if(t.openOnHover&&(E.mouseenter=()=>{s=!0,d()},E.mouseleave=()=>{s=!1,f()}),t.closeOnContentClick){const T=Xr($6,null);E.click=()=>{r.value=!1,T==null||T.closeParents()}}return E}),y=_e(()=>{const E={};return t.openOnHover&&(E.mouseenter=()=>{u&&(s=!0,u=!1,d())},E.mouseleave=()=>{s=!1,f()}),E});Mt(n,E=>{E&&(t.openOnHover&&!s&&(!l.value||!o)||l.value&&!o&&(!t.openOnHover||!s))&&(r.value=!1)});const S=Je();Aa(()=>{S.value&&ni(()=>{const E=S.value;a.value=gLe(E)?E.$el:E})});const v=bs("useActivator");let A;return Mt(()=>!!t.activator,E=>{E&&fi?(A=fm(),A.run(()=>{xMe(t,v,{activatorEl:a,activatorEvents:p})})):A&&A.stop()},{flush:"post",immediate:!0}),Ll(()=>{var E;(E=A)==null||E.stop()}),{activatorEl:a,activatorRef:S,activatorEvents:p,contentEvents:g,scrimEvents:y}}function xMe(t,e,r){let{activatorEl:n,activatorEvents:a}=r;Mt(()=>t.activator,(l,c)=>{if(c&&l!==c){const d=u(c);d&&o(d)}l&&ni(()=>s())},{immediate:!0}),Mt(()=>t.activatorProps,()=>{s()}),Ll(()=>{o()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&(Object.entries(a.value).forEach(d=>{let[f,h]=d;l.addEventListener(f,h)}),Object.keys(c).forEach(d=>{c[d]==null?l.removeAttribute(d):l.setAttribute(d,c[d])}))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&(Object.entries(a.value).forEach(d=>{let[f,h]=d;l.removeEventListener(f,h)}),Object.keys(c).forEach(d=>{l.removeAttribute(d)}))}function u(){var l;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator,d;if(c)if(c==="parent"){var f,h;let p=e==null||(f=e.proxy)==null||(h=f.$el)==null?void 0:h.parentNode;for(;p.hasAttribute("data-no-activator");)p=p.parentNode;d=p}else typeof c=="string"?d=document.querySelector(c):"$el"in c?d=c.$el:d=c;return n.value=((l=d)==null?void 0:l.nodeType)===Node.ELEMENT_NODE?d:null,n.value}}const zP=dr({eager:Boolean},"lazy");function QL(t,e){const r=Je(!1),n=_e(()=>r.value||t.eager||e.value);Mt(e,()=>r.value=!0);function a(){t.eager||(r.value=!1)}return{isBooted:r,hasContent:n,onAfterLeave:a}}function IN(t,e){return{x:t.x+e.x,y:t.y+e.y}}function OMe(t,e){return{x:t.x-e.x,y:t.y-e.y}}function CU(t,e){if(t.side==="top"||t.side==="bottom"){const{side:r,align:n}=t,a=n==="left"?0:n==="center"?e.width/2:n==="right"?e.width:n,s=r==="top"?0:r==="bottom"?e.height:r;return IN({x:a,y:s},e)}else if(t.side==="left"||t.side==="right"){const{side:r,align:n}=t,a=r==="left"?0:r==="right"?e.width:r,s=n==="top"?0:n==="center"?e.height/2:n==="bottom"?e.height:n;return IN({x:a,y:s},e)}return IN({x:e.width/2,y:e.height/2},e)}const gte={static:PMe,connected:DMe},RMe=dr({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in gte},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function IMe(t,e){const r=Je({}),n=Je();let a;Aa(async()=>{var o;(o=a)==null||o.stop(),n.value=void 0,fi&&e.isActive.value&&t.locationStrategy&&(a=fm(),t.locationStrategy!=="connected"&&await ni(),a.run(()=>{if(typeof t.locationStrategy=="function"){var u;n.value=(u=t.locationStrategy(e,t,r))==null?void 0:u.updateLocation}else{var l;n.value=(l=gte[t.locationStrategy](e,t,r))==null?void 0:l.updateLocation}}))}),fi&&window.addEventListener("resize",s,{passive:!0}),Ll(()=>{var o;fi&&window.removeEventListener("resize",s),n.value=void 0,(o=a)==null||o.stop()});function s(o){var u;(u=n.value)==null||u.call(n,o)}return{contentStyles:r,updateLocation:n}}function PMe(){}function CMe(t){const e=xL(t);return e.x-=parseFloat(t.style.left||0),e.y-=parseFloat(t.style.top||0),e}function DMe(t,e,r){const n=$Le(t.activatorEl.value);n&&Object.assign(r.value,{position:"fixed"});const{preferredAnchor:a,preferredOrigin:s}=AL(()=>{const g=I6(e.location,t.isRtl.value),y=e.origin==="overlap"?g:e.origin==="auto"?SN(g):I6(e.origin,t.isRtl.value);return g.side===y.side&&g.align===TN(y).align?{preferredAnchor:uU(g),preferredOrigin:uU(y)}:{preferredAnchor:g,preferredOrigin:y}}),[o,u,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>_e(()=>{const y=parseFloat(e[g]);return isNaN(y)?1/0:y})),d=_e(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const g=e.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let f=!1;const h=new ResizeObserver(()=>{f&&p()});Mt([t.activatorEl,t.contentEl],(g,y)=>{let[S,v]=g,[A,E]=y;A&&h.unobserve(A),S&&h.observe(S),E&&h.unobserve(E),v&&h.observe(v)},{immediate:!0}),Ll(()=>{h.disconnect()});function p(){if(f=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>f=!0)}),!t.activatorEl.value||!t.contentEl.value)return;const g=t.activatorEl.value.getBoundingClientRect(),y=CMe(t.contentEl.value),S=TE(t.contentEl.value),v=12;S.length||(S.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(y.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),y.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const A=S.reduce((k,Y)=>{const ne=Y.getBoundingClientRect(),q=new sy({x:Y===document.documentElement?0:ne.x,y:Y===document.documentElement?0:ne.y,width:Y.clientWidth,height:Y.clientHeight});return k?new sy({x:Math.max(k.left,q.left),y:Math.max(k.top,q.top),width:Math.min(k.right,q.right)-Math.max(k.left,q.left),height:Math.min(k.bottom,q.bottom)-Math.max(k.top,q.top)}):q},void 0);A.x+=v,A.y+=v,A.width-=v*2,A.height-=v*2;let E={anchor:a.value,origin:s.value};function T(k){const Y=new sy(y),ne=CU(k.anchor,g),q=CU(k.origin,Y);let{x:H,y:J}=OMe(ne,q);switch(k.anchor.side){case"top":J-=d.value[0];break;case"bottom":J+=d.value[0];break;case"left":H-=d.value[0];break;case"right":H+=d.value[0];break}switch(k.anchor.align){case"top":J-=d.value[1];break;case"bottom":J+=d.value[1];break;case"left":H-=d.value[1];break;case"right":H+=d.value[1];break}return Y.x+=H,Y.y+=J,Y.width=Math.min(Y.width,l.value),Y.height=Math.min(Y.height,c.value),{overflows:cU(Y,A),x:H,y:J}}let R=0,I=0;const D={x:0,y:0},M={x:!1,y:!1};let N=-1;for(;;){if(N++>10){C6("Infinite loop detected in connectedLocationStrategy");break}const{x:k,y:Y,overflows:ne}=T(E);R+=k,I+=Y,y.x+=k,y.y+=Y;{const q=lU(E.anchor),H=ne.x.before||ne.x.after,J=ne.y.before||ne.y.after;let se=!1;if(["x","y"].forEach(ue=>{if(ue==="x"&&H&&!M.x||ue==="y"&&J&&!M.y){const Se={anchor:{...E.anchor},origin:{...E.origin}},ve=ue==="x"?q==="y"?TN:SN:q==="y"?SN:TN;Se.anchor=ve(Se.anchor),Se.origin=ve(Se.origin);const{overflows:Le}=T(Se);(Le[ue].before<=ne[ue].before&&Le[ue].after<=ne[ue].after||Le[ue].before+Le[ue].after<(ne[ue].before+ne[ue].after)/2)&&(E=Se,se=M[ue]=!0)}}),se)continue}ne.x.before&&(R+=ne.x.before,y.x+=ne.x.before),ne.x.after&&(R-=ne.x.after,y.x-=ne.x.after),ne.y.before&&(I+=ne.y.before,y.y+=ne.y.before),ne.y.after&&(I-=ne.y.after,y.y-=ne.y.after);{const q=cU(y,A);D.x=A.width-q.x.before-q.x.after,D.y=A.height-q.y.before-q.y.after,R+=q.x.before,y.x+=q.x.before,I+=q.y.before,y.y+=q.y.before}break}const O=lU(E.anchor);Object.assign(r.value,{"--v-overlay-anchor-origin":`${E.anchor.side} ${E.anchor.align}`,transformOrigin:`${E.origin.side} ${E.origin.align}`,top:Ct(DU(I)),left:Ct(DU(R)),minWidth:Ct(O==="y"?Math.min(o.value,g.width):o.value),maxWidth:Ct(NU(Jo(D.x,o.value===1/0?0:o.value,l.value))),maxHeight:Ct(NU(Jo(D.y,u.value===1/0?0:u.value,c.value)))})}return Mt(()=>[a.value,s.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>p(),{immediate:!n}),n&&ni(()=>p()),requestAnimationFrame(()=>{r.value.maxHeight&&p()}),{updateLocation:p}}function DU(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function NU(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let U6=!0;const RE=[];function NMe(t){!U6||RE.length?(RE.push(t),V6()):(U6=!1,t(),V6())}let FU=-1;function V6(){cancelAnimationFrame(FU),FU=requestAnimationFrame(()=>{const t=RE.shift();t&&t(),RE.length?V6():U6=!0})}const H6={none:null,close:jMe,block:MMe,reposition:BMe},FMe=dr({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in H6}},"v-overlay-scroll-strategies");function LMe(t,e){if(!fi)return;let r;Aa(async()=>{var n;(n=r)==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(r=fm(),await ni(),r.run(()=>{if(typeof t.scrollStrategy=="function")t.scrollStrategy(e,t);else{var a;(a=H6[t.scrollStrategy])==null||a.call(H6,e,t)}}))}),Ll(()=>{var n;(n=r)==null||n.stop()})}function jMe(t){function e(r){t.isActive.value=!1}yte(t.activatorEl.value??t.contentEl.value,e)}function MMe(t,e){var r;const n=(r=t.root.value)==null?void 0:r.offsetParent,a=[...new Set([...TE(t.activatorEl.value,e.contained?n:void 0),...TE(t.contentEl.value,e.contained?n:void 0)])].filter(u=>!u.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,o=(u=>IL(u)&&u)(n||document.documentElement);o&&t.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((u,l)=>{u.style.setProperty("--v-body-scroll-x",Ct(-u.scrollLeft)),u.style.setProperty("--v-body-scroll-y",Ct(-u.scrollTop)),u.style.setProperty("--v-scrollbar-offset",Ct(s)),u.classList.add("v-overlay-scroll-blocked")}),Ll(()=>{a.forEach((u,l)=>{const c=parseFloat(u.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(u.style.getPropertyValue("--v-body-scroll-y"));u.style.removeProperty("--v-body-scroll-x"),u.style.removeProperty("--v-body-scroll-y"),u.style.removeProperty("--v-scrollbar-offset"),u.classList.remove("v-overlay-scroll-blocked"),u.scrollLeft=-c,u.scrollTop=-d}),o&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function BMe(t){let e=!1,r=-1;function n(a){NMe(()=>{var s,o;const u=performance.now();(s=(o=t.updateLocation).value)==null||s.call(o,a),e=(performance.now()-u)/(1e3/60)>2})}yte(t.activatorEl.value??t.contentEl.value,a=>{e?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n(a)})})):n(a)})}function yte(t,e){const r=[document,...TE(t)];r.forEach(n=>{n.addEventListener("scroll",e,{passive:!0})}),Ll(()=>{r.forEach(n=>{n.removeEventListener("scroll",e)})})}function mte(){if(!fi)return Je(!1);const{ssr:t}=eS();if(t){const e=Je(!1);return zs(()=>{e.value=!0}),e}else return Je(!0)}function oS(){const e=bs("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const LU=Symbol.for("vuetify:stack"),eb=bi([]);function kMe(t,e,r){const n=bs("useStack"),a=!r,s=Xr(LU,void 0),o=bi({activeChildren:new Set});Di(LU,o);const u=Je(+e.value);lm(t,()=>{var d;const f=(d=eb.at(-1))==null?void 0:d[1];u.value=f?f+10:+e.value,a&&eb.push([n.uid,u.value]),s==null||s.activeChildren.add(n.uid),Ll(()=>{if(a){const h=eb.findIndex(p=>p[0]===n.uid);eb.splice(h,1)}s==null||s.activeChildren.delete(n.uid)})});const l=Je(!0);a&&Aa(()=>{var d;const f=((d=eb.at(-1))==null?void 0:d[0])===n.uid;setTimeout(()=>l.value=f)});const c=_e(()=>!o.activeChildren.size);return{globalTop:f1(l),localTop:c,stackStyles:_e(()=>({zIndex:u.value}))}}function Jb(t){return{teleportTarget:_e(()=>{const r=t.value;if(r===!0||!fi)return;const n=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(n!=null){if(!Jb.cache.has(n)){const a=document.createElement("div");a.className="v-overlay-container",n.appendChild(a),Jb.cache.set(n,a)}return Jb.cache.get(n)}})}}Jb.cache=new WeakMap;function $Me(){return!0}function vte(t,e,r){if(!t||bte(t,r)===!1)return!1;const n=cee(e);if(typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&n.host===t.target)return!1;const a=(typeof r.value=="object"&&r.value.include||(()=>[]))();return a.push(e),!a.some(s=>s==null?void 0:s.contains(t.target))}function bte(t,e){return(typeof e.value=="object"&&e.value.closeConditional||$Me)(t)}function UMe(t,e,r){const n=typeof r.value=="function"?r.value:r.value.handler;e._clickOutside.lastMousedownWasOutside&&vte(t,e,r)&&setTimeout(()=>{bte(t,r)&&n&&n(t)},0)}function jU(t,e){const r=cee(t);e(document),typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&e(r)}const _te={mounted(t,e){const r=a=>UMe(a,t,e),n=a=>{t._clickOutside.lastMousedownWasOutside=vte(a,t,e)};jU(t,a=>{a.addEventListener("click",r,!0),a.addEventListener("mousedown",n,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!0}),t._clickOutside[e.instance.$.uid]={onClick:r,onMousedown:n}},unmounted(t,e){t._clickOutside&&(jU(t,r=>{var n;if(!r||!((n=t._clickOutside)!=null&&n[e.instance.$.uid]))return;const{onClick:a,onMousedown:s}=t._clickOutside[e.instance.$.uid];r.removeEventListener("click",a,!0),r.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function VMe(t){const{modelValue:e,color:r,...n}=t;return K(Gc,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&K("div",Dt({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},n),null)]})}const uS=dr({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...EMe(),...Vl(),...zP(),...RMe(),...FMe(),...Mr(),..._f()},"v-overlay"),nv=Pn()({name:"VOverlay",directives:{ClickOutside:_te},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...uS()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:r,attrs:n,emit:a}=e;const s=pr(t,"modelValue"),o=_e({get:()=>s.value,set:Se=>{Se&&t.disabled||(s.value=Se)}}),{teleportTarget:u}=Jb(_e(()=>t.attach||t.contained)),{themeClasses:l}=nn(t),{rtlClasses:c,isRtl:d}=bf(),{hasContent:f,onAfterLeave:h}=QL(t,o),p=wi(_e(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:g,localTop:y,stackStyles:S}=kMe(o,ct(t,"zIndex"),t._disableGlobalStack),{activatorEl:v,activatorRef:A,activatorEvents:E,contentEvents:T,scrimEvents:R}=AMe(t,{isActive:o,isTop:y}),{dimensionStyles:I}=Hl(t),D=mte(),{scopeId:M}=oS();Mt(()=>t.disabled,Se=>{Se&&(o.value=!1)});const N=Je(),O=Je(),{contentStyles:k,updateLocation:Y}=IMe(t,{isRtl:d,contentEl:O,activatorEl:v,isActive:o});LMe(t,{root:N,contentEl:O,activatorEl:v,isActive:o,updateLocation:Y});function ne(Se){a("click:outside",Se),t.persistent?ue():o.value=!1}function q(){return o.value&&g.value}fi&&Mt(o,Se=>{Se?window.addEventListener("keydown",H):window.removeEventListener("keydown",H)},{immediate:!0});function H(Se){Se.key==="Escape"&&g.value&&(t.persistent?ue():o.value=!1)}const J=Uee();lm(()=>t.closeOnBack,()=>{zje(J,Se=>{g.value&&o.value?(Se(!1),t.persistent?ue():o.value=!1):Se()})});const se=Je();Mt(()=>o.value&&(t.absolute||t.contained)&&u.value==null,Se=>{if(Se){const ve=dee(N.value);ve&&ve!==document.scrollingElement&&(se.value=ve.scrollTop)}});function ue(){t.noClickAnimation||O.value&&$p(O.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:F_})}return yt(()=>{var Se,ve;return K(Qt,null,[(Se=r.activator)==null?void 0:Se.call(r,{isActive:o.value,props:Dt({ref:A},dC(E.value),t.activatorProps)}),D.value&&K(rie,{disabled:!u.value,to:u.value},{default:()=>[f.value&&K("div",Dt({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":o.value,"v-overlay--contained":t.contained},l.value,c.value],style:[S.value,{top:Ct(se.value)}],ref:N},M,n),[K(VMe,Dt({color:p,modelValue:o.value&&!!t.scrim},dC(R.value)),null),K(jc,{appear:!0,persisted:!0,transition:t.transition,target:v.value,onAfterLeave:()=>{h(),a("afterLeave")}},{default:()=>[qn(K("div",Dt({ref:O,class:["v-overlay__content",t.contentClass],style:[I.value,k.value]},dC(T.value),t.contentProps),[(ve=r.default)==null?void 0:ve.call(r,{isActive:o})]),[[Ou,o.value],[tu("click-outside"),{handler:ne,closeConditional:q,include:()=>[v.value]}]])]})])]})])}),{activatorEl:v,animateClick:ue,contentEl:O,globalTop:g,localTop:y,updateLocation:Y}}});function GP(t){return lu(t,Object.keys(nv.props))}const QP=Pn()({name:"VMenu",props:{id:String,...W0(uS({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:jP}}),["absolute"])},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"modelValue"),{scopeId:a}=oS(),s=_s(),o=_e(()=>t.id||`v-menu-${s}`),u=Je(),l=Xr($6,null);let c=0;Di($6,{register(){++c},unregister(){--c},closeParents(){setTimeout(()=>{c||(n.value=!1,l==null||l.closeParents())},40)}}),Mt(n,f=>{f?l==null||l.register():l==null||l.unregister()});function d(){l==null||l.closeParents()}return yt(()=>{const[f]=GP(t);return K(nv,Dt({ref:u,class:["v-menu"]},f,{modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,absolute:!0,activatorProps:Dt({"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-owns":o.value},t.activatorProps),"onClick:outside":d},a),{activator:r.activator,default:function(){for(var h,p=arguments.length,g=new Array(p),y=0;y<p;y++)g[y]=arguments[y];return K(mn,{root:!0},{default:()=>[(h=r.default)==null?void 0:h.call(r,...g)]})}})}),ql({id:o},u)}}),WL=dr({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:rr,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:zm},...cte({itemChildren:!1})},"v-select"),HMe=Pn()({name:"VSelect",props:{...WL(),...W0(VP({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),..._f({transition:{component:jP}})},emits:{"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:r}=e;const{t:n}=Ul(),a=Je(),s=pr(t,"menu"),{items:o,transformIn:u,transformOut:l}=GL(t),c=pr(t,"modelValue",[],E=>u(Su(E)),E=>{const T=l(E);return t.multiple?T:T[0]??null}),d=_e(()=>c.value.map(E=>o.value.find(T=>t.valueComparator(T.value,E.value))||E)),f=_e(()=>d.value.map(E=>E.props.value)),h=Je();function p(E){c.value=[],t.openOnClear&&(s.value=!0)}function g(){t.hideNoData&&!o.value.length||t.readonly||(s.value=!s.value)}function y(E){if(!t.readonly){if(["Enter","ArrowDown"," "].includes(E.key)&&(E.preventDefault(),s.value=!0),["Escape","Tab"].includes(E.key)&&(s.value=!1),E.key==="ArrowDown"){var T;(T=h.value)==null||T.focus("next")}else if(E.key==="ArrowUp"){var R;E.preventDefault(),(R=h.value)==null||R.focus("prev")}else if(E.key==="Home"){var I;E.preventDefault(),(I=h.value)==null||I.focus("first")}else if(E.key==="End"){var D;E.preventDefault(),(D=h.value)==null||D.focus("last")}}}function S(E){if(t.multiple){const T=f.value.findIndex(R=>R===E.value);if(T===-1)c.value=[...c.value,E];else{const R=[...c.value];R.splice(T,1),c.value=R}}else c.value=[E],s.value=!1}function v(E){var T;(T=h.value)!=null&&T.$el.contains(E.relatedTarget)||(s.value=!1)}function A(E){if(E.relatedTarget==null){var T;(T=a.value)==null||T.focus()}}return yt(()=>{const E=!!(t.chips||r.chip),[T]=VL(t);return K(iS,Dt({ref:a},T,{modelValue:c.value.map(R=>R.props.value).join(", "),"onUpdate:modelValue":R=>{R==null&&(c.value=[])},validationValue:c.externalValue,dirty:c.value.length>0,class:["v-select",{"v-select--active-menu":s.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length}],appendInnerIcon:t.menuIcon,readonly:!0,"onClick:clear":p,"onClick:control":g,onBlur:v,onKeydown:y}),{...r,default:()=>{var R,I,D;return K(Qt,null,[K(QP,Dt({modelValue:s.value,"onUpdate:modelValue":M=>s.value=M,activator:"parent",contentClass:"v-select__content",eager:t.eager,openOnClick:!1,closeOnContentClick:!1,transition:t.transition},t.menuProps),{default:()=>[K(qP,{ref:h,selected:f.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:M=>M.preventDefault(),onFocusout:A},{default:()=>[!o.value.length&&!t.hideNoData&&(((R=r["no-data"])==null?void 0:R.call(r))??K(lf,{title:n(t.noDataText)},null)),(I=r["prepend-item"])==null?void 0:I.call(r),o.value.map((M,N)=>{var O;return((O=r.item)==null?void 0:O.call(r,{item:M,index:N,props:Dt(M.props,{onClick:()=>S(M)})}))??K(lf,Dt({key:N},M.props,{onClick:()=>S(M)}),{prepend:k=>{let{isSelected:Y}=k;return t.multiple&&!t.hideSelected?K(rv,{modelValue:Y,ripple:!1},null):void 0}})}),(D=r["append-item"])==null?void 0:D.call(r)]})]}),d.value.map((M,N)=>{function O(Y){Y.stopPropagation(),Y.preventDefault(),S(M)}const k={"onClick:close":O,modelValue:!0,"onUpdate:modelValue":void 0};return K("div",{key:M.value,class:"v-select__selection"},[E?K(mn,{defaults:{VChip:{closable:t.closableChips,size:"small",text:M.title}}},{default:()=>[r.chip?r.chip({item:M,index:N,props:k}):K(sS,k,null)]}):r.selection?r.selection({item:M,index:N}):K("span",{class:"v-select__selection-text"},[M.title,t.multiple&&N<d.value.length-1&&K("span",{class:"v-select__selection-comma"},[di(",")])])])})])}})}),ql({menu:s,select:S},a)}}),qMe=(t,e,r)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),wte=dr({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function zMe(t,e,r){const n=[],a=(r==null?void 0:r.default)??qMe,s=r!=null&&r.filterKeys?Su(r.filterKeys):!1,o=Object.keys((r==null?void 0:r.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return n;e:for(let l=0;l<t.length;l++){const c=t[l],d={},f={};let h=-1;if(e&&!(r!=null&&r.noFilter)){if(typeof c=="object"){const y=s||Object.keys(c);for(const S of y){var u;const v=Dc(c,S,c),A=r==null||(u=r.customKeyFilter)==null?void 0:u[S];if(h=A?A(v,e,c):a(v,e,c),h!==-1&&h!==!1)A?d[S]=h:f[S]=h;else if((r==null?void 0:r.filterMode)==="every")continue e}}else h=a(c,e,c),h!==-1&&h!==!1&&(f.title=h);const p=Object.keys(f).length,g=Object.keys(d).length;if(!p&&!g||(r==null?void 0:r.filterMode)==="union"&&g!==o&&!p||(r==null?void 0:r.filterMode)==="intersection"&&(g!==o||!p))continue}n.push({index:l,matches:{...f,...d}})}return n}function Ste(t,e,r){const n=_e(()=>typeof(r==null?void 0:r.value)!="string"&&typeof(r==null?void 0:r.value)!="number"?"":String(r.value));return{filteredItems:_e(()=>{const s=On(e);return zMe(s,n.value,{customKeyFilter:t.customKeyFilter,default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}).map(u=>{let{index:l,matches:c}=u;return{item:s[l],matches:c}})})}}function GMe(t,e,r){if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?K(Qt,null,[K("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),K("span",{class:"v-autocomplete__mask"},[t.substr(e,r)]),K("span",{class:"v-autocomplete__unmask"},[t.substr(e+r)])]):t}const QMe=Pn()({name:"VAutocomplete",props:{search:String,...wte({filterKeys:["title"]}),...WL(),...W0(VP({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),..._f({transition:!1})},emits:{"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:r}=e;const{t:n}=Ul(),a=Je(),s=Je(!1),o=Je(!0),u=pr(t,"menu"),{items:l,transformIn:c,transformOut:d}=GL(t),f=pr(t,"search",""),h=pr(t,"modelValue",[],O=>c(Su(O)),O=>{const k=d(O);return t.multiple?k:k[0]??null}),{filteredItems:p}=Ste(t,l,_e(()=>o.value?void 0:f.value)),g=_e(()=>h.value.map(O=>l.value.find(k=>t.valueComparator(k.value,O.value))||O)),y=_e(()=>g.value.map(O=>O.props.value)),S=Je();function v(O){h.value=[],t.openOnClear&&(u.value=!0),f.value=""}function A(){t.hideNoData&&!l.value.length||t.readonly||(u.value=!0)}function E(O){if(!t.readonly){if(["Enter","ArrowDown"].includes(O.key)&&(u.value=!0),["Escape"].includes(O.key)&&(u.value=!1),["Enter","Escape","Tab"].includes(O.key)&&(o.value=!0),O.key==="ArrowDown"){var k;O.preventDefault(),(k=S.value)==null||k.focus("next")}else if(O.key==="ArrowUp"){var Y;O.preventDefault(),(Y=S.value)==null||Y.focus("prev")}}}function T(O){f.value=O.target.value}function R(){s.value&&(o.value=!0)}function I(O){s.value=!0}function D(O){if(O.relatedTarget==null){var k;(k=a.value)==null||k.focus()}}const M=Je(!1);function N(O){if(t.multiple){const k=y.value.findIndex(Y=>Y===O.value);if(k===-1)h.value=[...h.value,O],f.value="";else{const Y=[...h.value];Y.splice(k,1),h.value=Y}}else h.value=[O],M.value=!0,r.selection||(f.value=O.title),u.value=!1,o.value=!0,ni(()=>M.value=!1)}return Mt(s,O=>{if(O){var k;M.value=!0,f.value=t.multiple||r.selection?"":String(((k=g.value.at(-1))==null?void 0:k.props.title)??""),o.value=!0,ni(()=>M.value=!1)}else u.value=!1,f.value=""}),Mt(f,O=>{!s.value||M.value||(O&&(u.value=!0),o.value=!O)}),yt(()=>{const O=!!(t.chips||r.chip),[k]=VL(t);return K(iS,Dt({ref:a},k,{modelValue:f.value,"onUpdate:modelValue":Y=>{Y==null&&(h.value=[])},validationValue:h.externalValue,dirty:h.value.length>0,onInput:T,class:["v-autocomplete",{"v-autocomplete--active-menu":u.value,"v-autocomplete--chips":!!t.chips,[`v-autocomplete--${t.multiple?"multiple":"single"}`]:!0,"v-autocomplete--selection-slot":!!r.selection}],appendInnerIcon:t.menuIcon,readonly:t.readonly,"onClick:clear":v,"onClick:control":A,"onClick:input":A,onFocus:()=>s.value=!0,onBlur:()=>s.value=!1,onKeydown:E}),{...r,default:()=>{var Y,ne,q;return K(Qt,null,[K(QP,Dt({modelValue:u.value,"onUpdate:modelValue":H=>u.value=H,activator:"parent",contentClass:"v-autocomplete__content",eager:t.eager,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:R},t.menuProps),{default:()=>[K(qP,{ref:S,selected:y.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:H=>H.preventDefault(),onFocusin:I,onFocusout:D},{default:()=>[!p.value.length&&!t.hideNoData&&(((Y=r["no-data"])==null?void 0:Y.call(r))??K(lf,{title:n(t.noDataText)},null)),(ne=r["prepend-item"])==null?void 0:ne.call(r),p.value.map((H,J)=>{var se;let{item:ue,matches:Se}=H;return((se=r.item)==null?void 0:se.call(r,{item:ue,index:J,props:Dt(ue.props,{onClick:()=>N(ue)})}))??K(lf,Dt({key:J},ue.props,{onClick:()=>N(ue)}),{prepend:ve=>{let{isSelected:Le}=ve;return t.multiple&&!t.hideSelected?K(rv,{modelValue:Le,ripple:!1},null):void 0},title:()=>{var ve;return o.value?ue.title:GMe(ue.title,Se.title,((ve=f.value)==null?void 0:ve.length)??0)}})}),(q=r["append-item"])==null?void 0:q.call(r)]})]}),g.value.map((H,J)=>{function se(Se){Se.stopPropagation(),Se.preventDefault(),N(H)}const ue={"onClick:close":se,modelValue:!0,"onUpdate:modelValue":void 0};return K("div",{key:H.value,class:"v-autocomplete__selection"},[O?K(mn,{defaults:{VChip:{closable:t.closableChips,size:"small",text:H.title}}},{default:()=>[r.chip?r.chip({item:H,index:J,props:ue}):K(sS,ue,null)]}):r.selection?r.selection({item:H,index:J}):K("span",{class:"v-autocomplete__selection-text"},[H.title,t.multiple&&J<g.value.length-1&&K("span",{class:"v-autocomplete__selection-comma"},[di(",")])])])})])}})}),ql({isFocused:s,isPristine:o,menu:u,search:f,filteredItems:p,select:N},a)}});const WMe=mt({name:"VBadge",inheritAttrs:!1,props:{bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:rr,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...eg({location:"top end"}),...Qn(),...fr(),...Mr(),..._f({transition:"scale-rotate-transition"})},setup(t,e){const{backgroundColorClasses:r,backgroundColorStyles:n}=wi(ct(t,"color")),{roundedClasses:a}=Si(t),{t:s}=Ul(),{textColorClasses:o,textColorStyles:u}=bo(ct(t,"textColor")),{themeClasses:l}=_ee(),{locationStyles:c}=tg(t,!0,d=>(t.floating?t.dot?2:4:t.dot?8:12)+(["top","bottom"].includes(d)?+(t.offsetY??0):["left","right"].includes(d)?+(t.offsetX??0):0));return yt(()=>{var d,f,h,p;const g=Number(t.content),y=!t.max||isNaN(g)?t.content:g<=t.max?g:`${t.max}+`,[S,v]=lu(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return K(t.tag,Dt({class:["v-badge",{"v-badge--bordered":t.bordered,"v-badge--dot":t.dot,"v-badge--floating":t.floating,"v-badge--inline":t.inline}]},v),{default:()=>[K("div",{class:"v-badge__wrapper"},[(d=(f=e.slots).default)==null?void 0:d.call(f),K(jc,{transition:t.transition},{default:()=>[qn(K("span",Dt({class:["v-badge__badge",l.value,r.value,a.value,o.value],style:[n.value,u.value,t.inline?{}:c.value],"aria-atomic":"true","aria-label":s(t.label,g),"aria-live":"polite",role:"status"},S),[t.dot?void 0:e.slots.badge?(h=(p=e.slots).badge)==null?void 0:h.call(p):t.icon?K(Pi,{icon:t.icon},null):y]),[[Ou,t.modelValue]])]})])]})}),{}}});const Tte=mt({name:"VBannerActions",props:{color:String,density:String},setup(t,e){let{slots:r}=e;return Vi({VBtn:{color:t.color,density:t.density,variant:"text"}}),yt(()=>{var n;return K("div",{class:"v-banner-actions"},[(n=r.default)==null?void 0:n.call(r)])}),{}}}),Ete=Fu("v-banner-text"),KMe=mt({name:"VBanner",props:{avatar:String,color:String,icon:rr,lines:String,stacked:Boolean,sticky:Boolean,text:String,...du(),...da(),...Vl(),...qi(),...eg(),...Ym(),...Qn(),...fr(),...Mr()},setup(t,e){let{slots:r}=e;const{borderClasses:n}=Lu(t),{densityClasses:a}=ws(t),{mobile:s}=eS(),{dimensionStyles:o}=Hl(t),{elevationClasses:u}=Wa(t),{locationStyles:l}=tg(t),{positionClasses:c}=Zm(t),{roundedClasses:d}=Si(t),{themeClasses:f}=nn(t),h=ct(t,"color"),p=ct(t,"density");Vi({VBannerActions:{color:h,density:p}}),yt(()=>{var g;const y=!!(t.text||r.text),S=!!(r.prepend||t.avatar||t.icon);return K(t.tag,{class:["v-banner",{"v-banner--stacked":t.stacked||s.value,"v-banner--sticky":t.sticky,[`v-banner--${t.lines}-line`]:!!t.lines},n.value,a.value,u.value,c.value,d.value,f.value],style:[o.value,l.value],role:"banner"},{default:()=>[S&&K(mn,{key:"prepend",defaults:{VAvatar:{color:h.value,density:p.value,icon:t.icon,image:t.avatar}}},{default:()=>[K("div",{class:"v-banner__prepend"},[r.prepend?r.prepend():(t.avatar||t.icon)&&K(Lh,null,null)])]}),K("div",{class:"v-banner__content"},[y&&K(Ete,{key:"text"},{default:()=>[r.text?r.text():t.text]}),(g=r.default)==null?void 0:g.call(r)]),r.actions&&K(Tte,null,{default:()=>[r.actions()]})]})})}});const XMe=mt({name:"VBottomNavigation",props:{bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...du(),...da(),...qi(),...Qn(),...Gm({name:"bottom-navigation"}),...fr({tag:"header"}),...Km({modelValue:!0,selectedClass:"v-btn--selected"}),...Mr()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{themeClasses:n}=_ee(),{borderClasses:a}=Lu(t),{backgroundColorClasses:s,backgroundColorStyles:o}=wi(ct(t,"bgColor")),{densityClasses:u}=ws(t),{elevationClasses:l}=Wa(t),{roundedClasses:c}=Si(t),d=_e(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),f=ct(t,"active"),{layoutItemStyles:h}=Qm({id:t.name,order:_e(()=>parseInt(t.order,10)),position:_e(()=>"bottom"),layoutSize:_e(()=>f.value?d.value:0),elementSize:d,active:f,absolute:ct(t,"absolute")});return Z0(t,LL),Vi({VBtn:{color:ct(t,"color"),density:ct(t,"density"),stacked:_e(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),yt(()=>K(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},n.value,s.value,a.value,u.value,l.value,c.value],style:[o.value,h.value,{height:Ct(d.value),transform:`translateY(${Ct(f.value?0:100,"%")})`}]},{default:()=>[r.default&&K("div",{class:"v-bottom-navigation__content"},[r.default()])]})),{}}});const Ate=Fu("v-breadcrumbs-divider","li"),xte=mt({name:"VBreadcrumbsItem",props:{active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...ev(),...fr({tag:"li"})},setup(t,e){let{slots:r,attrs:n}=e;const a=rS(t,n),s=_e(()=>{var c;return t.active||((c=a.isActive)==null?void 0:c.value)}),o=_e(()=>s.value?t.activeColor:t.color),{textColorClasses:u,textColorStyles:l}=bo(o);return yt(()=>{var c;const d=a.isLink.value?"a":t.tag;return K(d,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":t.disabled,"v-breadcrumbs-item--link":a.isLink.value,[`${t.activeClass}`]:s.value&&t.activeClass},u.value],style:[l.value],href:a.href.value,"aria-current":s.value?"page":void 0,onClick:a.navigate},{default:()=>[((c=r.default)==null?void 0:c.call(r))??t.title]})}),{}}}),JMe=Pn()({name:"VBreadcrumbs",props:{activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:rr,items:{type:Array,default:()=>[]},...da(),...Qn(),...fr({tag:"ul"})},setup(t,e){let{slots:r}=e;const{backgroundColorClasses:n,backgroundColorStyles:a}=wi(ct(t,"bgColor")),{densityClasses:s}=ws(t),{roundedClasses:o}=Si(t);return Vi({VBreadcrumbsItem:{activeClass:ct(t,"activeClass"),activeColor:ct(t,"activeColor"),color:ct(t,"color"),disabled:ct(t,"disabled")}}),yt(()=>{var u;const l=!!(r.prepend||t.icon);return K(t.tag,{class:["v-breadcrumbs",n.value,s.value,o.value],style:a.value},{default:()=>[l&&K(mn,{key:"prepend",defaults:{VIcon:{icon:t.icon,start:!0}}},{default:()=>[K("div",{class:"v-breadcrumbs__prepend"},[r.prepend?r.prepend():t.icon&&K(Pi,null,null)])]}),t.items.map((c,d,f)=>{var h;return K(Qt,null,[K(xte,Dt({key:d,disabled:d>=f.length-1},typeof c=="string"?{title:c}:c),{default:r.title?()=>{var p;return(p=r.title)==null?void 0:p.call(r,{item:c,index:d})}:void 0}),d<f.length-1&&K(Ate,null,{default:()=>[((h=r.divider)==null?void 0:h.call(r,{item:c,index:d}))??t.divider]})])}),(u=r.default)==null?void 0:u.call(r)]})}),{}}});const Ote=mt({name:"VCardActions",setup(t,e){let{slots:r}=e;return Vi({VBtn:{variant:"text"}}),yt(()=>{var n;return K("div",{class:"v-card-actions"},[(n=r.default)==null?void 0:n.call(r)])}),{}}}),Rte=Fu("v-card-subtitle"),Ite=Fu("v-card-title"),Pte=mt({name:"VCardItem",props:{appendAvatar:String,appendIcon:rr,prependAvatar:String,prependIcon:rr,subtitle:String,title:String,...da()},setup(t,e){let{slots:r}=e;return yt(()=>{var n,a,s,o,u;const l=!!(t.prependAvatar||t.prependIcon||r.prepend),c=!!(t.appendAvatar||t.appendIcon||r.append),d=!!(t.title||r.title),f=!!(t.subtitle||r.subtitle);return K("div",{class:"v-card-item"},[l&&K(mn,{key:"prepend",defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},{default:()=>[K("div",{class:"v-card-item__prepend"},[((n=r.prepend)==null?void 0:n.call(r))??K(Lh,null,null)])]}),K("div",{class:"v-card-item__content"},[d&&K(Ite,{key:"title"},{default:()=>[((a=r.title)==null?void 0:a.call(r))??t.title]}),f&&K(Rte,{key:"subtitle"},{default:()=>[((s=r.subtitle)==null?void 0:s.call(r))??t.subtitle]}),(o=r.default)==null?void 0:o.call(r)]),c&&K(mn,{key:"append",defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},{default:()=>[K("div",{class:"v-card-item__append"},[((u=r.append)==null?void 0:u.call(r))??K(Lh,null,null)])]})])}),{}}}),Cte=Fu("v-card-text"),YMe=mt({name:"VCard",directives:{Ripple:Jh},props:{appendAvatar:String,appendIcon:rr,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:rr,ripple:Boolean,subtitle:String,text:String,title:String,...Mr(),...du(),...da(),...Vl(),...qi(),...kL(),...eg(),...Ym(),...Qn(),...ev(),...fr(),...ju({variant:"elevated"})},setup(t,e){let{attrs:r,slots:n}=e;const{themeClasses:a}=nn(t),{borderClasses:s}=Lu(t),{colorClasses:o,colorStyles:u,variantClasses:l}=J0(t),{densityClasses:c}=ws(t),{dimensionStyles:d}=Hl(t),{elevationClasses:f}=Wa(t),{loaderClasses:h}=BP(t),{locationStyles:p}=tg(t),{positionClasses:g}=Zm(t),{roundedClasses:y}=Si(t),S=rS(t,r),v=_e(()=>t.link!==!1&&S.isLink.value),A=_e(()=>!t.disabled&&t.link!==!1&&(t.link||S.isClickable.value));return yt(()=>{var E,T,R;const I=v.value?"a":t.tag,D=!!(n.title||t.title),M=!!(n.subtitle||t.subtitle),N=D||M,O=!!(n.append||t.appendAvatar||t.appendIcon),k=!!(n.prepend||t.prependAvatar||t.prependIcon),Y=!!(n.image||t.image),ne=N||k||O,q=!!(n.text||t.text);return qn(K(I,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":A.value},a.value,s.value,o.value,c.value,f.value,h.value,g.value,y.value,l.value],style:[u.value,d.value,p.value],href:S.href.value,onClick:A.value&&S.navigate,tabindex:t.disabled?-1:void 0},{default:()=>[Y&&K(mn,{key:"image",defaults:{VImg:{cover:!0,src:t.image}}},{default:()=>[K("div",{class:"v-card__image"},[((E=n.image)==null?void 0:E.call(n))??K(Wm,null,null)])]}),K($L,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:n.loader}),ne&&K(Pte,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:n.item,prepend:n.prepend,title:n.title,subtitle:n.subtitle,append:n.append}),q&&K(Cte,{key:"text"},{default:()=>[((T=n.text)==null?void 0:T.call(n))??t.text]}),(R=n.default)==null?void 0:R.call(n),n.actions&&K(Ote,null,{default:n.actions}),X0(A.value,"v-card")]}),[[tu("ripple"),A.value]])}),{}}});const ZMe=t=>{const{touchstartX:e,touchendX:r,touchstartY:n,touchendY:a}=t,s=.5,o=16;t.offsetX=r-e,t.offsetY=a-n,Math.abs(t.offsetY)<s*Math.abs(t.offsetX)&&(t.left&&r<e-o&&t.left(t),t.right&&r>e+o&&t.right(t)),Math.abs(t.offsetX)<s*Math.abs(t.offsetY)&&(t.up&&a<n-o&&t.up(t),t.down&&a>n+o&&t.down(t))};function e9e(t,e){var r;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(r=e.start)==null||r.call(e,{originalEvent:t,...e})}function t9e(t,e){var r;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(r=e.end)==null||r.call(e,{originalEvent:t,...e}),ZMe(e)}function r9e(t,e){var r;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(r=e.move)==null||r.call(e,{originalEvent:t,...e})}function n9e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:r=>e9e(r,e),touchend:r=>t9e(r,e),touchmove:r=>r9e(r,e)}}function i9e(t,e){var r;const n=e.value,a=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},o=(r=e.instance)==null?void 0:r.$.uid;if(!a||!o)return;const u=n9e(e.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[o]=u,WZ(u).forEach(l=>{a.addEventListener(l,u[l],s)})}function a9e(t,e){var r,n;const a=(r=e.value)!=null&&r.parent?t.parentElement:t,s=(n=e.instance)==null?void 0:n.$.uid;if(!(a!=null&&a._touchHandlers)||!s)return;const o=a._touchHandlers[s];WZ(o).forEach(u=>{a.removeEventListener(u,o[u])}),delete a._touchHandlers[s]}const KL={mounted:i9e,unmounted:a9e},Dte=Symbol.for("vuetify:v-window"),Nte=Symbol.for("vuetify:v-window-group"),Fte=Pn()({name:"VWindow",directives:{Touch:KL},props:{continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...fr(),...Mr()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t),{isRtl:a}=bf(),{t:s}=Ul(),o=Z0(t,Nte),u=Je(),l=_e(()=>a.value?!t.reverse:t.reverse),c=Je(!1),d=_e(()=>{const T=t.direction==="vertical"?"y":"x",I=(l.value?!c.value:c.value)?"-reverse":"";return`v-window-${T}${I}-transition`}),f=Je(0),h=Je(void 0),p=_e(()=>o.items.value.findIndex(T=>o.selected.value.includes(T.id)));Mt(p,(T,R)=>{const I=o.items.value.length,D=I-1;I<=2?c.value=T<R:T===D&&R===0?c.value=!0:T===0&&R===D?c.value=!1:c.value=T<R}),Di(Dte,{transition:d,isReversed:c,transitionCount:f,transitionHeight:h,rootRef:u});const g=_e(()=>t.continuous||p.value!==0),y=_e(()=>t.continuous||p.value!==o.items.value.length-1);function S(){g.value&&o.prev()}function v(){y.value&&o.next()}const A=_e(()=>{const T=[],R={icon:a.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,ariaLabel:s("$vuetify.carousel.prev")};T.push(g.value?r.prev?r.prev({props:R}):K(co,R,null):K("div",null,null));const I={icon:a.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,ariaLabel:s("$vuetify.carousel.next")};return T.push(y.value?r.next?r.next({props:I}):K(co,I,null):K("div",null,null)),T}),E=_e(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?S():v()},right:()=>{l.value?v():S()},start:R=>{let{originalEvent:I}=R;I.stopPropagation()}},...t.touch===!0?{}:t.touch});return yt(()=>{var T,R;return qn(K(t.tag,{ref:u,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},n.value]},{default:()=>[K("div",{class:"v-window__container",style:{height:h.value}},[(T=r.default)==null?void 0:T.call(r,{group:o}),t.showArrows!==!1&&K("div",{class:"v-window__controls"},[A.value])]),(R=r.additional)==null?void 0:R.call(r,{group:o})]}),[[tu("touch"),E.value]])}),{group:o}}});function XL(){const t=Je(!1);return zs(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:_e(()=>t.value?void 0:{transition:"none !important"}),isBooted:f1(t)}}const Lte=mt({name:"VWindowItem",directives:{Touch:KL},props:{reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Y0(),...zP()},emits:{"group:selected":t=>!0},setup(t,e){let{slots:r}=e;const n=Xr(Dte),a=Xm(t,Nte),{isBooted:s}=XL();if(!n||!a)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=Je(!1),u=_e(()=>n.isReversed.value?t.reverseTransition!==!1:t.transition!==!1);function l(){!o.value||!n||(o.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,n.transitionCount.value===0&&(n.transitionHeight.value=void 0)))}function c(){if(!(o.value||!n)){if(o.value=!0,n.transitionCount.value===0){var g;n.transitionHeight.value=Ct((g=n.rootRef.value)==null?void 0:g.clientHeight)}n.transitionCount.value+=1}}function d(){l()}function f(g){o.value&&ni(()=>{!u.value||!o.value||!n||(n.transitionHeight.value=Ct(g.clientHeight))})}const h=_e(()=>{const g=n.isReversed.value?t.reverseTransition:t.transition;return u.value?{name:typeof g!="string"?n.transition.value:g,onBeforeEnter:c,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:c,onAfterLeave:l,onLeaveCancelled:d,onEnter:f}:!1}),{hasContent:p}=QL(t,a.isSelected);return yt(()=>{var g;return K(jc,{transition:s.value&&h.value},{default:()=>[qn(K("div",{class:["v-window-item",a.selectedClass.value]},[p.value&&((g=r.default)==null?void 0:g.call(r))]),[[Ou,a.isSelected.value]])]})}),{}}}),s9e=mt({name:"VCarousel",props:{color:String,cycle:Boolean,delimiterIcon:{type:rr,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>t>0},modelValue:null,progress:[Boolean,String],showArrows:{type:[Boolean,String],default:!0,validator:t=>typeof t=="boolean"||t==="hover"},verticalDelimiters:[Boolean,String]},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"modelValue"),{t:a}=Ul(),s=Je();let o=-1;Mt(n,l),Mt(()=>t.interval,l),Mt(()=>t.cycle,c=>{c?l():window.clearTimeout(o)}),zs(u);function u(){!t.cycle||!s.value||(o=window.setTimeout(s.value.group.next,+t.interval>0?+t.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(u)}return yt(()=>K(Fte,{ref:s,modelValue:n.value,"onUpdate:modelValue":c=>n.value=c,class:["v-carousel",{"v-carousel--hide-delimiter-background":t.hideDelimiterBackground,"v-carousel--vertical-delimiters":t.verticalDelimiters}],style:{height:Ct(t.height)},continuous:!0,mandatory:"force",showArrows:t.showArrows},{default:r.default,additional:c=>{let{group:d}=c;return K(Qt,null,[!t.hideDelimiters&&K("div",{class:"v-carousel__controls",style:{left:t.verticalDelimiters==="left"&&t.verticalDelimiters?0:"auto",right:t.verticalDelimiters==="right"?0:"auto"}},[d.items.value.length>0&&K(mn,{defaults:{VBtn:{color:t.color,icon:t.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[d.items.value.map((f,h)=>{const p={"aria-label":a("$vuetify.carousel.ariaLabel.delimiter",h+1,d.items.value.length),class:[d.isSelected(f.id)&&"v-btn--active"],onClick:()=>d.select(f.id,!0)};return r.item?r.item({props:p,item:f}):K(co,Dt(f,p),null)})]})]),t.progress&&K(BL,{class:"v-carousel__progress",color:typeof t.progress=="string"?t.progress:void 0,modelValue:(d.getItemIndex(n.value)+1)/d.items.value.length*100},null)])},prev:r.prev,next:r.next})),{}}}),o9e=mt({name:"VCarouselItem",inheritAttrs:!1,props:{value:null},setup(t,e){let{slots:r,attrs:n}=e;yt(()=>K(Lte,{class:"v-carousel-item",value:t.value},{default:()=>[K(Wm,n,r)]}))}});const u9e=Fu("v-code");const l9e=mt({name:"VColorPickerCanvas",props:{color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300}},emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:r}=e;const n=Je(!1),a=Je(!1),s=Je({x:0,y:0}),o=_e(()=>{const{x:g,y}=s.value,S=parseInt(t.dotSize,10)/2;return{width:Ct(t.dotSize),height:Ct(t.dotSize),transform:`translate(${Ct(g-S)}, ${Ct(y-S)})`}}),u=Je();function l(g,y,S){const{left:v,top:A,width:E,height:T}=S;s.value={x:Jo(g-v,0,E),y:Jo(y-A,0,T)}}function c(g){t.disabled||!u.value||l(g.clientX,g.clientY,u.value.getBoundingClientRect())}function d(g){g.preventDefault(),!t.disabled&&(n.value=!0,window.addEventListener("mousemove",f),window.addEventListener("mouseup",h),window.addEventListener("touchmove",f),window.addEventListener("touchend",h))}function f(g){if(t.disabled||!u.value)return;n.value=!0;const y=vLe(g);l(y.clientX,y.clientY,u.value.getBoundingClientRect())}function h(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",h),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",h)}Mt(s,()=>{var g,y;if(a.value){a.value=!1;return}if(!u.value)return;const{width:S,height:v}=u.value.getBoundingClientRect(),{x:A,y:E}=s.value;r("update:color",{h:((g=t.color)==null?void 0:g.h)??0,s:Jo(A,0,S)/S,v:1-Jo(E,0,v)/v,a:((y=t.color)==null?void 0:y.a)??1})});function p(){var g;if(!u.value)return;const y=u.value,S=y.getContext("2d");if(!S)return;const v=S.createLinearGradient(0,0,y.width,0);v.addColorStop(0,"hsla(0, 0%, 100%, 1)"),v.addColorStop(1,`hsla(${((g=t.color)==null?void 0:g.h)??0}, 100%, 50%, 1)`),S.fillStyle=v,S.fillRect(0,0,y.width,y.height);const A=S.createLinearGradient(0,0,0,y.height);A.addColorStop(0,"hsla(0, 0%, 100%, 0)"),A.addColorStop(1,"hsla(0, 0%, 0%, 1)"),S.fillStyle=A,S.fillRect(0,0,y.width,y.height)}return Mt(()=>{var g;return(g=t.color)==null?void 0:g.h},p,{immediate:!0}),Mt(()=>t.color,()=>{if(n.value){n.value=!1;return}t.color&&(a.value=!0,s.value={x:t.color.s*parseInt(t.width,10),y:(1-t.color.v)*parseInt(t.height,10)})},{deep:!0,immediate:!0}),zs(()=>p()),yt(()=>K("div",{class:"v-color-picker-canvas",style:{width:Ct(t.width),height:Ct(t.height)},onClick:c,onMousedown:d,onTouchstart:d},[K("canvas",{ref:u,width:t.width,height:t.height},null),K("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:o.value},null)])),{}}});var MU;function Up(t,e){return e.every(r=>t.hasOwnProperty(r))}function jte(t){if(!t)return null;let e=null;if(typeof t=="string"){const r=CLe(t);e=oee(r)}return typeof t=="object"&&(Up(t,["r","g","b"])?e=RL(t):Up(t,["h","s","l"])?e=nee(t):Up(t,["h","s","v"])&&(e=t)),e!=null?{...e,a:e.a??1}:null}function c9e(t,e){if(e){const{a:r,...n}=t;return n}return t}function d9e(t,e){if(e==null||typeof e=="string"){const r=uee(t);return t.a===1?r.slice(0,7):r}if(typeof e=="object"){let r;return Up(e,["r","g","b"])?r=FP(t):Up(e,["h","s","l"])?r=ree(t):Up(e,["h","s","v"])&&(r=t),c9e(r,!Up(e,["a"]))}return t}const ST={h:0,s:0,v:1,a:1},q6={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:FP,from:RL},f9e={...q6,inputs:(MU=q6.inputs)==null?void 0:MU.slice(0,3)},z6={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:ree,from:nee},h9e={...z6,inputs:z6.inputs.slice(0,3)},Mte={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:uee,from:oee},p9e={...Mte,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},Vp={rgb:f9e,rgba:q6,hsl:h9e,hsla:z6,hex:p9e,hexa:Mte},g9e=t=>{let{label:e,...r}=t;return K("div",{class:"v-color-picker-edit__input"},[K("input",r,null),K("span",null,[e])])},y9e=mt({name:"VColorPickerEdit",props:{color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Vp).includes(t)},modes:{type:Array,default:()=>Object.keys(Vp),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Vp).includes(e))}},emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:r}=e;const n=_e(()=>t.modes.map(s=>({...Vp[s],name:s}))),a=_e(()=>{var s;const o=n.value.find(l=>l.name===t.mode);if(!o)return[];const u=t.color?o.to(t.color):{};return(s=o.inputs)==null?void 0:s.map(l=>{let{getValue:c,getColor:d,...f}=l;return{...o.inputProps,...f,disabled:t.disabled,value:c(u),onChange:h=>{const p=h.target;p&&r("update:color",o.from(d(u,p.value)))}}})});return yt(()=>{var s;return K("div",{class:"v-color-picker-edit"},[(s=a.value)==null?void 0:s.map(o=>K(g9e,o,null)),n.value.length>1&&K(co,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=n.value.findIndex(u=>u.name===t.mode);r("update:mode",n.value[(o+1)%n.value.length].name)}},null)])}),{}}});const JL=Symbol.for("vuetify:v-slider");function G6(t,e,r){const n=r==="vertical",a=e.getBoundingClientRect(),s="touches"in t?t.touches[0]:t;return n?s.clientY-(a.top+a.height/2):s.clientX-(a.left+a.width/2)}function m9e(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const Bte=dr({disabled:Boolean,error:Boolean,readonly:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...Qn(),...qi({elevation:2})},"slider"),kte=t=>{let{props:e,handleSliderMouseUp:r,handleMouseMove:n,getActiveThumb:a}=t;const{isRtl:s}=bf(),o=ct(e,"reverse"),u=_e(()=>{let ye=s.value?"rtl":"ltr";return e.reverse&&(ye=ye==="rtl"?"ltr":"rtl"),ye}),l=_e(()=>parseFloat(e.min)),c=_e(()=>parseFloat(e.max)),d=_e(()=>e.step>0?parseFloat(e.step):0),f=_e(()=>{const ye=d.value.toString().trim();return ye.includes(".")?ye.length-ye.indexOf(".")-1:0}),h=_e(()=>parseInt(e.thumbSize,10)),p=_e(()=>parseInt(e.tickSize,10)),g=_e(()=>parseInt(e.trackSize,10)),y=_e(()=>(c.value-l.value)/d.value),S=ct(e,"disabled"),v=_e(()=>e.direction==="vertical"),A=_e(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),E=_e(()=>e.error||e.disabled?void 0:e.trackColor??e.color),T=_e(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),R=Je(!1),I=Je(0),D=Je(),M=Je();function N(ye){if(d.value<=0)return ye;const qe=Jo(ye,l.value,c.value),Te=l.value%d.value,Oe=Math.round((qe-Te)/d.value)*d.value+Te;return parseFloat(Math.min(Oe,c.value).toFixed(f.value))}function O(ye){var qe;const Te=e.direction==="vertical",Oe=Te?"top":"left",Be=Te?"height":"width",He=Te?"clientY":"clientX",{[Oe]:ee,[Be]:j}=(qe=D.value)==null?void 0:qe.$el.getBoundingClientRect(),b=m9e(ye,He);let m=Math.min(Math.max((b-ee-I.value)/j,0),1)||0;return(Te||u.value==="rtl")&&(m=1-m),N(l.value+m*(c.value-l.value))}let k=!1;const Y=ye=>{k||(I.value=0,r(O(ye))),R.value=!1,k=!1,I.value=0},ne=ye=>{M.value=a(ye),M.value&&(M.value.focus(),R.value=!0,M.value.contains(ye.target)?(k=!0,I.value=G6(ye,M.value,e.direction)):(I.value=0,n(O(ye))))},q={passive:!0,capture:!0};function H(ye){k=!0,n(O(ye))}function J(ye){ye.stopPropagation(),ye.preventDefault(),Y(ye),window.removeEventListener("mousemove",H,q),window.removeEventListener("mouseup",J)}function se(ye){var qe;Y(ye),window.removeEventListener("touchmove",H,q),(qe=ye.target)==null||qe.removeEventListener("touchend",se)}function ue(ye){var qe;ne(ye),window.addEventListener("touchmove",H,q),(qe=ye.target)==null||qe.addEventListener("touchend",se,{passive:!1})}function Se(ye){ye.preventDefault(),ne(ye),window.addEventListener("mousemove",H,q),window.addEventListener("mouseup",J,{passive:!1})}const ve=ye=>{const qe=(ye-l.value)/(c.value-l.value)*100;return Jo(isNaN(qe)?0:qe,0,100)},Le=_e(()=>e.ticks?Array.isArray(e.ticks)?e.ticks.map(ye=>({value:ye,position:ve(ye),label:ye.toString()})):Object.keys(e.ticks).map(ye=>({value:parseFloat(ye),position:ve(parseFloat(ye)),label:e.ticks[ye]})):y.value!==1/0?kp(y.value+1).map(ye=>{const qe=l.value+ye*d.value;return{value:qe,position:ve(qe)}}):[]),Xe=_e(()=>Le.value.some(ye=>{let{label:qe}=ye;return!!qe})),Ne={activeThumbRef:M,color:ct(e,"color"),decimals:f,disabled:S,direction:ct(e,"direction"),elevation:ct(e,"elevation"),hasLabels:Xe,horizontalDirection:u,isReversed:o,min:l,max:c,mousePressed:R,numTicks:y,onSliderMousedown:Se,onSliderTouchstart:ue,parsedTicks:Le,parseMouseMove:O,position:ve,readonly:ct(e,"readonly"),rounded:ct(e,"rounded"),roundValue:N,showTicks:ct(e,"showTicks"),startOffset:I,step:d,thumbSize:h,thumbColor:A,thumbLabel:ct(e,"thumbLabel"),ticks:ct(e,"ticks"),tickSize:p,trackColor:E,trackContainerRef:D,trackFillColor:T,trackSize:g,vertical:v};return Di(JL,Ne),Ne},Q6=mt({name:"VSliderThumb",directives:{Ripple:Jh},props:{focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0}},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r,emit:n}=e;const a=Xr(JL);if(!a)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:o,vertical:u,disabled:l,thumbSize:c,thumbLabel:d,direction:f,readonly:h,elevation:p,isReversed:g,horizontalDirection:y,mousePressed:S,decimals:v}=a,{textColorClasses:A,textColorStyles:E}=bo(s),{pageup:T,pagedown:R,end:I,home:D,left:M,right:N,down:O,up:k}=R6,Y=[T,R,I,D,M,N,O,k],ne=_e(()=>o.value?[1,2,3]:[1,5,10]);function q(J,se){if(!Y.includes(J.key))return;J.preventDefault();const ue=o.value||.1,Se=(t.max-t.min)/ue;if([M,N,O,k].includes(J.key)){const Le=(y.value==="rtl"?[M,k]:[N,k]).includes(J.key)?1:-1,Xe=J.shiftKey?2:J.ctrlKey?1:0;se=se+Le*ue*ne.value[Xe]}else if(J.key===D)se=t.min;else if(J.key===I)se=t.max;else{const ve=J.key===R?1:-1;se=se-ve*ue*(Se>100?Se/10:10)}return Math.max(t.min,Math.min(t.max,se))}function H(J){const se=q(J,t.modelValue);se!=null&&n("update:modelValue",se)}return yt(()=>{var J;const se=Ct(u.value||g.value?100-t.position:t.position,"%"),{elevationClasses:ue}=Wa(_e(()=>l.value?void 0:p.value));return K("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&S.value}],style:{"--v-slider-thumb-position":se,"--v-slider-thumb-size":Ct(c.value)},role:"slider",tabindex:l.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":h.value,"aria-orientation":f.value,onKeydown:h.value?void 0:H},[K("div",{class:["v-slider-thumb__surface",A.value,ue.value],style:{...E.value}},null),qn(K("div",{class:["v-slider-thumb__ripple",A.value],style:E.value},null),[[tu("ripple"),!0,null,{circle:!0,center:!0}]]),K(Oee,{origin:"bottom center"},{default:()=>[qn(K("div",{class:"v-slider-thumb__label-container"},[K("div",{class:["v-slider-thumb__label"]},[K("div",null,[((J=r["thumb-label"])==null?void 0:J.call(r,{modelValue:t.modelValue}))??t.modelValue.toFixed(o.value?v.value:1)])])]),[[Ou,d.value&&t.focused||d.value==="always"]])]})])}),{}}});const $te=mt({name:"VSliderTrack",props:{start:{type:Number,required:!0},stop:{type:Number,required:!0}},emits:{},setup(t,e){let{slots:r}=e;const n=Xr(JL);if(!n)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:a,horizontalDirection:s,parsedTicks:o,rounded:u,showTicks:l,tickSize:c,trackColor:d,trackFillColor:f,trackSize:h,vertical:p,min:g,max:y}=n,{roundedClasses:S}=Si(u),{backgroundColorClasses:v,backgroundColorStyles:A}=wi(f),{backgroundColorClasses:E,backgroundColorStyles:T}=wi(d),R=_e(()=>`inset-${p.value?"block-end":"inline-start"}`),I=_e(()=>p.value?"height":"width"),D=_e(()=>({[R.value]:"0%",[I.value]:"100%"})),M=_e(()=>t.stop-t.start),N=_e(()=>({[R.value]:Ct(t.start,"%"),[I.value]:Ct(M.value,"%")})),O=_e(()=>(p.value?o.value.slice().reverse():o.value).map((Y,ne)=>{var q;const H=p.value?"bottom":"margin-inline-start",J=Y.value!==g.value&&Y.value!==y.value?Ct(Y.position,"%"):void 0;return K("div",{key:Y.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":Y.position>=t.start&&Y.position<=t.stop,"v-slider-track__tick--first":Y.value===g.value,"v-slider-track__tick--last":Y.value===y.value}],style:{[H]:J}},[(Y.label||r["tick-label"])&&K("div",{class:"v-slider-track__tick-label"},[((q=r["tick-label"])==null?void 0:q.call(r,{tick:Y,index:ne}))??Y.label])])}));return yt(()=>K("div",{class:["v-slider-track",S.value],style:{"--v-slider-track-size":Ct(h.value),"--v-slider-tick-size":Ct(c.value),direction:p.value?void 0:s.value}},[K("div",{class:["v-slider-track__background",E.value,{"v-slider-track__background--opacity":!!a.value||!f.value}],style:{...D.value,...T.value}},null),K("div",{class:["v-slider-track__fill",v.value],style:{...N.value,...A.value}},null),l.value&&K("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":l.value==="always"}]},[O.value])])),{}}}),W6=mt({name:"VSlider",props:{...kP(),...Bte(),...Sf(),modelValue:{type:[Number,String],default:0}},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=Je(),{min:a,max:s,mousePressed:o,roundValue:u,onSliderMousedown:l,onSliderTouchstart:c,trackContainerRef:d,position:f,hasLabels:h,readonly:p}=kte({props:t,handleSliderMouseUp:E=>g.value=u(E),handleMouseMove:E=>g.value=u(E),getActiveThumb:()=>{var E;return(E=n.value)==null?void 0:E.$el}}),g=pr(t,"modelValue",void 0,E=>{const T=typeof E=="string"?parseFloat(E):E??a.value;return u(T)}),{isFocused:y,focus:S,blur:v}=rg(t),A=_e(()=>f(g.value));return yt(()=>{const[E,T]=Yh(t),R=!!(t.label||r.label||r.prepend);return K(nd,Dt({class:["v-slider",{"v-slider--has-labels":!!r["tick-label"]||h.value,"v-slider--focused":y.value,"v-slider--pressed":o.value,"v-slider--disabled":t.disabled}]},E,{focused:y.value}),{...r,prepend:R?I=>{var D,M;return K(Qt,null,[((D=r.label)==null?void 0:D.call(r,I))??t.label?K(tv,{class:"v-slider__label",text:t.label},null):void 0,(M=r.prepend)==null?void 0:M.call(r,I)])}:void 0,default:I=>{let{id:D}=I;return K("div",{class:"v-slider__container",onMousedown:p.value?void 0:l,onTouchstartPassive:p.value?void 0:c},[K("input",{id:D.value,name:t.name||D.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:g.value},null),K($te,{ref:d,start:0,stop:A.value},{"tick-label":r["tick-label"]}),K(Q6,{ref:n,focused:y.value,min:a.value,max:s.value,modelValue:g.value,"onUpdate:modelValue":M=>g.value=M,position:A.value,elevation:t.elevation,onFocus:S,onBlur:v},{"thumb-label":r["thumb-label"]})])}})}),{}}}),v9e=mt({name:"VColorPickerPreview",props:{color:{type:Object},disabled:Boolean,hideAlpha:Boolean},emits:{"update:color":t=>!0},setup(t,e){let{emit:r}=e;return yt(()=>{var n,a;return K("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha}]},[K("div",{class:"v-color-picker-preview__dot"},[K("div",{style:{background:iee(t.color??ST)}},null)]),K("div",{class:"v-color-picker-preview__sliders"},[K(W6,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(n=t.color)==null?void 0:n.h,"onUpdate:modelValue":s=>r("update:color",{...t.color??ST,h:s}),step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&K(W6,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:(a=t.color)==null?void 0:a.a,"onUpdate:modelValue":s=>r("update:color",{...t.color??ST,a:s}),step:0,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}});const b9e=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),_9e=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),w9e=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),S9e=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),T9e=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),E9e=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),A9e=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),x9e=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),O9e=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),R9e=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),I9e=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),P9e=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),C9e=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),D9e=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),N9e=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),F9e=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),L9e=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),j9e=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),M9e=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),B9e=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),k9e=Object.freeze({red:b9e,pink:_9e,purple:w9e,deepPurple:S9e,indigo:T9e,blue:E9e,lightBlue:A9e,cyan:x9e,teal:O9e,green:R9e,lightGreen:I9e,lime:P9e,yellow:C9e,amber:D9e,orange:N9e,deepOrange:F9e,brown:L9e,blueGrey:j9e,grey:M9e,shades:B9e});function $9e(t){return Object.keys(t).map(e=>{const r=t[e];return r.base?[r.base,r.darken4,r.darken3,r.darken2,r.darken1,r.lighten1,r.lighten2,r.lighten3,r.lighten4,r.lighten5]:[r.black,r.white,r.transparent]})}const U9e=mt({name:"VColorPickerSwatches",props:{swatches:{type:Array,default:()=>$9e(k9e)},disabled:Boolean,color:Object,maxHeight:[Number,String]},emits:{"update:color":t=>!0},setup(t,e){let{emit:r}=e;return yt(()=>K("div",{class:"v-color-picker-swatches",style:{maxHeight:Ct(t.maxHeight)}},[K("div",null,[t.swatches.map(n=>K("div",{class:"v-color-picker-swatches__swatch"},[n.map(a=>{const s=jte(a);return K("div",{class:"v-color-picker-swatches__color",onClick:()=>s&&r("update:color",s)},[K("div",{style:{background:a}},[t.color&&zm(t.color,s)?K(Pi,{size:"x-small",icon:"$success",color:FLe(a,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}});const Ute=mt({name:"VSheet",props:{color:String,...du(),...Vl(),...qi(),...eg(),...Ym(),...Qn(),...fr(),...Mr()},setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t),{backgroundColorClasses:a,backgroundColorStyles:s}=wi(ct(t,"color")),{borderClasses:o}=Lu(t),{dimensionStyles:u}=Hl(t),{elevationClasses:l}=Wa(t),{locationStyles:c}=tg(t),{positionClasses:d}=Zm(t),{roundedClasses:f}=Si(t);return()=>K(t.tag,{class:["v-sheet",n.value,a.value,o.value,l.value,d.value,f.value],style:[s.value,u.value,c.value]},r)}}),V9e=mt({name:"VColorPicker",inheritAttrs:!1,props:{canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Vp).includes(t)},modes:{type:Array,default:()=>Object.keys(Vp),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Vp).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},width:{type:[Number,String],default:300},...qi(),...Qn(),...Mr()},emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=pr(t,"mode"),r=Je(null),n=pr(t,"modelValue",void 0,s=>{let o=jte(s);return o?(r.value&&(o={...o,h:r.value.h},r.value=null),o):null},s=>s?d9e(s,t.modelValue):null),a=s=>{n.value=s,r.value=s};return zs(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),yt(()=>K(Ute,{rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker"],style:{"--v-color-picker-color-hsv":iee({...n.value??ST,a:1})},maxWidth:t.width},{default:()=>[!t.hideCanvas&&K(l9e,{key:"canvas",color:n.value,"onUpdate:color":a,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&K("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&K(v9e,{key:"preview",color:n.value,"onUpdate:color":a,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&K(y9e,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":s=>e.value=s,color:n.value,"onUpdate:color":a,disabled:t.disabled},null)]),t.showSwatches&&K(U9e,{key:"swatches",color:n.value,"onUpdate:color":a,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})),{}}});function H9e(t,e,r){if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?K(Qt,null,[K("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),K("span",{class:"v-combobox__mask"},[t.substr(e,r)]),K("span",{class:"v-combobox__unmask"},[t.substr(e+r)])]):t}const q9e=Pn()({name:"VCombobox",props:{delimiters:Array,...wte({filterKeys:["title"]}),...WL({hideNoData:!0,returnObject:!0}),...W0(VP({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),..._f({transition:!1})},emits:{"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var r;let{emit:n,slots:a}=e;const{t:s}=Ul(),o=Je(),u=Je(!1),l=Je(!0),c=pr(t,"menu"),d=Je(-1),f=_e(()=>{var J;return(J=o.value)==null?void 0:J.color}),{items:h,transformIn:p,transformOut:g}=GL(t),{textColorClasses:y,textColorStyles:S}=bo(f),v=pr(t,"modelValue",[],J=>p(Su(J||[])),J=>{const se=g(J);return t.multiple?se:se[0]??null}),A=Je(t.multiple?"":((r=v.value[0])==null?void 0:r.title)??""),E=_e({get:()=>A.value,set:J=>{var se;if(A.value=J,t.multiple||(v.value=[Jg(t,J)]),J&&t.multiple&&(se=t.delimiters)!=null&&se.length){const ue=J.split(new RegExp(`(?:${t.delimiters.join("|")})+`));ue.length>1&&(ue.forEach(Se=>{Se=Se.trim(),Se&&ne(Jg(t,Se))}),A.value="")}J||(d.value=-1),u.value&&(c.value=!0),l.value=!J}});Mt(A,J=>{n("update:search",J)}),Mt(v,J=>{if(!t.multiple){var se;A.value=((se=J[0])==null?void 0:se.title)??""}});const{filteredItems:T}=Ste(t,h,_e(()=>l.value?void 0:E.value)),R=_e(()=>v.value.map(J=>h.value.find(se=>t.valueComparator(se.value,J.value))||J)),I=_e(()=>R.value.map(J=>J.props.value)),D=_e(()=>R.value[d.value]),M=Je();function N(J){v.value=[],t.openOnClear&&(c.value=!0)}function O(){t.hideNoData&&!h.value.length||t.readonly||(c.value=!0)}function k(J){if(t.readonly)return;const se=o.value.selectionStart,ue=I.value.length;if(d.value>-1&&J.preventDefault(),["Enter","ArrowDown"].includes(J.key)&&(c.value=!0),["Escape"].includes(J.key)&&(c.value=!1),["Enter","Escape","Tab"].includes(J.key)&&(l.value=!0),J.key==="ArrowDown"){var Se;J.preventDefault(),(Se=M.value)==null||Se.focus("next")}else if(J.key==="ArrowUp"){var ve;J.preventDefault(),(ve=M.value)==null||ve.focus("prev")}if(t.multiple){if(["Backspace","Delete"].includes(J.key)){if(d.value<0){J.key==="Backspace"&&!E.value&&(d.value=ue-1);return}ne(D.value),ni(()=>!D.value&&(d.value=ue-2))}if(J.key==="ArrowLeft"){if(d.value<0&&se>0)return;const Le=d.value>-1?d.value-1:ue-1;R.value[Le]?d.value=Le:(d.value=-1,o.value.setSelectionRange(E.value.length,E.value.length))}if(J.key==="ArrowRight"){if(d.value<0)return;const Le=d.value+1;R.value[Le]?d.value=Le:(d.value=-1,o.value.setSelectionRange(0,0))}J.key==="Enter"&&(ne(Jg(t,E.value)),E.value="")}}function Y(){u.value&&(l.value=!0)}function ne(J){if(t.multiple){const se=I.value.findIndex(ue=>ue===J.value);if(se===-1)v.value=[...v.value,J];else{const ue=[...v.value];ue.splice(se,1),v.value=ue}E.value=""}else v.value=[J],A.value=J.title,ni(()=>{c.value=!1,l.value=!0})}function q(J){u.value=!0}function H(J){if(J.relatedTarget==null){var se;(se=o.value)==null||se.focus()}}return Mt(T,J=>{!J.length&&t.hideNoData&&(c.value=!1)}),Mt(u,J=>{if(J)d.value=-1;else{if(c.value=!1,!t.multiple||!E.value)return;v.value=[...v.value,Jg(t,E.value)],E.value=""}}),yt(()=>{const J=!!(t.chips||a.chip),[se]=VL(t);return K(iS,Dt({ref:o},se,{modelValue:E.value,"onUpdate:modelValue":[ue=>E.value=ue,ue=>{ue==null&&(v.value=[])}],validationValue:v.externalValue,dirty:v.value.length>0,class:["v-combobox",{"v-combobox--active-menu":c.value,"v-combobox--chips":!!t.chips,"v-combobox--selecting-index":d.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0}],appendInnerIcon:t.items.length?t.menuIcon:void 0,readonly:t.readonly,"onClick:clear":N,"onClick:control":O,"onClick:input":O,onFocus:()=>u.value=!0,onBlur:()=>u.value=!1,onKeydown:k}),{...a,default:()=>{var ue,Se,ve;return K(Qt,null,[K(QP,Dt({modelValue:c.value,"onUpdate:modelValue":Le=>c.value=Le,activator:"parent",contentClass:"v-combobox__content",eager:t.eager,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:Y},t.menuProps),{default:()=>[K(qP,{ref:M,selected:I.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Le=>Le.preventDefault(),onFocusin:q,onFocusout:H},{default:()=>[!T.value.length&&!t.hideNoData&&(((ue=a["no-data"])==null?void 0:ue.call(a))??K(lf,{title:s(t.noDataText)},null)),(Se=a["prepend-item"])==null?void 0:Se.call(a),T.value.map((Le,Xe)=>{var Ne;let{item:ye,matches:qe}=Le;return((Ne=a.item)==null?void 0:Ne.call(a,{item:ye,index:Xe,props:Dt(ye.props,{onClick:()=>ne(ye)})}))??K(lf,Dt({key:Xe},ye.props,{onClick:()=>ne(ye)}),{prepend:Te=>{let{isSelected:Oe}=Te;return t.multiple&&!t.hideSelected?K(rv,{modelValue:Oe,ripple:!1},null):void 0},title:()=>{var Te;return l.value?ye.title:H9e(ye.title,qe.title,((Te=E.value)==null?void 0:Te.length)??0)}})}),(ve=a["append-item"])==null?void 0:ve.call(a)]})]}),R.value.map((Le,Xe)=>{function Ne(qe){qe.stopPropagation(),qe.preventDefault(),ne(Le)}const ye={"onClick:close":Ne,modelValue:!0,"onUpdate:modelValue":void 0};return K("div",{key:Le.value,class:["v-combobox__selection",Xe===d.value&&["v-combobox__selection--selected",y.value]],style:Xe===d.value?S.value:{}},[J?K(mn,{defaults:{VChip:{closable:t.closableChips,size:"small",text:Le.title}}},{default:()=>[a.chip?a.chip({item:Le,index:Xe,props:ye}):K(sS,ye,null)]}):a.selection?a.selection({item:Le,index:Xe}):K("span",{class:"v-combobox__selection-text"},[Le.title,t.multiple&&Xe<R.value.length-1&&K("span",{class:"v-combobox__selection-comma"},[di(",")])])])})])}})}),ql({isFocused:u,isPristine:l,menu:c,search:E,selectionIndex:d,filteredItems:T,select:ne},o)}});const z9e=Pn()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...uS({origin:"center center",scrollStrategy:"block",transition:{component:jP},zIndex:2400})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"modelValue"),{scopeId:a}=oS(),s=Je();function o(u){var l,c;const d=u.relatedTarget,f=u.target;if(d!==f&&(l=s.value)!=null&&l.contentEl&&(c=s.value)!=null&&c.globalTop&&![document,s.value.contentEl].includes(f)&&!s.value.contentEl.contains(f)){const h=[...s.value.contentEl.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].filter(y=>!y.hasAttribute("disabled")&&!y.matches('[tabindex="-1"]'));if(!h.length)return;const p=h[0],g=h[h.length-1];d===p?g.focus():p.focus()}}return fi&&Mt(()=>n.value&&t.retainFocus,u=>{u?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),Mt(n,async u=>{if(await ni(),u){var l;(l=s.value.contentEl)==null||l.focus({preventScroll:!0})}else{var c;(c=s.value.activatorEl)==null||c.focus({preventScroll:!0})}}),yt(()=>{const[u]=GP(t);return K(nv,Dt({ref:s,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable}]},u,{modelValue:n.value,"onUpdate:modelValue":l=>n.value=l,"aria-role":"dialog","aria-modal":"true",activatorProps:Dt({"aria-haspopup":"dialog","aria-expanded":String(n.value)},t.activatorProps)},a),{activator:r.activator,default:function(){for(var l,c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return K(mn,{root:!0},{default:()=>[(l=r.default)==null?void 0:l.call(r,...d)]})}})}),ql({},s)}});const $_=Symbol.for("vuetify:v-expansion-panel"),G9e=["default","accordion","inset","popout"],Q9e=mt({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:t=>G9e.includes(t)},readonly:Boolean,...Km(),...fr(),...Mr()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;Z0(t,$_);const{themeClasses:n}=nn(t),a=_e(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return Vi({VExpansionPanel:{color:ct(t,"color")},VExpansionPanelTitle:{readonly:ct(t,"readonly")}}),yt(()=>K(t.tag,{class:["v-expansion-panels",n.value,a.value]},r)),{}}}),Vte=dr({color:String,expandIcon:{type:rr,default:"$expand"},collapseIcon:{type:rr,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),Hte=mt({name:"VExpansionPanelTitle",directives:{Ripple:Jh},props:{...Vte()},setup(t,e){let{slots:r}=e;const n=Xr($_);if(!n)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:a,backgroundColorStyles:s}=wi(t,"color"),o=_e(()=>({collapseIcon:t.collapseIcon,disabled:n.disabled.value,expanded:n.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly}));return yt(()=>{var u;return qn(K("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":n.isSelected.value},a.value],style:s.value,type:"button",tabindex:n.disabled.value?-1:void 0,disabled:n.disabled.value,"aria-expanded":n.isSelected.value,onClick:t.readonly?void 0:n.toggle},[K("span",{class:"v-expansion-panel-title__overlay"},null),(u=r.default)==null?void 0:u.call(r,o.value),!t.hideActions&&K("span",{class:"v-expansion-panel-title__icon"},[r.actions?r.actions(o.value):K(Pi,{icon:n.isSelected.value?t.collapseIcon:t.expandIcon},null)])]),[[tu("ripple"),t.ripple]])}),{}}}),qte=mt({name:"VExpansionPanelText",props:{...zP()},setup(t,e){let{slots:r}=e;const n=Xr($_);if(!n)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:a,onAfterLeave:s}=QL(t,n.isSelected);return yt(()=>{var o;return K(MP,{onAfterLeave:s},{default:()=>[qn(K("div",{class:"v-expansion-panel-text"},[r.default&&a.value&&K("div",{class:"v-expansion-panel-text__wrapper"},[(o=r.default)==null?void 0:o.call(r)])]),[[Ou,n.isSelected.value]])]})}),{}}}),W9e=mt({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...qi(),...Y0(),...zP(),...Qn(),...fr(),...Vte()},emits:{"group:selected":t=>!0},setup(t,e){let{slots:r}=e;const n=Xm(t,$_),{backgroundColorClasses:a,backgroundColorStyles:s}=wi(t,"bgColor"),{elevationClasses:o}=Wa(t),{roundedClasses:u}=Si(t),l=_e(()=>(n==null?void 0:n.disabled.value)||t.disabled),c=_e(()=>n.group.items.value.reduce((h,p,g)=>(n.group.selected.value.includes(p.id)&&h.push(g),h),[])),d=_e(()=>{const h=n.group.items.value.findIndex(p=>p.id===n.id);return!n.isSelected.value&&c.value.some(p=>p-h===1)}),f=_e(()=>{const h=n.group.items.value.findIndex(p=>p.id===n.id);return!n.isSelected.value&&c.value.some(p=>p-h===-1)});return Di($_,n),yt(()=>{var h;const p=!!(r.text||t.text),g=!!(r.title||t.title);return K(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":n.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":f.value,"v-expansion-panel--disabled":l.value},u.value,a.value],style:s.value,"aria-expanded":n.isSelected.value},{default:()=>[K("div",{class:["v-expansion-panel__shadow",...o.value]},null),g&&K(Hte,{key:"title",collapseIcon:t.collapseIcon,color:t.color,expandIcon:t.expandIcon,hideActions:t.hideActions,ripple:t.ripple},{default:()=>[r.title?r.title():t.title]}),p&&K(qte,{key:"text",eager:t.eager},{default:()=>[r.text?r.text():t.text]}),(h=r.default)==null?void 0:h.call(r)]})}),{}}});const K9e=mt({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(t)},...Sf({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:t=>Su(t).every(e=>e!=null&&typeof e=="object")},...$P({clearable:!0})},emits:{"click:control":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:n,slots:a}=e;const{t:s}=Ul(),o=pr(t,"modelValue"),u=_e(()=>typeof t.showSize!="boolean"?t.showSize:void 0),l=_e(()=>(o.value??[]).reduce((R,I)=>{let{size:D=0}=I;return R+D},0)),c=_e(()=>sU(l.value,u.value)),d=_e(()=>(o.value??[]).map(R=>{const{name:I="",size:D=0}=R;return t.showSize?`${I} (${sU(D,u.value)})`:I})),f=_e(()=>{var R;const I=((R=o.value)==null?void 0:R.length)??0;return t.showSize?s(t.counterSizeString,I,c.value):s(t.counterString,I)}),h=Je(),p=Je(),g=Je(!1),y=Je(),S=_e(()=>t.messages.length?t.messages:t.persistentHint?t.hint:"");function v(){if(y.value!==document.activeElement){var R;(R=y.value)==null||R.focus()}g.value||(g.value=!0)}function A(R){wE(t["onClick:prepend"],R),E(R)}function E(R){var I;(I=y.value)==null||I.click(),n("click:control",R)}function T(R){R.stopPropagation(),v(),ni(()=>{o.value=[],y!=null&&y.value&&(y.value.value=""),wE(t["onClick:clear"],R)})}return yt(()=>{const R=!!(a.counter||t.counter),I=!!(R||a.details),[D,M]=K0(r),[{modelValue:N,...O}]=Yh(t),[k]=UL(t);return K(nd,Dt({ref:h,modelValue:o.value,"onUpdate:modelValue":Y=>o.value=Y,class:"v-file-input","onClick:prepend":A,"onClick:append":t["onClick:append"]},D,O,{focused:g.value,messages:S.value}),{...a,default:Y=>{let{isDisabled:ne,isDirty:q,isReadonly:H,isValid:J}=Y;return K(nS,Dt({ref:p,"prepend-icon":t.prependIcon,"onClick:control":E,"onClick:clear":T,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},k,{active:q.value||g.value,dirty:q.value,focused:g.value,error:J.value===!1}),{...a,default:se=>{var ue;let{props:{class:Se,...ve}}=se;return K(Qt,null,[K("input",Dt({ref:y,type:"file",readonly:H.value,disabled:ne.value,multiple:t.multiple,name:t.name,onClick:Le=>{Le.stopPropagation(),v()},onChange:Le=>{if(!Le.target)return;const Xe=Le.target;o.value=[...Xe.files??[]]},onFocus:v,onBlur:()=>g.value=!1},ve,M),null),K("div",{class:Se},[!!((ue=o.value)!=null&&ue.length)&&(a.selection?a.selection({fileNames:d.value,totalBytes:l.value,totalBytesReadable:c.value}):t.chips?d.value.map(Le=>K(sS,{key:Le,size:"small",color:t.color},{default:()=>[Le]})):d.value.join(", "))])])}})},details:I?Y=>{var ne,q;return K(Qt,null,[(ne=a.details)==null?void 0:ne.call(a,Y),R&&K(Qt,null,[K("span",null,null),K(UP,{active:!!((q=o.value)!=null&&q.length),value:f.value},a.counter)])])}:void 0})}),ql({},h,p,y)}});const X9e=mt({name:"VFooter",props:{app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...du(),...qi(),...Gm(),...Qn(),...fr({tag:"footer"}),...Mr()},setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t),{backgroundColorClasses:a,backgroundColorStyles:s}=wi(ct(t,"color")),{borderClasses:o}=Lu(t),{elevationClasses:u}=Wa(t),{roundedClasses:l}=Si(t),c=Je(32),{resizeRef:d}=E0(p=>{p.length&&(c.value=p[0].target.clientHeight)}),f=_e(()=>t.height==="auto"?c.value:parseInt(t.height,10)),{layoutItemStyles:h}=Qm({id:t.name,order:_e(()=>parseInt(t.order,10)),position:_e(()=>"bottom"),layoutSize:f,elementSize:_e(()=>t.height==="auto"?void 0:f.value),active:_e(()=>t.app),absolute:ct(t,"absolute")});return yt(()=>K(t.tag,{ref:d,class:["v-footer",n.value,a.value,o.value,u.value,l.value],style:[s.value,t.app?h.value:void 0]},r)),{}}}),J9e=mt({name:"VForm",props:{...Zje()},emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:r,emit:n}=e;const a=eMe(t),s=Je();function o(l){l.preventDefault(),a.reset()}function u(l){const c=l,d=a.validate();c.then=d.then.bind(d),c.catch=d.catch.bind(d),c.finally=d.finally.bind(d),n("submit",c),c.defaultPrevented||d.then(f=>{let{valid:h}=f;if(h){var p;(p=s.value)==null||p.submit()}}),c.preventDefault()}return yt(()=>{var l;return K("form",{ref:s,class:"v-form",novalidate:!0,onReset:o,onSubmit:u},[(l=r.default)==null?void 0:l.call(r,a)])}),ql(a,s)}});const Y9e=mt({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...fr()},setup(t,e){let{slots:r}=e;return yt(()=>K(t.tag,{class:["v-container",{"v-container--fluid":t.fluid}]},r)),{}}}),YL=["sm","md","lg","xl","xxl"],zte=(()=>YL.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),Gte=(()=>YL.reduce((t,e)=>(t["offset"+cf(e)]={type:[String,Number],default:null},t),{}))(),Qte=(()=>YL.reduce((t,e)=>(t["order"+cf(e)]={type:[String,Number],default:null},t),{}))(),BU={col:Object.keys(zte),offset:Object.keys(Gte),order:Object.keys(Qte)};function Z9e(t,e,r){let n=t;if(!(r==null||r===!1)){if(e){const a=e.replace(t,"");n+=`-${a}`}return t==="col"&&(n="v-"+n),t==="col"&&(r===""||r===!0)||(n+=`-${r}`),n.toLowerCase()}}const e7e=["auto","start","end","center","baseline","stretch"],t7e=mt({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...zte,offset:{type:[String,Number],default:null},...Gte,order:{type:[String,Number],default:null},...Qte,alignSelf:{type:String,default:null,validator:t=>e7e.includes(t)},...fr()},setup(t,e){let{slots:r}=e;const n=_e(()=>{const a=[];let s;for(s in BU)BU[s].forEach(u=>{const l=t[u],c=Z9e(s,u,l);c&&a.push(c)});const o=a.some(u=>u.startsWith("v-col-"));return a.push({"v-col":!o||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),a});return()=>{var a;return jh(t.tag,{class:n.value},(a=r.default)==null?void 0:a.call(r))}}}),r7e=["sm","md","lg","xl","xxl"],ZL=["start","end","center"],Wte=["space-between","space-around","space-evenly"];function ej(t,e){return r7e.reduce((r,n)=>(r[t+cf(n)]=e(),r),{})}const n7e=[...ZL,"baseline","stretch"],Kte=t=>n7e.includes(t),Xte=ej("align",()=>({type:String,default:null,validator:Kte})),i7e=[...ZL,...Wte],Jte=t=>i7e.includes(t),Yte=ej("justify",()=>({type:String,default:null,validator:Jte})),a7e=[...ZL,...Wte,"stretch"],Zte=t=>a7e.includes(t),ere=ej("alignContent",()=>({type:String,default:null,validator:Zte})),kU={align:Object.keys(Xte),justify:Object.keys(Yte),alignContent:Object.keys(ere)},s7e={align:"align",justify:"justify",alignContent:"align-content"};function o7e(t,e,r){let n=s7e[t];if(r!=null){if(e){const a=e.replace(t,"");n+=`-${a}`}return n+=`-${r}`,n.toLowerCase()}}const u7e=mt({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Kte},...Xte,justify:{type:String,default:null,validator:Jte},...Yte,alignContent:{type:String,default:null,validator:Zte},...ere,...fr()},setup(t,e){let{slots:r}=e;const n=_e(()=>{const a=[];let s;for(s in kU)kU[s].forEach(o=>{const u=t[o],l=o7e(s,o,u);l&&a.push(l)});return a.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),a});return()=>{var a;return jh(t.tag,{class:["v-row",n.value]},(a=r.default)==null?void 0:a.call(r))}}}),l7e=Fu("flex-grow-1","div","VSpacer"),c7e=mt({name:"VHover",props:{disabled:Boolean,modelValue:{type:Boolean,default:void 0},...hte()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"modelValue"),{runOpenDelay:a,runCloseDelay:s}=pte(t,o=>!t.disabled&&(n.value=o));return()=>{var o;return(o=r.default)==null?void 0:o.call(r,{isHovering:n.value,props:{onMouseenter:a,onMouseleave:s}})}}});const tre=Symbol.for("vuetify:v-item-group"),d7e=mt({name:"VItemGroup",props:{...Km({selectedClass:"v-item--selected"}),...fr(),...Mr()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t),{isSelected:a,select:s,next:o,prev:u,selected:l}=Z0(t,tre);return()=>{var c;return K(t.tag,{class:["v-item-group",n.value]},{default:()=>[(c=r.default)==null?void 0:c.call(r,{isSelected:a,select:s,next:o,prev:u,selected:l.value})]})}}}),f7e=Pn()({name:"VItem",props:Y0(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:r}=e;const{isSelected:n,select:a,toggle:s,selectedClass:o,value:u,disabled:l}=Xm(t,tre);return()=>{var c;return(c=r.default)==null?void 0:c.call(r,{isSelected:n.value,selectedClass:o.value,select:a,toggle:s,value:u.value,disabled:l.value})}}});const h7e=Fu("v-kbd");const p7e=mt({name:"VLayout",props:See(),setup(t,e){let{slots:r}=e;const{layoutClasses:n,layoutStyles:a,getLayoutItem:s,items:o,layoutRef:u}=Tee(t);return yt(()=>{var l;return K("div",{ref:u,class:n.value,style:a.value},[(l=r.default)==null?void 0:l.call(r)])}),{getLayoutItem:s,items:o}}});const g7e=mt({name:"VLayoutItem",props:{position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Gm()},setup(t,e){let{slots:r}=e;const{layoutItemStyles:n}=Qm({id:t.name,order:_e(()=>parseInt(t.order,10)),position:ct(t,"position"),elementSize:ct(t,"size"),layoutSize:ct(t,"size"),active:ct(t,"modelValue"),absolute:ct(t,"absolute")});return()=>{var a;return K("div",{class:["v-layout-item"],style:n.value},[(a=r.default)==null?void 0:a.call(r)])}}}),y7e=mt({name:"VLazy",directives:{intersect:tS},props:{modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Vl(),...fr(),..._f({transition:"fade-transition"})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{dimensionStyles:n}=Hl(t),a=pr(t,"modelValue");function s(o){a.value||(a.value=o)}return yt(()=>{var o;return qn(K(t.tag,{class:"v-lazy",style:n.value},{default:()=>[a.value&&K(jc,{transition:t.transition,appear:!0},{default:()=>[(o=r.default)==null?void 0:o.call(r)]})]}),[[tu("intersect"),s,t.options]])}),{}}});const m7e=mt({name:"VLocaleProvider",props:{locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0}},setup(t,e){let{slots:r}=e;const{rtlClasses:n}=eje(t);return yt(()=>{var a;return K("div",{class:["v-locale-provider",n.value]},[(a=r.default)==null?void 0:a.call(r)])}),{}}});const v7e=mt({name:"VMain",props:{scrollable:Boolean,...fr({tag:"main"})},setup(t,e){let{slots:r}=e;const{mainStyles:n}=hje(),{ssrBootStyles:a}=XL();return yt(()=>{var s,o;return K(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable}],style:[n.value,a.value]},{default:()=>[t.scrollable?K("div",{class:"v-main__scroller"},[(s=r.default)==null?void 0:s.call(r)]):(o=r.default)==null?void 0:o.call(r)]})}),{}}});function b7e(t){let{rootEl:e,isSticky:r,layoutItemStyles:n}=t;const a=Je(!1),s=Je(0),o=_e(()=>{const c=typeof a.value=="boolean"?"top":a.value;return[r.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[c]:Ct(s.value)}:{top:n.value.top}]});zs(()=>{Mt(r,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),_o(()=>{document.removeEventListener("scroll",l)});let u=0;function l(){const c=u>window.scrollY?"up":"down",d=e.value.getBoundingClientRect(),f=parseFloat(n.value.top??0),h=window.scrollY-Math.max(0,s.value-f),p=d.height+Math.max(s.value,f)-window.scrollY-window.innerHeight;d.height<window.innerHeight-f?(a.value="top",s.value=f):c==="up"&&a.value==="bottom"||c==="down"&&a.value==="top"?(s.value=window.scrollY+d.top,a.value=!0):c==="down"&&p<=0?(s.value=0,a.value="bottom"):c==="up"&&h<=0&&(s.value=d.top+h,a.value="top"),u=window.scrollY}return{isStuck:a,stickyStyles:o}}const _7e=100,w7e=20;function $U(t){const e=1.41421356237;return(t<0?-1:1)*Math.sqrt(Math.abs(t))*e}function UU(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let r=t.length-1;r>0;r--){if(t[r].t===t[r-1].t)continue;const n=$U(e),a=(t[r].d-t[r-1].d)/(t[r].t-t[r-1].t);e+=(a-n)*Math.abs(a),r===t.length-1&&(e*=.5)}return $U(e)*1e3}function S7e(){const t={};function e(a){Array.from(a.changedTouches).forEach(s=>{(t[s.identifier]??(t[s.identifier]=new mLe(w7e))).push([a.timeStamp,s])})}function r(a){Array.from(a.changedTouches).forEach(s=>{delete t[s.identifier]})}function n(a){var s;const o=(s=t[a])==null?void 0:s.values().reverse();if(!o)throw new Error(`No samples for touch id ${a}`);const u=o[0],l=[],c=[];for(const d of o){if(u[0]-d[0]>_7e)break;l.push({t:d[0],d:d[1].clientX}),c.push({t:d[0],d:d[1].clientY})}return{x:UU(l),y:UU(c),get direction(){const{x:d,y:f}=this,[h,p]=[Math.abs(d),Math.abs(f)];return h>p&&d>=0?"right":h>p&&d<=0?"left":p>h&&f>=0?"down":p>h&&f<=0?"up":T7e()}}}return{addMovement:e,endTouch:r,getVelocity:n}}function T7e(){throw new Error}function E7e(t){let{isActive:e,isTemporary:r,width:n,touchless:a,position:s}=t;zs(()=>{window.addEventListener("touchstart",v,{passive:!0}),window.addEventListener("touchmove",A,{passive:!1}),window.addEventListener("touchend",E,{passive:!0})}),_o(()=>{window.removeEventListener("touchstart",v),window.removeEventListener("touchmove",A),window.removeEventListener("touchend",E)});const o=_e(()=>s.value!=="bottom"),{addMovement:u,endTouch:l,getVelocity:c}=S7e();let d=!1;const f=Je(!1),h=Je(0),p=Je(0);let g;function y(R,I){return(s.value==="left"?R:s.value==="right"?document.documentElement.clientWidth-R:s.value==="bottom"?document.documentElement.clientHeight-R:Fg())-(I?n.value:0)}function S(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const D=s.value==="left"?(R-p.value)/n.value:s.value==="right"?(document.documentElement.clientWidth-R-p.value)/n.value:s.value==="bottom"?(document.documentElement.clientHeight-R-p.value)/n.value:Fg();return I?Math.max(0,Math.min(1,D)):D}function v(R){if(a.value)return;const I=R.changedTouches[0].clientX,D=R.changedTouches[0].clientY,M=25,N=s.value==="left"?I<M:s.value==="right"?I>document.documentElement.clientWidth-M:s.value==="bottom"?D>document.documentElement.clientHeight-M:Fg(),O=e.value&&(s.value==="left"?I<n.value:s.value==="right"?I>document.documentElement.clientWidth-n.value:s.value==="bottom"?D>document.documentElement.clientHeight-n.value:Fg());(N||O||e.value&&r.value)&&(d=!0,g=[I,D],p.value=y(o.value?I:D,e.value),h.value=S(o.value?I:D),l(R),u(R))}function A(R){const I=R.changedTouches[0].clientX,D=R.changedTouches[0].clientY;if(d){if(!R.cancelable){d=!1;return}const N=Math.abs(I-g[0]),O=Math.abs(D-g[1]);(o.value?N>O&&N>3:O>N&&O>3)?(f.value=!0,d=!1):(o.value?O:N)>3&&(d=!1)}if(!f.value)return;R.preventDefault(),u(R);const M=S(o.value?I:D,!1);h.value=Math.max(0,Math.min(1,M)),M>1?p.value=y(o.value?I:D,!0):M<0&&(p.value=y(o.value?I:D,!1))}function E(R){if(d=!1,!f.value)return;u(R),f.value=!1;const I=c(R.changedTouches[0].identifier),D=Math.abs(I.x),M=Math.abs(I.y);(o.value?D>M&&D>400:M>D&&M>3)?e.value=I.direction===({left:"right",right:"left",bottom:"up"}[s.value]||Fg()):e.value=h.value>.5}const T=_e(()=>f.value?{transform:s.value==="left"?`translateX(calc(-100% + ${h.value*n.value}px))`:s.value==="right"?`translateX(calc(100% - ${h.value*n.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${h.value*n.value}px))`:Fg(),transition:"none"}:void 0);return{isDragging:f,dragProgress:h,dragStyles:T}}function Fg(){throw new Error}const A7e=["start","end","left","right","bottom"],x7e=mt({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:Boolean,railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>A7e.includes(t)},sticky:Boolean,...du(),...qi(),...Gm(),...Qn(),...fr({tag:"nav"}),...Mr()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:r,slots:n}=e;const{isRtl:a}=bf(),{themeClasses:s}=nn(t),{borderClasses:o}=Lu(t),{backgroundColorClasses:u,backgroundColorStyles:l}=wi(ct(t,"color")),{elevationClasses:c}=Wa(t),{mobile:d}=eS(),{roundedClasses:f}=Si(t),h=Uee(),p=pr(t,"modelValue",null,J=>!!J),{ssrBootStyles:g}=XL(),y=Je(),S=Je(!1),v=_e(()=>t.rail&&t.expandOnHover&&S.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),A=_e(()=>P6(t.location,a.value)),E=_e(()=>!t.permanent&&(d.value||t.temporary)),T=_e(()=>t.sticky&&!E.value&&A.value!=="bottom");t.disableResizeWatcher||Mt(E,J=>!t.permanent&&ni(()=>p.value=!J)),!t.disableRouteWatcher&&h&&Mt(h.currentRoute,()=>E.value&&(p.value=!1)),Mt(()=>t.permanent,J=>{J&&(p.value=!0)}),zE(()=>{t.modelValue!=null||E.value||(p.value=t.permanent||!d.value)});const{isDragging:R,dragProgress:I,dragStyles:D}=E7e({isActive:p,isTemporary:E,width:v,touchless:ct(t,"touchless"),position:A}),M=_e(()=>{const J=E.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):v.value;return R.value?J*I.value:J}),{layoutItemStyles:N,layoutRect:O,layoutItemScrimStyles:k}=Qm({id:t.name,order:_e(()=>parseInt(t.order,10)),position:A,layoutSize:M,elementSize:v,active:_e(()=>p.value||R.value),disableTransitions:_e(()=>R.value),absolute:_e(()=>t.absolute||T.value&&typeof Y.value!="string")}),{isStuck:Y,stickyStyles:ne}=b7e({rootEl:y,isSticky:T,layoutItemStyles:N}),q=wi(_e(()=>typeof t.scrim=="string"?t.scrim:null)),H=_e(()=>({...R.value?{opacity:I.value*.2,transition:"none"}:void 0,...O.value?{left:Ct(O.value.left),right:Ct(O.value.right),top:Ct(O.value.top),bottom:Ct(O.value.bottom)}:void 0,...k.value}));return Vi({VList:{bgColor:"transparent"}}),yt(()=>{var J,se,ue,Se;const ve=n.image||t.image;return K(Qt,null,[K(t.tag,Dt({ref:y,onMouseenter:()=>S.value=!0,onMouseleave:()=>S.value=!1,class:["v-navigation-drawer",`v-navigation-drawer--${A.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":S.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":E.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":T.value},s.value,u.value,o.value,c.value,f.value],style:[l.value,N.value,D.value,g.value,ne.value]},r),{default:()=>[ve&&K("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?(J=n.image)==null?void 0:J.call(n,{image:t.image}):K("img",{src:t.image,alt:""},null)]),n.prepend&&K("div",{class:"v-navigation-drawer__prepend"},[(se=n.prepend)==null?void 0:se.call(n)]),K("div",{class:"v-navigation-drawer__content"},[(ue=n.default)==null?void 0:ue.call(n)]),n.append&&K("div",{class:"v-navigation-drawer__append"},[(Se=n.append)==null?void 0:Se.call(n)])]}),K(Gc,{name:"fade-transition"},{default:()=>[E.value&&(R.value||p.value)&&!!t.scrim&&K("div",{class:["v-navigation-drawer__scrim",q.backgroundColorClasses.value],style:[H.value,q.backgroundColorStyles.value],onClick:()=>p.value=!1},null)]})])}),{isStuck:Y}}}),O7e=mt({name:"VNoSsr",setup(t,e){let{slots:r}=e;const n=mte();return()=>{var a;return n.value&&((a=r.default)==null?void 0:a.call(r))}}});function R7e(){const t=Je([]);MV(()=>t.value=[]);function e(r,n){t.value[n]=r}return{refs:t,updateRef:e}}const I7e=mt({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:rr,default:"$first"},prevIcon:{type:rr,default:"$prev"},nextIcon:{type:rr,default:"$next"},lastIcon:{type:rr,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...du(),...da(),...qi(),...Qn(),...wf(),...fr({tag:"nav"}),...Mr(),...ju({variant:"text"})},emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,e){let{slots:r,emit:n}=e;const a=pr(t,"modelValue"),{t:s,n:o}=Ul(),{isRtl:u}=bf(),{themeClasses:l}=nn(t),c=Je(-1);Vi(void 0,{scoped:!0});const{resizeRef:d}=E0(I=>{if(!I.length)return;const{target:D,contentRect:M}=I[0],N=D.querySelector(".v-pagination__list > *");if(!N)return;const O=M.width,k=N.offsetWidth+parseFloat(getComputedStyle(N).marginRight)*2,Y=t.showFirstLastPage?5:3;c.value=Math.max(0,Math.floor(+((O-k*Y)/k).toFixed(2)))}),f=_e(()=>parseInt(t.length,10)),h=_e(()=>parseInt(t.start,10)),p=_e(()=>t.totalVisible?parseInt(t.totalVisible,10):c.value>=0?c.value:f.value),g=_e(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(p.value<=1)return[a.value];if(f.value<=p.value)return kp(f.value,h.value);const I=p.value%2===0,D=I?p.value/2:Math.floor(p.value/2),M=I?D:D+1,N=f.value-D;if(M-a.value>=0)return[...kp(Math.max(1,p.value-1),h.value),t.ellipsis,f.value];if(a.value-N>=(I?1:0)){const O=p.value-1,k=f.value-O+h.value;return[h.value,t.ellipsis,...kp(O,k)]}else{const O=Math.max(1,p.value-3),k=O===1?a.value:a.value-Math.ceil(O/2)+h.value;return[h.value,t.ellipsis,...kp(O,k),t.ellipsis,f.value]}});function y(I,D,M){I.preventDefault(),a.value=D,M&&n(M,D)}const{refs:S,updateRef:v}=R7e();Vi({VPaginationBtn:{color:ct(t,"color"),border:ct(t,"border"),density:ct(t,"density"),size:ct(t,"size"),variant:ct(t,"variant"),rounded:ct(t,"rounded"),elevation:ct(t,"elevation")}});const A=_e(()=>g.value.map((I,D)=>{const M=N=>v(N,D);if(typeof I=="string")return{isActive:!1,key:`ellipsis-${D}`,page:I,props:{ref:M,ellipsis:!0,icon:!0,disabled:!0}};{const N=I===a.value;return{isActive:N,key:I,page:o(I),props:{ref:M,ellipsis:!1,icon:!0,disabled:!!t.disabled||t.length<2,color:N?t.activeColor:t.color,ariaCurrent:N,ariaLabel:s(N?t.currentPageAriaLabel:t.pageAriaLabel,D+1),onClick:O=>y(O,I)}}}})),E=_e(()=>{const I=!!t.disabled||a.value<=h.value,D=!!t.disabled||a.value>=h.value+f.value-1;return{first:t.showFirstLastPage?{icon:u.value?t.lastIcon:t.firstIcon,onClick:M=>y(M,h.value,"first"),disabled:I,ariaLabel:s(t.firstAriaLabel),ariaDisabled:I}:void 0,prev:{icon:u.value?t.nextIcon:t.prevIcon,onClick:M=>y(M,a.value-1,"prev"),disabled:I,ariaLabel:s(t.previousAriaLabel),ariaDisabled:I},next:{icon:u.value?t.prevIcon:t.nextIcon,onClick:M=>y(M,a.value+1,"next"),disabled:D,ariaLabel:s(t.nextAriaLabel),ariaDisabled:D},last:t.showFirstLastPage?{icon:u.value?t.firstIcon:t.lastIcon,onClick:M=>y(M,h.value+f.value-1,"last"),disabled:D,ariaLabel:s(t.lastAriaLabel),ariaDisabled:D}:void 0}});function T(){var I;const D=a.value-h.value;(I=S.value[D])==null||I.$el.focus()}function R(I){I.key===R6.left&&!t.disabled&&a.value>t.start?(a.value=a.value-1,ni(T)):I.key===R6.right&&!t.disabled&&a.value<h.value+f.value-1&&(a.value=a.value+1,ni(T))}return yt(()=>K(t.tag,{ref:d,class:["v-pagination",l.value],role:"navigation","aria-label":s(t.ariaLabel),onKeydown:R,"data-test":"v-pagination-root"},{default:()=>[K("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&K("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[r.first?r.first(E.value.first):K(co,Dt({_as:"VPaginationBtn"},E.value.first),null)]),K("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[r.prev?r.prev(E.value.prev):K(co,Dt({_as:"VPaginationBtn"},E.value.prev),null)]),A.value.map((I,D)=>K("li",{key:I.key,class:["v-pagination__item",{"v-pagination__item--is-active":I.isActive}],"data-test":"v-pagination-item"},[r.item?r.item(I):K(co,Dt({_as:"VPaginationBtn"},I.props),{default:()=>[I.page]})])),K("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[r.next?r.next(E.value.next):K(co,Dt({_as:"VPaginationBtn"},E.value.next),null)]),t.showFirstLastPage&&K("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[r.last?r.last(E.value.last):K(co,Dt({_as:"VPaginationBtn"},E.value.last),null)])])]})),{}}});function P7e(t){return Math.floor(Math.abs(t))*Math.sign(t)}const C7e=mt({name:"VParallax",props:{scale:{type:[Number,String],default:.5}},setup(t,e){let{slots:r}=e;const{intersectionRef:n,isIntersecting:a}=jL(),{resizeRef:s,contentRect:o}=E0(),{height:u}=eS(),l=Je();Aa(()=>{var p;n.value=s.value=(p=l.value)==null?void 0:p.$el});let c;Mt(a,p=>{p?(c=dee(n.value),c=c===document.scrollingElement?document:c,c.addEventListener("scroll",h,{passive:!0}),h()):c.removeEventListener("scroll",h)}),_o(()=>{var p;(p=c)==null||p.removeEventListener("scroll",h)}),Mt(u,h),Mt(()=>{var p;return(p=o.value)==null?void 0:p.height},h);const d=_e(()=>1-Jo(+t.scale));let f=-1;function h(){a.value&&(cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var p;const g=((p=l.value)==null?void 0:p.$el).querySelector(".v-img__img");if(!g)return;const y=c.clientHeight??document.documentElement.clientHeight,S=c.scrollTop??window.scrollY,v=n.value.offsetTop,A=o.value.height,E=v+(A-y)/2,T=P7e((S-E)*d.value),R=Math.max(1,(d.value*(y-A)+A)/A);g.style.setProperty("transform",`translateY(${T}px) scale(${R})`)}))}return yt(()=>K(Wm,{class:["v-parallax",{"v-parallax--active":a.value}],ref:l,cover:!0,onLoadstart:h,onLoad:h},r)),{}}}),D7e=mt({name:"VRadio",props:{...HP({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(t,e){let{slots:r}=e;return yt(()=>K(aS,Dt(t,{class:"v-radio",type:"radio"}),r)),{}}});const N7e=mt({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...Sf(),...W0(HL(),["multiple"]),trueIcon:{type:rr,default:"$radioOn"},falseIcon:{type:rr,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:r,slots:n}=e;const a=_s(),s=_e(()=>t.id||`radio-group-${a}`),o=pr(t,"modelValue");return yt(()=>{const[u,l]=K0(r),[c,d]=Yh(t),[f,h]=Xee({...t,multiple:!1}),p=n.label?n.label({label:t.label,props:{for:s.value}}):t.label;return K(nd,Dt({class:"v-radio-group"},u,c,{modelValue:o.value,"onUpdate:modelValue":g=>o.value=g,id:s.value}),{...n,default:g=>{let{id:y,isDisabled:S,isReadonly:v}=g;return K(Qt,null,[p&&K(tv,{for:y.value},{default:()=>[p]}),K(Kee,Dt(f,{id:y.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:S.value,readonly:v.value},l,{modelValue:o.value,"onUpdate:modelValue":A=>o.value=A}),n)])}})}),{}}}),F7e=mt({name:"VRangeSlider",props:{...kP(),...Sf(),...Bte(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=Je(),a=Je(),s=Je();function o(D){if(!n.value||!a.value)return;const M=G6(D,n.value.$el,t.direction),N=G6(D,a.value.$el,t.direction),O=Math.abs(M),k=Math.abs(N);return O<k||O===k&&M<0?n.value.$el:a.value.$el}const{activeThumbRef:u,hasLabels:l,max:c,min:d,mousePressed:f,onSliderMousedown:h,onSliderTouchstart:p,position:g,roundValue:y,trackContainerRef:S}=kte({props:t,handleSliderMouseUp:D=>{var M;v.value=u.value===((M=n.value)==null?void 0:M.$el)?[D,v.value[1]]:[v.value[0],D]},handleMouseMove:D=>{var M;const[N,O]=v.value;if(!t.strict&&N===O&&N!==d.value){var k,Y,ne;u.value=D>N?(k=a.value)==null?void 0:k.$el:(Y=n.value)==null?void 0:Y.$el,(ne=u.value)==null||ne.focus()}u.value===((M=n.value)==null?void 0:M.$el)?v.value=[Math.min(D,O),O]:v.value=[N,Math.max(N,D)]},getActiveThumb:o}),v=pr(t,"modelValue",void 0,D=>!D||!D.length?[0,0]:D.map(M=>y(M))),{isFocused:A,focus:E,blur:T}=rg(t),R=_e(()=>g(v.value[0])),I=_e(()=>g(v.value[1]));return yt(()=>{const[D,M]=Yh(t),N=!!(t.label||r.label||r.prepend);return K(nd,Dt({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!r["tick-label"]||l.value,"v-slider--focused":A.value,"v-slider--pressed":f.value,"v-slider--disabled":t.disabled}],ref:s},D,{focused:A.value}),{...r,prepend:N?O=>{var k,Y;return K(Qt,null,[((k=r.label)==null?void 0:k.call(r,O))??t.label?K(tv,{class:"v-slider__label",text:t.label},null):void 0,(Y=r.prepend)==null?void 0:Y.call(r,O)])}:void 0,default:O=>{var k,Y;let{id:ne}=O;return K("div",{class:"v-slider__container",onMousedown:h,onTouchstartPassive:p},[K("input",{id:`${ne.value}_start`,name:t.name||ne.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:v.value[0]},null),K("input",{id:`${ne.value}_stop`,name:t.name||ne.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:v.value[1]},null),K($te,{ref:S,start:R.value,stop:I.value},{"tick-label":r["tick-label"]}),K(Q6,{ref:n,focused:A&&u.value===((k=n.value)==null?void 0:k.$el),modelValue:v.value[0],"onUpdate:modelValue":q=>v.value=[q,v.value[1]],onFocus:q=>{var H,J;if(E(),u.value=(H=n.value)==null?void 0:H.$el,v.value[0]===v.value[1]&&v.value[1]===d.value&&q.relatedTarget!==((J=a.value)==null?void 0:J.$el)){var se,ue;(se=n.value)==null||se.$el.blur(),(ue=a.value)==null||ue.$el.focus()}},onBlur:()=>{T(),u.value=void 0},min:d.value,max:v.value[1],position:R.value},{"thumb-label":r["thumb-label"]}),K(Q6,{ref:a,focused:A&&u.value===((Y=a.value)==null?void 0:Y.$el),modelValue:v.value[1],"onUpdate:modelValue":q=>v.value=[v.value[0],q],onFocus:q=>{var H,J;if(E(),u.value=(H=a.value)==null?void 0:H.$el,v.value[0]===v.value[1]&&v.value[0]===c.value&&q.relatedTarget!==((J=n.value)==null?void 0:J.$el)){var se,ue;(se=a.value)==null||se.$el.blur(),(ue=n.value)==null||ue.$el.focus()}},onBlur:()=>{T(),u.value=void 0},min:v.value[0],max:c.value,position:I.value},{"thumb-label":r["thumb-label"]})])}})}),{}}});const L7e=Pn()({name:"VRating",props:{name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:rr,default:"$ratingEmpty"},fullIcon:{type:rr,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},ripple:Boolean,...da(),...wf(),...fr(),...Mr()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{t:n}=Ul(),{themeClasses:a}=nn(t),s=pr(t,"modelValue"),o=_e(()=>Jo(parseFloat(s.value),0,+t.length)),u=_e(()=>kp(Number(t.length),1)),l=_e(()=>u.value.flatMap(T=>t.halfIncrements?[T-.5,T]:[T])),c=Je(-1),d=Je(-1),f=Je();let h=!1;const p=_e(()=>l.value.map(T=>{const R=t.hover&&c.value>-1,I=o.value>=T,D=c.value>=T,N=(R?D:I)?t.fullIcon:t.emptyIcon,O=t.activeColor??t.color,k=I||D?O:t.color;return{isFilled:I,isHovered:D,icon:N,color:k}})),g=_e(()=>[0,...l.value].map(T=>{function R(){c.value=T}function I(){c.value=-1}function D(){if(T===0&&o.value===0){var O;(O=f.value)==null||O.focus()}else d.value=T}function M(){h||(d.value=-1)}function N(){t.disabled||t.readonly||(s.value=o.value===T&&t.clearable?0:T)}return{onMouseenter:t.hover?R:void 0,onMouseleave:t.hover?I:void 0,onFocus:D,onBlur:M,onClick:N}}));function y(){h=!0}function S(){h=!1}const v=_e(()=>t.name??`v-rating-${_s()}`);function A(T){var R,I;let{value:D,index:M,showStar:N=!0}=T;const{onMouseenter:O,onMouseleave:k,onFocus:Y,onBlur:ne,onClick:q}=g.value[M+1],H=`${v.value}-${String(D).replace(".","-")}`,J={color:(R=p.value[M])==null?void 0:R.color,density:t.density,disabled:t.disabled,icon:(I=p.value[M])==null?void 0:I.icon,ripple:t.ripple,size:t.size,tag:"span",variant:"plain"};return K(Qt,null,[K("label",{for:H,class:{"v-rating__item--half":t.halfIncrements&&D%1>0,"v-rating__item--full":t.halfIncrements&&D%1===0},onMousedown:y,onMouseup:S,onMouseenter:O,onMouseleave:k},[K("span",{class:"v-rating__hidden"},[n(t.itemAriaLabel,D,t.length)]),N?r.item?r.item({...p.value[M],props:J,value:D,index:M}):K(co,J,null):void 0]),K("input",{class:"v-rating__hidden",name:v.value,id:H,type:"radio",value:D,checked:o.value===D,onClick:q,onFocus:Y,onBlur:ne,ref:M===0?f:void 0,readonly:t.readonly,disabled:t.disabled},null)])}function E(T){return r["item-label"]?r["item-label"](T):T.label?K("span",null,[T.label]):K("span",null,[di("")])}return yt(()=>{var T;const R=!!((T=t.itemLabels)!=null&&T.length)||r["item-label"];return K(t.tag,{class:["v-rating",{"v-rating--hover":t.hover,"v-rating--readonly":t.readonly},a.value]},{default:()=>[K(A,{value:0,index:-1,showStar:!1},null),u.value.map((I,D)=>{var M,N;return K("div",{class:"v-rating__wrapper"},[R&&t.itemLabelPosition==="top"?E({value:I,index:D,label:(M=t.itemLabels)==null?void 0:M[D]}):void 0,K("div",{class:["v-rating__item",{"v-rating__item--focused":Math.ceil(d.value)===I}]},[t.halfIncrements?K(Qt,null,[K(A,{value:I-.5,index:D*2},null),K(A,{value:I,index:D*2+1},null)]):K(A,{value:I,index:D},null)]),R&&t.itemLabelPosition==="bottom"?E({value:I,index:D,label:(N=t.itemLabels)==null?void 0:N[D]}):void 0])})]})}),{}}});function VU(t){const r=Math.abs(t);return Math.sign(t)*(r/((1/.501-2)*(1-r)+1))}function HU(t){let{selectedElement:e,containerSize:r,contentSize:n,isRtl:a,currentScrollOffset:s,isHorizontal:o}=t;const u=o?e.clientWidth:e.clientHeight,l=o?e.offsetLeft:e.offsetTop,c=a&&o?n-l-u:l,d=r+s,f=u+c,h=u*.4;return c<=s?s=Math.max(c-h,0):d<=f&&(s=Math.min(s-(d-f-h),n-r)),s}function j7e(t){let{selectedElement:e,containerSize:r,contentSize:n,isRtl:a,isHorizontal:s}=t;const o=s?e.clientWidth:e.clientHeight,u=s?e.offsetLeft:e.offsetTop,l=a&&s?n-u-o/2-r/2:u+o/2-r/2;return Math.min(n-r,Math.max(0,l))}const rre=Symbol.for("vuetify:v-slide-group"),nre=Pn()({name:"VSlideGroup",props:{centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:rre},nextIcon:{type:rr,default:"$next"},prevIcon:{type:rr,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...fr(),...Km({selectedClass:"v-slide-group-item--active"})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{isRtl:n}=bf(),{mobile:a}=eS(),s=Z0(t,t.symbol),o=Je(!1),u=Je(0),l=Je(0),c=Je(0),d=_e(()=>t.direction==="horizontal"),{resizeRef:f,contentRect:h}=E0(),{resizeRef:p,contentRect:g}=E0(),y=_e(()=>s.selected.value.length?s.items.value.findIndex(ve=>ve.id===s.selected.value[0]):-1),S=_e(()=>s.selected.value.length?s.items.value.findIndex(ve=>ve.id===s.selected.value[s.selected.value.length-1]):-1);if(fi){let ve=-1;Mt(()=>[s.selected.value,h.value,g.value,d.value],()=>{cancelAnimationFrame(ve),ve=requestAnimationFrame(()=>{if(h.value&&g.value){const Le=d.value?"width":"height";l.value=h.value[Le],c.value=g.value[Le],o.value=l.value+1<c.value}if(y.value>=0&&p.value){const Le=p.value.children[S.value];y.value===0||!o.value?u.value=0:t.centerActive?u.value=j7e({selectedElement:Le,containerSize:l.value,contentSize:c.value,isRtl:n.value,isHorizontal:d.value}):o.value&&(u.value=HU({selectedElement:Le,containerSize:l.value,contentSize:c.value,isRtl:n.value,currentScrollOffset:u.value,isHorizontal:d.value}))}})})}const v=Je(!1);let A=0,E=0;function T(ve){const Le=d.value?"clientX":"clientY";E=(n.value&&d.value?-1:1)*u.value,A=ve.touches[0][Le],v.value=!0}function R(ve){if(!o.value)return;const Le=d.value?"clientX":"clientY",Xe=n.value&&d.value?-1:1;u.value=Xe*(E+A-ve.touches[0][Le])}function I(ve){const Le=c.value-l.value;u.value<0||!o.value?u.value=0:u.value>=Le&&(u.value=Le),v.value=!1}function D(){f.value&&(f.value[d.value?"scrollLeft":"scrollTop"]=0)}const M=Je(!1);function N(ve){if(M.value=!0,!(!o.value||!p.value)){for(const Le of ve.composedPath())for(const Xe of p.value.children)if(Xe===Le){u.value=HU({selectedElement:Xe,containerSize:l.value,contentSize:c.value,isRtl:n.value,currentScrollOffset:u.value,isHorizontal:d.value});return}}}function O(ve){M.value=!1}function k(ve){var Le;!M.value&&!(ve.relatedTarget&&(Le=p.value)!=null&&Le.contains(ve.relatedTarget))&&ne()}function Y(ve){p.value&&(d.value?ve.key==="ArrowRight"?ne(n.value?"prev":"next"):ve.key==="ArrowLeft"&&ne(n.value?"next":"prev"):ve.key==="ArrowDown"?ne("next"):ve.key==="ArrowUp"&&ne("prev"),ve.key==="Home"?ne("first"):ve.key==="End"&&ne("last"))}function ne(ve){if(p.value)if(ve){if(ve==="next"){var Xe;const Te=(Xe=p.value.querySelector(":focus"))==null?void 0:Xe.nextElementSibling;Te?Te.focus():ne("first")}else if(ve==="prev"){var Ne;const Te=(Ne=p.value.querySelector(":focus"))==null?void 0:Ne.previousElementSibling;Te?Te.focus():ne("last")}else if(ve==="first"){var ye;(ye=p.value.firstElementChild)==null||ye.focus()}else if(ve==="last"){var qe;(qe=p.value.lastElementChild)==null||qe.focus()}}else{var Le;(Le=[...p.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(Oe=>!Oe.hasAttribute("disabled"))[0])==null||Le.focus()}}function q(ve){const Le=u.value+(ve==="prev"?-1:1)*l.value;u.value=Jo(Le,0,c.value-l.value)}const H=_e(()=>{let ve=u.value>c.value-l.value?-(c.value-l.value)+VU(c.value-l.value-u.value):-u.value;u.value<=0&&(ve=VU(-u.value));const Le=n.value&&d.value?-1:1;return{transform:`translate${d.value?"X":"Y"}(${Le*ve}px)`,transition:v.value?"none":"",willChange:v.value?"transform":""}}),J=_e(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),se=_e(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!a.value;case!0:return o.value||Math.abs(u.value)>0;case"mobile":return a.value||o.value||Math.abs(u.value)>0;default:return!a.value&&(o.value||Math.abs(u.value)>0)}}),ue=_e(()=>Math.abs(u.value)>0),Se=_e(()=>c.value>Math.abs(u.value)+l.value);return yt(()=>{var ve,Le,Xe;return K(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":se.value,"v-slide-group--is-overflowing":o.value}],tabindex:M.value||s.selected.value.length?-1:0,onFocus:k},{default:()=>[se.value&&K("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ue.value}],onClick:()=>q("prev")},[((ve=r.prev)==null?void 0:ve.call(r,J.value))??K(j6,null,{default:()=>[K(Pi,{icon:n.value?t.nextIcon:t.prevIcon},null)]})]),K("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:D},[K("div",{ref:p,class:"v-slide-group__content",style:H.value,onTouchstartPassive:T,onTouchmovePassive:R,onTouchendPassive:I,onFocusin:N,onFocusout:O,onKeydown:Y},[(Le=r.default)==null?void 0:Le.call(r,J.value)])]),se.value&&K("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Se.value}],onClick:()=>q("next")},[((Xe=r.next)==null?void 0:Xe.call(r,J.value))??K(j6,null,{default:()=>[K(Pi,{icon:n.value?t.prevIcon:t.nextIcon},null)]})])]})}),{selected:s.selected,scrollTo:q,scrollOffset:u,focus:ne}}}),M7e=Pn()({name:"VSlideGroupItem",props:{...Y0()},emits:{"group:selected":t=>!0},setup(t,e){let{slots:r}=e;const n=Xm(t,rre);return()=>{var a;return(a=r.default)==null?void 0:a.call(r,{isSelected:n.isSelected.value,select:n.select,toggle:n.toggle,selectedClass:n.selectedClass.value})}}});const B7e=Pn()({name:"VSnackbar",props:{multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...eg({location:"bottom"}),...Ym(),...Qn(),...ju(),...Mr(),...W0(uS({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"modelValue"),{locationStyles:a}=tg(t),{positionClasses:s}=Zm(t),{scopeId:o}=oS(),{themeClasses:u}=nn(t),{colorClasses:l,colorStyles:c,variantClasses:d}=J0(t),{roundedClasses:f}=Si(t),h=Je();Mt(n,g),Mt(()=>t.timeout,g),zs(()=>{n.value&&g()});let p=-1;function g(){window.clearTimeout(p);const S=Number(t.timeout);!n.value||S===-1||(p=window.setTimeout(()=>{n.value=!1},S))}function y(){window.clearTimeout(p)}return yt(()=>{const[S]=GP(t);return K(nv,Dt({ref:h,class:["v-snackbar",{"v-snackbar--active":n.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--vertical":t.vertical},s.value]},S,{modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,contentProps:Dt({style:a.value},S.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none"},o),{default:()=>[K("div",{class:["v-snackbar__wrapper",u.value,l.value,f.value,d.value],style:[c.value],onPointerenter:y,onPointerleave:g},[X0(!1,"v-snackbar"),r.default&&K("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[r.default()]),r.actions&&K(mn,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[K("div",{class:"v-snackbar__actions"},[r.actions()])]})])],activator:r.activator})}),ql({},h)}});const k7e=mt({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Sf(),...HP()},emits:{"update:focused":t=>!0,"update:modelValue":()=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:r,slots:n}=e;const a=pr(t,"indeterminate"),s=pr(t,"modelValue"),{loaderClasses:o}=BP(t),{isFocused:u,focus:l,blur:c}=rg(t),d=_e(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),f=_s(),h=_e(()=>t.id||`switch-${f}`);function p(){a.value&&(a.value=!1)}return yt(()=>{const[g,y]=K0(r),[S,v]=Yh(t),[A,E]=Xee(t),T=Je();function R(){var I,D;(I=T.value)==null||(D=I.input)==null||D.click()}return K(nd,Dt({class:["v-switch",{"v-switch--inset":t.inset},{"v-switch--indeterminate":a.value},o.value]},g,S,{id:h.value,focused:u.value}),{...n,default:I=>{let{id:D,isDisabled:M,isReadonly:N,isValid:O}=I;return K(aS,Dt({ref:T},A,{modelValue:s.value,"onUpdate:modelValue":[k=>s.value=k,p],id:D.value,type:"checkbox","aria-checked":a.value?"mixed":void 0,disabled:M.value,readonly:N.value,onFocus:l,onBlur:c},y),{...n,default:()=>K("div",{class:"v-switch__track",onClick:R},null),input:k=>{let{textColorClasses:Y,textColorStyles:ne}=k;return K("div",{class:["v-switch__thumb",Y.value],style:ne.value},[t.loading&&K($L,{name:"v-switch",active:!0,color:O.value===!1?void 0:d.value},{default:q=>n.loader?n.loader(q):K(ML,{active:q.isActive,color:q.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}});const $7e=mt({name:"VSystemBar",props:{color:String,height:[Number,String],window:Boolean,...qi(),...Gm(),...Qn(),...fr(),...Mr()},setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t),{backgroundColorClasses:a,backgroundColorStyles:s}=wi(ct(t,"color")),{elevationClasses:o}=Wa(t),{roundedClasses:u}=Si(t),l=_e(()=>t.height??(t.window?32:24)),{layoutItemStyles:c}=Qm({id:t.name,order:_e(()=>parseInt(t.order,10)),position:Je("top"),layoutSize:l,elementSize:l,active:_e(()=>!0),absolute:ct(t,"absolute")});return yt(()=>K(t.tag,{class:["v-system-bar",{"v-system-bar--window":t.window},n.value,a.value,o.value,u.value],style:[s.value,c.value]},r)),{}}});const ire=Symbol.for("vuetify:v-tabs"),are=mt({name:"VTab",props:{fixed:Boolean,icon:[Boolean,String,Function,Object],prependIcon:rr,appendIcon:rr,stacked:Boolean,title:String,ripple:{type:Boolean,default:!0},color:String,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...fr(),...ev(),...Y0({selectedClass:"v-tab--selected"}),...Mr()},setup(t,e){let{slots:r,attrs:n}=e;const{textColorClasses:a,textColorStyles:s}=bo(t,"sliderColor"),o=_e(()=>t.direction==="horizontal"),u=Je(!1),l=Je(),c=Je();function d(f){let{value:h}=f;if(u.value=h,h){var p,g;const y=(p=l.value)==null||(g=p.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),S=c.value;if(!y||!S)return;const v=getComputedStyle(y).color,A=y.getBoundingClientRect(),E=S.getBoundingClientRect(),T=o.value?"x":"y",R=o.value?"X":"Y",I=o.value?"right":"bottom",D=o.value?"width":"height",M=A[T],N=E[T],O=M>N?A[I]-E[I]:A[T]-E[T],k=Math.sign(O)>0?o.value?"right":"bottom":Math.sign(O)<0?o.value?"left":"top":"center",ne=(Math.abs(O)+(Math.sign(O)<0?A[D]:E[D]))/Math.max(A[D],E[D]),q=A[D]/E[D],H=1.5;$p(S,{backgroundColor:[v,""],transform:[`translate${R}(${O}px) scale${R}(${q})`,`translate${R}(${O/H}px) scale${R}(${(ne-1)/H+1})`,""],transformOrigin:Array(3).fill(k)},{duration:225,easing:F_})}}return yt(()=>{const[f]=lu(t,["href","to","replace","icon","stacked","prependIcon","appendIcon","ripple","theme","disabled","selectedClass","value","color"]);return K(co,Dt({_as:"VTab",symbol:ire,ref:l,class:["v-tab"],tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1,block:t.fixed,maxWidth:t.fixed?300:void 0,variant:"text",rounded:0},f,n,{"onGroup:selected":d}),{default:()=>[r.default?r.default():t.title,!t.hideSlider&&K("div",{ref:c,class:["v-tab__slider",a.value],style:s.value},null)]})}),{}}});function U7e(t){return t?t.map(e=>typeof e=="string"?{title:e,value:e}:e):[]}const V7e=mt({name:"VTabs",props:{alignTabs:{type:String,default:"start"},color:String,direction:{type:String,default:"horizontal"},fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,modelValue:null,mandatory:{type:[Boolean,String],default:"force"},...da(),...fr()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"modelValue"),a=_e(()=>U7e(t.items)),{densityClasses:s}=ws(t),{backgroundColorClasses:o,backgroundColorStyles:u}=wi(ct(t,"bgColor"));return Vi({VTab:{color:ct(t,"color"),direction:ct(t,"direction"),stacked:ct(t,"stacked"),fixed:ct(t,"fixedTabs"),sliderColor:ct(t,"sliderColor"),hideSlider:ct(t,"hideSlider")}}),yt(()=>K(nre,{modelValue:n.value,"onUpdate:modelValue":l=>n.value=l,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},s.value,o.value],style:[{"--v-tabs-height":Ct(t.height)},u.value],role:"tablist",symbol:ire,mandatory:t.mandatory,direction:t.direction},{default:()=>[r.default?r.default():a.value.map(l=>K(are,Dt(l,{key:l.title}),null))]})),{}}});const H7e=mt({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...da(),...fr(),...Mr()},setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t),{densityClasses:a}=ws(t);return yt(()=>{var s,o;return K(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!r.top,"v-table--has-bottom":!!r.bottom,"v-table--hover":t.hover},n.value,a.value]},{default:()=>[(s=r.top)==null?void 0:s.call(r),r.default&&K("div",{class:"v-table__wrapper",style:{height:Ct(t.height)}},[K("table",null,[r.default()])]),(o=r.bottom)==null?void 0:o.call(r)]})}),{}}});const q7e=mt({name:"VTextarea",directives:{Intersect:tS},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,...Sf(),...$P()},emits:{"click:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:n,slots:a}=e;const s=pr(t,"modelValue"),{isFocused:o,focus:u,blur:l}=rg(t),c=_e(()=>typeof t.counterValue=="function"?t.counterValue(s.value):(s.value||"").toString().length),d=_e(()=>{if(r.maxlength)return r.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function f(N,O){var k,Y;!t.autofocus||!N||(k=O[0].target)==null||(Y=k.focus)==null||Y.call(k)}const h=Je(),p=Je(),g=Je(""),y=Je(),S=_e(()=>o.value||t.persistentPlaceholder),v=_e(()=>t.messages.length?t.messages:S.value||t.persistentHint?t.hint:"");function A(){if(y.value!==document.activeElement){var N;(N=y.value)==null||N.focus()}o.value||u()}function E(N){A(),n("click:control",N)}function T(N){N.stopPropagation(),A(),ni(()=>{s.value="",wE(t["onClick:clear"],N)})}function R(N){s.value=N.target.value}const I=Je();function D(){t.autoGrow&&ni(()=>{if(!I.value||!p.value)return;const N=getComputedStyle(I.value),O=getComputedStyle(p.value.$el),k=parseFloat(N.getPropertyValue("--v-field-padding-top"))+parseFloat(N.getPropertyValue("--v-input-padding-top"))+parseFloat(N.getPropertyValue("--v-field-padding-bottom")),Y=I.value.scrollHeight,ne=parseFloat(N.lineHeight),q=Math.max(parseFloat(t.rows)*ne+k,parseFloat(O.getPropertyValue("--v-input-control-height"))),H=parseFloat(t.maxRows)*ne+k||1/0;g.value=Ct(Jo(Y??0,q,H))})}zs(D),Mt(s,D),Mt(()=>t.rows,D),Mt(()=>t.maxRows,D),Mt(()=>t.density,D);let M;return Mt(I,N=>{if(N)M=new ResizeObserver(D),M.observe(I.value);else{var O;(O=M)==null||O.disconnect()}}),_o(()=>{var N;(N=M)==null||N.disconnect()}),yt(()=>{const N=!!(a.counter||t.counter||t.counterValue),O=!!(N||a.details),[k,Y]=K0(r),[{modelValue:ne,...q}]=Yh(t),[H]=UL(t);return K(nd,Dt({ref:h,modelValue:s.value,"onUpdate:modelValue":J=>s.value=J,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(t.variant)}],"onClick:prepend":t["onClick:prepend"],"onClick:append":t["onClick:append"]},k,q,{focused:o.value,messages:v.value}),{...a,default:J=>{let{isDisabled:se,isDirty:ue,isReadonly:Se,isValid:ve}=J;return K(nS,Dt({ref:p,style:{"--v-textarea-control-height":g.value},"onClick:control":E,"onClick:clear":T,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},H,{active:S.value||ue.value,dirty:ue.value||t.dirty,focused:o.value,error:ve.value===!1}),{...a,default:Le=>{let{props:{class:Xe,...Ne}}=Le;return K(Qt,null,[t.prefix&&K("span",{class:"v-text-field__prefix"},[t.prefix]),qn(K("textarea",Dt({ref:y,class:Xe,value:s.value,onInput:R,autofocus:t.autofocus,readonly:Se.value,disabled:se.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:A,onBlur:l},Ne,Y),null),[[tu("intersect"),{handler:f},null,{once:!0}]]),t.autoGrow&&qn(K("textarea",{class:[Xe,"v-textarea__sizer"],"onUpdate:modelValue":ye=>s.value=ye,ref:I,readonly:!0,"aria-hidden":"true"},null),[[qie,s.value]]),t.suffix&&K("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:O?J=>{var se;return K(Qt,null,[(se=a.details)==null?void 0:se.call(a,J),N&&K(Qt,null,[K("span",null,null),K(UP,{active:t.persistentCounter||o.value,value:c.value,max:d.value},a.counter)])])}:void 0})}),ql({},h,p,y)}});const z7e=mt({name:"VThemeProvider",props:{withBackground:Boolean,...Mr(),...fr()},setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t);return()=>{var a,s;return t.withBackground?K(t.tag,{class:["v-theme-provider",n.value]},{default:()=>[(s=r.default)==null?void 0:s.call(r)]}):(a=r.default)==null?void 0:a.call(r)}}});const G7e=mt({name:"VTimeline",props:{align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...da(),...fr(),...Mr()},setup(t,e){let{slots:r}=e;const{themeClasses:n}=nn(t),{densityClasses:a}=ws(t);Vi({VTimelineDivider:{lineColor:ct(t,"lineColor")},VTimelineItem:{density:ct(t,"density"),lineInset:ct(t,"lineInset")}});const s=_e(()=>{const u=t.side?t.side:t.density!=="default"?"end":null;return u&&`v-timeline--side-${u}`}),o=_e(()=>{const u=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return u;case"start":return u[0];case"end":return u[1];default:return null}});return yt(()=>K(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,o.value,{"v-timeline--inset-line":!!t.lineInset},n.value,a.value,s.value],style:{"--v-timeline-line-thickness":Ct(t.lineThickness)}},r)),{}}}),Q7e=mt({name:"VTimelineDivider",props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:rr,iconColor:String,lineColor:String,...Qn(),...wf(),...qi()},setup(t,e){let{slots:r}=e;const{sizeClasses:n,sizeStyles:a}=Jm(t,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:o}=wi(ct(t,"dotColor")),{roundedClasses:u}=Si(t,"v-timeline-divider__dot"),{elevationClasses:l}=Wa(t),{backgroundColorClasses:c,backgroundColorStyles:d}=wi(ct(t,"lineColor"));return Vi({VIcon:{color:ct(t,"iconColor"),icon:ct(t,"icon"),size:ct(t,"size")}}),yt(()=>{var f;return K("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot}]},[K("div",{class:["v-timeline-divider__before",c.value],style:d.value},null),!t.hideDot&&K("div",{key:"dot",class:["v-timeline-divider__dot",l.value,u.value,n.value],style:a.value},[K("div",{class:["v-timeline-divider__inner-dot",o.value,u.value],style:s.value},[((f=r.default)==null?void 0:f.call(r))??(t.icon?K(Pi,null,null):void 0)])]),K("div",{class:["v-timeline-divider__after",c.value],style:d.value},null)])}),{}}}),W7e=mt({name:"VTimelineItem",props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:rr,iconColor:String,lineInset:[Number,String],...Qn(),...qi(),...wf(),...fr(),...Vl()},setup(t,e){let{slots:r}=e;const{dimensionStyles:n}=Hl(t),a=Je(0),s=Je();return Mt(s,o=>{var u;o&&(a.value=((u=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:u.getBoundingClientRect().width)??0)},{flush:"post"}),yt(()=>{var o,u;return K("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot}],style:{"--v-timeline-dot-size":Ct(a.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Ct(t.lineInset)})`:Ct(0)}},[K("div",{class:"v-timeline-item__body",style:n.value},[(o=r.default)==null?void 0:o.call(r)]),K(Q7e,{ref:s,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:r.icon}),t.density!=="compact"&&K("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((u=r.opposite)==null?void 0:u.call(r))])])}),{}}});const K7e=Pn()({name:"VTooltip",props:{id:String,text:String,...W0(uS({closeOnBack:!1,location:"end",locationStrategy:"connected",minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent","eager"])},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=pr(t,"modelValue"),{scopeId:a}=oS(),s=_s(),o=_e(()=>t.id||`v-tooltip-${s}`),u=Je(),l=_e(()=>t.location.split(" ").length>1?t.location:t.location+" center"),c=_e(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),d=_e(()=>t.transition?t.transition:n.value?"scale-transition":"fade-transition");return yt(()=>{const[f]=GP(t);return K(nv,Dt({ref:u,class:["v-tooltip"],id:o.value},f,{modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,transition:d.value,absolute:!0,location:l.value,origin:c.value,persistent:!0,role:"tooltip",eager:!0,activatorProps:Dt({"aria-describedby":o.value},t.activatorProps),_disableGlobalStack:!0},a),{activator:r.activator,default:function(){for(var h,p=arguments.length,g=new Array(p),y=0;y<p;y++)g[y]=arguments[y];return((h=r.default)==null?void 0:h.call(r,...g))??t.text}})}),ql({},u)}}),X7e=mt({name:"VValidation",props:{...Gee()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const n=Qee(t,"validation");return()=>{var a;return(a=r.default)==null?void 0:a.call(r,n)}}}),J7e=Object.freeze(Object.defineProperty({__proto__:null,VApp:yje,VAppBar:Cje,VAppBarNavIcon:Qje,VAppBarTitle:Kje,VAlert:Jje,VAlertTitle:Vee,VAutocomplete:QMe,VAvatar:Lh,VBadge:WMe,VBanner:KMe,VBannerActions:Tte,VBannerText:Ete,VBottomNavigation:XMe,VBreadcrumbs:JMe,VBreadcrumbsItem:xte,VBreadcrumbsDivider:Ate,VBtn:co,VBtnGroup:Cee,VBtnToggle:jje,VCard:YMe,VCardActions:Ote,VCardItem:Pte,VCardSubtitle:Rte,VCardText:Cte,VCardTitle:Ite,VCarousel:s9e,VCarouselItem:o9e,VCheckbox:aMe,VCheckboxBtn:rv,VChip:sS,VChipGroup:oMe,VCode:u9e,VColorPicker:V9e,VCombobox:q9e,VCounter:UP,VDefaultsProvider:mn,VDialog:z9e,VDivider:Zee,VExpansionPanels:Q9e,VExpansionPanel:W9e,VExpansionPanelText:qte,VExpansionPanelTitle:Hte,VField:nS,VFieldLabel:Pb,VFileInput:K9e,VFooter:X9e,VForm:J9e,VContainer:Y9e,VCol:t7e,VRow:u7e,VSpacer:l7e,VHover:c7e,VIcon:Pi,VComponentIcon:gee,VSvgIcon:yee,VLigatureIcon:zLe,VClassIcon:CL,VImg:Wm,VInput:nd,VItemGroup:d7e,VItem:f7e,VKbd:h7e,VLabel:tv,VLayout:p7e,VLayoutItem:g7e,VLazy:y7e,VList:qP,VListGroup:zL,VListImg:wMe,VListItem:lf,VListItemAction:SMe,VListItemMedia:TMe,VListItemSubtitle:ste,VListItemTitle:ote,VListSubheader:ute,VLocaleProvider:m7e,VMain:v7e,VMenu:QP,VMessages:qee,VNavigationDrawer:x7e,VNoSsr:O7e,VOverlay:nv,VPagination:I7e,VParallax:C7e,VProgressCircular:ML,VProgressLinear:BL,VRadio:D7e,VRadioGroup:N7e,VRangeSlider:F7e,VRating:L7e,VResponsive:Ree,VSelect:HMe,VSelectionControl:aS,VSelectionControlGroup:Kee,VSheet:Ute,VSlideGroup:nre,VSlideGroupItem:M7e,VSlider:W6,VSnackbar:B7e,VSwitch:k7e,VSystemBar:$7e,VTabs:V7e,VTab:are,VTable:H7e,VTextarea:q7e,VTextField:iS,VThemeProvider:z7e,VTimeline:G7e,VTimelineItem:W7e,VToolbar:xE,VToolbarTitle:AE,VToolbarItems:Wje,VTooltip:K7e,VValidation:X7e,VWindow:Fte,VWindowItem:Lte,VDialogTransition:jP,VFabTransition:mje,VDialogBottomTransition:vje,VDialogTopTransition:bje,VFadeTransition:j6,VScaleTransition:Oee,VScrollXTransition:_je,VScrollXReverseTransition:wje,VScrollYTransition:Sje,VScrollYReverseTransition:Tje,VSlideXTransition:Eje,VSlideXReverseTransition:Aje,VSlideYTransition:DL,VSlideYReverseTransition:xje,VExpandTransition:MP,VExpandXTransition:NL},Symbol.toStringTag,{value:"Module"}));function Y7e(t,e){const r=e.modifiers||{},n=e.value,{once:a,immediate:s,...o}=r,u=!Object.keys(o).length,{handler:l,options:c}=typeof n=="object"?n:{handler:n,options:{attributes:(o==null?void 0:o.attr)??u,characterData:(o==null?void 0:o.char)??u,childList:(o==null?void 0:o.child)??u,subtree:(o==null?void 0:o.sub)??u}},d=new MutationObserver(function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;l==null||l(f,h),a&&sre(t,e)});s&&(l==null||l([],d)),t._mutate=Object(t._mutate),t._mutate[e.instance.$.uid]={observer:d},d.observe(t,c)}function sre(t,e){var r;(r=t._mutate)!=null&&r[e.instance.$.uid]&&(t._mutate[e.instance.$.uid].observer.disconnect(),delete t._mutate[e.instance.$.uid])}const Z7e={mounted:Y7e,unmounted:sre};function eBe(t,e){var r,n;const a=e.value,s={passive:!((r=e.modifiers)!=null&&r.active)};window.addEventListener("resize",a,s),t._onResize=Object(t._onResize),t._onResize[e.instance.$.uid]={handler:a,options:s},(n=e.modifiers)!=null&&n.quiet||a()}function tBe(t,e){var r;if(!((r=t._onResize)!=null&&r[e.instance.$.uid]))return;const{handler:n,options:a}=t._onResize[e.instance.$.uid];window.removeEventListener("resize",n,a),delete t._onResize[e.instance.$.uid]}const rBe={mounted:eBe,unmounted:tBe};function ore(t,e){const{self:r=!1}=e.modifiers??{},n=e.value,a=typeof n=="object"&&n.options||{passive:!0},s=typeof n=="function"||"handleEvent"in n?n:n.handler,o=r?t:e.arg?document.querySelector(e.arg):window;o&&(o.addEventListener("scroll",s,a),t._onScroll=Object(t._onScroll),t._onScroll[e.instance.$.uid]={handler:s,options:a,target:r?void 0:o})}function ure(t,e){var r;if(!((r=t._onScroll)!=null&&r[e.instance.$.uid]))return;const{handler:n,options:a,target:s=t}=t._onScroll[e.instance.$.uid];s.removeEventListener("scroll",n,a),delete t._onScroll[e.instance.$.uid]}function nBe(t,e){e.value!==e.oldValue&&(ure(t,e),ore(t,e))}const iBe={mounted:ore,unmounted:ure,updated:nBe},aBe=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:_te,Intersect:tS,Mutate:Z7e,Resize:rBe,Ripple:Jh,Scroll:iBe,Touch:KL},Symbol.toStringTag,{value:"Module"}));const sBe=Eee({components:J7e,directives:aBe,icons:{defaultSet:"mdi",aliases:hee,sets:{mdi:pee}}}),oBe=Yie(),tj=Kie(cLe);tj.use(oBe);tj.use(sBe);tj.mount("#app");
//# sourceMappingURL=index-193c19d9.js.map
